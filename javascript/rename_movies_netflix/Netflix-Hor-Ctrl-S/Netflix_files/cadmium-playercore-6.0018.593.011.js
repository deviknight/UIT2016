p933.S8K=function (){return typeof p933.f8K.S81==='function'?p933.f8K.S81.apply(p933.f8K,arguments):p933.f8K.S81;};p933.s4w=function (){return typeof p933.p4w.a81==='function'?p933.p4w.a81.apply(p933.p4w,arguments):p933.p4w.a81;};p933.g8m=function (){return typeof p933.s1m.S81==='function'?p933.s1m.S81.apply(p933.s1m,arguments):p933.s1m.S81;};p933.G1m=function (){return typeof p933.s1m.S81==='function'?p933.s1m.S81.apply(p933.s1m,arguments):p933.s1m.S81;};p933.M81=function (){return typeof p933.b81.S81==='function'?p933.b81.S81.apply(p933.b81,arguments):p933.b81.S81;};p933.Z77=function (){return typeof p933.X77.S81==='function'?p933.X77.S81.apply(p933.X77,arguments):p933.X77.S81;};p933.B81=function (){return typeof p933.b81.S81==='function'?p933.b81.S81.apply(p933.b81,arguments):p933.b81.S81;};p933.X77=function(d77){return{S81:function(){var t77,I77=arguments;switch(d77){case 1:t77=I77[0]*(I77[3]-I77[1])-I77[2];break;case 0:t77=(I77[3]-I77[1]*I77[2])*-I77[4]/I77[0];break;case 2:t77=I77[1]+I77[0];break;}return t77;},a81:function(y77){d77=y77;}};}();p933.G2b=function(z0b){return{S81:function(){var o0b,c0b=arguments;switch(z0b){case 1:o0b=c0b[1]-c0b[2]+-c0b[0]+c0b[3];break;case 0:o0b=c0b[0]-c0b[1];break;}return o0b;},a81:function(p0b){z0b=p0b;}};}();p933.D4L=function (){return typeof p933.t4L.a81==='function'?p933.t4L.a81.apply(p933.t4L,arguments):p933.t4L.a81;};p933.T4Y=function (){return typeof p933.S4Y.S81==='function'?p933.S4Y.S81.apply(p933.S4Y,arguments):p933.S4Y.S81;};p933.o8q=function (){return typeof p933.n8q.S81==='function'?p933.n8q.S81.apply(p933.n8q,arguments):p933.n8q.S81;};p933.N77=function (){return typeof p933.X77.S81==='function'?p933.X77.S81.apply(p933.X77,arguments):p933.X77.S81;};p933.B0G=function (){return typeof p933.T0G.a81==='function'?p933.T0G.a81.apply(p933.T0G,arguments):p933.T0G.a81;};p933.P2b=function (){return typeof p933.G2b.a81==='function'?p933.G2b.a81.apply(p933.G2b,arguments):p933.G2b.a81;};p933.B4L=function (){return typeof p933.t4L.S81==='function'?p933.t4L.S81.apply(p933.t4L,arguments):p933.t4L.S81;};p933.d4L=function (){return typeof p933.t4L.a81==='function'?p933.t4L.a81.apply(p933.t4L,arguments):p933.t4L.a81;};p933.b81=function(K81){return{S81:function(){var p81,X81=arguments;switch(K81){case 0:p81=X81[1]+X81[0];break;case 6:p81=(X81[3]/X81[1]|X81[0])*X81[2];break;case 7:p81=X81[1]===X81[0];break;case 5:p81=X81[0]/X81[1];break;case 4:p81=X81[0]/X81[2]|X81[1];break;case 3:p81=X81[3]*X81[1]/X81[0]|X81[2];break;case 1:p81=X81[0]-X81[1];break;case 2:p81=X81[0]+X81[2]/X81[1]*X81[3];break;}return p81;},a81:function(j81){K81=j81;}};}();p933.x77=function (){return typeof p933.X77.a81==='function'?p933.X77.a81.apply(p933.X77,arguments):p933.X77.a81;};p933.a1p=function(v1p){return{S81:function(){var Z1p,k1p=arguments;switch(v1p){case 0:Z1p=(k1p[0]-k1p[1])*k1p[2];break;}return Z1p;},a81:function(u1p){v1p=u1p;}};}();p933.l5A=function (){return typeof p933.h5A.a81==='function'?p933.h5A.a81.apply(p933.h5A,arguments):p933.h5A.a81;};p933.R81=function (){return typeof p933.b81.a81==='function'?p933.b81.a81.apply(p933.b81,arguments):p933.b81.a81;};p933.M8K=function (){return typeof p933.f8K.a81==='function'?p933.f8K.a81.apply(p933.f8K,arguments):p933.f8K.a81;};p933.w4w=function (){return typeof p933.p4w.S81==='function'?p933.p4w.S81.apply(p933.p4w,arguments):p933.p4w.S81;};p933.i74=function(a74){return{S81:function(){var o74,Z74=arguments;switch(a74){case 1:o74=Z74[0]/Z74[1];break;case 0:o74=Z74[1]-Z74[0];break;}return o74;},a81:function(h74){a74=h74;}};}();p933.f1c=function(O1c){return{S81:function(){var m1c,c1c=arguments;switch(O1c){case 0:m1c=c1c[1]+c1c[0];break;}return m1c;},a81:function(n1c){O1c=n1c;}};}();p933.f8K=function(r8K){return{S81:function(){var i8K,V8K=arguments;switch(r8K){case 0:i8K=V8K[1]-V8K[2]+V8K[0];break;case 1:i8K=-V8K[0];break;case 2:i8K=V8K[1]-V8K[0];break;}return i8K;},a81:function(Q8K){r8K=Q8K;}};}();p933.e8m=function (){return typeof p933.s1m.a81==='function'?p933.s1m.a81.apply(p933.s1m,arguments):p933.s1m.a81;};p933.a1c=function (){return typeof p933.f1c.S81==='function'?p933.f1c.S81.apply(p933.f1c,arguments):p933.f1c.S81;};p933.K74=function (){return typeof p933.i74.a81==='function'?p933.i74.a81.apply(p933.i74,arguments):p933.i74.a81;};p933.o6r=function(k6r){return{S81:function(){var T6r,v6r=arguments;switch(k6r){case 0:T6r=v6r[0]+v6r[1];break;}return T6r;},a81:function(c6r){k6r=c6r;}};}();p933.x4Y=function (){return typeof p933.S4Y.a81==='function'?p933.S4Y.a81.apply(p933.S4Y,arguments):p933.S4Y.a81;};p933.c1p=function (){return typeof p933.a1p.a81==='function'?p933.a1p.a81.apply(p933.a1p,arguments):p933.a1p.a81;};p933.f2b=function (){return typeof p933.G2b.a81==='function'?p933.G2b.a81.apply(p933.G2b,arguments):p933.G2b.a81;};p933.Z6r=function (){return typeof p933.o6r.S81==='function'?p933.o6r.S81.apply(p933.o6r,arguments):p933.o6r.S81;};p933.t4L=function(C4L){return{S81:function(){var b4L,R4L=arguments;switch(C4L){case 1:b4L=R4L[0]+R4L[1];break;case 2:b4L=R4L[3]+R4L[0]+R4L[2]+R4L[1]+R4L[4];break;case 0:b4L=R4L[0]+R4L[2]+R4L[1];break;}return b4L;},a81:function(c4L){C4L=c4L;}};}();p933.H0G=function (){return typeof p933.T0G.S81==='function'?p933.T0G.S81.apply(p933.T0G,arguments):p933.T0G.S81;};p933.P8q=function (){return typeof p933.n8q.a81==='function'?p933.n8q.a81.apply(p933.n8q,arguments):p933.n8q.a81;};p933.A2b=function (){return typeof p933.G2b.S81==='function'?p933.G2b.S81.apply(p933.G2b,arguments):p933.G2b.S81;};p933.r4Y=function (){return typeof p933.S4Y.S81==='function'?p933.S4Y.S81.apply(p933.S4Y,arguments):p933.S4Y.S81;};p933.J7c=function (){return typeof p933.f1c.S81==='function'?p933.f1c.S81.apply(p933.f1c,arguments):p933.f1c.S81;};p933.p4w=function(g4w){return{S81:function(){var n4w,U4w=arguments;switch(g4w){case 1:n4w=U4w[1]+U4w[0];break;case 0:n4w=U4w[1]+U4w[0]+U4w[3]+U4w[4]+U4w[2];break;}return n4w;},a81:function(R4w){g4w=R4w;}};}();p933.L5A=function (){return typeof p933.h5A.S81==='function'?p933.h5A.S81.apply(p933.h5A,arguments):p933.h5A.S81;};p933.T0G=function(e0G){return{S81:function(){var w0G,u0G=arguments;switch(e0G){case 3:w0G=u0G[1]+u0G[0];break;case 2:w0G=u0G[0]<=u0G[1];break;case 0:w0G=u0G[0]>=u0G[1];break;case 1:w0G=u0G[0]<u0G[1];break;}return w0G;},a81:function(x0G){e0G=x0G;}};}();p933.G8q=function (){return typeof p933.n8q.S81==='function'?p933.n8q.S81.apply(p933.n8q,arguments):p933.n8q.S81;};p933.S74=function (){return typeof p933.i74.S81==='function'?p933.i74.S81.apply(p933.i74,arguments):p933.i74.S81;};p933.b4Y=function (){return typeof p933.S4Y.a81==='function'?p933.S4Y.a81.apply(p933.S4Y,arguments):p933.S4Y.a81;};p933.s1m=function(Y1m){return{S81:function(){var W1m,u1m=arguments;switch(Y1m){case 1:W1m=u1m[2]-u1m[1]*u1m[0];break;case 3:W1m=u1m[2]+u1m[0]+u1m[1]+u1m[3];break;case 2:W1m=u1m[1]-u1m[0];break;case 4:W1m=(-u1m[2]-u1m[4]+u1m[1])*u1m[0]-u1m[3];break;case 0:W1m=u1m[1]+u1m[0];break;}return W1m;},a81:function(E1m){Y1m=E1m;}};}();p933.y81=function (){return typeof p933.b81.a81==='function'?p933.b81.a81.apply(p933.b81,arguments):p933.b81.a81;};p933.S4Y=function(p4Y){return{S81:function(){var V4Y,c4Y=arguments;switch(p4Y){case 0:V4Y=c4Y[1]+c4Y[0];break;}return V4Y;},a81:function(B4Y){p4Y=B4Y;}};}();p933.J74=function (){return typeof p933.i74.S81==='function'?p933.i74.S81.apply(p933.i74,arguments):p933.i74.S81;};p933.b77=function (){return typeof p933.X77.a81==='function'?p933.X77.a81.apply(p933.X77,arguments):p933.X77.a81;};p933.i0G=function (){return typeof p933.T0G.a81==='function'?p933.T0G.a81.apply(p933.T0G,arguments):p933.T0G.a81;};p933.N5A=function (){return typeof p933.h5A.S81==='function'?p933.h5A.S81.apply(p933.h5A,arguments):p933.h5A.S81;};p933.a4r=function (){return typeof p933.o6r.S81==='function'?p933.o6r.S81.apply(p933.o6r,arguments):p933.o6r.S81;};p933.k7c=function (){return typeof p933.f1c.a81==='function'?p933.f1c.a81.apply(p933.f1c,arguments):p933.f1c.a81;};p933.E7c=function (){return typeof p933.f1c.a81==='function'?p933.f1c.a81.apply(p933.f1c,arguments):p933.f1c.a81;};p933.P4w=function (){return typeof p933.p4w.a81==='function'?p933.p4w.a81.apply(p933.p4w,arguments):p933.p4w.a81;};function p933(){}p933.R1p=function (){return typeof p933.a1p.S81==='function'?p933.a1p.S81.apply(p933.a1p,arguments):p933.a1p.S81;};p933.H8m=function (){return typeof p933.s1m.a81==='function'?p933.s1m.a81.apply(p933.s1m,arguments):p933.s1m.a81;};p933.h5A=function(d5A){return{S81:function(){var f5A,e5A=arguments;switch(d5A){case 0:f5A=e5A[0]*e5A[2]-e5A[1];break;}return f5A;},a81:function(J5A){d5A=J5A;}};}();p933.z4w=function (){return typeof p933.p4w.S81==='function'?p933.p4w.S81.apply(p933.p4w,arguments):p933.p4w.S81;};p933.k5A=function (){return typeof p933.h5A.a81==='function'?p933.h5A.a81.apply(p933.h5A,arguments):p933.h5A.a81;};p933.g8q=function (){return typeof p933.n8q.a81==='function'?p933.n8q.a81.apply(p933.n8q,arguments):p933.n8q.a81;};p933.r0G=function (){return typeof p933.T0G.S81==='function'?p933.T0G.S81.apply(p933.T0G,arguments):p933.T0G.S81;};p933.m8K=function (){return typeof p933.f8K.a81==='function'?p933.f8K.a81.apply(p933.f8K,arguments):p933.f8K.a81;};p933.u4r=function (){return typeof p933.o6r.a81==='function'?p933.o6r.a81.apply(p933.o6r,arguments):p933.o6r.a81;};p933.N4L=function (){return typeof p933.t4L.S81==='function'?p933.t4L.S81.apply(p933.t4L,arguments):p933.t4L.S81;};p933.n8q=function(Z8q){return{S81:function(){var v8q,f8q=arguments;switch(Z8q){case 1:v8q=f8q[1]/f8q[0];break;case 0:v8q=-f8q[0]-f8q[1]+f8q[2];break;}return v8q;},a81:function(Y8q){Z8q=Y8q;}};}();p933.T1p=function (){return typeof p933.a1p.a81==='function'?p933.a1p.a81.apply(p933.a1p,arguments):p933.a1p.a81;};p933.A4r=function (){return typeof p933.o6r.a81==='function'?p933.o6r.a81.apply(p933.o6r,arguments):p933.o6r.a81;};p933.N8K=function (){return typeof p933.f8K.S81==='function'?p933.f8K.S81.apply(p933.f8K,arguments):p933.f8K.S81;};p933.H74=function (){return typeof p933.i74.a81==='function'?p933.i74.a81.apply(p933.i74,arguments):p933.i74.a81;};p933.d1p=function (){return typeof p933.a1p.S81==='function'?p933.a1p.S81.apply(p933.a1p,arguments):p933.a1p.S81;};p933.u2b=function (){return typeof p933.G2b.S81==='function'?p933.G2b.S81.apply(p933.G2b,arguments):p933.G2b.S81;};(function(){(function(J,ma){var rb,Cb,Ra,wc,pa,xa,$a,Id,Jd,Ka,La,Nb,Kd,xc,Ld,Md,Yc,l,qa,hc,Nd,Zc,D,P,ia,tb,hb,Wa,ga,ab,Pa,Pb,Ga,Ea,Ia,cb,yc,ub,nb,ob,zc,$c,Od,Fb,Gb,Qb,ad,Wb,vb,Ac,Mb,bd,Pd,Xb,cd,dd,ed,fd,wb,gd,hd,id,Zb,xb,yb,$b,Bc,Cc,Dc,fb,Te,Oa,Ob,Qd,Ec,jb,Rd,Ue,pb,Sd,Td,Fc,Ud,Ve,gc,Vd,Se,We,jd,Gc,Xe,Ye,Fd,Ze,Gd,Wd,ib,ic,Xd,jc,Yd,kb,Zd,kd,$d,md,Hc,ae,af,Hd,Ic,Xc,be,$e,ce,nd,de,ee,fe,od,Lb,he,ge,bf,kc,ie,qd,lc,je,pd,ke,le,rd,ne,oe,Lc,Tb,ac,Ub,pe,qe,re,se,te,ue,Mc,cf,ve,we,td,xe,eb,Rb,Yb,Sb,Ib,zb,Jc,bb,Eb,me,mc,Vb,ye,df,nc,ze,ef,bc,Ae,Nc,ud,oc,vd,Be,pc,Ce,De,Ee,ff,qc,Fe,gf,hf,Ge,sd,Kc,He,Re,Ie,jf,lf,kf,cc,vc,mf,Ed,nf,Je;function Va(h,l){if(!l||"utf-8"===l)return Rc(h);throw Error("unsupported encoding");}function Ta(h,l){if(!l||"utf-8"===l)return Sc(h);throw Error("unsupported encoding");}function Rc(h){for(var l=0,n,Ma=h.length,D="";l<Ma;){n=h[l++];if(n&128)if(192===(n&224))n=((n&31)<<6)+(h[l++]&63);else if(224===(n&240))n=((n&15)<<12)+((h[l++]&63)<<6)+(h[l++]&63);else throw Error("unsupported character");D+=String.fromCharCode(n);}return D;}function Sc(h){var l,n,Ma,D,r;l=h.length;n=0;D=0;for(Ma=l;Ma--;)r=h.charCodeAt(Ma),128>r?n++:n=2048>r?n+2:n+3;n=new Uint8Array(n);for(Ma=0;Ma<l;Ma++)r=h.charCodeAt(Ma),128>r?n[D++]=r:(2048>r?n[D++]=192|r>>>6:(n[D++]=224|r>>>12,n[D++]=128|r>>>6&63),n[D++]=128|r&63);return n;}function Za(h,n){if(h===n)return!0;if(!h||!n||h.length!=n.length)return!1;for(var l=0;l<h.length;++l)if(h[l]!=n[l])return!1;return!0;}function db(h){var r;if(!(h&&h.constructor==Uint8Array||Array.isArray(h)))throw new TypeError("Cannot compute the hash code of "+h);for(var n=1,l=0;l<h.length;++l){r=h[l];if("number"!==typeof r)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+r);n=31*n+r&4294967295;}return n;}function zd(h,n){var Ba;if(h===n)return!0;if(!h||!n)return!1;n instanceof Array||(n=[n]);for(var l=0;l<n.length;++l){for(var r=n[l],D=!1,Kb=0;Kb<h.length;++Kb){Ba=h[Kb];if(r.equals&&"function"===typeof r.equals&&r.equals(Ba)||r==Ba){D=!0;break;}}if(!D)return!1;}return!0;}function Ad(h,n){return zd(h,n)&&(h.length==n.length||zd(n,h));}function n(h,n,l){var r,D;l&&(r=l);if("object"!==typeof h||"function"!==typeof h.result||"function"!==typeof h.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{D=n.call(r,h);D!==ma&&h.result(D);}catch(Tc){try{h.error(Tc);}catch(Ba){}}}function r(h,l,r){if("object"!==typeof h||"function"!==typeof h.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(h,l,r);}function h(h,n,l){1E5>h&&(h=1E5+h);Object.defineProperties(this,{internalCode:{value:h,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:l,writable:!1,configurable:!1}});}function Uc(h){switch(h){case Oa.PSK:case Oa.MGK:return!0;default:return!1;}}function Bd(h){switch(h){case Oa.PSK:case Oa.MGK:case Oa.X509:case Oa.RSA:case Oa.NPTICKET:case Oa.ECC:return!0;default:return!1;}}function Oe(h){return h.toJSON();}function Cd(n,l){vc?l.result(vc):Promise.resolve().then(function(){return Ia.getKeyByName(n);})["catch"](function(){return Ia.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(h){vc=h;l.result(vc);})["catch"](function(n){l.error(new D(h.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Dd(h,n){var l,r,D;l=n.masterToken;r=n.userIdToken;D=n.serviceTokens;return{NccpMethod:h.method,UserId:h.userId,UT:r&&r.serialNumber,MT:l&&l.serialNumber+":"+l.sequenceNumber,STCount:D&&D.length};}function Pe(h){return h.uniqueKey();}function Qe(r,J,mb,Ma,uc){var Ha;function Kb(h,K){h.errorCode===l.ENTITY_REAUTH||h.errorCode===l.ENTITYDATA_REAUTH?(Ma.clearCryptoContexts(),Ua()):h.errorCode!==l.USER_REAUTH&&h.errorCode!==l.USERDATA_REAUTH||Ba(K);}function Ba(h){if(h=Ma.getUserIdToken(h))Ma.removeUserIdToken(h),Ua();}function U(h,K,H){var w;w=[];(function C(){h.read(-1,K,{result:function(h){n(H,function(){var v,G,I,H,K;if(h)w.push(h),C();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:H=w.length,K=0;for(G=v=0;G<H;G++)v+=w[G].length;v=new Uint8Array(v);for(G=0;G<H;G++)I=w[G],v.set(I,K),K+=I.length;return v;}});},timeout:function(){H.timeout();},error:function(h){H.error(h);}});}());}function Ua(){Ma.getStoreState({result:function(h){for(var K=Ha.slice(),H=0;H<K.length;H++)K[H]({storeState:h});},timeout:function(){r.error("Timeout getting store state",""+e);},error:function(h){r.error("Error getting store state",""+h);}});}Ha=[];this.addEventHandler=function(h,K){switch(h){case"shouldpersist":Ha.push(K);}};this.send=function(n){return new Promise(function(K,H){var w,x,C;w=n.timeout;x=new Ed(r,mb,n,Ma.getKeyRequestData());C=new Fd(n.url);r.trace("Sending MSL request");J.request(mb,x,C,w,{result:function(x){var v;x&&x.getMessageHeader();r.trace("Received MSL response",{Method:n.method});if(x){n.allowTokenRefresh&&Ua();v=x.getErrorHeader();v?(Kb(v,n.userId),H({success:!1,error:v})):U(x,w,{result:function(h){K({success:!0,body:Va(h)});},timeout:function(){H({success:!1,subCode:uc.MSL_READ_TIMEOUT});},error:function(h){H({success:!1,error:h});}});}else H({success:!1,error:new D(h.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){H({success:!1,subCode:uc.MSL_REQUEST_TIMEOUT});},error:function(h){H({success:!1,error:h});}});});};this.hasUserIdToken=function(h){return!!Ma.getUserIdToken(h);};this.getUserIdTokenKeys=function(){return Ma.getUserIdTokenKeys();};this.removeUserIdToken=Ba;this.clearUserIdTokens=function(){Ma.clearUserIdTokens();Ua();};this.isErrorReauth=function(h){return h&&h.errorCode==l.USERDATA_REAUTH;};this.isErrorHeader=function(h){return h instanceof Lb;};this.getErrorCode=function(h){return h&&h.errorCode;};this.getStateForMdx=function(h){var K,H;K=Ma.getMasterToken();h=Ma.getUserIdToken(h);H=Ma.getCryptoContext(K);return{masterToken:K,userIdToken:h,cryptoContext:H};};this.buildPlayDataRequest=function(h,K){var H;H=new Gd();J.request(mb,new Ed(r,mb,h),H,h.timeout,{result:function(){K.result(H.getRequest());},error:function(){K.result(H.getRequest());},timeout:function(){K.timeout();}});};this.rekeyUserIdToken=function(h,K){Ma.rekeyUserIdToken(h,K);Ua();};this.getServiceTokens=function(h){var K;K=Ma.getMasterToken();(h=Ma.getUserIdToken(h))&&!h.isBoundTo(K)&&(h=ma);return Ma.getServiceTokens(K,h);};this.removeServiceToken=function(h){var K;K=Ma.getMasterToken();Ma.getServiceTokens(K).find(function(H){return H.name===h;})&&(Ma.removeServiceTokens(h,K),Ua());};}function Vc(n,l,r,Ma,J,P){function Ba(l){var U;return Promise.resolve().then(function(){U=n.authenticationKeyNames[l];if(!U)throw new D(h.KEY_IMPORT_ERROR,"Invalid config keyName "+l);return Ia.getKeyByName(U);}).then(function(n){return new Promise(function(l,K){Wb(n,{result:l,error:function(){K(new D(h.KEY_IMPORT_ERROR,"Unable to create "+U+" CipherKey"));}});});})["catch"](function(n){throw new D(h.KEY_IMPORT_ERROR,"Unable to import "+U,n);});}return Promise.resolve().then(function(){if(!Ia.getKeyByName)throw new D(h.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ba("e"),Ba("h"),Ba("w")]);}).then(function(h){var U,Ha,Ja;U={};U[l]=new r(n.esn,h[0],h[1],h[2]);h=new Ma(n.esn);Ha=new Re();Ha=[new J(Ha)];Ja=new P(l);return{entityAuthFactories:U,entityAuthData:h,keyExchangeFactories:Ha,keyRequestData:Ja};});}function Wc(n,l,r){var mb;function Ma(){return Promise.resolve().then(function(){return Ia.generateKey(l,!1,["wrapKey","unwrapKey"]);}).then(function(h){return J(h.publicKey,h.privateKey);});}function J(n,l){return Promise.all([new Promise(function(l,U){Mb(n,{result:l,error:function(n){U(new D(h.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,U){Xb(l,{result:n,error:function(n){U(new D(h.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(h){h=new Xc("rsaKeypairId",r,h[0],h[1]);mb&&(h.storeData={keyxPublicKey:n,keyxPrivateKey:l});return h;});}mb=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var h,l;h=n.storeState;l=h&&h.keyxPublicKey;h=h&&h.keyxPrivateKey;return mb&&l&&h?J(l,h):Ma();}).then(function(h){var l,Ua,Ha;l={};l[Oa.NONE]=new Se();Ua=new gc(n.esn);Ha=[new Hd()];return{entityAuthFactories:l,entityAuthData:Ua,keyExchangeFactories:Ha,keyRequestData:h,createKeyRequestData:mb?Ma:ma};});}Cb=J.nfCrypto||J.msCrypto||J.webkitCrypto||J.crypto;Ra=Cb&&(Cb.webkitSubtle||Cb.subtle);wc=J.nfCryptokeys||J.msCryptokeys||J.webkitCryptokeys||J.cryptokeys;(function(h){var n,l;n=function(){function h(h,l){h instanceof n?(this.abv=h.abv,this.position=h.position):(this.abv=h,this.position=l||0);}h.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(h){this.abv[this.position++]=h;},peekByte:function(h){return this.abv[h];},copyBytes:function(h,l,n){var U;U=new Uint8Array(this.abv.buffer,this.position,n);h=new Uint8Array(h.buffer,l,n);U.set(h);this.position+=n;},seek:function(h){this.position=h;},skip:function(h){this.position+=h;},getPosition:function(){return this.position;},setPosition:function(h){this.position=h;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return h;}();l={};(function(){var I,v,G,Ca,Z,Da,wa,X,na;function h(F,v){var w;v.writeByte(F.tagClass<<6|F.constructed<<5|F.tag);w=F.payloadLen;if(128>w)v.writeByte(w);else{for(var G=w,x=0;G;)++x,G>>=8;v.writeByte(128|x);for(G=0;G<x;++G)v.writeByte(w>>8*(x-G-1)&255);}if(F.child)for(F.tag==I.BIT_STRING&&v.writeByte(0),w=F._child;w;){if(!h(w,v))return!1;w=w.next;}else switch(F.tag){case I.INTEGER:F.backingStore[F.dataIdx]>>7&&v.writeByte(0);v.copyBytes(F.backingStore,F.dataIdx,F.dataLen);break;case I.BIT_STRING:v.writeByte(0);v.copyBytes(F.backingStore,F.dataIdx,F.dataLen);break;case I.OCTET_STRING:v.copyBytes(F.backingStore,F.dataIdx,F.dataLen);break;case I.OBJECT_IDENTIFIER:v.copyBytes(F.backingStore,F.dataIdx,F.dataLen);}return!0;}function r(h){var v,F;v=h.readByte();F=v&127;if(F==v)return F;if(3<F||0===F)return-1;for(var w=v=0;w<F;++w)v=v<<8|h.readByte();return v;}function D(h,w,G){var F,x,H,T,C,la,K;F=h.backingStore;x=new n(F,w);w+=G;G=h;if(8<Z++)return ma;for(;x.getPosition()<w;){x.getPosition();C=x.readByte();if(31==(C&31)){for(T=0;C&128;)T<<=8,T|=C&127;C=T;}H=C;T=H&31;if(0>T||30<T)return ma;C=r(x);if(0>C||C>x.getRemaining())return ma;G.constructed=H&32;G.tagClass=(H&192)>>6;G.tag=T;G.dataLen=C;G.dataIdx=x.getPosition();T=x;la=H;H=C;if(la&32)T=!0;else if(la<I.BIT_STRING||la>I.OCTET_STRING)T=!1;else{K=new n(T);la==I.BIT_STRING&&K.skip(1);K.readByte()>>6&1?T=!1:(la=r(K),T=K.getPosition()-T.getPosition()+la==H);}T&&(T=x.getPosition(),H=C,G.tag==I.BIT_STRING&&(G.dataIdx++,G.dataLen--,T++,H--),G.child=new v(F,G),D(G.child,T,H));G.tag==I.INTEGER&&(T=x.getPosition(),0==x.peekByte(T)&&x.peekByte(T+1)>>7&&(G.dataIdx++,G.dataLen--));x.skip(C);x.getPosition()<w&&(G.next=new v(F,G.parent),G=G.next);}Z--;return h;}function J(h,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(h[v++]!=Da[w])return!1;return!0;}function U(h){var v;if(!(h&&h.child&&h.child.next&&h.child.child&&h.child.next.child))return!1;v=h.child.child;return J(v.backingStore,v.dataIdx,v.dataLen)&&2==h.nChildren&&2==h.child.nChildren&&2==h.child.next.child.nChildren?!0:!1;}function Ua(h){var v;if(!(h&&h.child&&h.child.next&&h.child.next.child&&h.child.next.next&&h.child.next.next.child))return!1;v=h.child.next.child;return J(v.backingStore,v.dataIdx,v.dataLen)&&3==h.nChildren&&2==h.child.next.nChildren&&9==h.child.next.next.child.nChildren?!0:!1;}function Ha(h){var v,F;v=G.createSequenceNode();F=new Ca(v);F.addChild(G.createSequenceNode());F.addChild(G.createOidNode(Da));F.addSibling(G.createNullNode());F.addToParent(v,G.createBitStringNode(null));F.addChild(G.createSequenceNode());F.addChild(G.createIntegerNode(h.n));F.addSibling(G.createIntegerNode(h.e));return v;}function Ja(h){var v;h=h.child.next.child.child;v=h.data;h=h.next;return new wa(v,h.data,null,null);}function K(h){var v,F;v=G.createSequenceNode();F=new Ca(v);F.addChild(G.createIntegerNode(new Uint8Array([0])));F.addSibling(G.createSequenceNode());F.addChild(G.createOidNode(Da));F.addSibling(G.createNullNode());F.addToParent(v,G.createOctetStringNode(null));F.addChild(G.createSequenceNode());F.addChild(G.createIntegerNode(new Uint8Array([0])));F.addSibling(G.createIntegerNode(h.n));F.addSibling(G.createIntegerNode(h.e));F.addSibling(G.createIntegerNode(h.d));F.addSibling(G.createIntegerNode(h.p));F.addSibling(G.createIntegerNode(h.q));F.addSibling(G.createIntegerNode(h.dp));F.addSibling(G.createIntegerNode(h.dq));F.addSibling(G.createIntegerNode(h.qi));return v;}function H(h){var v;v=[];h=h.child.next.next.child.child.next;for(var F=0;8>F;F++)v.push(h.data),h=h.next;return new X(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(h,v,w,G){if(!(h instanceof wa||h instanceof X))return ma;if(w)for(var F=0;F<w.length;++F)if(-1==na.indexOf(w[F]))return ma;v={kty:"RSA",alg:v,key_ops:w||[],ext:G==ma?!1:G,n:pa(h.n,!0),e:pa(h.e,!0)};h instanceof X&&(v.d=pa(h.d,!0),v.p=pa(h.p,!0),v.q=pa(h.q,!0),v.dp=pa(h.dp,!0),v.dq=pa(h.dq,!0),v.qi=pa(h.qi,!0));return v;}function x(h){var v,w,F,G,x,H,I,C,Z,K;if(!h.kty||"RSA"!=h.kty||!h.n||!h.e)return ma;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(h.alg&&-1==v.indexOf(h.alg))return ma;v=[];h.use?"enc"==h.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==h.use&&(v=["sign","verify"]):v=h.key_ops;w=h.ext;F=xa(h.n,!0);G=xa(h.e,!0);if(h.d){x=xa(h.d,!0);H=xa(h.p,!0);I=xa(h.q,!0);C=xa(h.dp,!0);Z=xa(h.dq,!0);K=xa(h.qi,!0);return new X(F,G,x,H,I,C,Z,K,h.alg,v,w);}return new wa(F,G,w,v);}function C(h,v,w,G){this.der=h;this.type=v;this.keyOps=w;this.extractable=G;}I={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(h,v,w,G,x,H){this._data=h;this._parent=v||ma;this._constructed=w||!1;this._tagClass=0;this._tag=G||0;this._dataIdx=x||0;this._dataLen=H||0;};v.prototype={_child:ma,_next:ma,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(h){this._constructed=0!=h?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(h){this._tagClass=h;},get tag(){return this._tag;},set tag(h){this._tag=h;},get dataIdx(){return this._dataIdx;},set dataIdx(h){this._dataIdx=h;},get dataLen(){return this._dataLen;},set dataLen(h){this._dataLen=h;},get child(){return this._child;},set child(h){this._child=h;this._child.parent=this;},get next(){return this._next;},set next(h){this._next=h;},get parent(){return this._parent;},set parent(h){this._parent=h;},get payloadLen(){var h;h=0;if(this._child){for(var v=this._child;v;)h+=v.length,v=v.next;this._tag==I.BIT_STRING&&h++;}else switch(this._tag){case I.INTEGER:h=this._dataLen;this._data[this._dataIdx]>>7&&h++;break;case I.BIT_STRING:h=this._dataLen+1;break;case I.OCTET_STRING:h=this._dataLen;break;case I.NULL:h=0;break;case I.OBJECT_IDENTIFIER:J(this._data,this._dataIdx,this._dataLen)&&(h=9);}return h;},get length(){var h,v;h=this.payloadLen;if(127<h)for(v=h;v;)v>>=8,++h;return h+2;},get der(){var v,w;v=this.length;if(!v)return ma;v=new Uint8Array(v);w=new n(v);return h(this,w)?v:ma;},get nChildren(){for(var h=0,v=this._child;v;)h++,v=v.next;return h;}};G={createSequenceNode:function(){return new v(null,null,!0,I.SEQUENCE,null,null);},createOidNode:function(h){return new v(h,null,!1,I.OBJECT_IDENTIFIER,0,h?h.length:0);},createNullNode:function(){return new v(null,null,!1,I.NULL,null,null);},createBitStringNode:function(h){return new v(h,null,!1,I.BIT_STRING,0,h?h.length:0);},createIntegerNode:function(h){return new v(h,null,!1,I.INTEGER,0,h?h.length:0);},createOctetStringNode:function(h){return new v(h,null,!1,I.OCTET_STRING,0,h?h.length:0);}};Ca=function(h){this._currentNode=this._rootNode=h;};Ca.prototype={addChild:function(h){this.addTo(this._currentNode,h);},addSibling:function(h){this.addTo(this._currentNode.parent,h);},addTo:function(h,v){this._currentNode=v;this._currentNode.parent=h;if(h.child){for(var w=h.child;w.next;)w=w.next;w.next=v;}else h.child=v;},addToParent:function(h,v){this.findNode(h)&&this.addTo(h,v);},findNode:function(h){for(var v=this._currentNode;v;){if(h==v)return!0;v=v.parent;}return!1;}};Z=0;Da=new Uint8Array([42,134,72,134,247,13,1,1,1]);wa=function(h,v,w,G){this.n=h;this.e=v;this.ext=w;this.keyOps=G;};X=function(h,v,w,G,x,H,I,C,la,Z,K){this.n=h;this.e=v;this.d=w;this.p=G;this.q=x;this.dp=H;this.dq=I;this.qi=C;this.alg=la;this.keyOps=Z;this.ext=K;};na="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");C.prototype.getDer=function(){return this.der;};C.prototype.getType=function(){return this.type;};C.prototype.getKeyOps=function(){return this.keyOps;};C.prototype.getExtractable=function(){return this.extractable;};l.parse=function(h){Z=0;return D(new v(h),0,h.length);};l.show=function(h,v){};l.isRsaSpki=U;l.isRsaPkcs8=Ua;l.NodeFactory=G;l.Builder=Ca;l.tagVal=I;l.RsaPublicKey=wa;l.RsaPrivateKey=X;l.buildRsaSpki=Ha;l.parseRsaSpki=function(h){h=l.parse(h);return U?Ja(h):ma;};l.buildRsaPkcs8=K;l.parseRsaPkcs8=function(h){h=l.parse(h);return Ua(h)?H(h):ma;};l.buildRsaJwk=w;l.parseRsaJwk=x;l.RsaDer=C;l.rsaDerToJwk=function(h,v,G,x){h=l.parse(h);if(!h)return ma;if(U(h))h=Ja(h);else if(Ua(h))h=H(h);else return ma;return w(h,v,G,x);};l.jwkToRsaDer=function(h){var v,w;h=x(h);if(!h)return ma;if(h instanceof wa)v="spki",w=Ha(h).der;else if(h instanceof X)v="pkcs8",w=K(h).der;else return ma;return new C(w,v,h.keyOps,h.ext);};l.webCryptoAlgorithmToJwkAlg=function(h){return"RSAES-PKCS1-v1_5"==h.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==h.name?"SHA-256"==h.hash.name?"RS256":"SHA-384"==h.hash.name?"RS384":"SHA-512"==h.hash.name?"RS512":ma:ma;};l.webCryptoUsageToJwkKeyOps=function(h){return h.map(function(h){return"wrapKey"==h?"wrap":"unwrapKey"==h?"unwrap":h;});};}());h.ASN1=l;}(J));(function(){for(var h={},l={},n={"=":0,".":0},r={"=":0,".":0},D=/\s+/g,J=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ba=64;Ba--;)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=4096*Ba,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=Ba;for(Ba=64;Ba--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba];)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=4096*Ba,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=Ba;pa=function(h,l){for(var n="",U=0,K=h.length,H=K-2,w,x=l?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=l?"":"=";U<H;)w=65536*h[U++]+256*h[U++]+h[U++],n+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+x[w&63];U==H?(w=65536*h[U++]+256*h[U++],n+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+C):U==K-1&&(w=65536*h[U++],n+=x[w>>>18]+x[w>>>12&63]+C+C);return n;};xa=function(U,Ua){var Ha;U=U.replace(D,"");if(Ua){Ha=U.length%4;if(Ha)for(var Ha=4-Ha,Ja=0;Ja<Ha;++Ja)U+="=";}Ha=U.length;if(0!=Ha%4||!J.test(U))throw Error("bad base64: "+U);for(var K=Ha/4*3-("="==U[Ha-1]?1:0)-("="==U[Ha-2]?1:0),H=new Uint8Array(K),w=0,x=0;w<Ha;)Ja=h[U[w++]]+l[U[w++]]+n[U[w++]]+r[U[w++]],H[x++]=Ja>>>16,x<K&&(H[x++]=Ja>>>8&255,x<K&&(H[x++]=Ja&255));return H;};}());$a={};(function(){var J,Ba,U,Ha;function h(l){if(!(this instanceof h))return new h(l);for(var K=0,H=Ba.length;K<H;K++)this[Ba[K]]="";this.bufferCheckPosition=$a.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=l||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=U.BEGIN;this.stack=new J();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(h,K,H){if(h[K])h[K](H);}function l(h,K){var H,w;H=h.opt;w=h.textNode;H.trim&&(w=w.trim());H.normalize&&(w=w.replace(/\s+/g," "));h.textNode=w;h.textNode&&n(h,K?K:"onvalue",h.textNode);h.textNode="";}function r(h,K){l(h);K+="\nLine: "+h.line+"\nColumn: "+h.column+"\nChar: "+h.c;K=Error(K);h.error=K;n(h,"onerror",K);return h;}function D(Ja){Ja.state!==U.VALUE&&r(Ja,"Unexpected end");l(Ja);Ja.c="";Ja.closed=!0;n(Ja,"onend");h.call(Ja,Ja.opt);return Ja;}J=Array;$a.parser=function(n){return new h(n);};$a.CParser=h;$a.MAX_BUFFER_LENGTH=65536;$a.DEBUG=!1;$a.INFO=!1;$a.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ba=["textNode","numberNode"];$a.EVENTS.filter(function(h){return"error"!==h&&"end"!==h;});U=0;$a.STATE={BEGIN:U++,VALUE:U++,OPEN_OBJECT:U++,CLOSE_OBJECT:U++,OPEN_ARRAY:U++,CLOSE_ARRAY:U++,TEXT_ESCAPE:U++,STRING:U++,BACKSLASH:U++,END:U++,OPEN_KEY:U++,CLOSE_KEY:U++,TRUE:U++,TRUE2:U++,TRUE3:U++,FALSE:U++,FALSE2:U++,FALSE3:U++,FALSE4:U++,NULL:U++,NULL2:U++,NULL3:U++,NUMBER_DECIMAL_POINT:U++,NUMBER_DIGIT:U++};for(var Ua in $a.STATE)$a.STATE[$a.STATE[Ua]]=Ua;U=$a.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(h){return h.__proto__;});Ha=/[\\"\n]/g;h.prototype={end:function(){D(this);},write:function(h){var w,x,C;if(this.error)throw this.error;if(this.closed)return r(this,"Cannot write after close. Assign an onready handler.");if(null===h)return D(this);for(var K=h[0],H;K;){H=K;this.c=K=h.charAt(this.index++);H!==K?this.p=H:H=this.p;if(!K)break;this.position++;"\n"===K?(this.line++,this.column=0):this.column++;switch(this.state){case U.BEGIN:"{"===K?this.state=U.OPEN_OBJECT:"["===K?this.state=U.OPEN_ARRAY:"\r"!==K&&"\n"!==K&&" "!==K&&"\t"!==K&&r(this,"Non-whitespace before {[.");continue;case U.OPEN_KEY:case U.OPEN_OBJECT:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;if(this.state===U.OPEN_KEY)this.stack.push(U.CLOSE_KEY);else if("}"===K){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||U.VALUE;continue;}else this.stack.push(U.CLOSE_OBJECT);'"'===K?this.state=U.STRING:r(this,'Malformed object key should start with "');continue;case U.CLOSE_KEY:case U.CLOSE_OBJECT:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;":"===K?(this.state===U.CLOSE_OBJECT?(this.stack.push(U.CLOSE_OBJECT),l(this,"onopenobject")):l(this,"onkey"),this.state=U.VALUE):"}"===K?(l(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||U.VALUE):","===K?(this.state===U.CLOSE_OBJECT&&this.stack.push(U.CLOSE_OBJECT),l(this),this.state=U.OPEN_KEY):r(this,"Bad object");continue;case U.OPEN_ARRAY:case U.VALUE:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;if(this.state===U.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=U.VALUE,"]"===K){n(this,"onclosearray");this.state=this.stack.pop()||U.VALUE;continue;}else this.stack.push(U.CLOSE_ARRAY);'"'===K?this.state=U.STRING:"{"===K?this.state=U.OPEN_OBJECT:"["===K?this.state=U.OPEN_ARRAY:"t"===K?this.state=U.TRUE:"f"===K?this.state=U.FALSE:"n"===K?this.state=U.NULL:"-"===K?this.numberNode+=K:"0"===K?(this.numberNode+=K,this.state=U.NUMBER_DIGIT):-1!=="123456789".indexOf(K)?(this.numberNode+=K,this.state=U.NUMBER_DIGIT):r(this,"Bad value");continue;case U.CLOSE_ARRAY:if(","===K)this.stack.push(U.CLOSE_ARRAY),l(this,"onvalue"),this.state=U.VALUE;else if("]"===K)l(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||U.VALUE;else if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;else r(this,"Bad array");continue;case U.STRING:H=this.index-1;w=this.slashed,x=this.unicodeI;a:for(;;){if($a.DEBUG)for(;0<x;)if(this.unicodeS+=K,K=h.charAt(this.index++),4===x?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),x=0,H=this.index-1):x++,!K)break a;if('"'===K&&!w){this.state=this.stack.pop()||U.VALUE;(this.textNode+=h.substring(H,this.index-1))||n(this,"onvalue","");break;}if("\\"===K&&!w&&(w=!0,this.textNode+=h.substring(H,this.index-1),K=h.charAt(this.index++),!K))break;if(w)if(w=!1,"n"===K?this.textNode+="\n":"r"===K?this.textNode+="\r":"t"===K?this.textNode+="\t":"f"===K?this.textNode+="\f":"b"===K?this.textNode+="\b":"u"===K?(x=1,this.unicodeS=""):this.textNode+=K,K=h.charAt(this.index++),H=this.index-1,K)continue;else break;Ha.lastIndex=this.index;C=Ha.exec(h);if(null===C){this.index=h.length+1;this.textNode+=h.substring(H,this.index-1);break;}this.index=C.index+1;K=h.charAt(C.index);if(!K){this.textNode+=h.substring(H,this.index-1);break;}}this.slashed=w;this.unicodeI=x;continue;case U.TRUE:if(""===K)continue;"r"===K?this.state=U.TRUE2:r(this,"Invalid true started with t"+K);continue;case U.TRUE2:if(""===K)continue;"u"===K?this.state=U.TRUE3:r(this,"Invalid true started with tr"+K);continue;case U.TRUE3:if(""===K)continue;"e"===K?(n(this,"onvalue",!0),this.state=this.stack.pop()||U.VALUE):r(this,"Invalid true started with tru"+K);continue;case U.FALSE:if(""===K)continue;"a"===K?this.state=U.FALSE2:r(this,"Invalid false started with f"+K);continue;case U.FALSE2:if(""===K)continue;"l"===K?this.state=U.FALSE3:r(this,"Invalid false started with fa"+K);continue;case U.FALSE3:if(""===K)continue;"s"===K?this.state=U.FALSE4:r(this,"Invalid false started with fal"+K);continue;case U.FALSE4:if(""===K)continue;"e"===K?(n(this,"onvalue",!1),this.state=this.stack.pop()||U.VALUE):r(this,"Invalid false started with fals"+K);continue;case U.NULL:if(""===K)continue;"u"===K?this.state=U.NULL2:r(this,"Invalid null started with n"+K);continue;case U.NULL2:if(""===K)continue;"l"===K?this.state=U.NULL3:r(this,"Invalid null started with nu"+K);continue;case U.NULL3:if(""===K)continue;"l"===K?(n(this,"onvalue",null),this.state=this.stack.pop()||U.VALUE):r(this,"Invalid null started with nul"+K);continue;case U.NUMBER_DECIMAL_POINT:"."===K?(this.numberNode+=K,this.state=U.NUMBER_DIGIT):r(this,"Leading zero not followed by .");continue;case U.NUMBER_DIGIT:-1!=="0123456789".indexOf(K)?this.numberNode+=K:"."===K?(-1!==this.numberNode.indexOf(".")&&r(this,"Invalid number has two dots"),this.numberNode+=K):"e"===K||"E"===K?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||r(this,"Invalid number has two exponential"),this.numberNode+=K):"+"===K||"-"===K?("e"!==H&&"E"!==H&&r(this,"Invalid symbol in number"),this.numberNode+=K):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||U.VALUE);continue;default:r(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){h=Math.max($a.MAX_BUFFER_LENGTH,10);H=K=0;for(w=Ba.length;H<w;H++){x=this[Ba[H]].length;if(x>h)switch(Ba[H]){case"text":break;default:r(this,"Max buffer length exceeded: "+Ba[H]);}K=Math.max(K,x);}this.bufferCheckPosition=$a.MAX_BUFFER_LENGTH-K+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var r;function h(h,n){n||(n=h.length);return h.reduce(function(h,l,U){return U<n?h+String.fromCharCode(l):h;},"");}for(var n={},l=0;256>l;++l){r=h([l]);n[r]=l;}for(var D=Object.keys(n).length,J=[],l=0;256>l;++l)J[l]=[l];Id=function(l,U){var v,G;function r(h,v){var G;for(;0<v;){if(x>=w.length)return!1;if(v>C){G=h;G=G>>>v-C;w[x]|=G&255;v-=C;C=8;++x;}else v<=C&&(G=h,G<<=C-v,G&=255,G>>>=8-C,w[x]|=G&255,C-=v,v=0,0==C&&(C=8,++x));}return!0;}for(var Ha in n)U[Ha]=n[Ha];for(var Ja=D,K=[],H=8,w=new Uint8Array(l.length),x=0,C=8,I=0;I<l.length;++I){v=l[I];K.push(v);Ha=h(K);G=U[Ha];if(!G){K=h(K,K.length-1);if(!r(U[K],H))return null;0!=Ja>>H&&++H;U[Ha]=Ja++;K=[v];}}return 0<K.length&&(Ha=h(K),G=U[Ha],!r(G,H))?null:w.subarray(0,8>C?x+1:x);};Jd=function(h){var I,v,C,r;for(var l=J.slice(),n=0,r=0,Ja=8,K=new Uint8Array(Math.ceil(1.5*h.length)),H=0,w,x=[];n<h.length&&!(8*(h.length-n)-r<Ja);){for(var C=w=0;C<Ja;){I=Math.min(Ja-C,8-r);v=h[n];v=v<<r;v=v&255;v=v>>>8-I;C=C+I;r=r+I;8==r&&(r=0,++n);w|=(v&255)<<Ja-C;}C=l[w];0==x.length?++Ja:(C?x.push(C[0]):x.push(x[0]),l[l.length]=x,x=[],l.length==1<<Ja&&++Ja,C||(C=l[w]));w=H+C.length;w>=K.length&&(I=new Uint8Array(Math.ceil(1.5*w)),I.set(K),K=I);K.set(C,H);H=w;x=x.concat(C);}return K.subarray(0,H);};}());(function(){var h,n,r;Ka="utf-8";La=9007199254740992;h=Nb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Nb);Kd=function(n){for(var l=[h.GZIP,h.LZW],r=0;r<l.length&&0<n.length;++r)for(var D=l[r],U=0;U<n.length;++U)if(n[U]==D)return D;return null;};n=xc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(xc);Ld=function(h){return n.AES_CBC_PKCS5Padding==h?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==h?n.RSA_ECB_PKCS1Padding:n[h];};r=Md={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Md);Yc=function(h){return r[h];};l={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(l);}());qa={isObjectLiteral:function(h){return null!==h&&"object"===typeof h&&h.constructor===Object;},extendDeep:function(){var h,n,l,r,D,J,Ba,U;h=arguments[0];n=1;l=arguments.length;r=!1;"boolean"===typeof h&&(r=h,h=arguments[1],n=2);for(;n<l;n++)if(null!=(D=arguments[n]))for(J in D)r&&J in h||(U=D[J],h!==U&&U!==ma&&(Ba=h[J],h[J]=null!==Ba&&null!==U&&"object"===typeof Ba&&"object"===typeof U?qa.extendDeep(r,{},Ba,U):U));return h;}};(function(){var Ba,U;function h(h,n){return function(){var l,K;l=h.base;h.base=n;K=h.apply(this,arguments);h.base=l;return K;};}function n(n,l,r){var K,H,w,x;r=r||U;x=!!r.extendAll;for(K in l)H=l.__lookupGetter__(K),w=l.__lookupSetter__(K),H||w?(H&&n.__defineGetter__(K,H),w&&n.__defineSetter__(K,w)):(H=l[K],w=n[K],"function"===typeof H&&"function"===typeof w&&H!==w?(H.base!==Function.prototype.base&&(H=h(H,w)),H.base=w):(x||r[K])&&qa.isObjectLiteral(H)&&qa.isObjectLiteral(w)&&(H=qa.extendDeep({},w,H)),n[K]=H);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function K(){var H;H=h.call(arguments,0);K.base.apply(this,n.concat(H));}});}function r(h,l){var U;U=new this(Ba);n(U,h,l);return J(U);}function D(h,l){n(this.prototype,h,l);return this;}function J(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=D;return n;}Ba={};U={actions:!0};Function.prototype.base=function(){};qa.Class={create:J,mixin:n,extend:function(h,n){var l;l=J();l.prototype=new h();return l.extend(n);}};qa.mixin=function(){qa.log&&qa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var Ba,U,Ua;function h(h,n){return function(){var l,H;l=h.base;h.base=n;H=h.apply(this,arguments);h.base=l;return H;};}function n(n,l,K){var H,w,x,C;K=K||U;C=!!K.extendAll;for(H in l)w=l.__lookupGetter__(H),x=l.__lookupSetter__(H),w||x?(w&&n.__defineGetter__(H,w),x&&n.__defineSetter__(H,x)):(w=l[H],x=n[H],"function"===typeof w&&"function"===typeof x&&w!==x?(w.base!==Ua&&(w=h(w,x)),w.base=x):(C||K[H])&&qa.isObjectLiteral(w)&&qa.isObjectLiteral(x)&&(w=qa.extendDeep({},x,w)),n[H]=w);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function H(){var w;w=h.call(arguments,0);H.base.apply(this,n.concat(w));}});}function r(h,l){var K;K=new this(Ba);n(K,h,l);return J(K);}function D(h,l){n(this.prototype,h,l);return this;}function J(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=D;return n;}Ba={};U={actions:!0};Ua=function(){};Function.prototype.base=Ua;qa.Class={create:J,mixin:n,extend:function(h,n){var l;l=J();l.prototype=new h();return l.extend(n);}};qa.mixin=function(){qa.log&&qa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function h(h){return h==La?1:h+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var l=h(n._nextWaiter);!n._waiters[l];)l=h(l);return l;}hc=qa.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var l;if(this._waiters[h]){l=this._waiters[h];delete this._waiters[h];h==this._nextWaiter&&(this._nextWaiter=n(this));l.call(this,ma);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(l,D){var J,P;J=this;P=h(this._lastWaiter);this._lastWaiter=P;r(D,function(){var h,U;if(0<this._queue.length){h=this._queue.shift();setTimeout(function(){D.result(h);},0);}else{-1!=l&&(U=setTimeout(function(){delete J._waiters[P];P==J._nextWaiter&&(J._nextWaiter=n(J));D.timeout();},l));this._waiters[P]=function(h){clearTimeout(U);setTimeout(function(){D.result(h);},0);};this._nextWaiter||(this._nextWaiter=P);}},J);return P;},add:function(h){var l;if(this._nextWaiter){l=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);l.call(this,h);}else this._queue.push(h);}});}());(function(){var h;h=0-La;Nd=qa.Class.create({nextBoolean:function(){var h;h=new Uint8Array(1);Cb.getRandomValues(h);return h[0]&1?!0:!1;},nextInt:function(h){var n;if(null!==h&&h!==ma){if("number"!==typeof h)throw new TypeError("n must be of type number");if(1>h)throw new RangeError("n must be greater than zero");--h;n=new Uint8Array(4);Cb.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(h-0+1)+0);}h=new Uint8Array(4);Cb.getRandomValues(h);n=(h[3]&127)<<24|h[2]<<16|h[1]<<8|h[0];return h[3]&128?-n:n;},nextLong:function(){var l,n;for(var n=h;n==h;){n=new Uint8Array(7);Cb.getRandomValues(n);l=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-l-1:l;}return n;},nextBytes:function(h){Cb.getRandomValues(h);}});}());(function(){function h(h){return h==La?1:h+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var l=h(n._nextReader);!n._waitingReaders[l];)l=h(l);return l;}function l(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var l=h(n._nextWriter);!n._waitingWriters[l];)l=h(l);return l;}Zc=qa.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var r;if(this._waitingReaders[h]){r=this._waitingReaders[h];delete this._waitingReaders[h];h==this._nextReader&&(this._nextReader=n(this));r.call(this,!0);}this._waitingWriters[h]&&(r=this._waitingWriters[h],delete this._waitingWriters[h],h==this._nextWriter&&(this._nextWriter=l(this)),r.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(l,D){var J,P;J=this;P=h(this._lastNumber);this._lastNumber=P;r(D,function(){var h;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[P]=!0,P;-1!=l&&(h=setTimeout(function(){delete J._waitingReaders[P];P==J._nextReader&&(J._nextReader=n(J));D.timeout();},l));this._waitingReaders[P]=function(n){clearTimeout(h);n?setTimeout(function(){D.result(ma);},0):(J._readers[P]=!0,setTimeout(function(){D.result(P);},0));};this._nextReader||(this._nextReader=P);},J);return P;},writeLock:function(n,D){var J,P;J=this;P=h(this._lastNumber);this._lastNumber=P;r(D,function(){var h;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=P;-1!=n&&(h=setTimeout(function(){delete J._waitingWriters[P];P==J._nextWriter&&(J._nextWriter=l(J));D.timeout();},n));this._waitingWriters[P]=function(n){clearTimeout(h);n?setTimeout(function(){D.result(ma);},0):(J._writer=P,setTimeout(function(){D.result(P);},0));};this._nextWriter||(this._nextWriter=P);},J);return P;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new ga("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=l(this),n.call(this,!1));else{for(var r=this._nextReader;0<Object.keys(this._waitingReaders).length;r=h(r))this._waitingReaders[r]&&(n=this._waitingReaders[r],delete this._waitingReaders[r],n.call(this,!1));this._nextReader=0;}}});}());qa.Class.mixin(h,{JSON_PARSE_ERROR:new h(0,l.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new h(1,l.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new h(2,l.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new h(3,l.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new h(4,l.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new h(5,l.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new h(6,l.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new h(7,l.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new h(8,l.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new h(9,l.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new h(10,l.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new h(11,l.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new h(12,l.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new h(13,l.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new h(14,l.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new h(15,l.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new h(16,l.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new h(17,l.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new h(18,l.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new h(19,l.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new h(20,l.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new h(21,l.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new h(22,l.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new h(23,l.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new h(24,l.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new h(25,l.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new h(26,l.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new h(27,l.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new h(28,l.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new h(29,l.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new h(30,l.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new h(31,l.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new h(32,l.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new h(33,l.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new h(34,l.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new h(35,l.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new h(36,l.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new h(37,l.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new h(38,l.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new h(39,l.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new h(40,l.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new h(41,l.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new h(42,l.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new h(43,l.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new h(44,l.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new h(45,l.FAIL,"Error exporting key."),DIGEST_ERROR:new h(46,l.FAIL,"Error in digest."),UNSUPPORTED_KEY:new h(47,l.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new h(48,l.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new h(49,l.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new h(50,l.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new h(51,l.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new h(52,l.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new h(53,l.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new h(54,l.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new h(55,l.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new h(56,l.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new h(57,l.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new h(58,l.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new h(59,l.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new h(60,l.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new h(61,l.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new h(62,l.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new h(1E3,l.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new h(1001,l.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new h(1002,l.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new h(1003,l.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(1004,l.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(1005,l.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new h(1006,l.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new h(1007,l.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new h(1008,l.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new h(1009,l.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new h(1010,l.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new h(1011,l.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new h(1012,l.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new h(1013,l.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new h(1014,l.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new h(2E3,l.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new h(2001,l.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new h(2002,l.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new h(2003,l.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new h(2004,l.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new h(2005,l.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2006,l.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2007,l.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new h(2008,l.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new h(2009,l.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new h(2010,l.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new h(2011,l.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new h(2012,l.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new h(2013,l.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new h(2014,l.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new h(2015,l.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new h(2016,l.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new h(2017,l.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new h(2018,l.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new h(2019,l.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new h(2020,l.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new h(3E3,l.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new h(3001,l.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new h(3002,l.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new h(3003,l.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new h(3004,l.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3005,l.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3006,l.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new h(3007,l.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new h(3008,l.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new h(3009,l.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new h(4E3,l.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new h(4001,l.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new h(4002,l.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new h(4003,l.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new h(4004,l.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new h(4005,l.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new h(4006,l.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new h(4007,l.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new h(4008,l.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new h(4009,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new h(4010,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new h(4011,l.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new h(4012,l.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new h(4013,l.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new h(4014,l.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new h(4015,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new h(4016,l.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new h(4017,l.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new h(4018,l.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new h(4019,l.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new h(4020,l.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new h(4021,l.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new h(4022,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new h(4023,l.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new h(4024,l.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new h(4025,l.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new h(4026,l.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new h(5E3,l.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new h(5001,l.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new h(5002,l.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new h(5003,l.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new h(5004,l.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new h(5005,l.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new h(5006,l.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new h(5007,l.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new h(5008,l.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new h(5009,l.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new h(5010,l.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new h(5011,l.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new h(5012,l.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new h(5013,l.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new h(5014,l.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new h(5015,l.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new h(5016,l.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new h(5017,l.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new h(5018,l.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new h(5019,l.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new h(5020,l.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new h(5021,l.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new h(5022,l.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new h(5023,l.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new h(5024,l.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new h(5025,l.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new h(5026,l.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new h(5027,l.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new h(5028,l.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new h(5029,l.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new h(5030,l.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new h(5031,l.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new h(5032,l.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new h(5033,l.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new h(5034,l.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new h(5035,l.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new h(5036,l.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new h(5037,l.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new h(5038,l.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new h(5039,l.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new h(5040,l.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new h(6E3,l.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new h(6001,l.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new h(6002,l.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new h(6003,l.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new h(6004,l.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new h(6005,l.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new h(6006,l.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new h(6007,l.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new h(6008,l.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new h(6009,l.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new h(6010,l.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new h(6011,l.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new h(6012,l.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new h(6013,l.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new h(6014,l.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new h(6015,l.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new h(6016,l.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new h(6017,l.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new h(6018,l.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(6019,l.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new h(6020,l.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new h(6021,l.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new h(6022,l.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new h(6023,l.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new h(6024,l.FAIL,"Invalid header data."),PAYLOAD_INVALID:new h(6025,l.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new h(6026,l.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new h(6027,l.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new h(6028,l.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new h(6029,l.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new h(6030,l.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new h(6031,l.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new h(6032,l.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new h(6033,l.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new h(6034,l.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new h(6035,l.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new h(6036,l.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new h(6037,l.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new h(7E3,l.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new h(7001,l.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new h(7002,l.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new h(7003,l.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new h(7004,l.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new h(7005,l.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new h(7006,l.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new h(7007,l.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new h(7008,l.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new h(7009,l.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new h(7010,l.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new h(7011,l.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new h(7012,l.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new h(7013,l.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new h(7014,l.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new h(7015,l.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new h(7016,l.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new h(8E3,l.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new h(8001,l.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new h(8002,l.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new h(8003,l.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new h(8004,l.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new h(8005,l.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new h(8006,l.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new h(8007,l.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new h(8008,l.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new h(8009,l.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new h(8010,l.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new h(8011,l.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new h(8012,l.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new h(9E3,l.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new h(9001,l.FAIL,"Error communicating with MSL entity."),NONE:new h(9999,l.FAIL,"Special unit test error.")});Object.freeze(h);(function(){D=qa.Class.create(Error());D.mixin({init:function(h,n,l){var J,P,ga;function r(){return P?P:this.cause&&this.cause instanceof D?this.cause.messageId:ma;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);J=h.message;n&&(J+=" ["+n+"]");ga=this.stack;Object.defineProperties(this,{message:{value:J,writable:!1,configurable:!0},error:{value:h,writable:!1,configurable:!0},cause:{value:l,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:r,set:function(h){if(0>h||h>La)throw new RangeError("Message ID "+h+" is outside the valid range.");r()||(P=h);},configurable:!0},stack:{get:function(){var h;h=this.toString();ga&&(h+="\n"+ga);l&&l.stack&&(h+="\nCaused by "+l.stack);return h;},configurable:!0}});},setEntity:function(h){!h||this.masterToken||this.entityAuthenticationData||(h instanceof eb?this.masterToken=h:h instanceof Ob&&(this.entityAuthenticationData=h));return this;},setUser:function(h){!h||this.userIdToken||this.userAuthenticationData||(h instanceof Yb?this.userIdToken=h:h instanceof Eb&&(this.userAuthenticationData=h));return this;},setMessageId:function(h){this.messageId=h;return this;},toString:function(){return this.name+": "+this.message;}});}());P=D.extend({init:function Kb(h,n,l){Kb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ia=D.extend({init:function mb(h,n,l){mb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});tb=D.extend({init:function Ma(h,n,l){Ma.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){hb=qa.Class.create(Error());hb.mixin({init:function(h,n,l){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:l,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();r&&(h+="\n"+r);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Wa=qa.Class.create(Error());Wa.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ga=qa.Class.create(Error());ga.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ab=qa.Class.create(Error());ab.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Pa=D.extend({init:function uc(h,n,l){uc.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Pb=D.extend({init:function Tc(h,n){Tc.base.call(this,h);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ga=D.extend({init:function Ba(h,n,l){Ba.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ea=D.extend({init:function U(h,n,l){U.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var K;function h(h){return"undefined"===typeof h?!1:h;}function n(h){return h&&h.length?(cb===K.V2014_02&&(h=h.map(function(h){return"wrap"==h?"wrapKey":"unwrap"==h?"unwrapKey":h;})),h):cb===K.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function l(h,w,n,l,I){return Promise.resolve().then(function(){return Ra.importKey(h,w,n,l,I);})["catch"](function(v){var G;if("spki"!==h&&"pkcs8"!==h)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(n);G=ASN1.webCryptoUsageToJwkKeyOps(I);v=ASN1.rsaDerToJwk(w,v,G,l);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Ra.importKey("jwk",Sc(v),n,l,I);});}function r(h,w){return Promise.resolve().then(function(){return Ra.exportKey(h,w);})["catch"](function(n){if("spki"!==h&&"pkcs8"!==h)throw n;return Ra.exportKey("jwk",w).then(function(h){h=JSON.parse(Rc(new Uint8Array(h)));h=ASN1.jwkToRsaDer(h);if(!h)throw Error("Could not make valid DER from JWK input");return h.getDer().buffer;});});}K=yc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(yc);cb=K.LATEST;Ia={encrypt:function(h,w,n){switch(cb){case K.LEGACY:return new Promise(function(x,l){var v;v=Ra.encrypt(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Ra.encrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(h,w,n){switch(cb){case K.LEGACY:return new Promise(function(x,l){var v;v=Ra.decrypt(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Ra.decrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(h,w,n){switch(cb){case K.LEGACY:return new Promise(function(x,l){var v;v=Ra.sign(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Ra.sign(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(h,w,n,l){switch(cb){case K.LEGACY:return new Promise(function(x,v){var G;G=Ra.verify(h,w,n,l);G.oncomplete=function(h){x(h.target.result);};G.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Ra.verify(h,w,n,l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(h,w){switch(cb){case K.LEGACY:return new Promise(function(n,l){var x;x=Ra.digest(h,w);x.oncomplete=function(h){n(h.target.result);};x.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Ra.digest(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(l,w,x){var H,I;H=h(w);I=n(x);switch(cb){case K.LEGACY:return new Promise(function(h,w){var v;v=Ra.generateKey(l,H,I);v.oncomplete=function(v){h(v.target.result);};v.onerror=function(h){w(h);};});case K.V2014_01:case K.V2014_02:return Ra.generateKey(l,H,I);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(l,w,x,C,I){var v,G;v=h(C);G=n(I);switch(cb){case K.LEGACY:return new Promise(function(h,n){var I;I=Ra.deriveKey(l,w,x,v,G);I.oncomplete=function(v){h(v.target.result);};I.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return Ra.deriveKey(l,w,x,v,G);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(H,w,x,C,I){var v,G;v=h(C);G=n(I);switch(cb){case K.LEGACY:return new Promise(function(h,n){var l;l=Ra.importKey(H,w,x,v,G);l.oncomplete=function(v){h(v.target.result);};l.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return l(H,w,x,v,G);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(h,w){switch(cb){case K.LEGACY:return new Promise(function(n,l){var x;x=Ra.exportKey(h,w);x.oncomplete=function(h){n(h.target.result);};x.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return r(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(h,w,n,l){switch(cb){case K.LEGACY:return new Promise(function(h,v){var G;G=Ra.wrapKey(w,n,l);G.oncomplete=function(v){h(v.target.result);};G.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Ra.wrapKey(h,w,n,l).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(l,w,x,C,I,v,G){switch(cb){case K.LEGACY:return new Promise(function(h,v){var n;n=Ra.unwrapKey(w,I,x);n.oncomplete=function(v){h(v.target.result);};n.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Ra.unwrapKey(l,w,x,C,I,h(v),n(G));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};wc&&wc.getKeyByName&&(Ia.getKeyByName=function(h){switch(cb){case K.LEGACY:return new Promise(function(w,n){var x;x=wc.getKeyByName(h);x.oncomplete=function(h){w(h.target.result);};x.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return wc.getKeyByName(h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});J.netflix=J.netflix||{};J.netflix.crypto=Ia;}());ub={name:"AES-KW"};nb={name:"AES-CBC"};ob={name:"HMAC",hash:{name:"SHA-256"}};zc={name:"RSA-OAEP",hash:{name:"SHA-1"}};$c={name:"RSAES-PKCS1-v1_5"};Od={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Fb=["encrypt","decrypt"];Gb=["wrap","unwrap"];Qb=["sign","verify"];(function(){ad=qa.Class.create({init:function(l,r,D){var K;function U(h){n(r,function(){var w;w=h?pa(h):ma;Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},keyData:{value:h,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},K);}K=this;n(r,function(){if(!l||"object"!=typeof l)throw new P(h.INVALID_SYMMETRIC_KEY);!D&&l.extractable?Ia.exportKey("raw",l).then(function(h){U(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"raw"));}):U(D);},K);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Wb=function(h,n){new ad(h,n);};vb=function(l,r,D,J){n(J,function(){try{l="string"==typeof l?xa(l):l;}catch(K){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+l,K);}Ia.importKey("raw",l,r,!0,D).then(function(h){new ad(h,J,l);},function(n){J.error(new P(h.INVALID_SYMMETRIC_KEY));});});};}());(function(){Ac=qa.Class.create({init:function(l,r,D){var K;function U(h){n(r,function(){Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},K);}K=this;n(r,function(){if(!l||"object"!=typeof l||"public"!=l.type)throw new TypeError("Only original public crypto keys are supported.");!D&&l.extractable?Ia.exportKey("spki",l).then(function(h){U(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"spki"));}):U(D);});},getEncoded:function(){return this.encoded;}});Mb=function(h,n){new Ac(h,n);};bd=function(l,r,D,J){n(J,function(){try{l="string"==typeof l?xa(l):l;}catch(K){throw new P(h.INVALID_PUBLIC_KEY,"spki "+l,K);}Ia.importKey("spki",l,r,!0,D).then(function(h){new Ac(h,J,l);},function(n){J.error(new P(h.INVALID_PUBLIC_KEY));});});};}());(function(){Pd=qa.Class.create({init:function(l,r,D){var K;function U(h){n(r,function(){Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},K);}K=this;n(r,function(){if(!l||"object"!=typeof l||"private"!=l.type)throw new TypeError("Only original private crypto keys are supported.");!D&&l.extractable?Ia.exportKey("pkcs8",l).then(function(h){U(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"pkcs8"));}):U(D);});},getEncoded:function(){return this.encoded;}});Xb=function(h,n){new Pd(h,n);};}());(function(){var l;l=fd={V1:1,V2:2};cd=qa.Class.create({init:function(h,r,D,K){n(K,function(){var n,w,x,C;n=l.V1;w=h;x=null;for(C in xc)if(xc[C]==h){n=l.V2;w=null;x=h;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:x,writable:!1,configurable:!1},iv:{value:r,writable:!1,configurable:!1},ciphertext:{value:D,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var h;h={};switch(this.version){case l.V1:h.keyid=this.keyId;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);h.sha256="AA==";break;case l.V2:h.version=this.version;h.cipherspec=this.cipherSpec;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);break;default:throw new ga("Ciphertext envelope version "+this.version+" encoding unsupported.");}return h;}});dd=function(h,n,l,K){new cd(h,n,l,K);};ed=function(r,D,U){n(U,function(){var n,H,w,x,C,I,v;n=r.keyid;H=r.cipherspec;w=r.iv;x=r.ciphertext;C=r.sha256;if(!D)if((D=r.version)&&"number"===typeof D&&D===D){I=!1;for(v in l)if(l[v]==D){I=!0;break;}if(!I)throw new P(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}else D=l.V1;switch(D){case l.V1:if("string"!==typeof n||w&&"string"!==typeof w||"string"!==typeof x||"string"!==typeof C)throw new ia(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));break;case l.V2:v=r.version;if(v!=l.V2)throw new P(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));if("string"!==typeof H||w&&"string"!==typeof w||"string"!==typeof x)throw new ia(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));H=Ld(H);if(!H)throw new P(h.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(r));n=H;break;default:throw new P(h.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}try{w&&(w=xa(w));x=xa(x);}catch(G){throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(r),G);}new cd(n,w,x,U);});};}());(function(){var l;l=id={V1:1,V2:2};wb=qa.Class.create({init:function(h,n,r){var K;switch(h){case l.V1:K=r;break;case l.V2:K={};K.version=h;K.algorithm=n;K.signature=pa(r);K=Ta(JSON.stringify(K),Ka);break;default:throw new ga("Signature envelope version "+h+" encoding unsupported.");}Object.defineProperties(this,{version:{value:h,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:r,writable:!1,configurable:!1},bytes:{value:K,writable:!1,configurable:!1}});}});gd=function(){var h,r,D,K;2==arguments.length?(h=l.V1,r=arguments[0],D=null,K=arguments[1]):3==arguments.length&&(h=l.V2,D=arguments[0],r=arguments[1],K=arguments[2]);n(K,function(){return new wb(h,D,r);});};hd=function(r,D,U){n(U,function(){var n,H,w,x,C,I,v;if(D)switch(D){case l.V1:return new wb(l.V1,null,r);case l.V2:try{n=Va(r,Ka);H=JSON.parse(n);w=parseInt(H.version);x=H.algorithm;C=H.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof x||"string"!==typeof C)throw new ia(h.JSON_PARSE_ERROR,"signature envelope "+pa(r));if(l.V2!=w)throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(r));I=Yc(x);if(!I)throw new P(h.UNIDENTIFIED_ALGORITHM,"signature envelope "+pa(r));v=xa(C);if(!v)throw new P(h.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(r));return new wb(l.V2,I,v);}catch(G){if(G instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"signature envelope "+pa(r),G);throw G;}default:throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(r));}try{n=Va(r,Ka);H=JSON.parse(n);}catch(G){H=null;}if(H&&H.version){if(n=H.version,"number"!==typeof n||n!==n)n=l.V1;}else n=l.V1;switch(n){case l.V1:return new wb(n,null,r);case l.V2:I=H.algorithm;C=H.signature;if("string"!==typeof I||"string"!==typeof C)return new wb(l.V1,null,r);I=Yc(I);if(!I)return new wb(l.V1,null,r);try{v=xa(C);}catch(G){return new wb(l.V1,null,r);}return new wb(n,I,v);default:throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+r);}});};}());Zb=qa.Class.create({encrypt:function(h,n){},decrypt:function(h,n){},wrap:function(h,n){},unwrap:function(h,n,l,r){},sign:function(h,n){},verify:function(h,n,l){}});(function(){var l;l=yb={RSA_OAEP:zc.name,A128KW:ub.name};rb="A128GCM";xb=qa.Class.create({init:function(h,n,r,K,H){switch(n){case l.RSA_OAEP:H=H&&(H.rawKey||H);K=K&&(K.rawKey||K);break;case l.A128KW:H=K=K&&(K.rawKey||K);break;default:throw new ga("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:r,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:H,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:K,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new P(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new P(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,r){n(r,function(){Ia.wrapKey("jwe+jwk",l.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,D,K){function H(l){n(K,function(){switch(l.type){case"secret":Wb(l,K);break;case"public":Mb(l,K);break;case"private":Xb(l,K);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(K,function(){Ia.unwrapKey("jwe+jwk",l,this._unwrapKey,this._unwrapKey.algorithm,r,!1,D).then(function(h){H(h);},function(){K.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new P(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,r){r.error(new P(h.VERIFY_NOT_SUPPORTED));}});}());$b=Zb.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.result(h);},unwrap:function(h,n,l,r){r.result(h);},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!0);}});(function(){var l;l=Cc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Bc=Zb.extend({init:function Ha(h,n,H,w,x){Ha.base.call(this);H&&(H=H.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:H,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:x==l.ENCRYPT_DECRYPT_PKCS1?$c:x==l.ENCRYPT_DECRYPT_OAEP?zc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:x==l.WRAP_UNWRAP_PKCS1?$c:x==l.WRAP_UNWRAP_OAEP?zc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:x==l.SIGN_VERIFY?Od:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var K;K=this;n(r,function(){if("nullOp"==this.transform)return l;if(!this.publicKey)throw new P(h.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==l.length)return l;Ia.encrypt(K.transform,K.publicKey,l).then(function(n){dd(K.id,null,n,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Ta(l,Ka));}catch(C){r.error(new P(h.ENCRYPT_ERROR,null,C));}},error:function(n){n instanceof D||(n=new P(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new P(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var K;K=this;n(r,function(){var n,w;if("nullOp"==this.transform)return l;if(!this.privateKey)throw new P(h.DECRYPT_NOT_SUPPORTED,"no private key");if(0==l.length)return l;try{w=Va(l,Ka);n=JSON.parse(w);}catch(x){if(x instanceof SyntaxError)throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,x);throw new P(h.DECRYPT_ERROR,null,x);}ed(n,fd.V1,{result:function(n){var l;try{if(n.keyId!=K.id)throw new P(h.ENVELOPE_KEY_ID_MISMATCH);l=r.result;Ia.decrypt(K.transform,K.privateKey,n.ciphertext).then(l,function(n){r.error(new P(h.DECRYPT_ERROR));});}catch(I){I instanceof D?r.error(I):r.error(new P(h.DECRYPT_ERROR,null,I));}},error:function(n){n instanceof ia&&(n=new P(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof D||(n=new P(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new P(h.WRAP_NOT_SUPPORTED,"no public key");n=r.result;Ia.wrapKey("jwk",l.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,K,H){function w(l){n(H,function(){switch(l.type){case"secret":Wb(l,H);break;case"public":Mb(l,H);break;case"private":Xb(l,H);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(H,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new P(h.UNWRAP_NOT_SUPPORTED,"no private key");Ia.unwrapKey("jwk",l,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},r,!1,K).then(w,function(n){H.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(l,r){n(r,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new P(h.SIGN_NOT_SUPPORTED,"no private key");Ia.sign(this.algo,this.privateKey,l).then(function(h){gd(h,{result:function(h){r.result(h.bytes);},error:r.error});},function(n){r.error(new P(h.SIGNATURE_ERROR));});},this);},verify:function(l,r,K){var H;H=this;n(K,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new P(h.VERIFY_NOT_SUPPORTED,"no public key");hd(r,id.V1,{result:function(w){n(K,function(){var n;n=K.result;Ia.verify(this.algo,this.publicKey,w.signature,l).then(n,function(n){K.error(new P(h.SIGNATURE_ERROR));});},H);},error:K.error});},this);}});}());(function(){Dc=Zb.extend({init:function Ua(h,n,l,H,w){Ua.base.call(this);l=l&&l.rawKey;H=H&&H.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:l,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:H,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var J;J=this;n(r,function(){var n;if(!this.encryptionKey)throw new P(h.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);Ia.encrypt({name:nb.name,iv:n},J.encryptionKey,l).then(function(l){l=new Uint8Array(l);dd(J.id,n,l,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Ta(l,Ka));}catch(C){r.error(new P(h.ENCRYPT_ERROR,null,C));}},error:function(n){n instanceof D||(n=new P(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new P(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var J;J=this;n(r,function(){var n,H;if(!this.encryptionKey)throw new P(h.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;try{H=Va(l,Ka);n=JSON.parse(H);}catch(w){if(w instanceof SyntaxError)throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new P(h.DECRYPT_ERROR,null,w);}ed(n,fd.V1,{result:function(n){try{if(n.keyId!=J.id)throw new P(h.ENVELOPE_KEY_ID_MISMATCH);Ia.decrypt({name:nb.name,iv:n.iv},J.encryptionKey,n.ciphertext).then(function(h){h=new Uint8Array(h);r.result(h);},function(){r.error(new P(h.DECRYPT_ERROR));});}catch(x){x instanceof D?r.error(x):r.error(new P(h.DECRYPT_ERROR,null,x));}},error:function(n){n instanceof ia&&(n=new P(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof D||(n=new P(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){if(!this.wrapKey)throw new P(h.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.wrapKey("raw",l.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,D,K){function H(l){n(K,function(){switch(l.type){case"secret":Wb(l,K);break;case"public":Mb(l,K);break;case"private":Xb(l,K);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(K,function(){if(!this.wrapKey)throw new P(h.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.unwrapKey("raw",l,this.wrapKey,this.wrapKey.algorithm,r,!1,D).then(function(h){H(h);},function(n){K.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(l,r){var D;D=this;n(r,function(){if(!this.hmacKey)throw new P(h.SIGN_NOT_SUPPORTED,"no HMAC key.");Ia.sign(ob,this.hmacKey,l).then(function(h){n(r,function(){var n;n=new Uint8Array(h);gd(n,{result:function(h){r.result(h.bytes);},error:r.error});},D);},function(){r.error(new P(h.HMAC_ERROR));});},this);},verify:function(l,r,D){var K;K=this;n(D,function(){if(!this.hmacKey)throw new P(h.VERIFY_NOT_SUPPORTED,"no HMAC key.");hd(r,id.V1,{result:function(H){n(D,function(){Ia.verify(ob,this.hmacKey,H.signature,l).then(function(h){D.result(h);},function(n){D.error(new P(h.HMAC_ERROR));});},K);},error:D.error});},this);}});}());fb=Dc.extend({init:function Ua(n,l,r,H,w){if(r||H||w)Ua.base.call(this,n,r+"_"+l.sequenceNumber,H,w,null);else{if(!l.isDecrypted())throw new Pb(h.MASTERTOKEN_UNTRUSTED,l);Ua.base.call(this,n,l.identity+"_"+l.sequenceNumber,l.encryptionKey,l.hmacKey,null);}}});Te=Zb.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.error(new ga("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(h,n,l,r){r.error(new ga("Unwrap is unsupported by the MSL token crypto context."));},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!1);}});Oa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Oa);(function(){Ob=qa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Ob?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});Qd=function(n,l){var r,K,H;r=l.scheme;K=l.authdata;if(!r||!K)throw new ia(h.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(l));if(!Oa[r])throw new tb(h.UNIDENTIFIED_ENTITYAUTH_SCHEME,r);H=n.getEntityAuthenticationFactory(r);if(!H)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,r);return H.createData(n,K);};}());Ec=qa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,n){},getCryptoContext:function(h,n){}});(function(){jb=Ob.extend({init:function Ha(h){Ha.base.call(this,Oa.MGK);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function Ja(h){return this===h?!0:h instanceof jb?Ja.base.call(this,this,h)&&this.identity==h.identity:!1;}});Rd=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new jb(l);};}());Ue=Ec.extend({init:function Ha(h){Ha.base.call(this,Oa.MGK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Rd(n);},getCryptoContext:function(n,l){if(!(l instanceof jb))throw new ga("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"mgk "+l.identity).setEntity(l);return new $b();}});(function(){pb=Ob.extend({init:function Ja(h){Ja.base.call(this,Oa.PSK);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function K(h){return this===h?!0:h instanceof pb?K.base.call(this,this,h)&&this.identity==h.identity:!1;}});Sd=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new pb(l);};}());Td=Ec.extend({init:function Ja(h){Ja.base.call(this,Oa.PSK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Sd(n);},getCryptoContext:function(n,l){if(!(l instanceof pb))throw new ga("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.getIdentity()!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"psk "+l.identity).setEntity(l);return new $b();}});(function(){Fc=Ob.extend({init:function K(h,n){K.base.call(this,Oa.RSA);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;h.pubkeyid=this.publicKeyId;return h;},equals:function H(h){return this===h?!0:h instanceof Fc?H.base.call(this,this,h)&&this.identity==h.identity&&this.publicKeyId==h.publicKeyId:!1;}});Ud=function(n){var l,x;l=n.identity;x=n.pubkeyid;if(!l||"string"!==typeof l||!x||"string"!==typeof x)throw new ia(h.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Fc(l,x);};}());Ve=Ec.extend({init:function K(h){K.base.call(this,Oa.RSA);Object.defineProperties(this,{store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Ud(n);},getCryptoContext:function(n,l){var w,x,C;if(!(l instanceof Fc))throw new ga("Incorrect authentication data type "+l+".");w=l.identity;x=l.publicKeyId;C=this.store.getPublicKey(x);if(!C)throw new tb(h.RSA_PUBLICKEY_NOT_FOUND,x).setEntity(l);return new Bc(n,w,null,C,Cc.SIGN_VERIFY);}});(function(){gc=Ob.extend({init:function H(h){H.base.call(this,Oa.NONE);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function w(h){return this===h?!0:h instanceof gc?w.base.call(this,this,h)&&this.identity==h.identity:!1;}});Vd=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new gc(l);};}());Se=Ec.extend({init:function H(){H.base.call(this,Oa.NONE);},createData:function(h,n){return Vd(n);},getCryptoContext:function(h,n){if(!(n instanceof gc))throw new ga("Incorrect authentication data type "+JSON.stringify(n)+".");return new $b();}});We=qa.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(h,n){if(!(n instanceof Ac))throw new ga("Incorrect key data type "+n+".");this.rsaKeys[h]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(h){delete this.rsaKeys[h];},getPublicKey:function(h){return this.rsaKeys[h];}});jd=qa.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){}});Gc=qa.Class.create({abort:function(){},close:function(h,n){},write:function(h,n,l,C,I){},flush:function(h,n){}});Xe=qa.Class.create({init:function(h){Object.defineProperties(this,{_data:{value:h,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Wa("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(h,n,l){r(l,function(){var n;if(this._closed)throw new Wa("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==h&&(h=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+h);this._currentPosition+=n.length;return n;},this);}});Ye=qa.Class.create({init:function(){var h;h={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},abort:function(){},close:function(h,n){this._closed=!0;n.result(!0);},write:function(h,n,l,C,I){r(I,function(){var v;if(this._closed)throw new Wa("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=h.subarray(n,l);this._buffered.push(v);return v.length;},this);},flush:function(h,n){var l,w;for(;0<this._buffered.length;){l=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+l.length);w.set(this._result);w.set(l,this._result.length);this._result=w;}else this._result=new Uint8Array(l);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Ze=qa.Class.create({getResponse:function(h,n,l){}});(function(){var h,n;h=Gc.extend({init:function(h,n){var l;l={_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Ye(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ma,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ma,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new hc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(h){this._timeout=h;},getResponse:function(h,n){var l;l=this;this._responseQueue.poll(h,{result:function(h){r(n,function(){h&&this._responseQueue.add(h);return h;},l);},timeout:function(){r(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},l);},error:function(h){r(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw h;},l);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(h,n){var l;l=this;r(n,function(){var h;if(this._response)return!0;h=this._buffer.toByteArray();0<h.length&&(this._abortToken=this._httpLocation.getResponse({body:h},this._timeout,{result:function(h){l._response={response:h};l._responseQueue.add(l._response);},timeout:function(){l._response={isTimeout:!0};l._responseQueue.add(l._response);},error:function(h){l._response={isError:!0,error:h};l._responseQueue.add(l._response);}}));return!0;},this);},write:function(h,n,l,v,G){r(G,function(){if(this._response)throw new Wa("HttpOutputStream already closed.");this._buffer.write(h,n,l,v,G);},this);},flush:function(h,n){r(n,function(){if(this._response)return!0;this._buffer.flush(h,n);},this);}});n=jd.extend({init:function(h){Object.defineProperties(this,{_out:{value:h,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ma,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ma,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(h,n,l){var G;function v(v){r(l,function(){if(!v)return new Uint8Array(0);this._out.getResponse(n,{result:function(v){r(l,function(){var w;if(v.isTimeout)this._timedout=!0,l.timeout();else{if(v.isError)throw this._exception=v.error||new Wa("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Wa("Missing HTTP response."),this._exception;v.response.json!==ma&&(this._json=v.response.json,this.getJSON=function(){return G._json;});w=v.response.content||Sc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Xe(w);this._buffer.read(h,n,l);}},G);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},G);}G=this;r(l,function(){if(this._exception)throw this._exception;if(this._timedout)l.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(h,n,l):this._out.close(n,{result:function(h){v(h);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},G);}});Fd=qa.Class.create({init:function(h,n){Object.defineProperties(this,{_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(h){this._timeout=h;},openConnection:function(){var l;l=new h(this._httpLocation,this._timeout);return{input:new n(l),output:l};}});}());(function(){var h,n;h=Gc.extend({init:function(){var h;h={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setTimeout:function(){},getResponse:function(h,n){n.result({success:!1,content:null,errorHttpCode:ma,errorSubCode:ma});},abort:function(){},close:function(h,n){n.result(!0);},write:function(h,n,l,v,G){var w,x;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=h.subarray(n,l);x=new Uint8Array(this._buffer.length+w.length);x.set(this._buffer);x.set(w,this._buffer.length);this._buffer=x;G.result(w.length);}catch(Da){G.error(Da);}},flush:function(h,n){n.result(!0);},request:function(){return this._buffer;}});n=jd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){l.result(new Uint8Array(16));}});Gd=qa.Class.create({init:function(){var l;l={output:{value:new h(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Rc(this.output.request());}});}());Wd=function(h,n,l){function w(h){var n,l;h=new $e(Va(h,"utf-8"));n=[];for(l=h.nextValue();l!==ma;)n.push(l),l=h.nextValue();return n;}(function(h,n,G){h.read(-1,n,{result:function(h){h&&h.length?G(null,h):G(null,null);},timeout:function(){l.timeout();},error:function(h){G(h,null);}});}(h,n,function(n,v){n?l.error(n):v?h.getJSON!==ma&&"function"===typeof h.getJSON?l.result(h.getJSON()):l.result(w(v)):l.result(null);}));};ib={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(ib);(function(){ic=qa.Class.create({init:function(h){Object.defineProperties(this,{keyExchangeScheme:{value:h,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof ic?this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Xd=function(l,w,x){n(x,function(){var n,r,v;n=w.scheme;r=w.keydata;if(!n||!r||"object"!==typeof r)throw new ia(h.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!ib[n])throw new Pa(h.UNIDENTIFIED_KEYX_SCHEME,n);v=l.getKeyExchangeFactory(n);if(!v)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,n);v.createRequestData(l,r,x);});};}());(function(){jc=qa.Class.create({init:function(h,n){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.mastertoken=this.masterToken;h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof jc?this.masterToken.equals(h.masterToken)&&this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Yd=function(l,w,x){n(x,function(){var r,I,v;r=w.mastertoken;I=w.scheme;v=w.keydata;if(!I||!r||"object"!==typeof r||!v||"object"!==typeof v)throw new ia(h.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!ib[I])throw new Pa(h.UNIDENTIFIED_KEYX_SCHEME,I);Rb(l,r,{result:function(G){n(x,function(){var n;n=l.getKeyExchangeFactory(I);if(!n)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,I);return n.createResponseData(l,G,v);});},error:function(h){x.error(h);}});});};}());(function(){var l;l=qa.Class.create({init:function(h,n){Object.defineProperties(this,{keyResponseData:{value:h,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});kb=qa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createRequestData:function(h,n,l){},createResponseData:function(h,n,l){},generateResponse:function(h,n,l,r){},getCryptoContext:function(h,n,l,r,v){},generateSessionKeys:function(l,x){n(x,function(){var n,w;n=new Uint8Array(16);w=new Uint8Array(32);l.getRandom().nextBytes(n);l.getRandom().nextBytes(w);vb(n,nb,Fb,{result:function(n){vb(w,ob,Qb,{result:function(h){x.result({encryptionKey:n,hmacKey:h});},error:function(n){x.error(new P(h.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){x.error(new P(h.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(h,n,l){vb(h,nb,Fb,{result:function(h){vb(n,ob,Qb,{result:function(n){l.result({encryptionKey:h,hmacKey:n});},error:function(h){l.error(h);}});},error:function(h){l.error(h);}});}});kb.KeyExchangeData=l;}());(function(){var w,x,r;function l(l,v,G,x,r){n(r,function(){var Z,I;switch(v){case w.PSK:Z=new pb(x),I=l.getEntityAuthenticationFactory(Oa.PSK);if(!I)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);Z=I.getCryptoContext(l,Z);return new xb(l,yb.A128KW,rb,ma);case w.MGK:Z=new jb(x);I=l.getEntityAuthenticationFactory(Oa.MGK);if(!I)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);Z=I.getCryptoContext(l,Z);return new xb(l,yb.A128KW,rb,ma);case w.WRAP:Z=l.getMslCryptoContext();Z.unwrap(G,ub,Gb,{result:function(h){n(r,function(){return new xb(l,yb.A128KW,rb,h);});},error:r.error});break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=kd=ic.extend({init:function v(h,n){v.base.call(this,ib.JWE_LADDER);switch(h){case w.WRAP:if(!n)throw new ga("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function G(h){return h===this?!0:h instanceof kd?G.base.call(this,h)&&this.mechanism==h.mechanism&&Za(this.wrapdata,h.wrapdata):!1;},uniqueKey:function Ca(){var h;h=Ca.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+db(this.wrapdata));return h;}});r=$d=jc.extend({init:function Z(h,n,l,w,x){Z.base.call(this,h,ib.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:x,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function Da(h){return this===h?!0:h instanceof $d?Da.base.call(this,h)&&Za(this.wrapKey,h.wrapKey)&&Za(this.wrapdata,h.wrapdata)&&Za(this.encryptionKey,h.encryptionKey)&&Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this)+":"+db(this.wrapKey)+":"+db(this.wrapdata)+":"+db(this.encryptionKey)+":"+db(this.hmacKey);}});Zd=kb.extend({init:function X(h){X.base.call(this,ib.JWE_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,F){n(F,function(){var n,l,F;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{F=xa(l);}catch(aa){throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==F||0==F.length)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:F=null;}return new x(n,F);});},createResponseData:function(n,l,w){var x,F,X,C,na,H,D;n=w.wrapkey;x=w.wrapdata;F=w.encryptionkey;X=w.hmackey;if(!(n&&"string"===typeof n&&x&&"string"===typeof x&&F&&"string"===typeof F&&X)||"string"!==typeof X)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{C=xa(n);na=xa(x);}catch(la){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),la);}try{H=xa(F);}catch(la){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),la);}try{D=xa(X);}catch(la){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),la);}return new r(l,C,na,H,D);},generateResponse:function(w,C,F,T){var Na,ta;function X(h,l,x){Na.generateSessionKeys(w,{result:function(w){n(T,function(){na(h,l,x,w.encryptionKey,w.hmacKey);},Na);},error:function(h){n(T,function(){h instanceof D&&h.setEntity(ta);throw h;});}});}function na(h,x,F,r,oa){n(T,function(){l(w,C.mechanism,C.wrapdata,h,{result:function(h){h.wrap(x,{result:function(g){H(x,F,r,oa,g);},error:function(g){n(T,function(){g instanceof D&&g.setEntity(ta);throw g;});}});},error:function(h){n(T,function(){h instanceof D&&h.setEntity(ta);throw h;});}});},Na);}function H(h,l,x,F,r){n(T,function(){var la;la=new xb(w,yb.A128KW,rb,h);la.wrap(x,{result:function(g){la.wrap(F,{result:function(f){ua(l,r,x,g,F,f);},error:function(f){n(T,function(){f instanceof D&&f.setEntity(ta);throw f;});}});},error:function(g){n(T,function(){g instanceof D&&g.setEntity(ta);throw g;});}});},Na);}function ua(h,l,x,C,oa,X){n(T,function(){var g;g=w.getTokenFactory();ta?g.renewMasterToken(w,ta,x,oa,{result:function(f){n(T,function(){var a,b;a=new fb(w,f);b=new r(f,l,h,C,X);return new kb.KeyExchangeData(b,a,T);},Na);},error:function(f){n(T,function(){f instanceof D&&f.setEntity(ta);throw f;});}}):g.createMasterToken(w,F,x,oa,{result:function(f){n(T,function(){var a,b;a=new fb(w,f);b=new r(f,l,h,C,X);return new kb.KeyExchangeData(b,a,T);},Na);},error:T.error});},Na);}Na=this;n(T,function(){var l,r;if(!(C instanceof x))throw new ga("Key request data "+JSON.stringify(C)+" was not created by this factory.");l=F;if(F instanceof eb){if(!F.isVerified())throw new Pb(h.MASTERTOKEN_UNTRUSTED,F);ta=F;l=F.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);vb(r,ub,Gb,{result:function(h){n(T,function(){w.getMslCryptoContext().wrap(h,{result:function(n){X(l,h,n);},error:function(h){n(T,function(){h instanceof D&&h.setEntity(ta);throw h;},Na);}});},Na);},error:function(l){n(T,function(){throw new P(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ta);},Na);}});},Na);},getCryptoContext:function(l,C,F,T,ya){var na;function X(h,w,x,F,r){n(ya,function(){var la;la=new xb(l,yb.A128KW,rb,r);la.unwrap(w.encryptionKey,nb,Fb,{result:function(r){la.unwrap(w.hmacKey,ob,Qb,{result:function(h){n(ya,function(){this.repository.addCryptoContext(w.wrapdata,la);this.repository.removeCryptoContext(x);return new fb(l,w.masterToken,F,r,h);},na);},error:function(l){n(ya,function(){l instanceof D&&l.setEntity(h);throw l;});}});},error:function(l){n(ya,function(){l instanceof D&&l.setEntity(h);throw l;});}});},na);}na=this;n(ya,function(){var T,da;if(!(C instanceof x))throw new ga("Key request data "+JSON.stringify(C)+" was not created by this factory.");if(!(F instanceof r))throw new ga("Key response data "+JSON.stringify(F)+" was not created by this factory.");T=C.mechanism;da=C.wrapdata;l.getEntityAuthenticationData(null,{result:function(x){n(ya,function(){var r,C,na;r=x.getIdentity();switch(T){case w.PSK:C=new pb(r);na=l.getEntityAuthenticationFactory(Oa.PSK);if(!na)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(x);C=na.getCryptoContext(l,C);C=new xb(l,yb.A128KW,rb,ma);break;case w.MGK:C=new jb(r);na=l.getEntityAuthenticationFactory(Oa.MGK);if(!na)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(x);C=na.getCryptoContext(l,C);C=new xb(l,yb.A128KW,rb,C.wrapKey);break;case w.WRAP:C=this.repository.getCryptoContext(da);if(!C)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,pa(da)).setEntity(x);break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,T).setEntity(x);}C.unwrap(F.wrapKey,ub,Gb,{result:function(h){X(x,F,da,r,h);},error:function(h){n(ya,function(){h instanceof D&&h.setEntity(x);throw h;});}});},na);},error:ya.error});},na);}});}());(function(){var w,x,r,I;function l(l,G,x,r,C){n(C,function(){var v,Z;switch(G){case w.PSK:v=new pb(r),Z=l.getEntityAuthenticationFactory(Oa.PSK);if(!Z)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,G);v=Z.getCryptoContext(l,v);return new I(ma);case w.MGK:v=new jb(r);Z=l.getEntityAuthenticationFactory(Oa.MGK);if(!Z)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,G);v=Z.getCryptoContext(l,v);return new I(ma);case w.WRAP:v=l.getMslCryptoContext();v.unwrap(x,ub,Gb,{result:function(h){n(C,function(){return new I(h);});},error:C.error});break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,G);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=Hc=ic.extend({init:function G(h,n){G.base.call(this,ib.JWK_LADDER);switch(h){case w.WRAP:if(!n)throw new ga("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function Ca(h){return h===this?!0:h instanceof Hc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&Za(this.wrapdata,h.wrapdata):!1;},uniqueKey:function Z(){var h;h=Z.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+db(this.wrapdata));return h;}});r=ae=jc.extend({init:function Da(h,n,l,w,x){Da.base.call(this,h,ib.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:x,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function wa(h){return this===h?!0:h instanceof ae?wa.base.call(this,h)&&Za(this.wrapKey,h.wrapKey)&&Za(this.wrapdata,h.wrapdata)&&Za(this.encryptionKey,h.encryptionKey)&&Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function X(){return X.base.call(this)+":"+db(this.wrapKey)+":"+db(this.wrapdata)+":"+db(this.encryptionKey)+":"+db(this.hmacKey);}});I=Zb.extend({init:function(h){h&&h.rawKey&&(h=h.rawKey);Object.defineProperties(this,{_wrapKey:{value:h,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new P(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new P(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,w){n(w,function(){Ia.wrapKey("jwk",l.rawKey,this._wrapKey,ub).then(function(h){w.result(h);},function(n){w.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,w,x,r){function F(l){n(r,function(){switch(l.type){case"secret":Wb(l,r);break;case"public":Mb(l,r);break;case"private":Xb(l,r);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(r,function(){Ia.unwrapKey("jwk",l,this._wrapKey,ub,w,!1,x).then(function(h){F(h);},function(n){r.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new P(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,w){w.error(new P(h.VERIFY_NOT_SUPPORTED));}});md=kb.extend({init:function na(h){na.base.call(this,ib.JWK_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,I){n(I,function(){var n,l,F;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{F=xa(l);}catch(ua){throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==F||0==F.length)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:F=null;}return new x(n,F);});},createResponseData:function(n,l,w){var x,F,I,C,T,na,la;n=w.wrapkey;x=w.wrapdata;F=w.encryptionkey;I=w.hmackey;if(!(n&&"string"===typeof n&&x&&"string"===typeof x&&F&&"string"===typeof F&&I)||"string"!==typeof I)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{C=xa(n);T=xa(x);}catch(sb){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),sb);}try{na=xa(F);}catch(sb){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),sb);}try{la=xa(I);}catch(sb){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),sb);}return new r(l,C,T,na,la);},generateResponse:function(w,F,C,H){var ta,la;function T(h,l,x){ta.generateSessionKeys(w,{result:function(w){n(H,function(){na(h,l,x,w.encryptionKey,w.hmacKey);},ta);},error:function(h){n(H,function(){h instanceof D&&h.setEntity(la);throw h;});}});}function na(h,x,r,C,I){n(H,function(){l(w,F.mechanism,F.wrapdata,h,{result:function(g){g.wrap(x,{result:function(f){ya(x,r,C,I,f);},error:function(f){n(H,function(){f instanceof D&&f.setEntity(la);throw f;});}});},error:function(g){n(H,function(){g instanceof D&&g.setEntity(la);throw g;});}});},ta);}function ya(h,l,w,x,r){n(H,function(){var g;g=new I(h);g.wrap(w,{result:function(f){g.wrap(x,{result:function(a){Na(l,r,w,f,x,a);},error:function(a){n(H,function(){a instanceof D&&a.setEntity(la);throw a;});}});},error:function(f){n(H,function(){f instanceof D&&f.setEntity(la);throw f;});}});},ta);}function Na(h,l,x,F,I,g){n(H,function(){var f;f=w.getTokenFactory();la?f.renewMasterToken(w,la,x,I,{result:function(a){n(H,function(){var b,d;b=new fb(w,a);d=new r(a,l,h,F,g);return new kb.KeyExchangeData(d,b,H);},ta);},error:function(a){n(H,function(){a instanceof D&&a.setEntity(la);throw a;});}}):f.createMasterToken(w,C,x,I,{result:function(a){n(H,function(){var b,d;b=new fb(w,a);d=new r(a,l,h,F,g);return new kb.KeyExchangeData(d,b,H);},ta);},error:H.error});},ta);}ta=this;n(H,function(){var l,r;if(!(F instanceof x))throw new ga("Key request data "+JSON.stringify(F)+" was not created by this factory.");l=C;if(C instanceof eb){if(!C.isVerified())throw new Pb(h.MASTERTOKEN_UNTRUSTED,C);la=C;l=C.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);vb(r,ub,Gb,{result:function(h){n(H,function(){w.getMslCryptoContext().wrap(h,{result:function(n){T(l,h,n);},error:function(h){n(H,function(){h instanceof D&&h.setEntity(la);throw h;},ta);}});},ta);},error:function(l){n(H,function(){throw new P(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(la);},ta);}});},ta);},getCryptoContext:function(l,F,C,H,da){var na;function T(h,w,x,r,F){n(da,function(){var la;la=new I(F);la.unwrap(w.encryptionKey,nb,Fb,{result:function(F){la.unwrap(w.hmacKey,ob,Qb,{result:function(h){n(da,function(){this.repository.addCryptoContext(w.wrapdata,la);this.repository.removeCryptoContext(x);return new fb(l,w.masterToken,r,F,h);},na);},error:function(l){n(da,function(){l instanceof D&&l.setEntity(h);throw l;});}});},error:function(l){n(da,function(){l instanceof D&&l.setEntity(h);throw l;});}});},na);}na=this;n(da,function(){var H,ya;if(!(F instanceof x))throw new ga("Key request data "+JSON.stringify(F)+" was not created by this factory.");if(!(C instanceof r))throw new ga("Key response data "+JSON.stringify(C)+" was not created by this factory.");H=F.mechanism;ya=F.wrapdata;l.getEntityAuthenticationData(null,{result:function(x){n(da,function(){var r,F,la;r=x.getIdentity();switch(H){case w.PSK:F=new pb(r);la=l.getEntityAuthenticationFactory(Oa.PSK);if(!la)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);F=la.getCryptoContext(l,F);F=new I(F.wrapKey);break;case w.MGK:F=new jb(r);la=l.getEntityAuthenticationFactory(Oa.MGK);if(!la)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);F=la.getCryptoContext(l,F);F=new I(F.wrapKey);break;case w.WRAP:F=this.repository.getCryptoContext(ya);if(!F)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,pa(ya)).setEntity(x);break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);}F.unwrap(C.wrapKey,ub,Gb,{result:function(h){T(x,C,ya,r,h);},error:function(h){n(da,function(){h instanceof D&&h.setEntity(x);throw h;});}});},na);},error:da.error});},na);}});}());af=qa.Class.create({addCryptoContext:function(h,l){},getCryptoContext:function(h){},removeCryptoContext:function(h){}});(function(){var w,x,r,I;function l(l,n,x,r,C){switch(x){case w.JWE_RSA:case w.JWEJS_RSA:return new xb(l,yb.RSA_OAEP,rb,r,C);case w.JWK_RSA:return new Bc(l,n,r,C,Cc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new Bc(l,n,r,C,Cc.WRAP_UNWRAP_PKCS1);default:throw new P(h.UNSUPPORTED_KEYX_MECHANISM,x);}}w=Ic={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};x=Xc=ic.extend({init:function G(h,l,n,w){G.base.call(this,ib.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:h,writable:!1,configurable:!1},mechanism:{value:l,writable:!1,configurable:!1},publicKey:{value:n,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.mechanism=this.mechanism;h.publickey=pa(this.publicKey.getEncoded());return h;},equals:function Ca(h){var l;if(h===this)return!0;if(!(h instanceof Xc))return!1;l=this.privateKey===h.privateKey||this.privateKey&&h.privateKey&&Za(this.privateKey.getEncoded(),h.privateKey.getEncoded());return Ca.base.call(this,h)&&this.keyPairId==h.keyPairId&&this.mechanism==h.mechanism&&Za(this.publicKey.getEncoded(),h.publicKey.getEncoded())&&l;},uniqueKey:function Z(){var h,l;h=this.publicKey.getEncoded();l=this.privateKey&&this.privateKey.getEncoded();h=Z.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+db(h);l&&(h+=":"+db(l));return h;}});r=function(l,r){n(r,function(){var n,C,I,F;n=l.keypairid;C=l.mechanism;I=l.publickey;if(!n||"string"!==typeof n||!C||!I||"string"!==typeof I)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(l));if(!w[C])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,C);try{F=xa(I);switch(C){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:bd(F,zc,Gb,{result:function(h){r.result(new x(n,C,h,null));},error:function(h){r.error(h);}});break;case w.JWK_RSAES:bd(F,$c,Gb,{result:function(h){r.result(new x(n,C,h,null));},error:function(h){r.error(h);}});break;default:throw new P(h.UNSUPPORTED_KEYX_MECHANISM,C);}}catch(T){if(!(T instanceof D))throw new P(h.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(l),T);throw T;}});};I=be=jc.extend({init:function Da(h,l,n,w){Da.base.call(this,h,ib.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function wa(h){return this===h?!0:h instanceof be?wa.base.call(this,h)&&this.keyPairId==h.keyPairId&&Za(this.encryptionKey,h.encryptionKey)&&Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function X(){return X.base.call(this)+":"+this.keyPairId+":"+db(this.encryptionKey)+":"+db(this.hmacKey);}});Hd=kb.extend({init:function na(){na.base.call(this,ib.ASYMMETRIC_WRAPPED);},createRequestData:function(h,l,n){r(l,n);},createResponseData:function(l,n,w){var x,r,F,C;l=w.keypairid;x=w.encryptionkey;r=w.hmackey;if(!l||"string"!==typeof l||!x||"string"!==typeof x||!r||"string"!==typeof r)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{F=xa(x);}catch(Na){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Na);}try{C=xa(r);}catch(Na){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Na);}return new I(n,l,F,C);},generateResponse:function(h,w,r,C){var T;function F(x,F){n(C,function(){var la;la=l(h,w.keyPairId,w.mechanism,null,w.publicKey);la.wrap(x,{result:function(h){n(C,function(){la.wrap(F,{result:function(l){H(x,h,F,l);},error:function(h){n(C,function(){h instanceof D&&r instanceof eb&&h.setEntity(r);throw h;},T);}});},T);},error:function(h){n(C,function(){h instanceof D&&r instanceof eb&&h.setEntity(r);throw h;},T);}});},T);}function H(l,x,F,H){n(C,function(){var la;la=h.getTokenFactory();r instanceof eb?la.renewMasterToken(h,r,l,F,{result:function(l){n(C,function(){var n,r;n=new fb(h,l);r=new I(l,w.keyPairId,x,H);return new kb.KeyExchangeData(r,n,C);},T);},error:function(h){n(C,function(){h instanceof D&&h.setEntity(r);throw h;},T);}}):la.createMasterToken(h,r,l,F,{result:function(l){n(C,function(){var n,r;n=new fb(h,l);r=new I(l,w.keyPairId,x,H);return new kb.KeyExchangeData(r,n,C);},T);},error:C.error});},T);}T=this;n(C,function(){if(!(w instanceof x))throw new ga("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(h,{result:function(h){F(h.encryptionKey,h.hmacKey);},error:function(h){n(C,function(){h instanceof D&&r instanceof eb&&h.setEntity(r);throw h;},T);}});},T);},getCryptoContext:function(w,r,C,H,da){var F;F=this;n(da,function(){var T,na,aa;if(!(r instanceof x))throw new ga("Key request data "+JSON.stringify(r)+" was not created by this factory.");if(!(C instanceof I))throw new ga("Key response data "+JSON.stringify(C)+" was not created by this factory.");T=r.keyPairId;na=C.keyPairId;if(T!=na)throw new Pa(h.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+T+"; response "+na).setEntity(H);na=r.privateKey;if(!na)throw new Pa(h.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(H);aa=l(w,T,r.mechanism,na,null);aa.unwrap(C.encryptionKey,nb,Fb,{result:function(h){aa.unwrap(C.hmacKey,ob,Qb,{result:function(l){w.getEntityAuthenticationData(null,{result:function(x){n(da,function(){var n;n=x.getIdentity();return new fb(w,C.masterToken,n,h,l);},F);},error:function(h){n(da,function(){h instanceof D&&h.setEntity(H);throw h;},F);}});},error:function(h){n(da,function(){h instanceof D&&h.setEntity(H);throw h;},F);}});},error:function(h){n(da,function(){h instanceof D&&h.setEntity(H);throw h;},F);}});},F);}});}());$e=qa.Class.create({init:function(h){var l,n,r,I,v,G,H,Z;l=$a.parser();n=[];r=[];H=0;Z=!1;l.onerror=function(h){Z||(Z=!0,l.end());};l.onopenobject=function(h){var l;if(I)I[G]={},r.push(I),I=I[G];else if(v){l={};r.push(v);v.push(l);I=l;v=ma;}else I={};G=h;};l.oncloseobject=function(){var h;h=r.pop();h?"object"===typeof h?I=h:(I=ma,v=h):(n.push(I),H=l.index,I=ma);};l.onopenarray=function(){var h;if(I)I[G]=[],r.push(I),v=I[G],I=ma;else if(v){h=[];r.push(v);v.push(h);v=h;}else v=[];};l.onclosearray=function(){var h;h=r.pop();h?"object"===typeof h?(I=h,v=ma):v=h:(n.push(v),H=l.index,v=ma);};l.onkey=function(h){G=h;};l.onvalue=function(h){I?I[G]=h:v?v.push(h):(n.push(h),H=l.index);};l.write(h).close();Object.defineProperties(this,{_values:{value:n,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:H,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?ma:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var l,w,r,C,I;l=nd="entityauthdata";w=de="mastertoken";r=ee="headerdata";C=fe="errordata";I=od="signature";ce=function(v,G,x,Z){n(Z,function(){var n,H,X,na,F,T;n=G[l];H=G[w];X=G[I];if(n&&"object"!==typeof n||H&&"object"!==typeof H||"string"!==typeof X)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(G));try{na=xa(X);}catch(ya){throw new Ga(h.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(G),ya);}F=null;n&&(F=Qd(v,n));T=G[r];if(T!=ma&&null!=T){if("string"!==typeof T)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(G));H?Rb(v,H,{result:function(h){pd(v,T,F,h,na,x,Z);},error:function(h){Z.error(h);}}):pd(v,T,F,null,na,x,Z);}else if(n=G[C],n!=ma&&null!=n){if("string"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(G));ge(v,n,F,na,Z);}else throw new ia(h.JSON_PARSE_ERROR,JSON.stringify(G));});};}());(function(){function r(h,l){this.errordata=h;this.signature=l;}Lb=qa.Class.create({init:function(l,r,C,I,v,G,H,Z,Da,wa){var w;w=this;n(wa,function(){var x,F;0>G&&(G=-1);if(0>I||I>La)throw new ga("Message ID "+I+" is out of range.");if(!r)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);if(Da)return Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:C,writable:!1,configurable:!1},messageId:{value:I,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:G,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:Z,writable:!1,configurable:!1},errordata:{value:Da.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da.signature,writable:!1,enumerable:!1,configurable:!1}}),this;x={};C&&(x.recipient=C);x.messageid=I;x.errorcode=v;0<G&&(x.internalcode=G);H&&(x.errormsg=H);Z&&(x.usermsg=Z);try{F=l.getEntityAuthenticationFactory(r.scheme).getCryptoContext(l,r);}catch(T){throw T instanceof D&&(T.setEntity(r),T.setMessageId(I)),T;}x=Ta(JSON.stringify(x),Ka);F.encrypt(x,{result:function(h){n(wa,function(){F.sign(h,{result:function(l){n(wa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:C,writable:!1,configurable:!1},messageId:{value:I,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:G,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:Z,writable:!1,configurable:!1},errordata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(wa,function(){h instanceof D&&(h.setEntity(r),h.setMessageId(I));throw h;},w);}});},w);},error:function(h){n(wa,function(){h instanceof D&&(h.setEntity(r),h.setMessageId(I));throw h;},w);}});},w);},toJSON:function(){var h;h={};h[nd]=this.entityAuthenticationData;h[fe]=pa(this.errordata);h[od]=pa(this.signature);return h;}});he=function(h,l,n,r,v,G,H,Z,Da){new Lb(h,l,n,r,v,G,H,Z,null,Da);};ge=function(w,x,C,I,v){n(v,function(){var G,H,Z;if(!C)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);try{H=C.scheme;Z=w.getEntityAuthenticationFactory(H);if(!Z)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,H);G=Z.getCryptoContext(w,C);}catch(Da){throw Da instanceof D&&Da.setEntity(C),Da;}try{x=xa(x);}catch(Da){throw new Ga(h.HEADER_DATA_INVALID,x,Da).setEntity(C);}if(!x||0==x.length)throw new Ga(h.HEADER_DATA_MISSING,x).setEntity(C);G.verify(x,I,{result:function(H){n(v,function(){if(!H)throw new P(h.MESSAGE_VERIFICATION_FAILED).setEntity(C);G.decrypt(x,{result:function(G){n(v,function(){var n,H,F,Z,Da,da,aa,Ca;n=Va(G,Ka);try{H=JSON.parse(n);}catch(ta){if(ta instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"errordata "+n,ta).setEntity(C);throw ta;}F=H.recipient!==ma?H.recipient:null;Z=parseInt(H.messageid);Da=parseInt(H.errorcode);da=parseInt(H.internalcode);aa=H.errormsg;Ca=H.usermsg;if(F&&"string"!==typeof F||!Z||Z!=Z||!Da||Da!=Da||H.internalcode&&da!=da||aa&&"string"!==typeof aa||Ca&&"string"!==typeof Ca)throw new ia(h.JSON_PARSE_ERROR,"errordata "+n).setEntity(C);if(0>Z||Z>La)throw new Ga(h.MESSAGE_ID_OUT_OF_RANGE,"errordata "+n).setEntity(C);H=!1;for(var D in l)if(l[D]==Da){H=!0;break;}H||(Da=l.FAIL);if(da){if(0>da)throw new Ga(h.INTERNAL_CODE_NEGATIVE,"errordata "+n).setEntity(C).setMessageId(Z);}else da=-1;n=new r(x,I);new Lb(w,C,F,Z,Da,da,aa,Ca,n,v);});},error:function(h){n(v,function(){h instanceof D&&h.setEntity(C);throw h;});}});});},error:function(h){n(v,function(){h instanceof D&&h.setEntity(C);throw h;});}});});};}());bf=qa.Class.create({getUserMessage:function(h,l){}});(function(){qd=function(h,l){var n,w;if(!h||!l)return null;n=h.compressionAlgorithms.filter(function(h){for(var n=0;n<l.compressionAlgorithms.length;++n)if(h==l.compressionAlgorithms[n])return!0;return!1;});w=h.languages.filter(function(h){for(var n=0;n<l.languages.length;++n)if(h==l.languages[n])return!0;return!1;});return new kc(n,w);};kc=qa.Class.create({init:function(h,l){h||(h=[]);l||(l=[]);h.sort();Object.defineProperties(this,{compressionAlgorithms:{value:h,writable:!1,enumerable:!0,configurable:!1},languages:{value:l,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var h;h={};h.compressionalgos=this.compressionAlgorithms;h.languages=this.languages;return h;},equals:function(h){return this===h?!0:h instanceof kc?Ad(this.compressionAlgorithms,h.compressionAlgorithms)&&Ad(this.languages,h.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ie=function(l){var n,r,I;n=l.compressionalgos;r=l.languages;if(n&&!(n instanceof Array)||r&&!(r instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(l));l=[];for(var C=0;n&&C<n.length;++C){I=n[C];Nb[I]&&l.push(I);}return new kc(l,r);};}());(function(){var wa,X;function l(h,l,n,v,w){this.customer=h;this.sender=l;this.messageCryptoContext=n;this.headerdata=v;this.signature=w;}function w(h,l,n,v,w,r,G,x,C,la,I,Z,H,oa,X,g,f,a,b,d){return{cryptoContext:{value:l,writable:!1,configurable:!1},customer:{value:n,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:r,writable:!1,configurable:!1},messageId:{value:G,writable:!1,configurable:!1},nonReplayableId:{value:g,writable:!1,configurable:!1},keyRequestData:{value:x,writable:!1,configurable:!1},keyResponseData:{value:C,writable:!1,configurable:!1},userAuthenticationData:{value:la,writable:!1,configurable:!1},userIdToken:{value:I,writable:!1,configurable:!1},serviceTokens:{value:Z,writable:!1,configurable:!1},peerMasterToken:{value:H,writable:!1,configurable:!1},peerUserIdToken:{value:oa,writable:!1,configurable:!1},peerServiceTokens:{value:X,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:f,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:d,writable:!1,enumerable:!1,configurable:!1}};}function r(l,n,v){var w;if(v){if(n=l.getMslStore().getCryptoContext(v))return n;if(!v.isVerified()||!v.isDecrypted())throw new Pb(h.MASTERTOKEN_UNTRUSTED,v);return new fb(l,v);}v=n.scheme;w=l.getEntityAuthenticationFactory(v);if(!w)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(l,n);}function C(l,v,w,r,G){n(G,function(){v.verify(w,r,{result:function(l){n(G,function(){if(!l)throw new P(h.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(h){n(G,function(){return Va(h,Ka);});},error:function(h){G.error(h);}});});},error:function(h){G.error(h);}});});}function I(h,l,v){n(v,function(){if(l)Yd(h,l,v);else return null;});}function v(h,l,v,w){n(w,function(){if(l)Sb(h,l,v,w);else return null;});}function G(h,l,v,w){n(w,function(){if(v)me(h,l,v,w);else return null;});}function Ca(l,v,w,r,G,x,C){var I;function F(v,C,Z){var la,H;if(C>=v.length){la=[];for(H in I)la.push(I[H]);Z.result(la);}else{la=v[C];if("object"!==typeof la)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+x);Jc(l,la,w,r,G,{result:function(h){n(Z,function(){I[h.uniqueKey()]=h;F(v,C+1,Z);});},error:function(h){Z.error(h);}});}}I={};n(C,function(){if(v){if(!(v instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+x);F(v,0,C);}else return[];});}function Z(l,v,w,r,G,x){function F(l,v,w){n(w,function(){var n;n=v.peermastertoken;if(n&&"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+G);if(!n)return null;Rb(l,n,w);});}function C(l,v,w,r){n(r,function(){var n;n=v.peeruseridtoken;if(n&&"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+G);if(!n)return null;Sb(l,n,w,r);});}n(x,function(){if(!l.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};F(l,v,{result:function(h){n(x,function(){var F;F=w?w.masterToken:h;C(l,v,F,{result:function(w){n(x,function(){Ca(l,v.peerservicetokens,F,w,r,G,{result:function(l){n(x,function(){return{peerMasterToken:h,peerUserIdToken:w,peerServiceTokens:l};});},error:function(h){n(x,function(){h instanceof D&&(h.setEntity(F),h.setUser(w));throw h;});}});});},error:function(h){n(x,function(){h instanceof D&&h.setEntity(F);throw h;});}});});},error:x.error});});}function Da(l,v,w,r){var x;function G(h,v){n(r,function(){if(v>=h.length)return x;Xd(l,h[v],{result:function(l){n(r,function(){x.push(l);G(h,v+1);});},error:function(h){r.error(h);}});});}x=[];n(r,function(){var l;l=v.keyrequestdata;if(!l)return x;if(!(l instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+w);G(l,0);});}wa=ke=qa.Class.create({init:function(h,l,n,v,w,r,G,x,C){Object.defineProperties(this,{messageId:{value:h,writable:!1,configurable:!1},nonReplayableId:{value:l,writable:!1,configurable:!1},renewable:{value:n,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:r,writable:!1,configurable:!1},userAuthData:{value:G,writable:!1,configurable:!1},userIdToken:{value:x,writable:!1,configurable:!1},serviceTokens:{value:C,writable:!1,configurable:!1}});}});X=le=qa.Class.create({init:function(h,l,n){Object.defineProperties(this,{peerMasterToken:{value:h,writable:!1,configurable:!1},peerUserIdToken:{value:l,writable:!1,configurable:!1},peerServiceTokens:{value:n,writable:!1,configurable:!1}});}});lc=qa.Class.create({init:function(h,l,v,G,x,C,I){var Z;function F(F){n(I,function(){var la,H,X,oa,da,g,f,a,b,d,t,m,c,k,q,p,u;l=v?null:l;la=G.nonReplayableId;H=G.renewable;X=G.capabilities;oa=G.messageId;da=G.keyRequestData?G.keyRequestData:[];g=G.keyResponseData;f=G.userAuthData;a=G.userIdToken;b=G.serviceTokens?G.serviceTokens:[];h.isPeerToPeer()?(d=x.peerMasterToken,t=x.peerUserIdToken,m=x.peerServiceTokens?x.peerServiceTokens:[]):(t=d=null,m=[]);if(0>oa||oa>La)throw new ga("Message ID "+oa+" is out of range.");if(!l&&!v)throw new ga("Message entity authentication data or master token must be provided.");g?h.isPeerToPeer()?(c=v,k=g.masterToken):(c=g.masterToken,k=d):(c=v,k=d);if(a&&(!c||!a.isBoundTo(c)))throw new ga("User ID token must be bound to a master token.");if(t&&(!k||!t.isBoundTo(k)))throw new ga("Peer user ID token must be bound to a peer master token.");b.forEach(function(b){if(b.isMasterTokenBound()&&(!c||!b.isBoundTo(c)))throw new ga("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound()&&(!a||!b.isBoundTo(a)))throw new ga("User ID token bound service tokens must be bound to the provided user ID token.");},this);m.forEach(function(a){if(a.isMasterTokenBound()&&(!k||!a.isBoundTo(k)))throw new ga("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!t||!a.isBoundTo(t)))throw new ga("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(C){q=C.customer;p=C.messageCryptoContext;u=w(h,p,q,l,v,F,oa,da,g,f,a,b,d,t,m,la,H,X,C.headerdata,C.signature);Object.defineProperties(this,u);return this;}q=a?a.customer:null;u={};F&&(u.sender=F);u.messageid=oa;"number"===typeof la&&(u.nonreplayableid=la);u.renewable=H;X&&(u.capabilities=X);0<da.length&&(u.keyrequestdata=da);g&&(u.keyresponsedata=g);f&&(u.userauthdata=f);a&&(u.useridtoken=a);0<b.length&&(u.servicetokens=b);d&&(u.peermastertoken=d);t&&(u.peeruseridtoken=t);0<m.length&&(u.peerservicetokens=m);try{p=r(h,l,v);}catch(z){throw z instanceof D&&(z.setEntity(v),z.setEntity(l),z.setUser(a),z.setUser(f),z.setMessageId(oa)),z;}u=Ta(JSON.stringify(u),Ka);p.encrypt(u,{result:function(c){n(I,function(){p.sign(c,{result:function(k){n(I,function(){var u;u=w(h,p,q,l,v,F,oa,da,g,f,a,b,d,t,m,la,H,X,c,k);Object.defineProperties(this,u);return this;},Z);},error:function(c){n(I,function(){c instanceof D&&(c.setEntity(v),c.setEntity(l),c.setUser(a),c.setUser(f),c.setMessageId(oa));throw c;},Z);}});},Z);},error:function(c){n(I,function(){c instanceof D&&(c.setEntity(v),c.setEntity(l),c.setUser(a),c.setUser(f),c.setMessageId(oa));throw c;},Z);}});},Z);}Z=this;n(I,function(){C?F(C.sender):v?h.getEntityAuthenticationData(null,{result:function(h){h=h.getIdentity();F(h);},error:I.error}):F(null);},Z);},isEncrypting:function(){return this.masterToken||Uc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var h;h={};this.masterToken?h[de]=this.masterToken:h[nd]=this.entityAuthenticationData;h[ee]=pa(this.headerdata);h[od]=pa(this.signature);return h;}});je=function(h,l,n,v,w,G){new lc(h,l,n,v,w,null,G);};pd=function(w,x,H,ya,da,aa,ua){n(ua,function(){var F,T;H=ya?null:H;if(!H&&!ya)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);F=x;try{x=xa(F);}catch(la){throw new Ga(h.HEADER_DATA_INVALID,F,la);}if(!x||0==x.length)throw new Ga(h.HEADER_DATA_MISSING,F);try{T=r(w,H,ya);}catch(la){throw la instanceof D&&(la.setEntity(ya),la.setEntity(H)),la;}C(w,T,x,da,{result:function(r){n(ua,function(){var C,F,la,oa,na;try{C=JSON.parse(r);}catch(g){if(g instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r,g).setEntity(ya).setEntity(H);throw g;}F=parseInt(C.messageid);if(!F||F!=F)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(H);if(0>F||F>La)throw new Ga(h.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+r).setEntity(ya).setEntity(H);la=ya?C.sender:null;if(ya&&(!la||"string"!==typeof la))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(H).setMessageId(F);oa=C.keyresponsedata;if(oa&&"object"!==typeof oa)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(H).setMessageId(F);na=ua;ua={result:function(g){na.result(g);},error:function(g){g instanceof D&&(g.setEntity(ya),g.setEntity(H),g.setMessageId(F));na.error(g);}};I(w,oa,{result:function(g){n(ua,function(){var f,a;f=!w.isPeerToPeer()&&g?g.masterToken:ya;a=C.useridtoken;if(a&&"object"!==typeof a)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r);v(w,a,f,{result:function(a){n(ua,function(){var b;b=C.userauthdata;if(b&&"object"!==typeof b)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r);G(w,f,b,{result:function(b){n(ua,function(){var d,c,k;if(b){c=b.scheme;k=w.getUserAuthenticationFactory(c);if(!k)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,c).setUser(a).setUser(b);c=ya?ya.identity:H.getIdentity();d=k.authenticate(w,c,b,a);}else d=a?a.customer:null;Ca(w,C.servicetokens,f,a,aa,r,{result:function(c){n(ua,function(){var k,q,f,m;k=C.nonreplayableid!==ma?parseInt(C.nonreplayableid):null;q=C.renewable;if(k!=k||"boolean"!==typeof q)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r);if(0>k||k>La)throw new Ga(h.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+r);f=null;m=C.capabilities;if(m){if("object"!==typeof m)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r);f=ie(m);}Da(w,C,r,{result:function(p){Z(w,C,g,aa,r,{result:function(u){n(ua,function(){var m,z,t,y;m=u.peerMasterToken;z=u.peerUserIdToken;t=u.peerServiceTokens;y=new wa(F,k,q,f,p,g,b,a,c);m=new X(m,z,t);z=new l(d,la,T,x,da);new lc(w,H,ya,y,m,z,ua);});},error:ua.error});},error:function(c){n(ua,function(){c instanceof D&&(c.setUser(a),c.setUser(b));throw c;});}});});},error:function(c){n(ua,function(){c instanceof D&&(c.setEntity(f),c.setUser(a),c.setUser(b));throw c;});}});});},error:ua.error});});},error:ua.error});});},error:ua.error});});},error:ua.error});});};}());(function(){function l(h,l){this.payload=h;this.signature=l;}rd=qa.Class.create({init:function(h,l,r,I,v,G,H,Z){var w;w=this;n(Z,function(){var x,C;if(0>h||h>La)throw new ga("Sequence number "+h+" is outside the valid range.");if(0>l||l>La)throw new ga("Message ID "+l+" is outside the valid range.");if(H)return Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:I,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:H.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:H.signature,writable:!1,enumerable:!1,configurable:!1}}),this;I?(x=sd(I,v),x||(I=null,x=v)):(I=null,x=v);C={};C.sequencenumber=h;C.messageid=l;r&&(C.endofmsg=r);I&&(C.compressionalgo=I);C.data=pa(x);x=Ta(JSON.stringify(C),Ka);G.encrypt(x,{result:function(x){n(Z,function(){G.sign(x,{result:function(G){n(Z,function(){Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:I,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:x,writable:!1,enumerable:!1,configurable:!1},signature:{value:G,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){Z.error(h);}});},w);},error:function(h){Z.error(h);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var h;h={};h.payload=pa(this.payload);h.signature=pa(this.signature);return h;}});ne=function(h,l,n,r,v,G,H){new rd(h,l,n,r,v,G,null,H);};oe=function(w,r,C){n(C,function(){var x,v,G,H;x=w.payload;v=w.signature;if(!x||"string"!==typeof x||"string"!==typeof v)throw new ia(h.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{G=xa(x);}catch(Z){throw new Ga(h.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),Z);}try{H=xa(v);}catch(Z){throw new Ga(h.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),Z);}r.verify(G,H,{result:function(v){n(C,function(){if(!v)throw new P(h.PAYLOAD_VERIFICATION_FAILED);r.decrypt(G,{result:function(v){n(C,function(){var n,w,x,F,I,Z,da;n=Va(v,Ka);try{w=JSON.parse(n);}catch(aa){if(aa instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"payload chunk payload "+n,aa);throw aa;}x=parseInt(w.sequencenumber);F=parseInt(w.messageid);I=w.endofmsg;Z=w.compressionalgo;w=w.data;if(!x||x!=x||!F||F!=F||I&&"boolean"!==typeof I||Z&&"string"!==typeof Z||"string"!==typeof w)throw new ia(h.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>x||x>La)throw new D(h.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>F||F>La)throw new D(h.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);I||(I=!1);if(Z&&!Nb[Z])throw new Ga(h.UNIDENTIFIED_COMPRESSION,Z);try{da=xa(w);}catch(aa){throw new Ga(h.PAYLOAD_DATA_CORRUPT,w,aa);}if(da&&0!=da.length)n=Z?Kc(Z,da):da;else{if(0<w.length)throw new Ga(h.PAYLOAD_DATA_CORRUPT,w);if(I)n=new Uint8Array(0);else throw new Ga(h.PAYLOAD_DATA_MISSING,w);}da=new l(G,H);new rd(x,F,I,Z,n,r,da,C);});},error:function(h){C.error(h);}});});},error:function(h){C.error(h);}});});};}());(function(){var C,I;function l(l,w,r,x,C){var G,I,F,Z,H;function v(){n(C,function(){var r,x;I>=w.length&&(I=0,++G);if(G>=F.length){if(Z)throw Z;throw new Pa(h.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}r=F[G];x=w[I];r.scheme!=x.keyExchangeScheme?(++I,v()):r.generateResponse(l,x,H,{result:function(h){C.result(h);},error:function(h){n(C,function(){if(!(h instanceof D))throw h;Z=h;++I;v();});}});});}G=0;I=0;F=l.getKeyExchangeFactories();H=r?r:x;v();}function w(h,w,r,x,C){n(C,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)x?x.isRenewable()||x.isExpired()?l(h,v,x,null,C):h.getTokenFactory().isNewestMasterToken(h,x,{result:function(w){n(C,function(){if(w)return null;l(h,v,x,null,C);});},error:C.error}):l(h,v,null,r.getIdentity(),C);else return null;});}function r(l,w,r,x){n(x,function(){var n,v,G,C;n=w.userIdToken;v=w.userAuthenticationData;G=w.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&w.isRenewable()||n.isExpired()||!n.isBoundTo(r)){v=l.getTokenFactory();v.renewUserIdToken(l,n,r,x);return;}}else if(w.isRenewable()&&r&&v){n=w.customer;if(!n){n=v.scheme;C=l.getUserAuthenticationFactory(n);if(!C)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(r).setUser(v).setMessageId(G);n=C.authenticate(l,r.identity,v,null);}v=l.getTokenFactory();v.createUserIdToken(l,n,r,x);return;}return n;});}C=new Uint8Array(0);I=Tb=function(h){if(0>h||h>La)throw new ga("Message ID "+h+" is outside the valid range.");return h==La?0:h+1;};ac=function(h){if(0>h||h>La)throw new ga("Message ID "+h+" is outside the valid range.");return 0==h?La:h-1;};Ub=function(h,l,w,r,x){n(x,function(){var v;if(r==ma||null==r){v=h.getRandom();do r=v.nextLong();while(0>r||r>La);}else if(0>r||r>La)throw new ga("Message ID "+r+" is outside the valid range.");h.getEntityAuthenticationData(null,{result:function(v){n(x,function(){var n;n=h.getMessageCapabilities();return new Lc(h,r,n,v,l,w,null,null,null,null,null);});},error:function(h){x.error(h);}});});};pe=function(h,l,x){n(x,function(){var G,C,H,Ca,F,T;function v(h){n(x,function(){h instanceof D&&(h.setEntity(G),h.setEntity(C),h.setUser(H),h.setUser(Ca),h.setMessageId(F));throw h;});}G=l.masterToken;C=l.entityAuthenticationData;H=l.userIdToken;Ca=l.userAuthenticationData;F=l.messageId;T=I(F);w(h,l,C,G,{result:function(w){n(x,function(){var C;C=w?w.keyResponseData.masterToken:C=G;h.getEntityAuthenticationData(null,{result:function(F){n(x,function(){r(h,l,C,{result:function(v){n(x,function(){var n,r,x;H=v;n=qd(l.messageCapabilities,h.getMessageCapabilities());r=l.keyResponseData;x=l.serviceTokens;return h.isPeerToPeer()?new Lc(h,T,n,F,r?r.masterToken:l.peerMasterToken,l.peerUserIdToken,l.peerServiceTokens,G,H,x,w):new Lc(h,T,n,F,r?r.masterToken:G,H,x,null,null,null,w);});},error:v});});},error:v});});},error:v});});};qe=function(h,l,w,r,x){n(x,function(){h.getEntityAuthenticationData(null,{result:function(v){n(x,function(){var n,G;if(l!=ma&&null!=l)n=I(l);else{G=h.getRandom();do n=G.nextInt();while(0>n||n>La);}he(h,v,n,w.responseCode,w.internalCode,w.message,r,x);});},error:function(h){x.error(h);}});});};Lc=qa.Class.create({init:function(h,l,n,w,r,x,C,I,F,H,D){var v,G,Z,X,T;if(!h.isPeerToPeer()&&(I||F))throw new ga("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=D&&!h.isPeerToPeer()?D.keyResponseData.masterToken:r;G={};h.getMslStore().getServiceTokens(v,x).forEach(function(h){G[h.name]=h;},this);C&&C.forEach(function(h){G[h.name]=h;},this);T={};h.isPeerToPeer()&&(Z=I,X=F,C=D?D.keyResponseData.masterToken:I,h.getMslStore().getServiceTokens(C,F).forEach(function(h){T[h.name]=h;},this),H&&H.forEach(function(h){T[h.name]=h;},this));Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:l,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:D,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:x,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:G,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Z,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:X,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:T,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Uc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Uc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||Bd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Bd(this._entityAuthData.scheme);},getHeader:function(l){n(l,function(){var n,v,w,r,x;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);r=[];for(x in this._keyRequestData)r.push(this._keyRequestData[x]);if(this._nonReplayable){if(!this._masterToken)throw new Ga(h.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);x=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else x=null;n=new ke(this._messageId,x,this._renewable,this._capabilities,r,n,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new le(this._peerMasterToken,this._peerUserIdToken,v);je(this._ctx,this._entityAuthData,this._masterToken,n,w,l);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(h){this._nonReplayable=h;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(h){this._renewable=h;return this;},setAuthTokens:function(h,l){var n,v,w;if(l&&!l.isBoundTo(h))throw new ga("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new ga("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{n=this._ctx.getMslStore().getServiceTokens(h,l);}catch(wa){if(wa instanceof D)throw new ga("Invalid master token and user ID token combination despite checking above.",wa);throw wa;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(n){(n.isUserIdTokenBound()&&!n.isBoundTo(l)||n.isMasterTokenBound()&&!n.isBoundTo(h))&&delete this._serviceTokens[n.name];},this);n.forEach(function(h){this._serviceTokens[h.name]=h;},this);this._masterToken=h;this._userIdToken=l;},setUserAuthenticationData:function(h){this._userAuthData=h;return this;},setCustomer:function(h,l){var v;v=this;n(l,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new ga("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new ga("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,h,w,{result:function(h){n(l,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=h:(this._userIdToken=h,this._userAuthData=null);return!0;},v);},error:function(h){l.error(h);}});},v);},addKeyRequestData:function(h){this._keyRequestData[h.uniqueKey()]=h;return this;},removeKeyRequestData:function(h){delete this._keyRequestData[h.uniqueKey()];return this;},addServiceToken:function(l){var n;n=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(l.isMasterTokenBound()&&!l.isBoundTo(n))throw new Ga(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(n)).setEntity(n);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._userIdToken))throw new Ga(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(n).setUser(this._userIdToken);this._serviceTokens[l.name]=l;return this;},addServiceTokenIfAbsent:function(h){this._serviceTokens[h.name]||this.addServiceToken(h);return this;},excludeServiceToken:function(h){delete this._serviceTokens[h];return this;},deleteServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._serviceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;zb(this._ctx,h,C,r,w,!1,null,new $b(),{result:function(h){n(l,function(){return this.addServiceToken(h);},v);},error:function(h){h instanceof D&&(h=new ga("Failed to create and add empty service token to message.",h));l.error(h);}});},v);},getServiceTokens:function(){var h,l;h=[];for(l in this._serviceTokens)h.push(this._serviceTokens[l]);return h;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(l,n){var v;if(!this._ctx.isPeerToPeer())throw new ga("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(n&&!l)throw new ga("Peer master token cannot be null when setting peer user ID token.");if(n&&!n.isBoundTo(l))throw new Ga(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+n+"; mt "+l).setEntity(l).setUser(n);try{v=this._ctx.getMslStore().getServiceTokens(l,n);}catch(Z){if(Z instanceof D)throw new ga("Invalid peer master token and user ID token combination despite proper check.",Z);throw Z;}Object.keys(this._peerServiceTokens).forEach(function(h){var v;v=this._peerServiceTokens[h];v.isUserIdTokenBound()&&!v.isBoundTo(n)?delete this._peerServiceTokens[h]:v.isMasterTokenBound()&&!v.isBoundTo(l)&&delete this._peerServiceTokens[h];},this);v.forEach(function(h){var l;l=h.name;this._peerServiceTokens[l]||(this._peerServiceTokens[l]=h);},this);this._peerUserIdToken=n;this._peerMasterToken=l;return this;},addPeerServiceToken:function(l){if(!this._ctx.isPeerToPeer())throw new ga("Cannot set peer service tokens when not in peer-to-peer mode.");if(l.isMasterTokenBound()&&!l.isBoundTo(this._peerMasterToken))throw new Ga(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._peerUserIdToken))throw new Ga(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[l.name]=l;return this;},addPeerServiceTokenIfAbsent:function(h){this._peerServiceTokens[h.name]||this.addPeerServiceToken(h);return this;},excludePeerServiceToken:function(h){delete this._peerServiceTokens[h];return this;},deletePeerServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._peerServiceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;zb(this._ctx,h,C,r,w,!1,null,new $b(),{result:function(h){n(l,function(){return this.addPeerServiceToken(h);},v);},error:function(h){h instanceof D&&(h=new ga("Failed to create and add empty peer service token to message.",h));l.error(h);}});},v);},getPeerServiceTokens:function(){var h,l;h=[];for(l in this._peerServiceTokens)h.push(this._peerServiceTokens[l]);return h;}});}());(function(){function h(h,l){return l[h]?l[h]:l[""];}function l(h){var l;l=h.builder.getKeyExchangeData();return l&&!h.ctx.isPeerToPeer()?l.keyResponseData.masterToken:h.builder.getMasterToken();}re=qa.Class.create({init:function(h,l,n){h={ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:l.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:n,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},isPrimaryMasterTokenAvailable:function(){return l(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(h){try{return this.builder.addServiceToken(h),!0;}catch(C){if(C instanceof Ga)return!1;throw C;}},addPeerServiceToken:function(h){try{return this.builder.addPeerServiceToken(h),!0;}catch(C){if(C instanceof Ga)return!1;throw C;}},addUnboundPrimaryServiceToken:function(l,w,r,v,G){var x;x=this;n(G,function(){var C;C=h(l,this.cryptoContexts);if(!C)return!1;zb(this.ctx,l,w,null,null,r,v,C,{result:function(h){n(G,function(){try{this.builder.addServiceToken(h);}catch(wa){if(wa instanceof Ga)throw new ga("Service token bound to incorrect authentication tokens despite being unbound.",wa);throw wa;}return!0;},x);},error:function(h){G.error(h);}});},x);},addUnboundPeerServiceToken:function(l,w,r,v,G){var x;x=this;n(G,function(){var C;C=h(l,this.cryptoContexts);if(!C)return!1;zb(this.ctx,l,w,null,null,r,v,C,{result:function(h){n(G,function(){try{this.builder.addPeerServiceToken(h);}catch(wa){if(wa instanceof Ga)throw new ga("Service token bound to incorrect authentication tokens despite being unbound.",wa);throw wa;}return!0;},x);},error:function(h){G.error(h);}});},x);},addMasterBoundPrimaryServiceToken:function(w,r,I,v,G){var x;x=this;n(G,function(){var C,H;C=l(this);if(!C)return!1;H=h(w,this.cryptoContexts);if(!H)return!1;zb(this.ctx,w,r,C,null,I,v,H,{result:function(h){n(G,function(){try{this.builder.addServiceToken(h);}catch(X){if(X instanceof Ga)throw new ga("Service token bound to incorrect authentication tokens despite setting correct master token.",X);throw X;}return!0;},x);},error:function(h){G.error(h);}});},x);},addMasterBoundPeerServiceToken:function(l,w,r,v,G){var x;x=this;n(G,function(){var C,I;C=this.builder.getPeerMasterToken();if(!C)return!1;I=h(l,this.cryptoContexts);if(!I)return!1;zb(this.ctx,l,w,C,null,r,v,I,{result:function(h){n(G,function(){try{this.builder.addPeerServiceToken(h);}catch(X){if(X instanceof Ga)throw new ga("Service token bound to incorrect authentication tokens despite setting correct master token.",X);throw X;}return!0;},x);},error:function(h){G.error(h);}});},x);},addUserBoundPrimaryServiceToken:function(w,r,I,v,G){var x;x=this;n(G,function(){var C,H,D;C=l(this);if(!C)return!1;H=this.builder.getUserIdToken();if(!H)return!1;D=h(w,this.cryptoContexts);if(!D)return!1;zb(this.ctx,w,r,C,H,I,v,D,{result:function(h){n(G,function(){try{this.builder.addServiceToken(h);}catch(na){if(na instanceof Ga)throw new ga("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return!0;},x);},error:function(h){G.error(h);}});},x);},addUserBoundPeerServiceToken:function(l,w,r,v,G){var x;x=this;n(G,function(){var C,I,H;C=this.builder.getPeerMasterToken();if(!C)return!1;I=this.builder.getPeerUserIdToken();if(!I)return!1;H=h(l,this.cryptoContexts);if(!H)return!1;zb(this.ctx,l,w,C,I,r,v,H,{result:function(h){n(G,function(){try{this.builder.addPeerServiceToken(h);}catch(na){if(na instanceof Ga)throw new ga("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return!0;},x);},error:function(h){G.error(h);}});},x);},excludePrimaryServiceToken:function(h){for(var l=this.builder.getServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludeServiceToken(h),!0;return!1;},excludePeerServiceToken:function(h){for(var l=this.builder.getPeerServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludePeerServiceToken(h),!0;return!1;},deletePrimaryServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deleteServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);},deletePeerServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getPeerServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deletePeerServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);}});}());(function(){function l(l,r,C,I){n(I,function(){var w,x,H,Da,J,X;function v(){n(I,function(){var r;if(X>=C.length){if(J)throw J;throw new Pa(h.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(C));}r=C[X];H!=r.keyExchangeScheme?(++X,v()):Da.getCryptoContext(l,r,x,w,{result:I.result,error:function(h){n(I,function(){if(!(h instanceof D))throw h;J=h;++X;v();});}});});}w=r.masterToken;x=r.keyResponseData;if(!x)return null;H=x.keyExchangeScheme;Da=l.getKeyExchangeFactory(H);if(!Da)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,H);X=0;v();});}se=jd.extend({init:function(n,x,C,I,v,G,H){var w;w=this;r(H,function(){var T;function r(){w._ready=!0;w._readyQueue.add(!0);}function H(h,l){var n;try{n=l.masterToken;h.getTokenFactory().isMasterTokenRevoked(h,n,{result:function(v){v?(w._errored=new Pb(v,n).setUser(l.userIdToken).setUser(l.userAuthenticationData).setMessageId(l.messageId),r()):Z(h,l);},error:function(h){h instanceof D&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}});}catch(ua){ua instanceof D&&(ua.setEntity(l.masterToken),ua.setUser(l.userIdToken),ua.setUser(l.userAuthenticationData),ua.setMessageId(l.messageId));w._errored=ua;r();}}function Z(h,l){var n,v;try{n=l.masterToken;v=l.userIdToken;v?h.getTokenFactory().isUserIdTokenRevoked(h,n,v,{result:function(x){x?(w._errored=new MslUserIdTokenException(x,v).setEntity(n).setUser(v).setMessageId(l.messageId),r()):na(h,l);},error:function(h){h instanceof D&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}}):na(h,l);}catch(Na){Na instanceof D&&(Na.setEntity(l.masterToken),Na.setUser(l.userIdToken),Na.setUser(l.userAuthenticationData),Na.setMessageId(l.messageId));w._errored=Na;r();}}function na(l,n){var v;try{v=n.masterToken;v.isExpired()?n.isRenewable()&&0!=n.keyRequestData.length?l.getTokenFactory().isMasterTokenRenewable(l,v,{result:function(h){h?(w._errored=new Ga(h,"Master token is expired and not renewable.").setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):F(l,n);},error:function(h){h instanceof D&&(h.setEntity(n.masterToken),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ga(h.MESSAGE_EXPIRED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):F(l,n);}catch(ua){ua instanceof D&&(ua.setEntity(n.masterToken),ua.setUser(n.userIdToken),ua.setUser(n.userAuthenticationData),ua.setMessageId(n.messageId));w._errored=ua;r();}}function F(l,n){var v,x;try{v=n.masterToken;x=n.nonReplayableId;"number"===typeof x?v?l.getTokenFactory().acceptNonReplayableId(l,v,x,{result:function(l){l||(w._errored=new Ga(h.MESSAGE_REPLAYED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId));r();},error:function(h){h instanceof D&&(h.setEntity(v),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ga(h.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(n)).setEntity(n.entityAuthenticationData).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):r();}catch(Na){Na instanceof D&&(Na.setEntity(n.masterToken),Na.setEntity(n.entityAuthenticationData),Na.setUser(n.userIdToken),Na.setUser(n.userAuthenticationData),Na.setMessageId(n.messageId));w._errored=Na;r();}}T={_source:{value:x,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ma,writable:!0,enumerable:!1,configurable:!1},_charset:{value:C,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:G,writable:!1,enumerable:!1,configurable:!1},_header:{value:ma,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ma,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ma,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);Wd(w._source,G,{result:function(x){w._json=x;w._jsonIndex=0;null===w._json?(w._errored=new ia(h.MESSAGE_DATA_MISSING),r()):ce(n,w._json[w._jsonIndex++],v,{result:function(h){var v;w._header=h;if(w._header instanceof Lb)w._keyxCryptoContext=null,w._cryptoContext=null,r();else{v=w._header;l(n,v,I,{result:function(h){var l;try{w._keyxCryptoContext=h;n.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{l=v.masterToken;l&&(n.isPeerToPeer()||l.isVerified())?H(n,v):F(n,v);}catch(ta){ta instanceof D&&(ta.setEntity(v.masterToken),ta.setUser(v.userIdToken),ta.setUser(v.userAuthenticationData),ta.setMessageId(v.messageId));w._errored=ta;r();}}catch(ta){ta instanceof D&&(ta.setEntity(v.masterToken),ta.setEntity(v.entityAuthenticationData),ta.setUser(v.userIdToken),ta.setUser(v.userAuthenticationData),ta.setMessageId(v.messageId));w._errored=ta;r();}},error:function(h){h instanceof D&&(h.setEntity(v.masterToken),h.setEntity(v.entityAuthenticationData),h.setUser(v.userIdToken),h.setUser(v.userAuthenticationData),h.setMessageId(v.messageId));w._errored=h;r();}});}},error:function(h){w._errored=h;r();}});},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},nextData:function(l,n){var w;w=this;r(n,function(){var v;function l(h){r(h,function(){var n;if(this._jsonIndex<this._json.length)return n=this._json[this._jsonIndex++];Wd(this._source,this._timeout,{result:function(n){n&&n.length&&0<n.length?(n.forEach(function(h){this._json.push(h);}),l(h)):(this._eom=!0,h.result(null));},timeout:function(){h.timeout();},error:function(l){h.error(l);}});},w);}v=this.getMessageHeader();if(!v)throw new ga("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;l({result:function(l){r(n,function(){if(!l)return null;if("object"!==typeof l)throw new ia(h.MESSAGE_FORMAT_ERROR);oe(l,this._cryptoContext,{result:function(l){r(n,function(){var n,w,r,x;n=v.masterToken;w=v.entityAuthenticationData;r=v.userIdToken;x=v.getUserAuthenticationData;if(l.messageId!=v.messageId)throw new Ga(h.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+l.messageId+" header mid "+v.messageId).setEntity(n).setEntity(w).setUser(r).setUser(x);if(l.sequenceNumber!=this._payloadSequenceNumber)throw new Ga(h.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+l.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(n).setEntity(w).setUser(r).setUser(x);++this._payloadSequenceNumber;l.isEndOfMessage()&&(this._eom=!0);n=l.data;this._payloads.push(n);this._payloadIndex=-1;return n;},w);},error:function(l){l instanceof SyntaxError&&(l=new ia(h.JSON_PARSE_ERROR,"payloadchunk",l));n.error(l);}});},w);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},w);},isReady:function(h,l){var w;function n(){r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){r(l,function(){if(h===ma)return!1;n();},w);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},getMessageHeader:function(){return this._header instanceof lc?this._header:null;},getErrorHeader:function(){return this._header instanceof Lb?this._header:null;},getIdentity:function(){var h,l;h=this.getMessageHeader();if(h){l=h.masterToken;return l?l.identity:h.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var h;h=this.getMessageHeader();return h?h.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(h){this._closeSource=h;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(h,l,n){var v;function w(){r(n,function(){var x,C,H,I;function w(n){r(n,function(){var x,G,T;if(C&&I>=C.length)return C.subarray(0,I);x=-1;if(this._currentPayload){G=this._currentPayload.length-this._payloadOffset;if(!C){T=G;if(-1!=this._payloadIndex)for(var X=this._payloadIndex;X<this._payloads.length;++X)T+=this._payloads[X].length;0<T&&(C=new Uint8Array(T));}G=Math.min(G,C?C.length-I:0);0<G&&(x=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+G),C.set(x,H),x=G,H+=G,this._payloadOffset+=G);}-1!=x?(I+=x,w(n)):this.nextData(l,{result:function(l){r(n,function(){if(this._aborted)return C?C.subarray(0,I):new Uint8Array(0);this._currentPayload=l;this._payloadOffset=0;if(this._currentPayload)w(n);else return 0==I&&0!=h?null:C?C.subarray(0,I):new Uint8Array(0);},v);},timeout:function(){n.timeout(C?C.subarray(0,I):new Uint8Array(0));},error:function(h){r(n,function(){h instanceof D&&(h=new Wa("Error reading the payload chunk.",h));if(0<I)return v._readException=h,C.subarray(0,I);throw h;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)n.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){x=this._readException;this._readException=null;throw x;}C=-1!=h?new Uint8Array(h):ma;H=0;I=0;w(n);}},v);}v=this;r(n,function(){if(-1>h)throw new RangeError("read requested with illegal length "+h);this._ready?w():this._readyQueue.poll(l,{result:function(h){h===ma?n.result(!1):w();},timeout:function(){n.timeout(new Uint8Array(0));},error:function(h){n.error(h);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});te=function(h,l,n,r,v,G,H){new se(h,l,n,r,v,G,H);};}());(function(){ue=Gc.extend({init:function(h,l,n,C,I,v,G){var w;w=this;r(G,function(){var x,G,H;function r(){w._ready=!0;w._readyQueue.add(!0);}x=qd(h.getMessageCapabilities(),C.messageCapabilities);G=null;x&&(G=Kd(x.compressionAlgorithms));x={_destination:{value:l,writable:!1,enumerable:!1,configurable:!1},_charset:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:x,writable:!1,enumerable:!1,configurable:!1},_header:{value:C,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:G,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:I,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,x);H=Ta(JSON.stringify(C),n);l.write(H,0,H.length,v,{result:function(h){try{w._aborted?r():h<H.length?(w._timedout=!0,r()):l.flush(v,{result:function(h){w._aborted||(w._timedout=!h);r();},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});}catch(F){w._errored=F;r();}},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},setCompressionAlgorithm:function(h,l,n){var x;function w(){x.flush(l,{result:function(l){r(n,function(){if(!l)throw new Wa("flush() aborted");this._compressionAlgo=h;return!0;},x);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});}x=this;r(n,function(){if(!this.getMessageHeader())throw new ga("Cannot write payload data for an error message.");if(this._compressionAlgo==h)return!0;if(h){if(!this._capabilities)return!1;for(var l=this._capabilities.compressionAlgorithms,n=0;n<l.length;++n)if(l[n]==h){w();return;}return!1;}w();},x);},getMessageHeader:function(){return this._header instanceof lc?this._header:null;},getErrorMessage:function(){return this._header instanceof Lb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(h,l){var n;n=this;r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(h,{result:function(h){r(l,function(){h&&(this._currentPayload=null);return h;},n);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},n);},flush:function(h,l){var w;function n(){r(l,function(){var n,v,J;if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;n=this.getMessageHeader();if(!n)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(h){v+=h.length;});for(var x=new Uint8Array(v),C=0,H=0;this._currentPayload&&H<this._currentPayload.length;++H){J=this._currentPayload[H];x.set(J,C);C+=J.length;}ne(this._payloadSequenceNumber,n.messageId,this._closed,this._compressionAlgo,x,this._cryptoContext,{result:function(n){r(l,function(){var v;this._payloads.push(n);v=Ta(JSON.stringify(n),this._charset);this._destination.write(v,0,v.length,h,{result:function(v){r(l,function(){if(this._aborted)return!1;v<n.length?l.timeout():this._destination.flush(h,{result:function(h){r(l,function(){if(this._aborted)return!1;if(h)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;l.timeout();},w);},timeout:function(){l.timeout();},error:function(h){h instanceof D&&(h=new Wa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},timeout:function(h){l.timeout();},error:function(h){h instanceof D&&(h=new Wa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},error:function(h){h instanceof D&&(h=new Wa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){h===ma?l.result(!1):n();},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},write:function(h,l,n,C,I){r(I,function(){var v;if(this._aborted)return!1;if(this._timedout)I.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Wa("Message output stream already closed.");if(0>l)throw new RangeError("Offset cannot be negative.");if(0>n)throw new RangeError("Length cannot be negative.");if(l+n>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ga("Cannot write payload data for an error message.");v=h.subarray(l,l+n);this._currentPayload.push(v);return v.length;}},this);}});Mc=function(h,l,n,r,I,v,G){new ue(h,l,n,r,I,v,G);};}());cf=qa.Class.create({sentHeader:function(h){},receivedHeader:function(h){}});Object.freeze({USERDATA_REAUTH:l.USERDATA_REAUTH,SSOTOKEN_REJECTED:l.SSOTOKEN_REJECTED});ve=qa.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(h,l,n,r){},getCustomer:function(){},getKeyRequestData:function(h){},updateServiceTokens:function(h,l,n){},write:function(h,l,n){},getDebugContext:function(){}});qa.Class.create({getInputStream:function(h){},getOutputStream:function(h){}});(function(){var J,Z,Da,wa,X,na,F,T,ya,da,aa,ua;function H(h){return function(){h.abort();};}function w(h,l){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},ticket:{value:l,writable:!1,configurable:!1}});}function x(h,l){Object.defineProperties(this,{builder:{value:h,writable:!1,configurable:!1},msgCtx:{value:l,writable:!1,configurable:!1}});}function C(h,l,n){Object.defineProperties(this,{requestHeader:{value:h,writable:!1,configurable:!1},payloads:{value:l,writable:!1,configurable:!1},handshake:{value:n,writable:!1,configurable:!1}});}function I(h,l){Object.defineProperties(this,{requestHeader:{value:l.requestHeader,writable:!1,configurable:!1},payloads:{value:l.payloads,writable:!1,configurable:!1},handshake:{value:l.handshake,writable:!1,configurable:!1},response:{value:h,writable:!1,configurable:!1}});}function v(h){for(;h;){if(h instanceof ab)return!0;h=h instanceof D?h.cause:ma;}return!1;}function G(h,l,n,v,w,x,G,C,g){qe(l,v,w,x,{result:function(f){n&&n.sentHeader(f);Mc(l,G,Ka,f,null,null,C,{result:function(a){h.setAbort(function(){a.abort();});a.close(C,{result:function(a){r(g,function(){if(!a)throw new ab("sendError aborted.");return a;});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){},error:function(a){g.error(a);}});},error:function(f){g.error(f);}});}J=Gc.extend({close:function(h,l){l.result(!0);},write:function(h,l,v,w,r){n(r,function(){return Math.min(h.length-l,v);});},flush:function(h,l){l.result(!0);}});Z=bf.extend({getUserMessage:function(h,l){return null;}});Da=ve.extend({init:function(h){Object.defineProperties(this,{_appCtx:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(h,l,n,v){this._appCtx.getUserAuthData(h,l,n,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(h){this._appCtx.getKeyRequestData(h);},updateServiceTokens:function(h,l,n){this._appCtx.updateServiceTokens(h,l,n);},write:function(h,l,n){this._appCtx.write(h,l,n);},getDebugContext:function(){return this._appCtx.getDebugContext();}});wa=Da.extend({init:function ta(h,l){ta.base.call(this,l);Object.defineProperties(this,{_payloads:{value:h,writable:!1,enumerable:!1,configurable:!1}});},write:function(h,l,n){var w;function v(x,G){var g;if(x==w._payloads.length)n.result(!0);else{g=w._payloads[x];h.setCompressionAlgorithm(g.compressionAlgo,l,{result:function(f){h.write(g.data,0,g.data.length,l,{result:function(a){r(n,function(){g.isEndOfMessage()?v(x+1,G):h.flush(l,{result:function(a){n.result(a);},timeout:function(){n.timeout();},error:function(a){n.error(a);}});},w);},timeout:function(a){n.timeout(a);},error:function(a){n.error(a);}});},timeout:function(){},error:function(f){n.error(f);}});}}w=this;v(0);}});X=Da.extend({init:function la(h){la.base.call(this,h);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(h,l,n){n.result(!0);}});na={};aa=qa.Class.create({init:function(h){h||(h=new Z());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:h,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(h){this._filterFactory=h;},getNewestMasterToken:function(h,l,n,v){var x;x=this;r(v,function(){var G,g,f,a,b;G=l.getMslStore();g=G.getMasterToken();if(!g)return null;f=g.uniqueKey();a=this._masterTokenLocks[f];a||(a=new Zc(),this._masterTokenLocks[f]=a);b=a.readLock(n,{result:function(b){r(v,function(){var d;if(b===ma)throw new ab("getNewestMasterToken aborted.");d=G.getMasterToken();if(g.equals(d))return new w(g,b);a.unlock(b);a.writeLock(n,{result:function(b){r(v,function(){if(b===ma)throw new ab("getNewestMasterToken aborted.");delete this._masterTokenLocks[f];a.unlock(b);return this.getNewestMasterToken(h,l,n,v);},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});h.setAbort(function(){b&&(a.cancel(b),b=ma);});},x);},deleteMasterToken:function(h,l){var n;if(l){n=this;setTimeout(function(){var v,w;v=l.uniqueKey();w=n._masterTokenLocks[v];w||(w=new Zc(),n._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(r){h.getMslStore().removeCryptoContext(l);delete n._masterTokenLocks[v];w.unlock(r);},timeout:function(){throw new ga("Unexpected timeout received.");},error:function(h){throw h;}});},0);}},releaseMasterToken:function(h){var l;if(h&&h.masterToken){l=h.masterToken.uniqueKey();l=this._masterTokenLocks[l];if(!l)throw new ga("Master token read/write lock does not exist when it should.");l.unlock(h.ticket);}},updateOutgoingCryptoContexts:function(h,l,n){var v;v=h.getMslStore();!h.isPeerToPeer()&&n&&(v.setCryptoContext(n.keyResponseData.masterToken,n.cryptoContext),this.deleteMasterToken(h,l.masterToken));},updateIncomingCryptoContexts:function(h,l,n){var v,w;v=n.getMessageHeader();if(v){w=h.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,n.getKeyExchangeCryptoContext()),this.deleteMasterToken(h,l.masterToken);}},storeServiceTokens:function(h,l,n,v){var g,f;h=h.getMslStore();for(var w=[],r=0;r<v.length;++r){g=v[r];if(!g.isBoundTo(l)||!l.isVerified()){f=g.data;f&&0==f.length?h.removeServiceTokens(g.name,g.isMasterTokenBound()?l:null,g.isUserIdTokenBound()?n:null):w.push(g);}}0<w.length&&h.addServiceTokens(w);},buildRequest:function(h,l,v,w,r){var x;x=this;this.getNewestMasterToken(h,l,w,{result:function(g){n(r,function(){var f,a,b;f=g&&g.masterToken;if(f){a=v.getUserId();b=l.getMslStore();a=(a=a?b.getUserIdToken(a):null)&&a.isBoundTo(f)?a:null;}else a=null;Ub(l,f,a,null,{result:function(a){n(r,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:g};});},error:function(a){n(r,function(){this.releaseMasterToken(g);a instanceof D&&(a=new ga("User ID token not bound to master token despite internal check.",a));throw a;},x);}});},x);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},buildResponse:function(h,l,n,v,w,x){var g;g=this;pe(l,v,{result:function(f){r(x,function(){f.setNonReplayable(n.isNonReplayable());if(!l.isPeerToPeer()&&!v.keyResponseData)return{builder:f,tokenTicket:null};this.getNewestMasterToken(h,l,w,{result:function(a){r(x,function(){var b,d,t;b=a&&a.masterToken;if(b){d=n.getUserId();t=l.getMslStore();d=(d=d?t.getUserIdToken(d):null)&&d.isBoundTo(b)?d:null;}else d=null;f.setAuthTokens(b,d);return{builder:f,tokenTicket:a};},g);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},g);},error:function(f){x.error(f);}});},buildErrorResponse:function(h,n,v,w,G,C,g){var b;function f(a,f){r(g,function(){var d,c;d=Tb(G.messageId);c=new wa(f,v);Ub(n,null,null,d,{result:function(d){r(g,function(){n.isPeerToPeer()&&d.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);d.setNonReplayable(c.isNonReplayable());return{errorResult:new x(d,c),tokenTicket:null};},b);},error:function(a){g.error(a);}});},b);}function a(a,f){b.getNewestMasterToken(h,n,C,{result:function(d){r(g,function(){var c,k,q;c=d&&d.masterToken;k=Tb(G.messageId);q=new wa(f,v);Ub(n,c,null,k,{result:function(c){r(g,function(){n.isPeerToPeer()&&c.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);c.setNonReplayable(q.isNonReplayable());return{errorResult:new x(c,q),tokenTicket:d};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}b=this;r(g,function(){var d,t,m,c;d=w.requestHeader;t=w.payloads;m=G.errorCode;switch(m){case l.ENTITYDATA_REAUTH:case l.ENTITY_REAUTH:n.getEntityAuthenticationData(m,{result:function(a){r(g,function(){if(!a)return null;f(d,t);},b);},error:function(a){g.error(a);}});break;case l.USERDATA_REAUTH:case l.SSOTOKEN_REJECTED:v.getUserAuthData(m,!1,!0,{result:function(c){r(g,function(){if(!c)return null;a(d,t);},b);},error:function(a){g.error(a);}});break;case l.USER_REAUTH:a(d,t);break;case l.KEYX_REQUIRED:m=Tb(G.messageId),c=new wa(t,v);Ub(n,null,null,m,{result:function(a){r(g,function(){n.isPeerToPeer()&&a.setPeerAuthTokens(d.peerMasterToken,d.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(c.isNonReplayable());return{errorResult:new x(a,c),tokenTicket:null};},b);},error:function(a){g.error(a);}});break;case l.EXPIRED:this.getNewestMasterToken(h,n,C,{result:function(a){r(g,function(){var c,k,u,f;c=a&&a.masterToken;k=d.userIdToken;u=Tb(G.messageId);f=new wa(t,v);Ub(n,c,k,u,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(d.peerMasterToken,d.peerUserIdToken);d.masterToken.equals(c)&&k.setRenewable(!0);k.setNonReplayable(f.isNonReplayable());return{errorResult:new x(k,f),tokenTicket:a};},b);},error:function(a){g.error(a);}},b);},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;case l.REPLAYED:this.getNewestMasterToken(h,n,C,{result:function(a){r(g,function(){var c,k,u,f;c=a&&a.masterToken;k=d.userIdToken;u=Tb(G.messageId);f=new wa(t,v);Ub(n,c,k,u,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(d.peerMasterToken,d.peerUserIdToken);d.masterToken.equals(c)?(k.setRenewable(!0),k.setNonReplayable(!1)):k.setNonReplayable(f.isNonReplayable());return{errorResult:new x(k,f),tokenTicket:a};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;default:return null;}},b);},cleanupContext:function(h,n,v){switch(v.errorCode){case l.ENTITY_REAUTH:this.deleteMasterToken(h,n.masterToken);break;case l.USER_REAUTH:v=n.userIdToken,n.masterToken&&v&&h.getMslStore().removeUserIdToken(v);}},send:function(h,l,n,v,w,x,g){var m;function f(c,b,d){r(g,function(){var k;k=w.getPeerUserIdToken();!l.isPeerToPeer()&&!b||l.isPeerToPeer()&&!k?(k=n.getCustomer())?w.setCustomer(k,{result:function(k){r(g,function(){b=w.getUserIdToken();a(c,b,d);},m);},error:function(a){g.error(a);}}):a(c,b,d):a(c,b,d);},m);}function a(a,d,q){r(g,function(){var c,k;c=!q&&(!n.isEncrypted()||w.willEncryptPayloads())&&(!n.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!n.isNonReplayable()||w.isNonReplayable()&&a);c||w.setNonReplayable(!1);k=[];w.isRenewable()&&(!a||a.isRenewable()||n.isNonReplayable())?n.getKeyRequestData({result:function(q){r(g,function(){var u;for(var p=0;p<q.length;++p){u=q[p];k.push(u);w.addKeyRequestData(u);}b(a,d,c,k);},m);},error:function(a){g.error(a);}}):b(a,d,c,k);},m);}function b(a,b,q,p){r(g,function(){var c;c=new re(l,n,w);n.updateServiceTokens(c,!q,{result:function(c){w.getHeader({result:function(c){r(g,function(){var k,p;k=n.getDebugContext();k&&k.sentHeader(c);k=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(l,c,k);this.storeServiceTokens(l,a,b,c.serviceTokens);k=!l.isPeerToPeer()&&k?k.cryptoContext:c.cryptoContext;if(h.isAborted())throw new ab("send aborted.");p=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Mc(l,p,Ka,c,k,x,{result:function(a){h.setAbort(function(){a.abort();});d(a,c,q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},error:function(a){g.error(a);}});},m);}function d(a,b,d){var c,k;if(d)n.write(a,x,{result:function(c){r(g,function(){if(h.isAborted())throw new ab("MessageOutputStream write aborted.");t(a,b,d);},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});else{c=new J();k=new $b();Mc(l,c,Ka,b,k,x,{result:function(c){n.write(c,x,{result:function(k){r(g,function(){if(h.isAborted())throw new ab("MessageOutputStream proxy write aborted.");c.close(x,{result:function(k){r(g,function(){var q;if(!k)throw new ab("MessageOutputStream proxy close aborted.");q=c.getPayloads();t(a,b,d,q);},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}}function t(a,b,d,p){a.close(x,{result:function(c){r(g,function(){if(!c)throw new ab("MessageOutputStream close aborted.");p||(p=a.getPayloads());return new C(b,p,!d);},m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}m=this;r(g,function(){var a,b,d,p;a=w.getMasterToken();b=w.getUserIdToken();d=!1;if(n.getUserId()){p=!b;n.getUserAuthData(null,w.isRenewable(),p,{result:function(c){r(g,function(){c&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(c):d=!0);f(a,b,d);},m);},error:function(a){g.error(a);}});}else f(a,b,d);},m);},receive:function(n,v,w,x,G,C,g){var f;f=this;r(g,function(){var a,b,d;if(n.isAborted())throw new ab("receive aborted.");a=[];G&&(a=G.keyRequestData.filter(function(){return!0;}));b=w.getCryptoContexts();d=this._filterFactory?this._filterFactory.getInputStream(x):x;te(v,d,Ka,a,b,C,{result:function(a){n.setAbort(function(){a.abort();});a.isReady(C,{result:function(b){r(g,function(){var c,d,q,p;if(!b)throw new ab("MessageInputStream aborted.");c=a.getMessageHeader();d=a.getErrorHeader();q=w.getDebugContext();q&&q.receivedHeader(c?c:d);if(G&&(q=d?d.errorCode:null,c||q!=l.FAIL&&q!=l.TRANSIENT_FAILURE&&q!=l.ENTITY_REAUTH&&q!=l.ENTITYDATA_REAUTH)){q=c?c.messageId:d.messageId;p=Tb(G.messageId);if(q!=p)throw new Ga(h.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+p+"; received "+q);}v.getEntityAuthenticationData(null,{result:function(b){r(g,function(){var k,q,p,u;k=b.getIdentity();if(c){q=c.entityAuthenticationData;p=c.masterToken;q=p?c.sender:q.getIdentity();if(p&&p.isDecrypted()&&p.identity!=q||k==q)throw new Ga(h.UNEXPECTED_MESSAGE_SENDER,q);G&&this.updateIncomingCryptoContexts(v,G,a);k=c.keyResponseData;v.isPeerToPeer()?(k=k?k.masterToken:c.peerMasterToken,p=c.peerUserIdToken,q=c.peerServiceTokens):(k=k?k.masterToken:c.masterToken,p=c.userIdToken,q=c.serviceTokens);u=w.getUserId();u&&p&&!p.isVerified()&&v.getMslStore().addUserIdToken(u,p);this.storeServiceTokens(v,k,p,q);}else if(q=d.entityAuthenticationData.getIdentity(),k==q)throw new Ga(h.UNEXPECTED_MESSAGE_SENDER,q);return a;},f);},error:g.error});},f);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},f);},sendReceive:function(h,l,n,v,w,x,g,f,a){var d;function b(b,m){r(a,function(){x.setRenewable(m);this.send(h,l,n,w,x,g,{result:function(c){r(a,function(){var k;k=c.requestHeader.keyRequestData;f||c.handshake||!k.isEmpty()?this.receive(h,l,n,v,c.requestHeader,g,{result:function(k){r(a,function(){m&&this.releaseRenewalLock(l,b,k);return new I(k,c);},d);},timeout:function(){r(a,function(){m&&this.releaseRenewalLock(l,b,null);a.timeout();},d);},error:function(c){r(a,function(){m&&this.releaseRenewalLock(l,b,null);throw c;},d);}}):r(a,function(){m&&this.releaseRenewalLock(l,b,null);return new I(null,c);},d);},d);},timeout:function(){r(a,function(){m&&this.releaseRenewalLock(l,b,null);a.timeout();},d);},error:function(c){r(a,function(){m&&this.releaseRenewalLock(l,b,null);throw c;},d);}});},d);}d=this;r(a,function(){var d;d=new hc();this.acquireRenewalLock(h,l,n,d,x,g,{result:function(a){b(d,a);},timeout:function(){a.timeout();},error:function(b){b instanceof ab?a.result(null):a.error(b);}});},d);},acquireRenewalLock:function(h,l,n,v,w,x,g){var b;function f(d,t,m){r(g,function(){var q,p;if(h.isAborted())throw new ab("acquireRenewalLock aborted.");for(var c=null,k=0;k<this._renewingContexts.length;++k){q=this._renewingContexts[k];if(q.ctx===l){c=q.queue;break;}}if(!c)return this._renewingContexts.push({ctx:l,queue:v}),!0;p=c.poll(x,{result:function(k){r(g,function(){var b;if(k===ma)throw new ab("acquireRenewalLock aborted.");c.add(k);if(k===na||k.isExpired())f(k,t,m);else{if(m&&!t||t&&!t.isBoundTo(k)){b=l.getMslStore().getUserIdToken(m);t=b&&b.isBoundTo(k)?b:null;}w.setAuthTokens(k,t);w.isRenewable()&&k.equals(d)?f(k,t,m):n.isRequestingTokens()&&!t?f(k,t,m):a(k,t);}},b);},timeout:function(){},error:function(a){}});h.setAbort(function(){p&&(c.cancel(p),p=ma);});},b);}function a(a,f){r(g,function(){var d;if(h.isAborted())throw new ab("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!f&&n.getUserId()||f&&f.isRenewable()){for(var b=null,c=0;c<this._renewingContexts.length;++c){d=this._renewingContexts[c];if(d.ctx===l){b=d.queue;break;}}if(!b)return this._renewingContexts.push({ctx:l,queue:v}),!0;}return!1;},b);}b=this;r(g,function(){var b,t,m;b=w.getMasterToken();t=w.getUserIdToken();m=n.getUserId();n.isEncrypted()&&!w.willEncryptPayloads()||n.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!b&&n.isNonReplayable()||b&&b.isExpired()||!(t||!m||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||n.isRequestingTokens()&&(!b||m&&!t)?f(b,t,m):a(b,t);},b);},releaseRenewalLock:function(h,l,n){var g;for(var v,w,r=0;r<this._renewingContexts.length;++r){g=this._renewingContexts[r];if(g.ctx===h){v=r;w=g.queue;break;}}if(w!==l)throw new ga("Attempt to release renewal lock that is not owned by this queue.");n?(n=n.messageHeader)?(w=n.keyResponseData)?l.add(w.masterToken):(h=h.isPeerToPeer()?n.peerMasterToken:n.masterToken)?l.add(h):l.add(na):l.add(na):l.add(na);this._renewingContexts.splice(v,1);}});we=qa.Class.create({init:function(){var h;h={_impl:{value:new aa(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setFilterFactory:function(h){this._impl.setFilterFactory(h);},shutdown:function(){this._shutdown=!0;},receive:function(h,l,n,v,w,r){var g;if(this._shutdown)throw new D("MslControl is shutdown.");g=new F(this._impl,h,l,n,v,w);setTimeout(function(){g.call(r);},0);return H(g);},respond:function(h,l,n,v,w,r,g){var f;if(this._shutdown)throw new D("MslControl is shutdown.");f=new T(this._impl,h,l,n,v,w,r);setTimeout(function(){f.call(g);},0);return H(f);},error:function(h,l,n,v,w,r,g){var f;if(this._shutdown)throw new D("MslControl is shutdown.");f=new ya(this._impl,h,l,n,v,w,r);setTimeout(function(){f.call(g);},0);return H(f);},request:function(h,l){var n,v,w,r,g,f;if(this._shutdown)throw new D("MslControl is shutdown.");if(5==arguments.length){if(n=arguments[2],w=v=null,r=arguments[3],g=arguments[4],h.isPeerToPeer()){g.error(new ga("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(n=null,v=arguments[2],w=arguments[3],r=arguments[4],g=arguments[5],!h.isPeerToPeer())){g.error(new ga("This method cannot be used in trusted network mode."));return;}f=new da(this._impl,h,l,n,v,w,null,0,r);setTimeout(function(){f.call(g);},0);return H(f);}});F=qa.Class.create({init:function(h,l,n,v,w,r){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var C;function n(n){r(l,function(){var g;g=n.messageHeader;if(!g)return n;this.setAbort(function(){n.abort();});n.mark(Number.MAX_VALUE);n.read(1,C._timeout,{result:function(f){r(l,function(){if(f&&0==f.length)return null;if(f)return n.reset(),n;w(n);},C);},timeout:function(){l.timeout();},error:function(f){r(l,function(){var a,b,d;if(v(f))return null;a=g?g.messageId:null;f instanceof Wa?(b=h.MSL_COMMS_FAILURE,d=f):(b=h.INTERNAL_EXCEPTION,d=new ga("Error peeking into the message payloads."));G(this,this._ctx,this._msgCtx.getDebugContext(),a,b,null,this._output,this._timeout,{result:function(a){l.error(d);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new hb("Error peeking into the message payloads.",a,f);},C);}});},C);}});},C);}function w(n){r(l,function(){n.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,n.messageHeader,this._timeout,{result:function(g){r(l,function(){var f,a,b,d,t;f=g.builder;a=g.tokenTicket;b=n.messageHeader;d=new X(this._msgCtx);if(!this._ctx.isPeerToPeer()||b.isEncrypting()||b.keyResponseData)x(b,f,d,a);else{t=new da(this._ctrl,this._ctx,d,null,this._input,this._output,g,1,this._timeout);this.setAbort(function(){t.abort();});t.call(l);}},C);},timeout:function(){l.timeout();},error:function(g){r(l,function(){var f,a,b,d;if(v(g))return null;g instanceof D?(f=g.messageId,a=g.error,b=n.messageHeader.messageCapabilities,b=this._ctrl.messageRegistry.getUserMessage(a,b?b.languages:null),d=g):(f=requestHeader?requestHeader.messageId:null,a=h.INTERNAL_EXCEPTION,b=null,d=new ga("Error creating an automatic handshake response.",g));G(this,this._ctx,this._msgCtx.getDebugContext(),f,a,b,this._output,this._timeout,{result:function(a){l.error(d);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new hb("Error creating an automatic handshake response.",a,g);},C);}});},C);}});},C);}function x(n,g,f,a){r(l,function(){g.setRenewable(!1);this._ctrl.send(this._ctx,f,this._output,g,this._timeout,{result:function(b){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},C);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);l.timeout();},C);},error:function(b){r(l,function(){var d,f,m,c;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof D?(d=b.messageId,f=b.error,m=n?n.messageCapabilities:null,m=this._ctrl.messageRegistry.getUserMessage(f,m?m.languages:null),c=b):b instanceof Wa?(d=n?n.messageId:null,f=h.MSL_COMMS_FAILURE,m=null,c=b):(d=n?n.messageId:null,f=h.INTERNAL_EXCEPTION,m=null,c=new ga("Error sending an automatic handshake response.",b));G(this,this._ctx,this._msgCtx.getDebugContext(),d,f,m,this._output,this._timeout,{result:function(a){l.error(c);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new hb("Error sending an automatic handshake response.",a,b);},C);}});},C);}});},C);}C=this;r(l,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(h){n(h);},timeout:function(){l.timeout();},error:function(n){r(l,function(){var g,f,a,b;if(v(n))return null;n instanceof D?(g=n.messageId,f=n.error,a=this._ctrl.messageRegistry.getUserMessage(f,null),b=n):(g=null,f=h.INTERNAL_EXCEPTION,a=null,b=new ga("Error receiving the message header.",n));G(this,this._ctx,this._msgCtx.getDebugContext(),g,f,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new hb("Error receiving the message header.",a,n);},C);}});},C);}});},C);}});T=qa.Class.create({init:function(h,l,n,v,w,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},trustedNetworkExecute:function(l,n,w){var x;x=this;r(w,function(){var C,F;if(12<n+1)return!1;if(C=this._msgCtx.isIntegrityProtected()&&!l.willIntegrityProtectHeader()?h.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!l.willEncryptPayloads()?h.RESPONSE_REQUIRES_ENCRYPTION:null){F=ac(l.getMessageId());G(this,this._ctx,this._msgCtx.getDebugContext(),F,C,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new hb("Response requires encryption or integrity protection but cannot be protected: "+C,g,null);},x);}});}else!this._msgCtx.getCustomer()||l.getMasterToken()||l.getKeyExchangeData()?(l.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,l,this._timeout,{result:function(g){w.result(!0);},timeout:function(){w.timeout();},error:function(g){w.error(g);}})):(F=ac(l.getMessageId()),G(this,this._ctx,this._msgCtx.getDebugContext(),F,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new hb("Response wishes to attach a user ID token but there is no master token.",g,null);},x);}}));},x);},peerToPeerExecute:function(l,n,w,x){var F;function C(g){r(x,function(){var f;f=g.response;f.close();f=f.getErrorHeader();this._ctrl.cleanupContext(this._ctx,g.requestHeader,f);this._ctrl.buildErrorResponse(this,this._ctx,l,g,f,{result:function(a){r(x,function(){var b,d;if(!a)return!1;b=a.errorResult;d=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){r(x,function(){this._ctrl.releaseMasterToken(d);return a;},F);},timeout:function(){r(x,function(){this._ctrl.releaseMasterToken(d);x.timeout();},F);},error:function(a){r(x,function(){this._ctrl.releaseMasterToken(d);throw a;},F);}});},F);}});},F);}F=this;r(x,function(){var g;if(12<w+2)return!1;if(null!=l.getCustomer()&&null==n.getPeerMasterToken()&&null==n.getKeyExchangeData()){g=ac(n.getMessageId());G(this,this._ctx,l.getDebugContext(),g,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(f){x.result(!1);},timeout:function(){x.timeout();},error:function(f){r(x,function(){if(v(f))return!1;throw new hb("Response wishes to attach a user ID token but there is no master token.",f,null);},F);}});}else this._ctrl.sendReceive(this._ctx,l,this._input,this._output,n,this._timeout,!1,{result:function(f){r(x,function(){var d,t,m;function a(){d.read(32768,F._timeout,{result:function(c){r(x,function(){c?a():b();},F);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function b(){r(x,function(){var a;a=new wa(f.payloads,l);this._ctrl.buildResponse(this,this._ctx,a,t,this._timeout,{result:function(c){r(x,function(){var b;b=c.tokenTicket;this.peerToPeerExecute(a,c.builder,w,{result:function(a){r(x,function(){this._ctrl.releaseMasterToken(b);return a;},F);},timeout:function(){r(x,function(){this._ctrl.releaseMasterToken(b);x.timeout();},F);},error:function(a){r(x,function(){this._ctrl.releaseMasterToken(b);throw a;},F);}});},F);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},F);}d=f.response;w+=2;if(!d)return!0;t=d.getMessageHeader();if(t){m=f.payloads;m=0<m.length&&0<m[0].data.length;if(f.handshake&&m)a();else return!0;}else C(f);},F);},timeout:function(){x.timeout();},error:function(f){x.error(f);}});},F);},call:function(l){var n;n=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){r(l,function(){var x,C;x=w.builder;C=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,x,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);l.timeout();},n);},error:function(w){r(l,function(){var g,f,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);if(v(w))return!1;g=ac(x.getMessageId());w instanceof D?(f=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(f,a?a.languages:null),b=w):w instanceof Wa?(f=h.MSL_COMMS_FAILURE,a=null,b=w):(f=h.INTERNAL_EXCEPTION,a=null,b=new ga("Error sending the response.",w));G(this,this._ctx,this._msgCtx.getDebugContext(),g,f,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new hb("Error sending the response.",a,null);},n);}});},n);}}):this.trustedNetworkExecute(x,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);l.timeout();},n);},error:function(w){r(l,function(){var g,f,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);if(v(w))return!1;g=ac(x.getMessageId());w instanceof D?(f=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(f,a?a.languages:null),b=w):w instanceof Wa?(f=h.MSL_COMMS_FAILURE,a=null,b=w):(f=h.INTERNAL_EXCEPTION,a=null,b=new ga("Error sending the response.",w));G(this,this._ctx,this._msgCtx.getDebugContext(),g,f,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new hb("Error sending the response.",a,null);},n);}});},n);}});},n);},timeout:function(){l.timeout();},error:function(w){r(l,function(){var x,C,F,g;if(v(w))return!1;w instanceof D?(x=w.messageId,C=w.error,F=this._request.messageCapabilities,F=this._ctrl.messageRegistry.getUserMessage(C,F?F.languages:null),g=w):(x=null,C=h.INTERNAL_EXCEPTION,F=null,g=new ga("Error building the response.",w));G(this,this._ctx,this._msgCtx.getDebugContext(),x,C,F,this._output,this._timeout,{result:function(f){l.error(g);},timeout:function(){l.timeout();},error:function(f){r(l,function(){if(v(f))return null;throw new hb("Error building the response.",f,w);},n);}});},n);}});}});ya=qa.Class.create({init:function(h,l,n,w,v,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var n;n=this;r(l,function(){var w,x;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?h.MASTERTOKEN_REJECTED_BY_APP:h.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?h.USERIDTOKEN_REJECTED_BY_APP:h.USER_REJECTED_BY_APP;else throw new ga("Unhandled application error "+this._appError+".");x=this._request.messageCapabilities;x=this._ctrl.messageRegistry.getUserMessage(w,x?x.languages:null);G(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,x,this._output,this._timeout,{result:function(h){l.result(h);},timeout:l.timeout,error:function(h){r(l,function(){if(v(h))return!1;if(h instanceof D)throw h;throw new ga("Error building the error response.",h);},n);}});},n);}});ua={result:function(){},timeout:function(){},error:function(){}};da=qa.Class.create({init:function(h,l,n,w,v,r,g,f,a){var b;g?(b=g.builder,g=g.tokenTicket):g=b=null;Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:r,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:b,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:g,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:f,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ma,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},execute:function(h,l,n,w,v){var f;function x(a){function b(b){r(v,function(){var d;d=a.response;return b?b:d;},f);}r(v,function(){var d,t;d=a.response;d.close();t=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,t);this._ctrl.buildErrorResponse(this,this._ctx,h,a,t,n,{result:function(a){r(v,function(){var c,k,q,p;if(!a)return d;c=a.errorResult;k=a.tokenTicket;q=c.builder;c=c.msgCtx;if(this._ctx.isPeerToPeer())this.execute(c,q,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);b(a);},f);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},f);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);v.error(a);},f);}});else{this._openedStreams&&(this._input.close(),this._output.close(n,ua));p=new da(this._ctrl,this._ctx,c,this._remoteEntity,null,null,{builder:q,tokenTicket:k},w,this._timeout);this.setAbort(function(){p.abort();});p.call({result:function(a){b(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},f);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},f);}function g(a){r(v,function(){var t,m,c,k,q;function b(){t.read(32768,f._timeout,{result:function(a){a?b():d();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function d(){r(v,function(){var c;c=new wa(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,m,n,{result:function(a){r(v,function(){var b;b=a.tokenTicket;this.execute(c,a.builder,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);return a;},f);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(b);v.timeout();},f);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);throw a;},f);}});},f);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},f);}t=a.response;m=t.getMessageHeader();c=a.payloads;c=0<c.length&&0<c[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!c)return t;this._openedStreams&&(this._input.close(),this._output.close(n,ua));k=new wa(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,m,n,{result:function(a){r(v,function(){var c;c=new da(this._ctrl,this._ctx,k,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){c.abort();});c.call(v);},f);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&c)b();else if(0<m.keyRequestData.length){q=new X(h);this._ctrl.buildResponse(this,this._ctx,q,m,n,{result:function(a){r(v,function(){var c,b;c=a.builder;b=a.tokenTicket;t.mark();t.read(1,this._timeout,{result:function(a){r(v,function(){function d(){t.read(32768,f._timeout,{result:function(a){a?d():k();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function k(){f.execute(q,c,f._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);return a;},f);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(b);v.timeout();},f);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);throw a;},f);}});}if(a)if(t.reset(),12>=w+1)c.setRenewable(!1),this._ctrl.send(this,this._ctx,q,this._output,c,this._timeout,{result:function(a){r(v,function(){this.releaseMasterToken(b);return t;},f);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(b),t;else d();},f);},timeout:function(){r(v,function(){this.releaseMasterToken(b);v.timeout();},f);},error:function(a){r(v,function(){this.releaseMasterToken(b);throw a;},f);}});},f);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},f);}f=this;r(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,h,this._input,this._output,l,n,!0,{result:function(a){r(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?g(a):x(a);},f);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},f);},call:function(h){var n;function l(l,w,x){r(h,function(){this.execute(this._msgCtx,l,x,this._msgCount,{result:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(x,ua);g&&g.closeSource(this._openedStreams);return g;},n);},timeout:function(){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}n=this;r(h,function(){var w,x,G;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);x=Date.now();G=this._remoteEntity.openConnection();this._output=G.output;this._input=G.input;-1!=w&&(w=this._timeout-(Date.now()-x));this._openedStreams=!0;}catch(g){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,ua);this._input&&this._input.close();if(v(g))return null;throw g;}this._builder?l(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){r(h,function(){l(g.builder,g.tokenTicket,w);},n);},timeout:function(){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}});}());(function(){td=qa.Class.create({init:function(h){Object.defineProperties(this,{id:{value:h,writable:!1,configurable:!1}});},toJSON:function(){var h;h={};h.id=this.id;return h;},equals:function(h){return this===h?!0:h instanceof td?this.id==h.id:!1;},uniqueKey:function(){return this.id;}});xe=function(l){var n;n=l.id;if(!n)throw new ia(h.JSON_PARSE_ERROR,JSON.stringify(l));return new td(n);};}());qa.Class.create({isNewestMasterToken:function(h,l,n){},isMasterTokenRevoked:function(h,l){},acceptNonReplayableId:function(h,l,n,r){},createMasterToken:function(h,l,n,r,I){},isMasterTokenRenewable:function(h,l,n){},renewMasterToken:function(h,l,n,r,I){},isUserIdTokenRevoked:function(h,l,n,r){},createUserIdToken:function(h,l,n,r){},renewUserIdToken:function(h,l,n,r){}});(function(){function l(h,l,n,r){this.sessiondata=h;this.tokendata=l;this.signature=n;this.verified=r;}eb=qa.Class.create({init:function(h,l,r,I,v,G,H,D,J,wa,X){var w;w=this;n(X,function(){var x,C,Z,da,aa;if(r.getTime()<l.getTime())throw new ga("Cannot construct a master token that expires before its renewal window opens.");if(0>I||I>La)throw new ga("Sequence number "+I+" is outside the valid range.");if(0>v||v>La)throw new ga("Serial number "+v+" is outside the valid range.");x=Math.floor(l.getTime()/1E3);C=Math.floor(r.getTime()/1E3);if(wa)Z=wa.sessiondata;else{da={};G&&(da.issuerdata=G);da.identity=H;da.encryptionkey=pa(D.toByteArray());da.hmackey=pa(J.toByteArray());Z=Ta(JSON.stringify(da),Ka);}if(wa)return Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:I,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:G,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:D,writable:!1,configurable:!1},hmacKey:{value:J,writable:!1,configurable:!1},sessiondata:{value:Z,writable:!1,enumerable:!1,configurable:!1},verified:{value:wa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:wa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;aa=h.getMslCryptoContext();aa.encrypt(Z,{result:function(l){n(X,function(){var r,F;r={};r.renewalwindow=x;r.expiration=C;r.sequencenumber=I;r.serialnumber=v;r.sessiondata=pa(l);F=Ta(JSON.stringify(r),Ka);aa.sign(F,{result:function(l){n(X,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:I,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:G,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:D,writable:!1,configurable:!1},hmacKey:{value:J,writable:!1,configurable:!1},sessiondata:{value:Z,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:F,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){X.error(h);}});},w);},error:function(h){X.error(h);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(h){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(h){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(h){var l;if(this.sequenceNumber==h.sequenceNumber)return this.expiration>h.expiration;if(this.sequenceNumber>h.sequenceNumber){l=this.sequenceNumber-La+127;return h.sequenceNumber>=l;}l=h.sequenceNumber-La+127;return this.sequenceNumber<l;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof eb?this.serialNumber==h.serialNumber&&this.sequenceNumber==h.sequenceNumber&&this.expiration.getTime()==h.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Rb=function(w,r,C){n(C,function(){var x,v,G,H,Z;x=w.getMslCryptoContext();v=r.tokendata;G=r.signature;if("string"!==typeof v||"string"!==typeof G)throw new ia(h.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(r));try{H=xa(v);}catch(Da){throw new D(h.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(r),Da);}if(!H||0==H.length)throw new ia(h.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(r));try{Z=xa(G);}catch(Da){throw new D(h.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(r),Da);}x.verify(H,Z,{result:function(v){n(C,function(){var r,G,I,F,T,J,da,aa,ua,Ca;J=Va(H,Ka);try{da=JSON.parse(J);r=parseInt(da.renewalwindow);G=parseInt(da.expiration);I=parseInt(da.sequencenumber);F=parseInt(da.serialnumber);T=da.sessiondata;}catch(ta){if(ta instanceof SyntaxError)throw new ia(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+J,ta);throw ta;}if(!r||r!=r||!G||G!=G||"number"!==typeof I||I!=I||"number"!==typeof F||F!=F||"string"!==typeof T)throw new ia(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+J);if(G<r)throw new D(h.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+J);if(0>I||I>La)throw new D(h.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+J);if(0>F||F>La)throw new D(h.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+J);aa=new Date(1E3*r);ua=new Date(1E3*G);try{Ca=xa(T);}catch(ta){throw new D(h.MASTERTOKEN_SESSIONDATA_INVALID,T,ta);}if(!Ca||0==Ca.length)throw new D(h.MASTERTOKEN_SESSIONDATA_MISSING,T);v?x.decrypt(Ca,{result:function(r){n(C,function(){var x,G,D,T,X,J;X=Va(r,Ka);try{J=JSON.parse(X);x=J.issuerdata;G=J.identity;D=J.encryptionkey;T=J.hmackey;}catch(g){if(g instanceof SyntaxError)throw new ia(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+X,g);throw g;}if(x&&"object"!==typeof x||!G||"string"!==typeof D||"string"!==typeof T)throw new ia(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+X);vb(D,nb,Fb,{result:function(g){vb(T,ob,Qb,{result:function(f){n(C,function(){var a;a=new l(r,H,Z,v);new eb(w,aa,ua,I,F,x,G,g,f,a,C);});},error:function(f){C.error(new P(h.MASTERTOKEN_KEY_CREATION_ERROR,f));}});},error:function(g){C.error(new P(h.MASTERTOKEN_KEY_CREATION_ERROR,g));}});});},error:function(h){C.error(h);}}):(r=new l(null,H,Z,v),new eb(w,aa,ua,I,F,null,null,null,null,r,C));});},error:function(h){C.error(h);}});});};}());(function(){function l(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Yb=qa.Class.create({init:function(h,l,r,I,v,G,H,Z,J){var w;w=this;n(J,function(){var x,C,F,T,ya,da,aa;if(r.getTime()<l.getTime())throw new ga("Cannot construct a user ID token that expires before its renewal window opens.");if(!I)throw new ga("Cannot construct a user ID token without a master token.");if(0>v||v>La)throw new ga("Serial number "+v+" is outside the valid range.");x=Math.floor(l.getTime()/1E3);C=Math.floor(r.getTime()/1E3);F=I.serialNumber;if(Z){T=Z.tokendata;ya=Z.signature;da=Z.verified;F=I.serialNumber;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:G,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:da,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:T,writable:!1,enumerable:!1,configurable:!1},signature:{value:ya,writable:!1,enumerable:!1,configurable:!1}});return this;}T={};G&&(T.issuerdata=G);T.identity=H;T=Ta(JSON.stringify(T),Ka);aa=h.getMslCryptoContext();aa.encrypt(T,{result:function(l){n(J,function(){var r,T;r={};r.renewalwindow=x;r.expiration=C;r.mtserialnumber=F;r.serialnumber=v;r.userdata=pa(l);T=Ta(JSON.stringify(r),Ka);aa.sign(T,{result:function(l){n(J,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:I.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:G,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:T,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(J,function(){h instanceof D&&h.setEntity(I);throw h;},w);}});},w);},error:function(h){n(J,function(){h instanceof D&&h.setEntity(I);throw h;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(h){return h&&h.serialNumber==this.mtSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Yb?this.serialNumber==h.serialNumber&&this.mtSerialNumber==h.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Sb=function(w,r,C,I){n(I,function(){var v,x,H,Z,J;v=w.getMslCryptoContext();x=r.tokendata;H=r.signature;if("string"!==typeof x||"string"!==typeof H)throw new ia(h.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(r)).setEntity(C);try{Z=xa(x);}catch(wa){throw new D(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),wa).setEntity(C);}if(!Z||0==Z.length)throw new ia(h.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(r)).setEntity(C);try{J=xa(H);}catch(wa){throw new D(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),wa).setEntity(C);}v.verify(Z,J,{result:function(r){n(I,function(){var x,G,F,H,ya,da,aa,ua,Ca,Da;da=Va(Z,Ka);try{aa=JSON.parse(da);x=parseInt(aa.renewalwindow);G=parseInt(aa.expiration);F=parseInt(aa.mtserialnumber);H=parseInt(aa.serialnumber);ya=aa.userdata;}catch(la){if(la instanceof SyntaxError)throw new ia(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+da,la).setEntity(C);throw la;}if(!x||x!=x||!G||G!=G||"number"!==typeof F||F!=F||"number"!==typeof H||H!=H||"string"!==typeof ya)throw new ia(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+da).setEntity(C);if(G<x)throw new D(h.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+da).setEntity(C);if(0>F||F>La)throw new D(h.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+da).setEntity(C);if(0>H||H>La)throw new D(h.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+da).setEntity(C);ua=new Date(1E3*x);Ca=new Date(1E3*G);if(!C||F!=C.serialNumber)throw new D(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+F+"; mt "+JSON.stringify(C)).setEntity(C);try{Da=xa(ya);}catch(la){throw new D(h.USERIDTOKEN_USERDATA_INVALID,ya,la).setEntity(C);}if(!Da||0==Da.length)throw new D(h.USERIDTOKEN_USERDATA_MISSING,ya).setEntity(C);r?v.decrypt(Da,{result:function(v){n(I,function(){var n,x,G,F,T;G=Va(v,Ka);try{F=JSON.parse(G);n=F.issuerdata;x=F.identity;}catch(g){if(g instanceof SyntaxError)throw new ia(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+G).setEntity(C);throw g;}if(n&&"object"!==typeof n||"object"!==typeof x)throw new ia(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+G).setEntity(C);try{T=xe(x);}catch(g){throw new D(h.USERIDTOKEN_IDENTITY_INVALID,"userdata "+G,g).setEntity(C);}x=new l(Z,J,r);new Yb(w,ua,Ca,C,H,n,T,x,I);});},error:function(h){n(I,function(){h instanceof D&&h.setEntity(C);throw h;});}}):(x=new l(Z,J,r),new Yb(w,ua,Ca,C,H,null,null,x,I));});},error:function(h){n(I,function(){h instanceof D&&h.setEntity(C);throw h;});}});});};}());(function(){function l(l,n){var w,v,r;w=l.tokendata;if("string"!==typeof w)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));try{v=xa(w);}catch(Ca){throw new D(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(l),Ca);}if(!v||0==v.length)throw new ia(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(l));try{r=JSON.parse(Va(v,Ka)).name;}catch(Ca){if(Ca instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l),Ca);throw Ca;}if(!r)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));return n[r]?n[r]:n[""];}function w(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Ib=qa.Class.create({init:function(h,l,w,v,r,H,Z,J,P,X){var x;x=this;n(X,function(){var G,C,I,da,aa;if(v&&r&&!r.isBoundTo(v))throw new ga("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");G=v?v.serialNumber:-1;C=r?r.serialNumber:-1;if(P)return aa=P.tokendata,Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:G,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Z,writable:!1,configurable:!1},verified:{value:P.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:P.signature,writable:!1,enumerable:!1,configurable:!1}}),this;Z?(I=sd(Z,w),I.length<w.length||(Z=null,I=w)):(Z=null,I=w);da={};da.name=l;-1!=G&&(da.mtserialnumber=G);-1!=C&&(da.uitserialnumber=C);da.encrypted=H;Z&&(da.compressionalgo=Z);if(H&&0<I.length)J.encrypt(I,{result:function(F){n(X,function(){var I;da.servicedata=pa(F);I=Ta(JSON.stringify(da),Ka);J.sign(I,{result:function(v){n(X,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:G,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Z,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:I,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(h){n(X,function(){h instanceof D&&(h.setEntity(v),h.setUser(r));throw h;});}});},x);},error:function(h){n(X,function(){h instanceof D&&(h.setEntity(v),h.setUser(r));throw h;});}});else{da.servicedata=pa(I);aa=Ta(JSON.stringify(da),Ka);J.sign(aa,{result:function(v){n(X,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:G,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Z,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(h){n(X,function(){h instanceof D&&(h.setEntity(v),h.setUser(r));throw h;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(h){return h?h instanceof eb?h.serialNumber==this.mtSerialNumber:h instanceof Yb?h.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Ib?this.name==h.name&&this.mtSerialNumber==h.mtSerialNumber&&this.uitSerialNumber==h.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});zb=function(h,l,n,v,w,r,H,D,J){new Ib(h,l,n,v,w,r,H,D,null,J);};Jc=function(r,C,I,v,G,H){n(H,function(){var x,J,P,X,na,F,T,ya,da,aa,ua,Ca,ta;!G||G instanceof Zb||(G=l(C,G));x=C.tokendata;J=C.signature;if("string"!==typeof x||"string"!==typeof J)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(C)).setEntity(I).setEntity(v);try{P=xa(x);}catch(la){throw new D(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(C),la).setEntity(I).setEntity(v);}if(!P||0==P.length)throw new ia(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(C)).setEntity(I).setEntity(v);try{X=xa(J);}catch(la){throw new D(h.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(C),la).setEntity(I).setEntity(v);}ua=Va(P,Ka);try{Ca=JSON.parse(ua);na=Ca.name;F=Ca.mtserialnumber?parseInt(Ca.mtserialnumber):-1;T=Ca.uitserialnumber?parseInt(Ca.uitserialnumber):-1;ya=Ca.encrypted;da=Ca.compressionalgo;aa=Ca.servicedata;}catch(la){if(la instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"servicetokendata "+ua,la).setEntity(I).setEntity(v);throw la;}if(!na||"number"!==typeof F||F!=F||"number"!==typeof T||T!=T||"boolean"!==typeof ya||da&&"string"!==typeof da||"string"!==typeof aa)throw new ia(h.JSON_PARSE_ERROR,"servicetokendata "+ua).setEntity(I).setEntity(v);if(Ca.mtserialnumber&&0>F||F>La)throw new D(h.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(I).setEntity(v);if(Ca.uitserialnumber&&0>T||T>La)throw new D(h.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(I).setEntity(v);if(-1!=F&&(!I||F!=I.serialNumber))throw new D(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+F+"; mt "+I).setEntity(I).setEntity(v);if(-1!=T&&(!v||T!=v.serialNumber))throw new D(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+T+"; uit "+v).setEntity(I).setEntity(v);ya=!0===ya;if(da){if(!Nb[da])throw new D(h.UNIDENTIFIED_COMPRESSION,da);ta=da;}else ta=null;G?G.verify(P,X,{result:function(l){n(H,function(){var x,C;if(l){try{x=xa(aa);}catch(ld){throw new D(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua,ld).setEntity(I).setEntity(v);}if(!x||0!=aa.length&&0==x.length)throw new D(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua).setEntity(I).setEntity(v);if(ya&&0<x.length)G.decrypt(x,{result:function(h){n(H,function(){var n,x;n=ta?Kc(ta,h):h;x=new w(P,X,l);new Ib(r,na,n,-1!=F?I:null,-1!=T?v:null,ya,ta,G,x,H);});},error:function(h){n(H,function(){h instanceof D&&(h.setEntity(I),h.setUser(v));throw h;});}});else{x=ta?Kc(ta,x):x;C=new w(P,X,l);new Ib(r,na,x,-1!=F?I:null,-1!=T?v:null,ya,ta,G,C,H);}}else x=""==aa?new Uint8Array(0):null,C=new w(P,X,l),new Ib(r,na,x,-1!=F?I:null,-1!=T?v:null,ya,ta,G,C,H);});},error:function(h){n(H,function(){h instanceof D&&(h.setEntity(I),h.setUser(v));throw h;});}}):(x=""==aa?new Uint8Array(0):null,J=new w(P,X,!1),new Ib(r,na,x,-1!=F?I:null,-1!=T?v:null,ya,ta,G,J,H));});};}());bb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(bb);(function(){Eb=qa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Eb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});me=function(l,w,r,C){n(C,function(){var n,v,x;n=r.scheme;v=r.authdata;if(!n||!v)throw new ia(h.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(r));if(!bb[n])throw new Ea(h.UNIDENTIFIED_USERAUTH_SCHEME,n);x=l.getUserAuthenticationFactory(n);if(!x)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,n);x.createData(l,w,v,C);});};}());mc=qa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,l,n,r){},authenticate:function(h,l,n,r){}});(function(){Vb=Eb.extend({init:function w(h,l){w.base.call(this,bb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:h,writable:!1,configurable:!1},secureNetflixId:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.netflixid=this.netflixId;this.secureNetflixId&&(h.securenetflixid=this.secureNetflixId);return h;},equals:function x(h){return this===h?!0:h instanceof Vb?x.base.call(this,h)&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId:!1;}});ye=function(l){var n,r;n=l.netflixid;r=l.securenetflixid;if(!n)throw new ia(h.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(l));return new Vb(n,r);};}());df=mc.extend({init:function w(){w.base.call(this,bb.NETFLIXID);},createData:function(h,l,r,I){n(I,function(){return ye(r);});},authenticate:function(l,n,r,I){if(!(r instanceof Vb))throw new ga("Incorrect authentication data type "+r+".");l=r.secureNetflixId;if(!r.netflixId||!l)throw new Ea(h.NETFLIXID_COOKIES_BLANK).setUser(r);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){nc=Eb.extend({init:function x(h,l){x.base.call(this,bb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:h,writable:!1,configurable:!1},password:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.email=this.email;h.password=this.password;return h;},equals:function C(h){return this===h?!0:h instanceof nc?C.base.call(this,this,h)&&this.email==h.email&&this.password==h.password:!1;}});ze=function(l){var n,v;n=l.email;v=l.password;if(!n||!v)throw new ia(h.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(l));return new nc(n,v);};}());ef=mc.extend({init:function x(){x.base.call(this,bb.EMAIL_PASSWORD);},createData:function(h,l,r,v){n(v,function(){return ze(r);});},authenticate:function(l,n,r,v){if(!(r instanceof nc))throw new ga("Incorrect authentication data type "+r+".");l=r.password;if(!r.email||!l)throw new Ea(h.EMAILPASSWORD_BLANK).setUser(r);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){var v,G,J,Z,Da,wa,X,na;function l(h,l){return"<"+h+">"+l+"</"+h+">";}function r(h){return h.replace(/[<>&"']/g,function(h){return Da[h];});}function I(h){return encodeURIComponent(h).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Nc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};G=qa.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});J=ud=G.extend({init:function(l,v,r,x,G,C,I){var J;function F(x){n(I,function(){var n,C;try{C={};C.useridtoken=l;C.action=v;C.nonce=r;C.pin=pa(x);n=Ta(JSON.stringify(C),Ka);}catch(Hb){throw new ia(h.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Hb);}G.sign(n,{result:function(h){D(n,h);},error:I.error});},J);}function D(h,G){n(I,function(){Object.defineProperties(this,{_userIdToken:{value:l,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:G,writable:!1,enumerable:!1,configurable:!1}});return this;},J);}J=this;n(I,function(){C?D(C.encoding,C.signature):G.encrypt(Ta(x,Ka),{result:function(h){F(h);},error:I.error});},J);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof J?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin&&this._userIdToken.equals(h._userIdToken):!1;}});ud.ACTION="userauth";Z=function(l,v,r,x,G){function C(x){n(G,function(){var C,I,J,T,X,Z;C=Va(r,Ka);try{Z=JSON.parse(C);I=Z.useridtoken;J=Z.action;T=Z.nonce;X=Z.pin;}catch(g){if(g instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+C,g);throw g;}if(!(I&&"object"===typeof I&&J&&"string"===typeof J&&T&&"number"===typeof T&&X)||"string"!==typeof X)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+C);Sb(l,I,v,{result:function(g){n(G,function(){if(!g.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+C);F(x,g,J,T,X);});},error:function(g){n(G,function(){if(g instanceof D)throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+C,g);throw g;});}});});}function F(h,l,v,C,F){n(G,function(){var I;I=xa(F);h.decrypt(I,{result:function(h){n(G,function(){var g;g=Va(h,Ka);new J(l,v,C,g,null,{encoding:r,signature:x},G);});},error:G.error});});}n(G,function(){var F,I;try{I=l.getMslStore().getCryptoContext(v);F=I?I:new fb(l,v);}catch(sb){if(sb instanceof Pb)throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+pa(r));throw sb;}F.verify(r,x,{result:function(l){n(G,function(){if(!l)throw new P(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(r));C(F);});},error:G.error});});};Da={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};wa=oc=G.extend({init:function(h,n,v,x){var G,C;G=l("action",r(h));C=l("nonce",n.toString());v=l("pin",v);G=l("registerdata",G+C+v);G=Ta(G,"utf-8");Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:n,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:G,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof wa?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});oc.ACTION="regpairrequest";X=vd=G.extend({init:function(h,v,x,G,C,D){var X;function F(x){n(D,function(){var n,C,F,X,g;n=pa(x);C=l("action",r(h));F=l("nonce",v.toString());X=l("pin",n);C=l("registerdata",C+F+X);g=Ta(C,"utf-8");n="action="+I(h)+"&nonce="+I(v.toString())+"&pin="+I(n);G.sign(Ta(n,"utf-8"),{result:function(f){J(g,f);},error:D.error});},X);}function J(l,r){n(D,function(){Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}});return this;},X);}X=this;n(D,function(){C?J(C.encoding,C.signature):G.encrypt(Ta(x,"utf-8"),{result:function(h){F(h);},error:D.error});},X);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof X?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});vd.ACTION=oc.ACTION;na=function(l,v,r,x,G){n(G,function(){var C,F,D,J,Z,T,da;C=l.getMslStore().getCryptoContext(v);F=C?C:new fb(l,v);C=Va(r,"utf-8");D=new DOMParser().parseFromString(C,"application/xml");C=D.getElementsByTagName("action");J=D.getElementsByTagName("nonce");D=D.getElementsByTagName("pin");Z=C&&1==C.length&&C[0].firstChild?C[0].firstChild.nodeValue:null;T=J&&1==J.length&&J[0].firstChild?parseInt(J[0].firstChild.nodeValue):null;da=D&&1==D.length&&D[0].firstChild?D[0].firstChild.nodeValue:null;if(!Z||!T||!da)throw new ia(h.XML_PARSE_ERROR,"MDX authdata "+pa(r));C="action="+I(Z)+"&nonce="+I(T.toString())+"&pin="+I(da);F.verify(Ta(C,"utf-8"),x,{result:function(l){n(G,function(){var v;if(!l)throw new P(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(r));v=xa(da);F.decrypt(v,{result:function(g){n(G,function(){var f;f=Va(g,"utf-8");new X(Z,T,f,null,{encoding:r,signature:x},G);});},error:G.error});});},error:G.error});});};bc=Eb.extend({init:function T(h,l,n,r,x,G){var C,I,D,X,Z,da;T.base.call(this,bb.MDX);C=null;I=null;D=null;if("string"===typeof n)h=v.MSL_LEGACY,D=n;else if(n instanceof Uint8Array)h=v.NTBA,I=n;else if(n instanceof eb)h=v.MSL,C=n;else throw new TypeError("Controller token "+n+" is not a master token, encrypted CTicket, or MSL token construct.");X=n=null;Z=null;if(G){da=G.controllerAuthData;n=da.getAction();X=da.getPin();G=G.userIdToken;da instanceof J?Z=da.getUserIdToken().customer:G&&(Z=G.customer);}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},action:{value:n,writable:!1,configurable:!1},targetPin:{value:l,writable:!1,configurable:!1},controllerPin:{value:X,writable:!1,configurable:!1},customer:{value:Z,writable:!1,configurable:!1},_masterToken:{value:C,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:I,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:D,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var h,l;h={};switch(this.mechanism){case v.MSL:l=JSON.parse(JSON.stringify(this._masterToken));h.mastertoken=l;break;case v.NTBA:l=Va(this._encryptedCTicket,"utf-8");h.cticket=l;break;case v.MSL_LEGACY:h.cticket=this._mslTokens;break;default:throw new ga("Unsupported MDX mechanism.");}h.pin=this.targetPin;h.mdxauthdata=pa(this._controllerEncoding);h.signature=pa(this._signature);return h;},equals:function ya(h){return this===h?!0:h instanceof bc?ya.base.call(this,h)&&(this._masterToken==h._masterToken||this._masterToken&&this._masterToken.equals(h._masterToken))&&(this._encryptedCTicket==h._encryptedCTicket||this._encryptedCTicket&&Za(this._encryptedCTicket,h._encryptedCTicket))&&this._mslTokens==h._mslTokens&&Za(this._controllerEncoding,h._controllerEncoding)&&Za(this._signature,h._signature):!1;}});Ae=function(l,v,r){function x(x,G,C,I){Rb(l,G,{result:function(G){n(r,function(){if(!G.isDecrypted())throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());Z(l,G,C,I,{result:function(h){n(r,function(){var g,f;g=h.getEncoding();f=h.getSignature();return new bc(l,x,G,g,f,{controllerAuthData:h,userIdToken:null});});},error:r.error});});},error:function(l){n(r,function(){if(l instanceof D)throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);throw l;});}});}function G(l,v,x,G){n(r,function(){throw new Ea(h.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function C(x,G,C,I){function J(g,f){n(f,function(){var a,b;try{a=xa(g);}catch(d){throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),d);}if(!a||0==a.length)throw new Ea(h.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{b=JSON.parse(Va(a,"utf-8"));Rb(l,b,{result:function(a){n(f,function(){if(!a.isDecrypted())throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){n(f,function(){if(a instanceof D)throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(d){if(d instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),d);throw d;}});}function X(g,f,a){n(a,function(){var b,d;try{b=xa(g);}catch(t){throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),t);}if(!b||0==b.length)throw new Ea(h.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{d=JSON.parse(Va(b,"utf-8"));Sb(l,d,f,{result:function(b){n(a,function(){if(!b.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return b;});},error:function(b){n(a,function(){if(b instanceof D)throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),b);throw b;});}});}catch(t){if(t instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),t);throw t;}});}n(r,function(){var g;g=G.split(",");if(3!=g.length||"1"!=g[0])throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));J(g[1],{result:function(f){X(g[2],f,{result:function(a){na(l,f,C,I,{result:function(b){n(r,function(){return new bc(l,x,G,C,I,{controllerAuthData:b,userIdToken:a});});},error:function(a){n(r,function(){if(a instanceof Pb)throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:r.error});},error:r.error});});}n(r,function(){var l,n,r,I,D;l=v.pin;n=v.mdxauthdata;r=v.signature;if(!l||"string"!==typeof l||!n||"string"!==typeof n||!r||"string"!==typeof r)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{I=xa(n);D=xa(r);}catch(Hb){throw new Ea(h.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Hb);}if(v.mastertoken){n=v.mastertoken;if(!n||"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));x(l,n,I,D);}else if(v.cticket){n=v.cticket;if(!n||"string"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==n.indexOf(",")?G(l,n,I,D):C(l,n,I,D);}else throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var l,n,r;l=ud.ACTION;n=oc.ACTION;r=vd.ACTION;Be=mc.extend({init:function G(){G.base.call(this,bb.MDX);},createData:function(h,l,n,r){Ae(h,n,r);},authenticate:function(x,C,I,D){if(!(I instanceof bc))throw new ga("Incorrect authentication data type "+I.getClass().getName()+".");x=I.action;switch(I.mechanism){case Nc.MSL:if(l!=x)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);break;case Nc.NTBA:if(n!=x)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);break;case Nc.MSL_LEGACY:if(r!=x)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);}x=I.controllerPin;C=I.targetPin;if(!x||!C)throw new Ea(h.MDX_PIN_BLANK).setUser(I);if(x!=C)throw new Ea(h.MDX_PIN_MISMATCH).setUser(I);x=I.customer;if(!x)throw new Ea(h.MDX_USER_UNKNOWN).setUser(I);if(D&&(D=D.customer,!x.equals(D)))throw new Ea(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+x+"; uit customer "+D).setUser(I);return x;}});}());(function(){var l,n,r;l={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};n=De=qa.Class.create({init:function(h,l){Object.defineProperties(this,{email:{value:h,writable:!1,enumerable:!0,configurable:!1},password:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});r=Ee=qa.Class.create({init:function(h,l){Object.defineProperties(this,{netflixId:{value:h,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});pc=Eb.extend({init:function G(h,l,x,C){var I,D,F,J;G.base.call(this,bb.SSO);I=null;D=null;F=null;J=null;x instanceof n?(I=x.email,D=x.password):x instanceof r&&(F=x.netflixId,J=x.secureNetflixId);Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},token:{value:l,writable:!1,configurable:!1},email:{value:I,writable:!1,configurable:!1},password:{value:D,writable:!1,configurable:!1},netflixId:{value:F,writable:!1,configurable:!1},secureNetflixId:{value:J,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof C?null:C,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.mechanism=this.mechanism;h.token=pa(this.token);this.email&&this.password?(h.email=this.email,h.password=this.password):this.netflixId&&this.secureNetflixId&&(h.netflixid=this.netflixId,h.securenetflixid=this.secureNetflixId);this.profileGuid&&(h.profileguid=this.profileGuid);return h;},equals:function Ca(h){return this===h?!0:h instanceof pc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&Za(this.token,h.token)&&this.email==h.email&&this.password==h.password&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId&&this.profileGuid==h.profileGuid:!1;}});Ce=function(x){var C,I,D,J,na,F,T,P,da;C=x.mechanism;I=x.token;if(!C||!I||"string"!==typeof I)throw new ia(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));if(!l[C])throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(x));D=x.email;J=x.password;na=x.netflixid;F=x.securenetflixid;T=x.profileguid;if(D&&!J||!D&&J||na&&!F||!na&&F||D&&na)throw new ia(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));try{P=xa(I);}catch(aa){throw new Ea(h.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(x),aa);}D&&J?da=new n(D,J):na&&F&&(da=new r(na,F));return new pc(C,P,da,T);};}());ff=mc.extend({init:function C(){C.base.call(this,bb.SSO);},createData:function(h,l,v,r){n(r,function(){return Ce(v);});},authenticate:function(l,n,v,r){var G,C;if(!(v instanceof pc))throw new ga("Incorrect authentication data type "+v+".");l=v.token;n=v.email;r=v.password;G=v.netflixId;C=v.secureNetflixId;if(!l||0==l.length)throw new Ea(h.SSOTOKEN_BLANK);if(!(null===n&&null===r||n&&r))throw new Ea(h.EMAILPASSWORD_BLANK);if(!(null===G&&null===C||G&&C))throw new Ea(h.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){qc=Eb.extend({init:function I(h,l){I.base.call(this,bb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:h,writable:!1,configurable:!1},profileGuid:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));h.profileguid=this.profileGuid;return h;},equals:function v(h){return this==h?!0:h instanceof qc?v.base.call(this,h)&&this.userIdToken.equals(h.userIdToken)&&this.profileGuid==h.profileGuid:!1;}});Fe=function(l,r,D,J){n(J,function(){var v,G;if(!r)throw new Ea(h.USERAUTH_MASTERTOKEN_MISSING);v=D.useridtoken;G=D.profileguid;if("object"!==typeof v||"string"!==typeof G)throw new ia(h.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(D));Sb(l,v,r,{result:function(l){n(J,function(){if(!l.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(D));return new qc(l,G);});},error:function(l){J.error(new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(D),l));}});});};}());gf=mc.extend({init:function I(h){I.base.call(this,bb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,l,n,r){Fe(h,l,n,r);},authenticate:function(l,n,r,D){if(!(r instanceof qc))throw new ga("Incorrect authentication data type "+r+".");n=r.userIdToken;l=r.profileGuid;if(!l)throw new Ea(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(r);n=n.user;if(!n)throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(r);l=this._store.switchUsers(n,l);if(!l)throw new Ea(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(r);if(D&&(D=D.user,!l.equals(D)))throw new Ea(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+l+"; uit user "+D).setUserAuthenticationData(r);return l;}});Object.freeze({ENTITY_REAUTH:l.ENTITY_REAUTH,ENTITYDATA_REAUTH:l.ENTITYDATA_REAUTH});hf=qa.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(h,l){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(h){},getUserAuthenticationFactory:function(h){},getTokenFactory:function(){},getKeyExchangeFactory:function(h){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ge=qa.Class.create({setCryptoContext:function(h,l){},getMasterToken:function(){},getNonReplayableId:function(h){},getCryptoContext:function(h){},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(h,l){},removeServiceTokens:function(h,l,n){},clearServiceTokens:function(){}});(function(){var l;l=Nb;sd=function(n,r){var v;v={};switch(n){case l.LZW:return Id(r,v);case l.GZIP:return gzip$compress(r);default:throw new D(h.UNSUPPORTED_COMPRESSION,n);}};Kc=function(n,r,I){switch(n){case l.LZW:return Jd(r);case l.GZIP:return gzip$uncompress(r);default:throw new D(h.UNSUPPORTED_COMPRESSION,n.name());}};}());Ge.extend({setCryptoContext:function(h,l){},getMasterToken:function(){return null;},getNonReplayableId:function(h){return 1;},getCryptoContext:function(h){return null;},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){return null;},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(l,n){if(n){if(!l)throw new D(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new D(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}return[];},removeServiceTokens:function(l,n,r){if(r&&n&&!r.isBoundTo(n))throw new D(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.masterTokenSerialNumber+"; mt "+n.serialNumber);},clearServiceTokens:function(){}});(function(){He=Ge.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(h,l){var n;if(l){n=h.uniqueKey();this.masterTokens[n]=h;this.cryptoContexts[n]=l;}else this.removeCryptoContext(h);},getMasterToken:function(){var h,l,n;h=null;for(l in this.masterTokens){n=this.masterTokens[l];if(!h||n.isNewerThan(h))h=n;}return h;},getNonReplayableId:function(h){var l;h=h.serialNumber;l=this.nonReplayableIds[h]!==ma?this.nonReplayableIds[h]:0;if(0>l||l>La)throw new ga("Non-replayable ID "+l+" is outside the valid range.");l=l==La?0:l+1;return this.nonReplayableIds[h]=l;},getCryptoContext:function(h){return this.cryptoContexts[h.uniqueKey()];},removeCryptoContext:function(h){var l,n;l=h.uniqueKey();if(this.masterTokens[l]){delete this.masterTokens[l];delete this.cryptoContexts[l];l=h.serialNumber;for(n in this.masterTokens)if(this.masterTokens[n].serialNumber==l)return;delete this.nonReplayableIds[l];Object.keys(this.userIdTokens).forEach(function(l){l=this.userIdTokens[l];l.isBoundTo(h)&&this.removeUserIdToken(l);},this);try{this.removeServiceTokens(null,h,null);}catch(Z){if(Z instanceof D)throw new ga("Unexpected exception while removing master token bound service tokens.",Z);throw Z;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);},addUserIdToken:function(l,n){var r,v;r=!1;for(v in this.masterTokens)if(n.isBoundTo(this.masterTokens[v])){r=!0;break;}if(!r)throw new D(h.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+n.mtSerialNumber);this.userIdTokens[l]=n;},getUserIdToken:function(h){return this.userIdTokens[h];},removeUserIdToken:function(h){var l,n,r;l=null;for(n in this.masterTokens){r=this.masterTokens[n];if(h.isBoundTo(r)){l=r;break;}}Object.keys(this.userIdTokens).forEach(function(n){if(this.userIdTokens[n].equals(h)){delete this.userIdTokens[n];try{this.removeServiceTokens(null,l,h);}catch(wa){if(wa instanceof D)throw new ga("Unexpected exception while removing user ID token bound service tokens.",wa);throw wa;}}},this);},clearUserIdTokens:function(){var l;for(var h in this.userIdTokens){l=this.userIdTokens[h];try{this.removeServiceTokens(null,null,l);}catch(Ca){if(Ca instanceof D)throw new ga("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[h];}},addServiceTokens:function(l){l.forEach(function(l){var n,r,v;if(l.isUnbound())this.unboundServiceTokens[l.uniqueKey()]=l;else{if(l.isMasterTokenBound()){n=!1;for(r in this.masterTokens)if(l.isBoundTo(this.masterTokens[r])){n=!0;break;}if(!n)throw new D(h.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+l.mtSerialNumber);}if(l.isUserIdTokenBound()){n=!1;for(v in this.userIdTokens)if(l.isBoundTo(this.userIdTokens[v])){n=!0;break;}if(!n)throw new D(h.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+l.uitSerialNumber);}l.isMasterTokenBound()&&((v=this.mtServiceTokens[l.mtSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.mtServiceTokens[l.mtSerialNumber]=v);l.isUserIdTokenBound()&&((v=this.uitServiceTokens[l.uitSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.uitServiceTokens[l.uitSerialNumber]=v);}},this);},getServiceTokens:function(l,n){var r,v,G,J;if(n){if(!l)throw new D(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new D(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}r={};for(v in this.unboundServiceTokens){G=this.unboundServiceTokens[v];r[G.uniqueKey()]=G;}if(l&&(G=this.mtServiceTokens[l.serialNumber]))for(v in G){J=G[v];J.isUserIdTokenBound()||(r[v]=J);}if(n&&(G=this.uitServiceTokens[n.serialNumber]))for(v in G)J=G[v],J.isBoundTo(l)&&(r[v]=J);G=[];for(v in r)G.push(r[v]);return G;},removeServiceTokens:function(l,n,r){var G,J,na;if(r&&n&&!r.isBoundTo(n))throw new D(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);if(l&&!n&&!r){Object.keys(this.unboundServiceTokens).forEach(function(h){this.unboundServiceTokens[h].name==l&&delete this.unboundServiceTokens[h];},this);for(var v in this.mtServiceTokens){G=this.mtServiceTokens[v];J=Object.keys(G);J.forEach(function(h){G[h].name==l&&delete G[h];},this);this.mtServiceTokens[v]=G;}for(var X in this.uitServiceTokens)G=this.uitServiceTokens[X],v=Object.keys(G),v.forEach(function(h){G[h].name==l&&delete G[h];},this),this.uitServiceTokens[X]=G;}if(n&&!r){if(G=this.mtServiceTokens[n.serialNumber])J=Object.keys(G),J.forEach(function(h){var n;n=G[h];l&&n.name!=l||delete G[h];},this),this.mtServiceTokens[n.serialNumber]=G;for(X in this.uitServiceTokens){na=this.uitServiceTokens[X];v=Object.keys(na);v.forEach(function(h){var r;r=na[h];l&&r.name!=l||r.isBoundTo(n)&&delete na[h];},this);this.uitServiceTokens[X]=na;}}r&&(G=this.uitServiceTokens[r.serialNumber])&&(v=Object.keys(G),v.forEach(function(h){var r;r=G[h];l&&r.name!=l||n&&!r.isBoundTo(n)||delete G[h];},this),this.uitServiceTokens[r.serialNumber]=G);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);}});}());Re=af.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(h,l){var n;if(l&&h&&h.length){n=pa(h);this._contextMap[n]=l;}},getCryptoContext:function(h){return h&&h.length?(h=pa(h),this._contextMap[h]||null):null;},removeCryptoContext:function(h){h&&h.length&&(h=pa(h),delete this._contextMap[h]);}});Ie=Ue.extend({init:function G(h,l,n,r){G.base.call(this,h);Object.defineProperties(this,{_kde:{value:l,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof jb))throw new ga("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"mgk "+n.identity);return new Dc(l,this.localIdentity,this._kde,this._kdh,this._kdw);}});jf=Td.extend({init:function Ca(h,l,n,r){Ca.base.call(this,h);Object.defineProperties(this,{_kpe:{value:l,writable:!1,enumerable:!1,configurable:!1},_kph:{value:n,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof pb))throw new ga("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"psk "+n.identity);return new Dc(l,this.localIdentity,this._kpe,this._kph,this._kpw);}});lf=He.extend({init:function Z(h,l,n,r,F,D){Z.base.call(this);this._log=h;this._esn=l;this._keyRequestData=n;this._createKeyRequestData=r;this._systemKeyName=F;this._systemKeyWrapFormat=D;},setCryptoContext:function Da(h,l,n){var r;r=this;r._log.trace("Adding MasterToken",{SequenceNumber:h.sequenceNumber,SerialNumber:h.serialNumber,Expiration:h.expiration.getTime()});Da.base.call(this,h,l);!n&&(h=r._createKeyRequestData)&&(r._log.trace("Generating new keyx request data"),h().then(function(h){r._keyRequestData=h;},function(h){r._log.error("Unable to generate new keyx request data",""+h);}));},addUserIdToken:function wa(h,l){this._log.trace("Adding UserIdToken",{UserId:h,SerialNumber:l.serialNumber,MTSerialNumber:l.mtSerialNumber,Expiration:l.expiration.getTime()});wa.base.call(this,h,l);},addServiceTokens:function X(h){X.base.call(this,h.filter(function(h){return!kf[h.name];}));},getUserIdTokenKeys:function(){var h,l;h=[];for(l in this.userIdTokens)h.push(l);return h;},rekeyUserIdToken:function(h,l){this.userIdTokens[h]&&(this.userIdTokens[l]=this.userIdTokens[h],delete this.userIdTokens[h]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(h){var l;l=this;n(h,function(){var r;r=l.getMasterToken();r?l.getKeysForStore(r,{result:function(F){n(h,function(){var h,n,D;h=l.userIdTokens;n=Object.keys(h).map(function(n){var F;F=h[n];return{userId:n,userIdTokenJSON:h[n].toJSON(),serviceTokenJSONList:l.getServiceTokens(r,F).map(Oe)};});F.esn=l._esn;F.masterTokenJSON=r.toJSON();F.userList=n;D=l._keyRequestData.storeData;D&&Object.keys(D).forEach(function(h){F[h]=D[h];});return F;});},timeout:h.timeout,error:h.error}):h.result(null);});},getKeysForStore:function(l,r){var F;F=this;n(r,function(){var n;n=F.getCryptoContext(l);n={encryptionKey:n.encryptionKey,hmacKey:n.hmacKey};if(n.encryptionKey&&n.hmacKey)if(F._systemKeyWrapFormat)F.wrapKeysWithSystemKey(n,r);else return n;else throw new D(h.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(l,r){var F;F=this;Cd(this._systemKeyName,{result:function(J){n(r,function(){var n,X,T,P;n=l.encryptionKey;X=l.hmacKey;T=n[cc];P=X[cc];if(T&&P)return{wrappedEncryptionKey:T,wrappedHmacKey:P};Promise.resolve().then(function(){return Promise.all([Ia.wrapKey(F._systemKeyWrapFormat,n,J,J.algorithm),Ia.wrapKey(F._systemKeyWrapFormat,X,J,J.algorithm)]);}).then(function(h){T=pa(h[0]);n[cc]=T;P=pa(h[1]);X[cc]=P;r.result({wrappedEncryptionKey:T,wrappedHmacKey:P});})["catch"](function(l){r.error(new D(h.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},unwrapKeysWithSystemKey:function(l,r){var F;F=this;Cd(this._systemKeyName,{result:function(J){n(r,function(){var n,X;n=xa(l.wrappedEncryptionKey);X=xa(l.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ia.unwrapKey(F._systemKeyWrapFormat,n,J,J.algorithm,nb,!1,Fb),Ia.unwrapKey(F._systemKeyWrapFormat,X,J,J.algorithm,ob,!1,Qb)]);}).then(function(h){var n;n=h[0];h=h[1];n[cc]=l.wrappedEncryptionKey;h[cc]=l.wrappedHmacKey;r.result({encryptionKey:n,hmacKey:h});})["catch"](function(l){r.error(new D(h.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},loadStoreState:function(h,l,n,r){var J,X;function F(h,r){var F;try{F=n.userList.slice();}catch(sb){}F?function Db(){var n;n=F.shift();n?Sb(l,n.userIdTokenJSON,h,{result:function(l){try{J.addUserIdToken(n.userId,l);D(h,l,n.serviceTokenJSONList,{result:Db,timeout:Db,error:Db});}catch(Hb){Db();}},timeout:Db,error:Db}):r.result();}():r.result();}function D(h,n,r,F){var D,X;try{D=r.slice();}catch(oa){}if(D){X=J.getCryptoContext(h);(function Hb(){var g;g=D.shift();g?Jc(l,g,h,n,X,{result:function(f){J.addServiceTokens([f]);Hb();},timeout:function(){Hb();},error:function(){Hb();}}):F.result();}());}else F.result();}J=this;X=J._log;n.esn!=J._esn?(X.error("Esn mismatch, starting fresh"),r.error()):function(r){var T,P,da,aa;function F(){var n;if(!T&&P&&da&&aa){T=!0;n=new fb(l,P,h.esn,{rawKey:da},{rawKey:aa});J.setCryptoContext(P,n,!0);r.result(P);}}function D(h,g){X.error(h,g&&""+g);T||(T=!0,r.error());}n.masterTokenJSON?(Rb(l,n.masterTokenJSON,{result:function(h){P=h;F();},timeout:function(){D("Timeout parsing MasterToken");},error:function(h){D("Error parsing MasterToken",h);}}),J._systemKeyWrapFormat?J.unwrapKeysWithSystemKey(n,{result:function(h){da=h.encryptionKey;aa=h.hmacKey;F();},timeout:function(){D("Timeout unwrapping keys");},error:function(h){D("Error unwrapping keys",h);}}):Promise.resolve().then(function(){return Ia.encrypt({name:nb.name,iv:new Uint8Array(16)},n.encryptionKey,new Uint8Array(1));}).then(function(h){da=n.encryptionKey;})["catch"](function(h){D("Error loading encryptionKey");}).then(function(){return Ia.sign(ob,n.hmacKey,new Uint8Array(1));}).then(function(h){aa=n.hmacKey;F();})["catch"](function(h){D("Error loading hmacKey");})):D("Persisted store is corrupt");}({result:function(h){F(h,r);},timeout:r.timeout,error:r.error});}});kf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};cc="$netflix$msl$wrapsys";mf=hf.extend({init:function(h,l,n,r,D,J){var F,X;F=new kc([Nb.LZW]);X=new We();X.addPublicKey(l,n);r[Oa.RSA]=new Ve(X);l={};l[bb.EMAIL_PASSWORD]=new ef();l[bb.NETFLIXID]=new df();l[bb.MDX]=new Be();l[bb.SSO]=new ff();l[bb.SWITCH_PROFILE]=new gf();h={_mslCryptoContext:{value:new Te(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:F,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:D,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:r,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:l,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:J,writable:!1,enumerable:!1,configurable:!1},_store:{value:h,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},getTime:function(){return Date.now();},getRandom:function(){return new Nd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(h,l){l.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(h){return this._entityAuthFactories[h];},getUserAuthenticationFactory:function(h){return this._userAuthFactories[h];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(h){return this._keyExchangeFactories.filter(function(l){return l.scheme==h;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Ed=ve.extend({init:function(h,l,n,r){this._log=h;this._mslContext=l;this._mslRequest=n;this._keyRequestData=r;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(h,l,r,D){var F,J;F=this._mslRequest;J=this._mslContext;n(D,function(){var l,n;if(h||!F.shouldSendUserAuthData)return null;if(F.token){F.email?l=new De(F.email,F.password):F.netflixId&&(l=new Ee(F.netflixId,F.secureNetflixId));n="undefined"===typeof F.profileGuid?null:F.profileGuid;return new pc(F.mechanism,Ta(F.token),l,n);}return F.email?new nc(F.email,F.password):F.netflixId?new Vb(F.netflixId,F.secureNetflixId):F.mdxControllerToken?(l=new oc("regpairrequest",F.mdxNonce,F.mdxEncryptedPinB64,F.mdxSignature).getEncoding(),new bc(J,F.mdxPin,F.mdxControllerToken,l,F.mdxSignature)):F.useNetflixUserAuthData?new Vb():F.profileGuid?(l=F.userId,l=J.getMslStore().userIdTokens[l],new qc(l,F.profileGuid)):r&&F.sendUserAuthIfRequired?new Vb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(h){h.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(h,l,n){var r,F,D,J,X,P;r=this._log;F=(this._mslRequest.serviceTokens||[]).slice();D=this._mslContext;l=D.getMslStore();J=h.builder.getMasterToken();X=this.getUserId();P=l.getUserIdToken(X);(function la(){var l;l=F.shift();if(l)try{l instanceof Ib?(h.addPrimaryServiceToken(l),la()):Jc(D,l,J,P,null,{result:function(l){try{h.addPrimaryServiceToken(l);}catch(ld){r.warn("Exception adding service token",""+ld);}la();},timeout:function(){r.warn("Timeout parsing service token");la();},error:function(h){r.warn("Error parsing service token",""+h);la();}});}catch(Db){r.warn("Exception processing service token",""+Db);la();}else n.result(!0);}());},write:function(h,l,n){var r;r=Ta(this._mslRequest.body);h.write(r,0,r.length,l,{result:function(F){F!=r.length?n.error(new Wa("Not all data was written to output.")):h.flush(l,{result:function(){n.result(!0);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},getDebugContext:function(){this._dc||(this._dc=new nf(this._log,this._mslRequest));return this._dc;}});nf=cf.extend({init:function(h,l){this._log=h;this._mslRequest=l;},sentHeader:function(h){this._log.trace("Sent MSL header",Dd(this._mslRequest,h),h.serviceTokens&&h.serviceTokens.map(Pe).join("\n"));},receivedHeader:function(h){var l,n;l=Dd(this._mslRequest,h);n=h.errorCode;n?this._log.warn("Received MSL error header",l,{errorCode:n,errorMessage:h.errorMessage,internalCode:h.internalCode}):this._log.trace("Received MSL header",l);}});Je={PSK:function(h){return Vc(h,Oa.PSK,jf,pb,md,Hc);},MGK:function(h){return Vc(h,Oa.MGK,Ie,jb,md,Hc);},MGK_WITH_FALLBACK:function(l){var n,r;switch(l.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":n="PSK";break;default:n="MGK";}r=Je[n];if(!r)throw new D(h.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+n);return r(l);},MGK_JWE:function(h){return Vc(h,Oa.MGK,Ie,jb,Zd,kd);},JWK_RSA:function(h){return Wc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ic.JWK_RSA);},JWK_RSAES:function(h){return Wc(h,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ic.JWK_RSAES);},JWEJS_RSA:function(h){return Wc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ic.JWEJS_RSA);}};J.netflix=J.netflix||{};J.netflix.msl={createMslClient:function(l,n){var r,J,P,X,aa;r=l.log;aa=l.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Ra&&Ra.generateKey&&Ra.importKey&&Ra.unwrapKey))throw new D(h.INTERNAL_EXCEPTION,"No WebCrypto");cb=Ra.generateKey({name:"AES-CBC",length:128},!0,Fb).then?yc.V2014_02:yc.LEGACY;aa("mslisik");return Ia.importKey("spki",l.serverIdentityKeyData,Od,!1,["verify"]);}).then(function(l){return new Promise(function(n,r){Mb(l,{result:n,error:function(){r(new D(h.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(n){J=n;if(n=Je[l.authenticationType])return aa("mslcc"),n(l);throw new D(h.INTERNAL_EXCEPTION,"Invalid authenticationType: "+l.authenticationType);}).then(function(h){var n;P=new lf(r,l.esn,h.keyRequestData,h.createKeyRequestData,l.authenticationKeyNames.s,l.systemKeyWrapFormat);X=new mf(P,l.serverIdentityId,J,h.entityAuthFactories,h.entityAuthData,h.keyExchangeFactories);n=l.storeState;if(n)return aa("mslss"),r.info("Loading store state"),new Promise(function(h,r){P.loadStoreState(l,X,n,{result:h,timeout:h,error:h});});r.info("No store state, starting fresh");}).then(function(){var h;h=new we();aa("msldone");n.result(new Qe(r,h,X,P,l.ErrorSubCodes));})["catch"](function(h){n.error(h);});},IHttpLocation:Ze,MslIoException:Wa};(function(){var xa,oa,Ea;function h(){h=function(){};oa.Symbol||(oa.Symbol=l);}function l(g){return"jscomp_symbol_"+(g||"")+Ea++;}function n(){var g;h();g=oa.Symbol.iterator;g||(g=oa.Symbol.iterator=oa.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&xa(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return r(this);}});n=function(){};}function r(g){var f;f=0;return D(function(){return f<g.length?{done:!1,value:g[f++]}:{done:!0};});}function D(g){n();g={next:g};g[oa.Symbol.iterator]=function(){return this;};return g;}function P(g){var f;n();h();n();f=g[Symbol.iterator];return f?f.call(g):r(g);}function aa(g,f){var d;function a(){}a.prototype=f.prototype;g.prototype=new a();g.prototype.constructor=g;for(var b in f)if(Object.defineProperties){d=Object.getOwnPropertyDescriptor(f,b);d&&Object.defineProperty(g,b,d);}else g[b]=f[b];}function ga(g){if(!(g instanceof Array)){g=P(g);for(var f,a=[];!(f=g.next()).done;)a.push(f.value);g=a;}return g;}function ia(g,f){var a,d;if(f){a=oa;g=g.split(".");for(var b=0;b<g.length-1;b++){d=g[b];d in a||(a[d]={});a=a[d];}g=g[g.length-1];b=a[g];f=f(b);f!=b&&null!=f&&xa(a,g,{configurable:!0,writable:!0,value:f});}}function ma(g,f){return Object.prototype.hasOwnProperty.call(g,f);}function la(g,f){var a,b;n();g instanceof String&&(g+="");a=0;b={next:function(){var d;if(a<g.length){d=a++;return{value:f(d,g[d]),done:!1};}b.next=function(){return{done:!0,value:void 0};};return b.next();}};b[Symbol.iterator]=function(){return b;};return b;}function qa(g,f,a){if(null==g)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return g+"";}function pa(g,f,a){var t;g instanceof String&&(g=String(g));for(var b=g.length,d=0;d<b;d++){t=g[d];if(f.call(a,t,d,g))return{Ii:d,LW:t};}return{Ii:-1,LW:void 0};}xa="function"==typeof Object.defineProperties?Object.defineProperty:function(g,f,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[f]=a.value);};oa="undefined"!=typeof J&&J===this?this:"undefined"!=typeof global&&null!=global?global:this;Ea=0;ia("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(f,a){f.__proto__=a;if(f.__proto__!==a)throw new TypeError(f+" is not extensible");return f;};});ia("Object.assign",function(g){return g?g:function(f,a){var d;for(var b=1;b<arguments.length;b++){d=arguments[b];if(d)for(var t in d)ma(d,t)&&(f[t]=d[t]);}return f;};});ia("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});ia("Promise",function(g){var b,d;function f(a){var b;this.NL=0;this.daa=void 0;this.BK=[];b=this.i3();try{a(b.resolve,b.reject);}catch(c){b.reject(c);}}function a(){this.uu=null;}if(g)return g;a.prototype.Bna=function(a){null==this.uu&&(this.uu=[],this.LZa());this.uu.push(a);};a.prototype.LZa=function(){var a;a=this;this.Cna(function(){a.j8a();});};b=oa.setTimeout;a.prototype.Cna=function(a){b(a,0);};a.prototype.j8a=function(){var a,c;for(;this.uu&&this.uu.length;){a=this.uu;this.uu=[];for(var b=0;b<a.length;++b){c=a[b];delete a[b];try{c();}catch(k){this.OZa(k);}}}this.uu=null;};a.prototype.OZa=function(a){this.Cna(function(){throw a;});};f.prototype.i3=function(){var b,c;function a(a){return function(d){c||(c=!0,a.call(b,d));};}b=this;c=!1;return{resolve:a(this.uob),reject:a(this.Q$)};};f.prototype.uob=function(a){var b;if(a===this)this.Q$(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.sqb(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.tob(a):this.Yra(a);}};f.prototype.tob=function(a){var b;b=void 0;try{b=a.then;}catch(c){this.Q$(c);return;}"function"==typeof b?this.tqb(b,a):this.Yra(a);};f.prototype.Q$=function(a){this.OBa(2,a);};f.prototype.Yra=function(a){this.OBa(1,a);};f.prototype.OBa=function(a,b){if(0!=this.NL)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.NL);this.NL=a;this.daa=b;this.k8a();};f.prototype.k8a=function(){if(null!=this.BK){for(var a=this.BK,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.BK=null;}};d=new a();f.prototype.sqb=function(a){var b;b=this.i3();a.xQ(b.resolve,b.reject);};f.prototype.tqb=function(a,b){var c;c=this.i3();try{a.call(b,c.resolve,c.reject);}catch(k){c.reject(k);}};f.prototype.then=function(a,b){var d,q,p;function c(a,c){return"function"==typeof a?function(c){try{d(a(c));}catch(L){q(L);}}:c;}p=new f(function(a,c){d=a;q=c;});this.xQ(c(a,d),c(b,q));return p;};f.prototype["catch"]=function(a){return this.then(void 0,a);};f.prototype.xQ=function(a,b){var k;function c(){switch(k.NL){case 1:a(k.daa);break;case 2:b(k.daa);break;default:throw Error("Unexpected state: "+k.NL);}}k=this;null==this.BK?d.Bna(c):this.BK.push(function(){d.Bna(c);});};f.resolve=function(a){return a instanceof f?a:new f(function(b){b(a);});};f.reject=function(a){return new f(function(b,c){c(a);});};f.race=function(a){return new f(function(b,c){for(var d=P(a),q=d.next();!q.done;q=d.next())f.resolve(q.value).xQ(b,c);});};f.all=function(a){var b,c;b=P(a);c=b.next();return c.done?f.resolve([]):new f(function(a,d){var q,z;function k(c){return function(b){q[c]=b;z--;0==z&&a(q);};}q=[];z=0;do q.push(void 0),z++,f.resolve(c.value).xQ(k(q.length-1),d),c=b.next();while(!c.done);});};f.$jscomp$new$AsyncExecutor=function(){return new a();};return f;});ia("Array.prototype.keys",function(g){return g?g:function(){return la(this,function(f){return f;});};});ia("Math.tanh",function(g){return g?g:function(f){var a;f=Number(f);if(0===f)return f;a=Math.exp(-2*Math.abs(f));a=(1-a)/(1+a);return 0>f?-a:a;};});ia("WeakMap",function(g){var d,t;function f(a){this.BJ=(t+=Math.random()+1).toString();if(a){h();n();a=P(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1]);}}function a(a){ma(a,d)||xa(a,d,{value:{}});}function b(b){var c;c=Object[b];c&&(Object[b]=function(b){a(b);return c(b);});}if(function(){var a,c,b;if(!g||!Object.seal)return!1;try{a=Object.seal({});c=Object.seal({});b=new g([[a,2],[c,3]]);if(2!=b.get(a)||3!=b.get(c))return!1;b["delete"](a);b.set(c,4);return!b.has(a)&&4==b.get(c);}catch(q){return!1;}}())return g;d="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");t=0;f.prototype.set=function(b,c){a(b);if(!ma(b,d))throw Error("WeakMap key fail: "+b);b[d][this.BJ]=c;return this;};f.prototype.get=function(a){return ma(a,d)?a[d][this.BJ]:void 0;};f.prototype.has=function(a){return ma(a,d)&&ma(a[d],this.BJ);};f.prototype["delete"]=function(a){return ma(a,d)&&ma(a[d],this.BJ)?delete a[d][this.BJ]:!1;};return f;});ia("Map",function(g){var t,m;function f(){var a;a={};return a.di=a.next=a.head=a;}function a(a,b){var c;c=a.Ds;return D(function(){if(c){for(;c.head!=a.Ds;)c=c.di;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null;}return{done:!0,value:void 0};});}function b(a,b){var c,d,k;c=b&&typeof b;"object"==c||"function"==c?t.has(b)?c=t.get(b):(c=""+ ++m,t.set(b,c)):c="p_"+b;d=a.ls[c];if(d&&ma(a.ls,c))for(a=0;a<d.length;a++){k=d[a];if(b!==b&&k.key!==k.key||b===k.key)return{id:c,list:d,index:a,$d:k};}return{id:c,list:d,index:-1,$d:void 0};}function d(a){this.ls={};this.Ds=f();this.size=0;if(a){a=P(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1]);}}if(function(){var a,b,d,p;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(P([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;d=b.entries();p=d.next();if(p.done||p.value[0]!=a||"s"!=p.value[1])return!1;p=d.next();return p.done||4!=p.value[0].x||"t"!=p.value[1]||!d.next().done?!1:!0;}catch(u){return!1;}}())return g;h();n();t=new WeakMap();d.prototype.set=function(a,d){var c;c=b(this,a);c.list||(c.list=this.ls[c.id]=[]);c.$d?c.$d.value=d:(c.$d={next:this.Ds,di:this.Ds.di,head:this.Ds,key:a,value:d},c.list.push(c.$d),this.Ds.di.next=c.$d,this.Ds.di=c.$d,this.size++);return this;};d.prototype["delete"]=function(a){a=b(this,a);return a.$d&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.ls[a.id],a.$d.di.next=a.$d.next,a.$d.next.di=a.$d.di,a.$d.head=null,this.size--,!0):!1;};d.prototype.clear=function(){this.ls={};this.Ds=this.Ds.di=f();this.size=0;};d.prototype.has=function(a){return!!b(this,a).$d;};d.prototype.get=function(a){return(a=b(this,a).$d)&&a.value;};d.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};d.prototype.keys=function(){return a(this,function(a){return a.key;});};d.prototype.values=function(){return a(this,function(a){return a.value;});};d.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this);};d.prototype[Symbol.iterator]=d.prototype.entries;m=0;return d;});ia("Set",function(g){function f(a){this.bq=new Map();if(a){a=P(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.bq.size;}if(function(){var a,b,d,f;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(P([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;d=b.entries();f=d.next();if(f.done||f.value[0]!=a||f.value[1]!=a)return!1;f=d.next();return f.done||f.value[0]==a||4!=f.value[0].x||f.value[1]!=f.value[0]?!1:d.next().done;}catch(m){return!1;}}())return g;h();n();f.prototype.add=function(a){this.bq.set(a,a);this.size=this.bq.size;return this;};f.prototype["delete"]=function(a){a=this.bq["delete"](a);this.size=this.bq.size;return a;};f.prototype.clear=function(){this.bq.clear();this.size=0;};f.prototype.has=function(a){return this.bq.has(a);};f.prototype.entries=function(){return this.bq.entries();};f.prototype.values=function(){return this.bq.values();};f.prototype[Symbol.iterator]=f.prototype.values;f.prototype.forEach=function(a,b){var d;d=this;this.bq.forEach(function(f){return a.call(b,f,f,d);});};return f;});ia("String.prototype.includes",function(g){return g?g:function(f,a){return-1!==qa(this,f,"includes").indexOf(f,a||0);};});ia("Number.isNaN",function(g){return g?g:function(f){return"number"===typeof f&&isNaN(f);};});ia("Array.prototype.find",function(g){return g?g:function(f,a){return pa(this,f,a).LW;};});ia("Array.prototype.entries",function(g){return g?g:function(){return la(this,function(f,a){return[f,a];});};});ia("String.prototype.repeat",function(g){return g?g:function(f){var a;a=qa(this,null,"repeat");if(0>f||1342177279<f)throw new RangeError("Invalid count value");f|=0;for(var b="";f;)if(f&1&&(b+=a),f>>>=1)a+=a;return b;};});ia("String.prototype.endsWith",function(g){return g?g:function(f,a){var b;b=qa(this,f,"endsWith");f+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var d=f.length;0<d&&0<a;)if(b[--a]!=f[--d])return!1;return 0>=d;};});ia("Array.prototype.findIndex",function(g){return g?g:function(f,a){return pa(this,f,a).Ii;};});ia("String.prototype.startsWith",function(g){return g?g:function(f,a){var b,d,t;b=qa(this,f,"startsWith");f+="";d=b.length;t=f.length;a=Math.max(0,Math.min(a|0,b.length));for(var m=0;m<t&&a<d;)if(b[a++]!=f[m++])return!1;return m>=t;};});ia("Array.prototype.values",function(g){return g?g:function(){return la(this,function(f,a){return a;});};});ia("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ia("Array.prototype.fill",function(g){return g?g:function(f,a,b){var d;d=this.length||0;0>a&&(a=Math.max(0,d+a));if(null==b||b>d)b=d;b=Number(b);0>b&&(b=Math.max(0,d+b));for(a=Number(a||0);a<b;a++)this[a]=f;return this;};});(function(g){var a;function f(b){var d;if(a[b])return a[b].T;d=a[b]={Ii:b,Teb:!1,T:{}};g[b].call(d.T,d,d.T,f);d.Teb=!0;return d.T;}a={};f.RHb=g;f.AEb=a;f.d=function(a,d,t){f.gjb(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:t});};f.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};f.n=function(a){var b;b=a&&a.wja?function(){return a["default"];}:function(){return a;};f.d(b,"a",b);return b;};f.gjb=function(a,d){return Object.prototype.hasOwnProperty.call(a,d);};f.p="";return f(f.DJb=1054);}([function(g,f,a){function b(){b=Object.assign||function(a){for(var c,b=1,d=arguments.length;b<d;b++){c=arguments[b];for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(a[k]=c[k]);}return a;};return b.apply(this,arguments);}function d(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c;}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);};return d(a,c);}function t(a,c){function b(){this.constructor=a;}d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());}function m(a,c){var b,d,k;b={};for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>c.indexOf(d)&&(b[d]=a[d]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){k=0;for(d=Object.getOwnPropertySymbols(a);k<d.length;k++)0>c.indexOf(d[k])&&Object.prototype.propertyIsEnumerable.call(a,d[k])&&(b[d[k]]=a[d[k]]);}return b;}function c(a,c,b,d){var k,q,p;k=arguments.length;q=3>k?c:null===d?d=Object.getOwnPropertyDescriptor(c,b):d;if("object"===typeof Reflect&&"function"===typeof Reflect.Lu)q=Reflect.Lu(a,c,b,d);else for(var u=a.length-1;0<=u;u--)if(p=a[u])q=(3>k?p(q):3<k?p(c,b,q):p(c,b))||q;return 3<k&&q&&Object.defineProperty(c,b,q),q;}function k(a,c){return function(b,d){c(b,d,a);};}function q(a,c){if("object"===typeof Reflect&&"function"===typeof Reflect.fd)return Reflect.fd(a,c);}function p(a,c,b,d){return new(b||(b=Promise))(function(k,q){function p(a){try{f(d.next(a));}catch(fa){q(fa);}}function u(a){try{f(d["throw"](a));}catch(fa){q(fa);}}function f(a){a.done?k(a.value):new b(function(c){c(a.value);}).then(p,u);}f((d=d.apply(a,c||[])).next());});}function u(a,c){var k,q,p,u,f;function b(a){return function(c){return d([a,c]);};}function d(b){if(q)throw new TypeError("Generator is already executing.");for(;k;)try{if(q=1,p&&(u=b[0]&2?p["return"]:b[0]?p["throw"]||((u=p["return"])&&u.call(p),0):p.next)&&!(u=u.call(p,b[1])).done)return u;if(p=0,u)b=[b[0]&2,u.value];switch(b[0]){case 0:case 1:u=b;break;case 4:return k.label++,{value:b[1],done:!1};case 5:k.label++;p=b[1];b=[0];continue;case 7:b=k.kz.pop();k.fA.pop();continue;default:if(!(u=k.fA,u=0<u.length&&u[u.length-1])&&(6===b[0]||2===b[0])){k=0;continue;}if(3===b[0]&&(!u||b[1]>u[0]&&b[1]<u[3]))k.label=b[1];else if(6===b[0]&&k.label<u[1])k.label=u[1],u=b;else if(u&&k.label<u[2])k.label=u[2],k.kz.push(b);else{u[2]&&k.kz.pop();k.fA.pop();continue;}}b=c.call(a,k);}catch(fa){b=[6,fa];p=0;}finally{q=u=0;}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0};}k={label:0,OV:function(){if(u[0]&1)throw u[1];return u[1];},fA:[],kz:[]};h();h();n();return f={next:b(0),"throw":b(1),"return":b(2)},"function"===typeof Symbol&&(f[Symbol.iterator]=function(){return this;}),f;}function z(a,c){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b]);}function y(a){var c,b;h();h();n();c="function"===typeof Symbol&&a[Symbol.iterator];b=0;return c?c.call(a):{next:function(){a&&b>=a.length&&(a=void 0);return{value:a&&a[b++],done:!a};}};}function L(a,c){var b,d,k,q;h();h();n();b="function"===typeof Symbol&&a[Symbol.iterator];if(!b)return a;a=b.call(a);k=[];try{for(;(void 0===c||0<c--)&&!(d=a.next()).done;)k.push(d.value);}catch(va){q={error:va};}finally{try{d&&!d.done&&(b=a["return"])&&b.call(a);}finally{if(q)throw q.error;}}return k;}function A(){for(var a=[],c=0;c<arguments.length;c++)a=a.concat(L(arguments[c]));return a;}function B(){for(var a=0,c=0,b=arguments.length;c<b;c++)a+=arguments[c].length;for(var a=Array(a),d=0,c=0;c<b;c++)for(var k=arguments[c],q=0,p=k.length;q<p;q++,d++)a[d]=k[q];return a;}function M(a){return this instanceof M?(this.LW=a,this):new M(a);}function S(a,c,b){var f,z,m;function d(a){f[a]&&(z[a]=function(c){return new Promise(function(b,d){1<m.push([a,c,b,d])||k(a,c);});});}function k(a,c){var b;try{b=f[a](c);b.value instanceof M?Promise.resolve(b.value.LW).then(q,p):u(m[0][2],b);}catch(Fa){u(m[0][3],Fa);}}function q(a){k("next",a);}function p(a){k("throw",a);}function u(a,c){(a(c),m.shift(),m.length)&&k(m[0][0],m[0][1]);}h();if(!Symbol.jQ)throw new TypeError("Symbol.asyncIterator is not defined.");f=b.apply(a,c||[]);m=[];h();return z={},d("next"),d("throw"),d("return"),z[Symbol.jQ]=function(){return this;},z;}function Q(a){var b,d;function c(c,k){b[c]=a[c]?function(b){return(d=!d)?{value:M(a[c](b)),done:"return"===c}:k?k(b):b;}:k;}h();n();return b={},c("next"),c("throw",function(a){throw a;}),c("return"),b[Symbol.iterator]=function(){return this;},b;}function l(a){var d,k;function c(c){k[c]=a[c]&&function(d){return new Promise(function(k,q){d=a[c](d);b(k,q,d.done,d.value);});};}function b(a,c,b,d){Promise.resolve(d).then(function(c){a({value:c,done:b});},c);}h();if(!Symbol.jQ)throw new TypeError("Symbol.asyncIterator is not defined.");h();d=a[Symbol.jQ];h();n();h();return d?d.call(a):(a="function"===typeof y?y(a):a[Symbol.iterator](),k={},c("next"),c("throw"),c("return"),k[Symbol.jQ]=function(){return this;},k);}function E(a,c){Object.defineProperty?Object.defineProperty(a,"raw",{value:c}):a.raw=c;return a;}function ka(a){var c;if(a&&a.wja)return a;c={};if(null!=a)for(var b in a)Object.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c;}function R(a){return a&&a.wja?a:{"default":a};}a.r(f);a.d(f,"__extends",function(){return t;});a.d(f,"__assign",function(){return b;});a.d(f,"__rest",function(){return m;});a.d(f,"__decorate",function(){return c;});a.d(f,"__param",function(){return k;});a.d(f,"__metadata",function(){return q;});a.d(f,"__awaiter",function(){return p;});a.d(f,"__generator",function(){return u;});a.d(f,"__exportStar",function(){return z;});a.d(f,"__values",function(){return y;});a.d(f,"__read",function(){return L;});a.d(f,"__spread",function(){return A;});a.d(f,"__spreadArrays",function(){return B;});a.d(f,"__await",function(){return M;});a.d(f,"__asyncGenerator",function(){return S;});a.d(f,"__asyncDelegator",function(){return Q;});a.d(f,"__asyncValues",function(){return l;});a.d(f,"__makeTemplateObject",function(){return E;});a.d(f,"__importStar",function(){return ka;});a.d(f,"__importDefault",function(){return R;});},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(31);f.Azb=g;g=a(1051);f.zF=g.zF;g=a(81);f.On=g.On;f.Eh=g.Eh;f.hr=g.hr;g=a(1035);f.Uca=g.Uca;f.Yb=g.Yb;g=a(1034);f.N=g.N;g=a(1033);f.ACa=g.ACa;g=a(1032);f.uxa=g.uxa;g=a(473);f.l=g.l;f.MY=g.MY;g=a(1031);f.optional=g.optional;g=a(1030);f.Yg=g.Yg;g=a(1029);f.$y=g.$y;g=a(1028);f.fM=g.fM;g=a(1027);f.$ya=g.$ya;g=a(475);f.VY=g.VY;g=a(103);f.id=g.id;g=a(88);f.Lu=g.Lu;g=a(470);f.lDa=g.lDa;f.BCa=g.BCa;f.vxa=g.vxa;f.qDa=g.qDa;g=a(138);f.hD=g.hD;a=a(1026);f.sxa=a.sxa;},function(g,f){var a,b;Object.defineProperty(f,"__esModule",{value:!0});(function(a){a[a.bj=7001]="UNKNOWN";a[a.ZRa=7002]="UNHANDLED_EXCEPTION";a[a.HKa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Wea=7010]="INIT_ASYNCCOMPONENT";a[a.pfa=7011]="INIT_HTTP";a[a.FKa=7014]="INIT_BADMOVIEID";a[a.TKa=7016]="INIT_NETFLIXID_MISSING";a[a.SKa=7017]="INIT_NETFLIXID_INVALID";a[a.VKa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.qfa=7020]="INIT_PLAYBACK_LOCK";a[a.rfa=7022]="INIT_SESSION_LOCK";a[a.UKa=7029]="INIT_POSTAUTHORIZE";a[a.Uyb=7031]="INIT_HEADER_MEDIA";a[a.xyb=7032]="HEADER_MISSING";a[a.wyb=7033]="HEADER_FRAGMENTS_MISSING";a[a.WKa=7034]="INIT_TIMEDTEXT_TRACK";a[a.Vyb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.Wyb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.AEa=7037]="ASE_SESSION_ERROR";a[a.zEa=7038]="ASE_SEEK_THREW";a[a.BEa=7039]="ASE_SKIPPED_THREW";a[a.PKa=7041]="INIT_CORE_OBJECTS1";a[a.QKa=7042]="INIT_CORE_OBJECTS2";a[a.RKa=7043]="INIT_CORE_OBJECTS3";a[a.Ryb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.Lyb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.hfa=7053]="INIT_COMPONENT_STORAGE";a[a.ifa=7054]="INIT_COMPONENT_STORAGELOCK";a[a.Myb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.Nyb=7056]="INIT_COMPONENT_NRDDPI";a[a.Pyb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.dfa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.FY=7059]="INIT_COMPONENT_DEVICE";a[a.Oyb=7062]="INIT_COMPONENT_NTBA";a[a.efa=7063]="INIT_COMPONENT_MSL";a[a.$ea=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.cfa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Et=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.Qyb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.Xea=7069]="INIT_COMPONENT_ACCOUNT";a[a.JKa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.LKa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.MKa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.NKa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.OKa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.IKa=7081]="INIT_COMPONENT_NRDP";a[a.KKa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.ofa=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.kfa=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.Tyb=7085]="INIT_CONGESTION_SERVICE";a[a.bfa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.jfa=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Zea=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Yea=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.Syb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.CA=7091]="INIT_COMPONENT_DRM_CACHE";a[a.GKa=7092]="INIT_COMPONENT_DRM";a[a.ffa=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.afa=7094]="INIT_COMPONENT_FTL";a[a.gfa=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.lfa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.mfa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.nfa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.LEa=7112]="AUTHORIZE_UNKNOWN";a[a.XLa=7117]="MANIFEST_VERIFY";a[a.sia=7120]="START";a[a.Mw=7121]="LICENSE";a[a.qQa=7122]="SECURESTOP";a[a.wia=7123]="STOP";a[a.myb=7124]="FPSAPPDATA";a[a.LY=7125]="KEEPALIVE";a[a.Ywb=7126]="DEACTIVATE";a[a.wCb=7127]="SYNC_DEACTIVATE_LINKS";a[a.xvb=7130]="ACTIVATE";a[a.hOa=7131]="PING";a[a.Dga=7133]="NETFLIXID";a[a.aJa=7134]="ENGAGE";a[a.zLa=7135]="LOGIN";a[a.JQa=7136]="SWITCH_PROFILES";a[a.yLa=7137]="LOGBLOB";a[a.SNa=7138]="PAUSE";a[a.$Pa=7139]="RESUME";a[a.qia=7140]="SPLICE";a[a.ixb=7141]="DOWNLOAD_EVENT";a[a.tFa=7142]="BIND";a[a.PNa=7143]="PAIR";a[a.uFa=7144]="BIND_DEVICE";a[a.jOa=7202]="PLAY_INIT_EXCEPTION";a[a.vzb=7301]="MEDIA_DOWNLOAD";a[a.YAb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.ZAb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.bha=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.pOa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.cha=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.qOa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.jZ=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.eha=7351]="PLAY_MSE_NOTSUPPORTED";a[a.dha=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.aha=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.kZ=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.mZ=7355]="PLAY_MSE_SOURCEADD";a[a.kOa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.uOa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.dBb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.XAb=7359]="PLAY_MSE_ADDKEY";a[a.gBb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.tOa=7361]="PLAY_MSE_EVENT_ERROR";a[a.lZ=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.NN=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.sOa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.vOa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.wOa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.xOa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.eBb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.BOa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.AOa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.zOa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.fBb=7379]="PLAY_MSE_SOURCE_EOS";a[a.yOa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.cBb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.lOa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.mOa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.nOa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.aBb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.rOa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.$Ab=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.bBb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.oOa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.fha=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.eJa=7400]="EXTERNAL";a[a.LN=7500]="PAUSE_TIMEOUT";a[a.wN=7502]="INACTIVITY_TIMEOUT";a[a.KEa=7510]="AUTHORIZATION_EXPIRED";a[a.$wb=7520]="DECRYPT_AUDIO";a[a.oia=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.rQa=7601]="SECURE_STOP_KEY_ERROR";a[a.aCb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.MBb=7603]="SECURE_STOP_NCCP_ERROR";a[a.NBb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.$Bb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.RBb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.sQa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.SBb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.TBb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.EZ=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.OBb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.UBb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.XBb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.VBb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.QBb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.ZBb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.WBb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.PBb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.YBb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.WIa=7700]="EME_INVALID_KEYSYSTEM";a[a.jea=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.iea=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.kea=7703]="EME_GENERATEREQUEST_FAILED";a[a.gN=7704]="EME_UPDATE_FAILED";a[a.zxb=7705]="EME_KEYSESSION_ERROR";a[a.Kxb=7706]="EME_NO_KEYMESSAGE";a[a.oea=7707]="EME_REMOVE_FAILED";a[a.YIa=7708]="EME_LOAD_FAILED";a[a.TIa=7709]="EME_CREATE_SESSION_FAILED";a[a.Bxb=7710]="EME_LDL_RENEWAL_ERROR";a[a.lea=7711]="EME_INVALID_INITDATA_DATA";a[a.mea=7712]="EME_INVALID_LICENSE_DATA";a[a.XIa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.Cxb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.nea=7715]="EME_INVALID_SECURESTOP_DATA";a[a.SIa=7716]="EME_CLOSE_FAILED";a[a.iOa=7800]="PLAYDATA_STORE_FAILURE";a[a.WAb=7801]="PLAYDATA_SEND_FAILURE";a[a.uF=7900]="BRANCH_PLAY_FAILURE";a[a.Bw=7901]="BRANCH_QUEUE_FAILURE";a[a.Yca=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.kAb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.lAb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.YNa=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.MN=8200]="PLAYGRAPH_ADD_MANIFEST";}(a=f.I||(f.I={})));(function(a){a[a.bj=1001]="UNKNOWN";a[a.$g=1003]="EXCEPTION";a[a.ZKa=1004]="INVALID_DI";a[a.EEa=1011]="ASYNCLOAD_EXCEPTION";a[a.FEa=1013]="ASYNCLOAD_TIMEOUT";a[a.yvb=1015]="ASYNCLOAD_BADCONFIG";a[a.CEa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.DEa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.BA=1101]="HTTP_UNKNOWN";a[a.CY=1102]="HTTP_XHR";a[a.NF=1103]="HTTP_PROTOCOL";a[a.MF=1104]="HTTP_OFFLINE";a[a.OF=1105]="HTTP_TIMEOUT";a[a.Lw=1106]="HTTP_READTIMEOUT";a[a.Dt=1107]="HTTP_ABORT";a[a.yY=1108]="HTTP_PARSE";a[a.Lea=1110]="HTTP_BAD_URL";a[a.AA=1111]="HTTP_PROXY";a[a.aga=1203]="MSE_AUDIO";a[a.bga=1204]="MSE_VIDEO";a[a.mMa=1250]="MSE_MEDIA_ERR_BASE";a[a.Ezb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.Hzb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.Fzb=1253]="MSE_MEDIA_ERR_DECODE";a[a.Izb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.Gzb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.wA=1260]="EME_MEDIA_KEYERR_BASE";a[a.Ixb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.Dxb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.Hxb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.Gxb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.Fxb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.Exb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.Jxb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.VIa=1280]="EME_ERROR_NODRMSESSSION";a[a.UIa=1281]="EME_ERROR_NODRMREQUESTS";a[a.xxb=1282]="EME_ERROR_INDIV_FAILED";a[a.yxb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.$Ia=1284]="EME_TIMEOUT_MESSAGE";a[a.ZIa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.IX=1286]="EME_UNDEFINED_DATA";a[a.CF=1287]="EME_INVALID_STATE";a[a.Axb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.HX=1289]="EME_EMPTY_DATA";a[a.DF=1290]="EME_TIMEOUT";a[a.$zb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.cAb=1305]="NCCP_PARSEXML";a[a.KOa=1309]="PROCESS_EXCEPTION";a[a.bAb=1311]="NCCP_NETFLIXID_MISSING";a[a.dAb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.Xzb=1313]="NCCP_HMAC_MISSING";a[a.Wzb=1315]="NCCP_HMAC_MISMATCH";a[a.Vzb=1317]="NCCP_HMAC_FAILED";a[a.Uzb=1321]="NCCP_CLIENTTIME_MISSING";a[a.Tzb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Hea=1331]="GENERIC";a[a.oNa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.pNa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.eAb=1341]="NCCP_TRANSACTION";a[a.Yzb=1343]="NCCP_INVALID_DRMTYPE";a[a.Zzb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.aAb=1345]="NCCP_MISSING_PAYLOAD";a[a.oBb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.nBb=1347]="PROTOCOL_MISSING_FIELD";a[a.LOa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.mp=1402]="STORAGE_NODATA";a[a.gCb=1403]="STORAGE_EXCEPTION";a[a.oCb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.pCb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.yia=1411]="STORAGE_LOAD_ERROR";a[a.FQa=1412]="STORAGE_LOAD_TIMEOUT";a[a.zia=1414]="STORAGE_SAVE_ERROR";a[a.IQa=1415]="STORAGE_SAVE_TIMEOUT";a[a.GZ=1417]="STORAGE_DELETE_ERROR";a[a.xia=1418]="STORAGE_DELETE_TIMEOUT";a[a.nCb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.kCb=1423]="STORAGE_FS_GETDIRECTORY";a[a.mCb=1425]="STORAGE_FS_READENTRIES";a[a.hCb=1427]="STORAGE_FS_FILEREAD";a[a.jCb=1429]="STORAGE_FS_FILEWRITE";a[a.iCb=1431]="STORAGE_FS_FILEREMOVE";a[a.lCb=1432]="STORAGE_FS_PARSEJSON";a[a.HQa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.GQa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.rAb=1501]="NTBA_UNKNOWN";a[a.qAb=1502]="NTBA_EXCEPTION";a[a.mAb=1504]="NTBA_CRYPTO_KEY";a[a.oAb=1506]="NTBA_CRYPTO_OPERATION";a[a.nAb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.pAb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Gda=1553]="DEVICE_NO_ESN";a[a.wX=1555]="DEVICE_ERROR_GETTING_ESN";a[a.iha=1603]="PLUGIN_LOAD_MISSING";a[a.gha=1605]="PLUGIN_LOAD_ERROR";a[a.jha=1607]="PLUGIN_LOAD_TIMEOUT";a[a.hha=1609]="PLUGIN_LOAD_EXCEPTION";a[a.FOa=1625]="PLUGIN_EXCEPTION";a[a.COa=1627]="PLUGIN_CALLBACK_ERROR";a[a.DOa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.DJa=1701]="FORMAT_UNKNOWN";a[a.zea=1713]="FORMAT_XML";a[a.EJa=1715]="FORMAT_XML_CONTENT";a[a.CJa=1721]="FORMAT_BASE64";a[a.kN=1723]="FORMAT_DFXP";a[a.sKa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Uea=1802]="INDEXDB_NOT_SUPPORTED";a[a.rKa=1803]="INDEXDB_OPEN_ERROR";a[a.Vea=1804]="INDEXDB_OPEN_NULL";a[a.qKa=1805]="INDEXDB_OPEN_BLOCKED";a[a.tKa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.pKa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.xN=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.vMa=1901]="MSL_UNKNOWN";a[a.oMa=1911]="MSL_INIT_NO_MSL";a[a.fga=1913]="MSL_INIT_ERROR";a[a.pMa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.cga=1931]="MSL_ERROR";a[a.uMa=1933]="MSL_REQUEST_TIMEOUT";a[a.tMa=1934]="MSL_READ_TIMEOUT";a[a.nMa=1935]="MSL_ERROR_HEADER";a[a.WF=1936]="MSL_ERROR_ENVELOPE";a[a.dga=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.ega=1957]="MSL_ERROR_REAUTH";a[a.XZ=2103]="WEBCRYPTO_MISSING";a[a.rSa=2105]="WEBCRYPTOKEYS_MISSING";a[a.sSa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.Dwb=2200]="CACHEDDATA_PARSEJSON";a[a.fda=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.Ewb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.st=2203]="CACHEDDATA_INVALID_FORMAT";a[a.vvb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.wvb=3001]="ACCOUNT_INVALID";a[a.hxb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.gxb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.exb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.fxb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.dxb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.qCb=3300]="STORAGE_VA_LOAD_ERROR";a[a.rCb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.uCb=3302]="STORAGE_VA_SAVE_ERROR";a[a.vCb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.sCb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.tCb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.iZ=3077]="PBO_DEVICE_EOL_WARNING";a[a.Vga=3078]="PBO_DEVICE_EOL_FINAL";a[a.eOa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.TNa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.XNa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Wga=5007]="PBO_INCORRECT_PIN";a[a.cOa=5008]="PBO_MOBILE_ONLY";a[a.ZNa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.VNa=5059]="PBO_BLACKLISTED_IP";a[a.UNa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.WNa=5080]="PBO_CHOICE_MAP_ERROR";a[a.dOa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.aOa=5091]="PBO_MALFORMED_REQUEST";a[a.$Na=5092]="PBO_INVALID_SERVICE_VERSION";a[a.bOa=5093]="PBO_MDX_INVALID_CTICKET";a[a.mHa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.nHa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.iIa=5200]="DOWNLOADER_IO_ERROR";a[a.Xca=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.zFa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.Rvb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.fX=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.vFa=5304]="BRANCHING_ASE_FAILURE";a[a.xFa=5305]="BRANCHING_MOMENT_FAILURE";a[a.wFa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.Qvb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.AFa=5308]="BRANCHING_SEEK_THREW";a[a.Pvb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.yFa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.BFa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.CFa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.rEa=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.yca=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(b=f.G||(f.G={})));(function(a){a[a.bwb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Svb=5005]="BR_ACCOUNT_ON_HOLD";a[a.Wvb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Zvb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.Vvb=5059]="BR_BLACKLISTED_IP";a[a.Tvb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.$vb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.Xvb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.awb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.Yvb=2207]="BR_ENDPOINT_ERROR";a[a.Uvb=2208]="BR_AUTHORIZATION_ERROR";}(f.sJa||(f.sJa={})));f.DY={HFa:"400",bDb:"401",mha:"413"};f.WY={kyb:1,PCb:2,Nxb:3,aDb:4,mzb:5,Mxb:6,UZ:7,dJa:8,EBb:9,dCb:10};(function(a){a[a.QNa=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.RNa=98]="PAIRING_UNKNOWN_ERROR";}(f.TY||(f.TY={})));f.Uxb=function(a){return 7100<=a&&7200>a;};f.qJa=function(b){return b==a.LN||b==a.wN;};f.uJa=function(a){return 1100<=a&&1199>=a;};f.Wxb=function(a){return 1300<=a&&1399>=a;};f.Vxb=function(a){return 1900<=a&&1999>=a;};f.tea=function(a,b){return 1<=a&&9>=a?b+a:b;};f.vJa=function(a){return f.tea(a,b.mMa);};f.uea=function(a){return f.tea(a,b.wA);};f.Sn=function(a){var f,d,c;f={};d=a.errorExternalCode||a.Ec;c=a.errorDetails||a.Ra;f.ErrorSubCode=a.errorSubCode||a.Y||b.bj;d&&(f.ErrorExternalCode=d);c&&(f.ErrorDetails=c);return f;};},function(g,f,a){var t;function b(a){return t.cO.apply(this,arguments)||this;}function d(a){return new t.jp(a,f.ma);}Object.defineProperty(f,"__esModule",{value:!0});t=a(469);aa(b,t.cO);f.UCb=b;f.dIb=function(a){return new t.jp(a,f.IA);};f.Olb=function(a){return new t.jp(a*f.xm.Le,f.IA);};f.Cb=d;f.Ag=function(a){return new t.jp(a,f.xm);};f.d9=function(a){return new t.jp(a,f.wga);};f.aHb=function(a){return new t.jp(a,f.jKa);};f.timestamp=function(a){return d(a);};f.IA=new b(1,"\u03bcs");f.ma=new b(1E3,"ms",f.IA);f.xm=new b(1E3*f.ma.Le,"s",f.IA);f.wga=new b(60*f.xm.Le,"min",f.IA);f.jKa=new b(60*f.wga.Le,"hr",f.IA);f.Cf=d(0);},function(g,f,a){var b,d,t,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(476);g=a(7);d=a(29);t=a(98);m=a(99);c=a(41);k=a(19);q=a(61);f.mm=b.Uc.get(t.fx);f.IW=f.mm.encode.bind(f.mm);f.vM=f.mm.decode.bind(f.mm);f.qh=b.Uc.get(m.Cw);f.kEb=f.qh.encode.bind(f.qh);f.jEb=f.qh.decode.bind(f.qh);f.Nna=f.qh.eJ.bind(f.qh);f.lEb=f.qh.bDa.bind(f.qh);f.me=b.Uc.get(c.Ij);f.Vr=function(a){a=k.Od(a)?f.vM(a):a;return f.me.encode(a);};f.Kk=f.me.decode.bind(f.me);f.x_a=function(a){return f.IW(f.Kk(a));};f.nRa=a(516);f.aD=function(){return b.Uc.get(d.DX);};f.uf=b.Uc.get(g.qb);f.log=f.uf.lb("General");f.Jf=function(a,c){return f.uf.lb(a,void 0,c);};f.Zf=function(a,c){return f.uf.lb(c,a,void 0);};f.lS=function(a,c,b,k){return f.uf.lb(a,void 0,k,c,b);};f.xZ=function(a,c){return b.Uc.get(q.ql)(a,c,void 0).Pba();};f.W=b.Uc;},function(g){g.T={EJ:function(f){for(var a in f)f.hasOwnProperty(a)&&(this[a]=f[a]);},reset:function(){}};},function(g){var f;f={pa:function(a){return"number"===typeof a;},Ve:function(a){return"object"===typeof a;},Od:function(a){return"string"===typeof a;},R:function(a){return"undefined"===typeof a;},beb:function(a){return"boolean"===typeof a;},Mb:function(a){return"function"===typeof a;},Pa:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},gkb:function(a){var b,d;d=[];if(!f.Ve(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&d.push([b,a[b]]);return d;}};f.ad=f.forEach=function(a,b,d){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var t=0,m=a.length;t<m;t++)b.call(d,a[t],t,a);else for(t in a)f.has(a,t)&&b.call(d,a[t],t,a);return a;};g.T=f;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.Hh||(f.Hh={});g[g.BJa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.WZ=2]="WARN";g[g.EY=3]="INFO";g[g.Sia=4]="TRACE";g[g.uX=5]="DEBUG";f.Rfa="LogFieldBuilderFactorySymbol";f.qb="LoggerFactorySymbol";f.Hw={};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g="undefined"===typeof J?{}:J;f.sk=g.navigator||{};f.Nj=f.sk.userAgent;f.bZ=g.location;f.br=g.screen;f.ar=g.performance;f.Jd=g.document||{};f.gAb=f.Jd.documentElement;f.su=Array.prototype;f.sort=f.su.sort;f.map=f.su.map;f.slice=f.su.slice;f.every=f.su.every;f.reduce=f.su.reduce;f.filter=f.su.filter;f.forEach=f.su.forEach;f.pop=f.su.pop;f.eG=Object.create;f.INa=Object.keys;f.dN=Date.now;f.jRa=String.fromCharCode;f.Rw=Math.floor;f.HMa=Math.ceil;f.Jh=Math.round;f.um=Math.max;f.Un=Math.min;f.YF=Math.random;f.XF=Math.abs;f.lga=Math.pow;f.IMa=Math.sqrt;f.aZ=g.escape;f.cZ=g.unescape;f.URL=g.URL||g.webkitURL;f.LA=g.MediaSource||g.WebKitMediaSource;f.bG=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;f.Mt=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;f.Xm=f.Mt&&(f.Mt.webkitSubtle||f.Mt.subtle);f.$Y=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;try{f.indexedDB=g.indexedDB;}catch(a){f.jHb=a||"noex";}try{f.localStorage=g.localStorage;}catch(a){f.Rva=a||"noex";}},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.je=function(){};f.aQa=function(){return!0;};f.wc={X:!0};f.Mj=1E3;f.KBb=86400;f.LBb=604800;f.wzb=1E4;f.xzb=1E7;f.eDb=1.5;f.kzb=.128;f.Ovb=7.8125;f.dwb=128;f.Ow=145152E5;f.ZLa=1E5;f.eZ="$netflix$player$order";f.PA=-1;f.fZ=1;f.vHa=["en-US"];f.ewb=8;f.$La=65535;f.cCb=65536;f.wAb=Number.MAX_VALUE;f.GX="playready";f.dea="widevine";f.wxb="fps";f.OIa="clearkey";f.Pw='audio/mp4; codecs="mp4a.40.5"';f.cMa='audio/mp4; codecs="mp4a.a6"';f.pl='video/mp4; codecs="avc1.640028"';f.zzb='video/mp4; codecs="hev1.2.6.L153.B0"';f.yzb='video/mp4; codecs="dvhe.01000000"';f.MIa="9A04F079-9840-4286-AB92-E65BE0885F95";f.uxb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";f.vxb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";f.swb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];f.UFa="A2394F52-5A9B-4F14-A244-6C427C648DF4";f.twb="4E657466-6C69-7846-7261-6D6552617465";f.uwb="8974DBCE-7BE7-4C51-84F9-7148F9882554";f.owb="mp4a";f.SFa="enca";f.lwb="ec-3";f.jwb="avc1";f.TFa="encv";f.nwb="hvcC";f.mwb="hev1";f.kwb="dvhe";f.pwb="vp09";f.OY=0;f.VF=1;},function(g,f,a){var b,d,t,m;b=a(80);d=a(1002);t=a(240);m=a(1001);g=function(){function a(a){this.ur=!1;a&&(this.Tf=a);}a.prototype.ag=function(c){var b;b=new a();b.source=this;b.J9=c;return b;};a.prototype.subscribe=function(a,c,b){var k;k=this.J9;a=d.Osb(a,c,b);k?k.call(a,this.source):a.add(this.source||!a.mk?this.Tf(a):this.U0(a));if(a.mk&&(a.mk=!1,a.Uz))throw a.Vz;return a;};a.prototype.U0=function(a){try{return this.Tf(a);}catch(q){a.Uz=!0;a.Vz=q;a.error(q);}};a.prototype.forEach=function(a,c){var k;k=this;c||(b.root.Zw&&b.root.Zw.config&&b.root.Zw.config.Promise?c=b.root.Zw.config.Promise:b.root.Promise&&(c=b.root.Promise));if(!c)throw Error("no Promise impl found");return new c(function(c,b){var q;q=k.subscribe(function(c){if(q)try{a(c);}catch(A){b(A);q.unsubscribe();}else a(c);},b,c);});};a.prototype.Tf=function(a){return this.source.subscribe(a);};a.prototype[t.observable]=function(){return this;};a.prototype.blb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return 0===a.length?this:m.clb(a)(this);};a.prototype.iM=function(){var a,c;c=this;a||(b.root.Zw&&b.root.Zw.config&&b.root.Zw.config.Promise?a=b.root.Zw.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var k;c.subscribe(function(a){return k=a;},function(a){return b(a);},function(){return a(k);});});};a.create=function(c){return new a(c);};return a;}();f.Da=g;},function(g){g.T={Ma:{Lh:0,Hj:1,Nt:2,yd:3,UN:4,TN:5,ni:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},cwb:{Pt:0,fCb:1,name:["STARTUP","STEADY"]},tN:{Lh:0,eCb:1,$Ra:2,name:["STARTING","STABLE","UNSTABLE"]},L:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Ih:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Ef:{URL:0,ax:1,Ifa:2,$q:3,name:["URL","SERVER","LOCATION","NETWORK"]},xd:{HAVE_NOTHING:0,Ct:1,gp:2,IF:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Ne:{Wca:0,AJa:1,lBb:2,NEXT:3,LAb:4,NCb:5,nyb:6,aMa:7,Pt:8,ERROR:9,nZ:10,JOa:11,eX:12,xLa:13,wLa:14,vQa:15,uQa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},Lxb:{$q:0,Zwb:1,name:["NETWORK","DECODE"]},tQa:{Dda:"delayedSeamless",Gyb:"hideLongTransition"}};},function(g,f,a){var t,m,c,k,q,p,u,z,y,h,A,B,M,S,Q,l,n,ka;function b(a){return(a=f.config.ztb[d(a)])?a:{};}function d(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";}}Object.defineProperty(f,"__esModule",{value:!0});t=a(9);m=a(28);c=a(4);k=a(51);q=a(14);a(19);p=a(33);u=a(29);z=a(66);y=a(18);a(7);h=a(8);A=a(26);B=a(16);M=a(213);S=a(39);Q=a(57);l=a(137);n=a(35);ka=a(3);f.M1a=function(a){var lb,F,D,dc,Jb,Ab,Qa,ec,ra;function b(a,c){y.Sc(a,function(a,k){B.Mb(k)?c[a]=k.call(void 0,c[a]):B.Ve(k)&&(c[a]=c[a]||{},b(k,c[a]));});}function d(a,c,b,k){for(var d=[],p=3;p<arguments.length;++p)d[p-3]=arguments[p];return function(k){B.Rb(k)&&(b=k);q.Ga(B.Mb(a));return a.apply(void 0,[].concat([c,b],ga(d)));};}function g(a){a=a.toLowerCase();dc.hasOwnProperty(a)&&(D[a]=dc[a],Jb[a]=dc[a]);return a;}function L(a,b,k){var d;a=a.toLowerCase();if(D.hasOwnProperty(a)){d=D[a];try{d=k?k(d):d;}catch(gb){d=void 0;}if(void 0!==d)return d;q.Ga(!1);c.log.error("Invalid configuration value. Name: "+a);}return b;}function W(a,c,b,k){return L(a,c,function(a){B.Od(a)&&(a=y.Qd(a));if(B.jeb(a,b,k))return a;});}function E(a,c,b,k){return L(a,c,function(a){B.Od(a)&&(a=y.Qd(a));if(B.qv(a,b,k))return a;});}function R(a,c,b,k){return L(a,c,function(a){B.Od(a)&&(a=parseFloat(a));if(B.pa(a,b,k))return a;});}function r(a,c,b){return L(a,c,function(a){if(b?b.test(a):B.Od(a))return a;});}function O(a,c){return L(a,c,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function ha(a,c){return L(a,c,function(a){if(B.Od(a))return JSON.parse(h.cZ(a));if(B.Ve(a))return a;});}function fa(a,c,b,k,d,q){var p;a=a.toLowerCase();D.hasOwnProperty(a)&&(p=D[a]);if(!B.Rb(p))return c;if(B.Od(p))if(p[0]!==b)p=k(p);else try{p=JSON.parse(h.cZ(p));}catch(Ya){p=void 0;}if(void 0===p)return c;for(a=0;a<d.length;a++)if(!d[a](p))return c;return q?q(p):p;}function Aa(a,c,b,k,d){return fa(a,c,"[",function(a){a=a.split("|");for(var c=a.length;c--;)a[c]=y.Qd(a[c]);return a;},[function(a){return B.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(!B.qv(a[c],b,k))return!1;return!0;},function(a){return void 0===d||a.length>=d;}]);}function sa(a,c){return fa(a,c,"[",function(a){a=B.isArray(a)?a:a.split("|");for(var c=a.length;c--;)try{a[c]=JSON.parse(h.cZ(a[c]));}catch(gb){a=void 0;break;}return a;},[function(a){return B.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(!B.Rb(a[c])||!B.Ve(a[c]))return!1;return!0;}]);}function ja(a,c,b,k){return fa(a,c,"[",function(a){return B.isArray(a)?a:a.split("|");},[function(a){return B.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(b?!b.test(a[c]):!B.Hy(a[c]))return!1;return!0;},function(a){return void 0===k||a.length>=k;}]);}function Fa(a,c,b){return fa(a,c,"{",function(a){var c,k,d;c={};a=a.split(";");for(var b=a.length;b--;){k=a[b];d=k.indexOf(":");if(0>=d)return;c[k.substring(0,d)]=k.substring(d+1);}return c;},[function(a){return B.Ve(a)&&0<Object.keys(a).length;},function(a){if(b)for(var c in a)if(!b.test(a[c]))return!1;return!0;}],function(a){var b;b={};y.Va(b,c);y.Va(b,a);return b;});}function Oc(a){var c;c=[];y.Sc(a,function(a,b){var k;try{k="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(b);}catch(xd){k="cantparse";}c.push(a+"="+k);});return c.join("\n");}lb=/^[0-9]+[%]?$/;F=/^[0-9]*$/;Jb={};Ab=c.W.get(k.rm);Qa=c.W.get(l.jG);(function(){var k;function b(a){a.split(",").forEach(function(a){var c;c=a.indexOf("=");0<c&&(D[a.substring(0,c).toLowerCase()]=a.substring(c+1));});}D={};y.Va(D,p.Zga);a&&a.length&&h.forEach.call(a,function(a){B.Od(a)?b(a):B.Ve(a)&&y.Va(D,a,{ED:!0});});dc=y.Va({},m.U5(),{ED:!0});k=m.Smb().cadmiumconfig;k&&(c.log.info("Config cookie loaded",k),b(k));if(p.sEa||D.istestaccount)y.Va(D,dc),Jb=dc;"clearkey"!=r("drmType")||D.keysystemid||(D.keysystemid=(J.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());f.config={};ec={g4:d(O,g("enableDDPlus20"),!0),f4:d(O,g("enableDDPlus"),!0),II:d(O,g("enableDDPlusAtmos"),!1),i4:d(O,g("enableHQAAC"),!1),c7a:d(O,g("enableLSSDH"),!0),Z6a:d(O,g("enableHEVC"),!1),qya:d(O,g("overrideEnableHEVC"),!1),Y6a:d(O,g("enableHDR"),!1),pya:d(O,g("overrideEnableHDR"),!1),wR:d(O,g("enableAVCHigh"),Qa.wR),HU:d(O,g("overrideEnableAVCHigh"),Qa.HU),m7a:d(O,g("enableVP9"),!1),rya:d(O,g("overrideEnableVP9"),!1),V6a:d(O,g("enableAV1"),!1),L9:d(O,g("overrideEnableAV1"),!1),h7a:d(O,g("enablePRK"),!1),$6a:d(O,g("enableHWDRM"),!1),b7a:d(O,g("enableImageSubs"),!0),FH:d(ja,g("audioProfiles"),Qa.FH),MFb:d(O,g("disableHD"),!1),OW:d(E,"videoCapabilityDetectorType",u.Oj.Fw),K1:d(E,"audioCapabilityDetectorType",u.Aw.Fw),iF:d(ja,g("videoProfiles"),Qa.iF),IXa:d(ja,g("timedTextProfiles"),Qa.ht),ht:function(){return ec.IXa().filter(function(a){return a===z.vk.xX?ec.c7a():a===z.vk.KA?ec.b7a():!0;});},endpoint:d(O,g("endpoint"),!1),EBa:d(O,g("setMediaKeysEarly"),!1),XS:d(O,g("ignoreKeyStatusOutputNotAllowed"),!1),qqa:d(O,g("doNotPerformLdlOnPlaybackCreate"),!1),rqa:d(O,g("doNotPerformLdlOnPlaybackStart"),!1),QDa:d(O,g("useHdcpLevelOnCast"),!1),a7a:d(O,g("enableHdcp"),!1),An:d(O,g("prepareCadmium"),!1),pYa:d(O,g("acceptManifestOnPrepareItemParams"),!0),cza:d(ha,"ppmconfig",{maxNumberTitlesScheduled:1}),Alb:d(O,g("playerPredictionModelV2"),!0),WL:d(O,g("supportsLimitedDurationLicense"),!1),l4:d(O,g("enableLdlPrefetch"),!1),xR:d(O,g("enableGetHeadersAndMediaPrefetch"),!1),uI:d(O,g("deleteCachedManifestOnPlayback"),!1),wI:d(O,g("deleteOtherManifestCacheOnCreate"),!1),vI:d(O,g("deleteOtherLdlCacheOnCreate"),!1),Ykb:d(E,g("periodicPrepareLogsIntervalMilliseconds"),36E5),Zlb:d(E,g("prepareManifestCacheMaxCount"),50),Xlb:d(E,g("prepareLdlCacheMaxCount"),30),jza:d(E,g("prepareManifestExpiryMilliseconds"),12E5),Ylb:d(E,g("prepareLdlExpiryMilliseconds"),78E4),Wlb:d(r,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Iub:d(ha,"videoApp"),hw:d(ha,"storageRules"),D9a:d(O,"ftlEnabled",!0),R6:d(E,g("imageSubsResolution"),0),xdb:d(E,g("imageSubsMaxBuffer"),Qa.Zgb.fa(n.Pn),0),ZH:d(O,g("captureBatteryStatus"),!1),c$a:d(E,g("getBatteryApiTimeoutMilliseconds"),5E3),Pd:d(r,g("keySystemId"),Qa.Pd),wva:d(ja,g("keySystemList"),void 0,void 0),Fhb:d(E,g("hdcpGlobalTimeout1"),1E4),Ghb:d(E,g("hdcpGlobalTimeout2"),1E4),eIb:d(E,g("hdcpQueryTimeout1"),1E3),fIb:d(E,g("hdcpQueryTimeout2"),1E3),Hhb:d(E,g("hdcpQueryTimeout2"),100),Ihb:d(O,g("microsoftHwdrmRequiresHevc"),!1),Chb:d(O,g("microsoftEnableDeviceInfo"),!1),Dhb:d(O,g("microsoftEnableHardwareInfo"),!1),Ehb:d(O,g("microsoftEnableHardwareReset"),!1),dgb:d(O,"logMediaPipelineStatus",!1),gL:d(O,g("renderDomDiagnostics"),!0),Yva:function(){return-1;},BD:d(W,g("logDisplayMaxEntryCount"),Qa.BD,-1),kgb:d(W,g("logToConsoleLevel"),-1),E_a:d(W,g("bladerunnerCmdHistorySize"),10),Np:function(){return Ab.Np;},fub:d(O,"upgradeNetflixId",!0),Z7:d(O,"logErrorIfEsnNotProvided",!0),p4:d(O,"enforceSinglePlayback",Qa.p4),DR:d(O,"enforceSingleSession",Qa.DR),F2:d(O,"closeOtherPlaybacks",!0),MZa:d(E,"asyncLoadTimeout",15E3,1),xgb:d(E,"mainThreadMonitorPollRate",0),yIb:d(O,"nrdpAlwaysShowUIOverlay",!1),AIb:d(O,"nrdpValidateSSOTokens",!0),zIb:d(r,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),WJb:d(O,"showNrdpDebugBadging",!1),QW:function(){return Ab.QW;},hv:function(){return Ab.hv;},fC:function(){return Ab.fC;},gA:function(){return Ab.gA;},YDa:d(E,g("verbosePlaybackInfoDenominator"),0),sV:d(O,"renderTimedText",!0),Klb:d(O,"preBufferTimedText",!0),A8a:d(O,"fatalOnTimedTextLoadError",!0),TCa:d(Fa,"timedTextStyleDefaults",{}),Mba:d(Fa,"timedTextStyleOverrides",{}),Lba:d(Fa,"timedTextFontFamilyMapping",Qa.Lba||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),UCa:d(E,g("timedTextTimeOverride"),0),XE:d(E,"timedTextSimpleFallbackThreshold",Qa.XE.fa(n.Pn)),r3:d(r,g("customDfxpUrl")),l7a:d(O,g("enableSubtitleTrackerLogging"),!1),ypb:d(O,g("sendSubtitleQoeLogblobOnMidplay"),!1),o2:d(Aa,"cdnIdWhiteList",[]),n2:d(Aa,"cdnIdBlackList",[]),T4:d(r,g("forceAudioTrack")),uib:d(O,"muteVolumeOnPlaybackClose",!0),BIb:d(r,"nrdpVolumeControlType","VOLUME_STREAM"),V4:d(r,g("forceTimedTextTrack")),Jwa:d(E,g("maxRetriesTimedTextDownload"),0),SCa:d(E,g("timedTextRetryInterval"),8E3),zrb:d(r,"storageType","idb",/^(none|fs|idb|ls)$/),Uva:d(E,"lockExpiration",1E4),agb:d(E,"lockRefresh",3E3),F0a:d(O,"captureUnhandledExceptions",!0),wdb:d(O,"ignoreUnhandledExceptionDuringPlayback",!0),Etb:d(O,"unhandledExceptionsArePlaybackErrors",!1),uDa:d(r,"unhandledExceptionSource",""),gmb:d(O,"preserveLastFrame",!1),Thb:d(E,"minBufferingTimeInMilliseconds",4E3),smb:d(E,"progressBackwardsGraceTimeMilliseconds",4E3),tmb:d(E,"progressBackwardsMinPercent",10),G_a:d(r,g("bookmarkIgnoreBeginning"),"0",lb),H_a:d(r,g("bookmarkIgnoreEnd"),"5%",lb),I_a:d(r,g("bookmarkIgnoreEndForBranching"),"60000",lb),HD:d(E,"maxParallelConnections",3),U$:d(O,"reportThroughputInLogblobs",!0),PD:d(E,"minAudioMediaRequestDuration",16E3),Rhb:d(E,"minAudioMediaRequestDurationBranching",0),TD:d(E,"minVideoMediaRequestDuration",4E3),bib:d(E,"minVideoMediaRequestDurationAL1",0),cib:d(E,"minVideoMediaRequestDurationBranching",0),aU:d(E,"minAudioMediaRequestSizeBytes",0),iU:d(E,"minVideoMediaRequestSizeBytes",0),H6a:d(O,"droppedFrameRateFilterEnabled",!1),I6a:d(E,"droppedFrameRateFilterMaxObservation",60,10,1E3),K6a:d(function(a,c,b,k,d,q){return fa(a,c,"[",function(a){a=a.split(";");for(var c=a.length;c--;){a[c]=a[c].split("|");for(var b=a[c].length;b--;)a[c][b]=y.Qd(a[c][b]);}return a;},[function(a){return B.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--&&void 0!==a;){if(!B.isArray(a[c]))return!1;for(var d=a[c].length;d--;)if(!B.qv(a[c][d],b,k))return!1;}return!0;},function(a){if(void 0!==d)for(var c=a.length;c--;)if(d!==a[c].length)return!1;return!0;},function(a){return void 0===q||a.length>=q;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),QFb:d(O,"droppedFrameRateFilterWithoutRebufferEnabled",!0),J6a:d(E,"droppedFrameRateFilterMinHeight",384),L6a:d(Aa,"droppedFramesPercentilesList",[]),Jhb:d(O,"microsoftScreenSizeFilterEnabled",!1),ytb:d(O,"uiLabelFilterEnabled",!0),xtb:d(ha,"uiLabelFilter",{}),v5a:d(E,g("defaultVolume"),100,0,100),lqa:d(O,"disableVideoRightClickMenu",!1),Yhb:d(E,"minDecoderBufferMilliseconds",1E3,0,t.Ow),K9:d(E,"optimalDecoderBufferMilliseconds",5E3,0,t.Ow),iya:d(E,"optimalDecoderBufferMillisecondsBranching",3E3,0,t.Ow),jU:d(E,"minimumTimeBeforeBranchDecision",3E3,0,t.Ow),NT:d(E,"maxDecoderBufferMilliseconds",Qa.NT.fa(ka.ma),0,t.Ow),Rpa:d(E,"decoderTimeoutMilliseconds",1E4,1),e6a:d(O,"disgardMediaOnAppend",!1),mZa:d(O,"appendMediaBeforeInit",!1),Jkb:d(E,"pauseTimeoutLimitMilliseconds",18E5),U6:d(E,"inactivityMonitorInterval",3E4,0),nYa:d(Aa,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),LC:d(O,"enableTrickPlay",!1),YYa:d(Aa,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),otb:d(E,"trickPlayHighResolutionBitrateThreshold",1E3),ptb:d(E,"trickPlayHighResolutionThresholdMilliseconds",1E4),stb:d(R,"trickplayBufferFactor",.5),ntb:d(E,"trickPlayDownloadRetryCount",1),x8:d(r,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),WBa:d(E,"simplePercentilePredictorPercentile",25),UBa:d(r,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),VBa:d(r,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),sfa:d(ha,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),n9:d(r,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Qea:d(ha,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),Bwa:d(W,"maxIQRSamples",Infinity),gxa:d(W,"minIQRSamples",5),UDa:d(O,"useResourceTimingAPI",!1),udb:d(O,"ignoreFirstByte",!0),whb:d(O,"mediaRequestAsyncLoadStart",!0),uub:d(O,"useXHROnLoadStart",!1),A4:d(Aa,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),JQ:d(E,"connectTimeoutMilliseconds",8E3,500),t9:d(E,"noProgressTimeoutMilliseconds",8E3,500),pub:d(O,"useOnLineApi",!1),RCa:d(E,"timedTextDownloadRetryCountBeforeCdnSwitch",3),xxa:d(E,"netflixRequestExpiryTimeout",0),Zub:d(O,"webkitDecodedFrameCountIncorrectlyReported",!1),gpb:d(E,"seekBackOnAudioTrackChangeMilliseconds",8E3),Hkb:d(O,"pausePlaybackOnAudioSwitch",!0),vba:d(ja,g("supportedAudioTrackTypes"),[],void 0,1),Eua:d(E,"initialLogFlushTimeout",5E3),Vya:d(r,"playdataPersistKey",Ab.Np?"unsentplaydatatest":"unsentplaydata"),Faa:d(O,"sendPersistedPlaydata",!0),xlb:d(E,"playdataPersistIntervalMilliseconds",4E3),YIb:d(E,"playdataSendDelayMilliseconds",1E4),NV:d(O,"sendPlaydataBackupOnInit",!0),ggb:d(ja,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),Lhb:d(O,"midplayEnabled",!0),cxa:d(E,"midplayIntervalMilliseconds",3E5),Mhb:d(Aa,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),CI:d(E,"downloadReportDenominator",0),p6a:d(E,"downloadReportInterval",3E5),DI:d(ja,"downloadReportTcpInfo",[]),Xva:d(E,"logConfigApplyDenominator",0),Una:d(Fa,g("bookmarkByMovieId"),{}),cJ:d(O,g("forceLimitedDurationLicense"),!1),yv:d(E,g("licenseRenewalRequestDelay"),0),W9:d(E,g("persistedReleaseDelay"),1E4),LHb:d(O,g("limitedDurationFlagOverride"),void 0),hi:d(O,g("secureStopEnabled"),!1),RJb:d(O,g("secureStopFromPersistedKeySession"),!1),dBa:d(E,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),saa:d(E,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),epb:d(E,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),fpb:d(E,g("secureStopPersistedKeySessionRetries"),17,1),dpb:d(E,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),fF:d(O,g("useCdmId"),!1),OAa:d(E,"safariPlayPauseWorkaroundDelay",100),fvb:d(E,"workaroundValueForSeekIssue",1200),evb:d(O,"workaroundSaio",!0),l2:d(O,g("callEndOfStream"),Qa.l2),Wkb:d(O,"performRewindCheck",!0),C8a:d(O,"fatalOnUnexpectedSeeking",!0),B8a:d(O,"fatalOnUnexpectedSeeked",!0),oqb:d(O,g("setVideoElementSize")),n1a:d(O,g("clearVideoSrc"),!0),bqa:d(E,g("delayPlayPause"),0),p_a:d(O,g("avoidSBRemove"),!1),bp:d(O,g("useTypescriptEme"),!1),GI:d(r,g("drmPersistKey"),"unsentDrmData"),y$:d(O,g("promiseBasedEme"),!1),E0a:d(O,"captureKeyStatusData",!1),oD:d(O,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),ajb:d(O,g("nudgeSourceBuffer"),!1),taa:d(W,g("seekDelta"),1),QK:d(O,g("preciseSeeking"),!1),Plb:d(O,g("preciseSeekingOnTwoCoreDevice"),!1),aqa:d(Fa,g("delayErrorHandling")),fDa:d(O,"trackingLogEnabled",!1),gDa:d(function(a,c){var b;b=Fa(a,c,void 0);b&&Object.keys(b).forEach(function(a){var c;c=b[a];"true"===c?b[a]=!0:"false"===c&&(b[a]=!1);});return b;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Tba:d(r,"trackingLogPath","/customerevents/track/debug"),Vsb:d(Aa,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Mg:d(r,"esn",""),ora:d(r,"fesn",""),h4:d(O,g("enableEmeVerboseLogging"),!1),d7a:d(O,"enableLastChunkLogging",!1),yH:d(r,"appId","",F),sessionId:d(r,"sessionId","",F),q2:d(r,"cdnProxyUrl"),rub:d(O,"usePlayReadyHeaderObject",!1),Nra:d(E,"forceXhrErrorResponseCode",void 0),uh:{qxa:d(r,"mslApiPath","/msl/"),Fqa:d(r,g("edgePath"),"/cbp/cadmium-29"),kJb:d(r,"proxyPath",""),dF:d(r,"uiVersion"),xW:d(r,"uiPlatform"),JEb:function(){return"0";},jE:d(ja,"preferredLanguages",t.vHa,/^[a-zA-Z-]{2,5}$/,1),m9a:d(r,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),Yrb:d(O,"supportPreviewContentPin",!0),Zrb:d(O,"supportWatermarking",!0),Lqb:d(O,"showAllSubDubTracks",!1),t8a:d(O,g("failOnGuidMismatch"),!1)},gV:{enabled:d(O,"qcEnabled",!1),xn:d(r,"qcPackageId","")},JH:d(r,"authenticationType",Ab.Np?Qa.b_a:Qa.JH),Jna:d(Fa,"authenticationKeyNames",y.Va({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),hsb:d(r,"systemKeyWrapFormat"),Cdb:d(O,"includeNetflixIdUserAuthData",!0),Iqb:d(O,"shouldSendUserAuthData",!0),Haa:d(O,"sendUserAuthIfRequired",Qa.Haa),Dqb:d(O,"shouldClearUserData",!1),qib:d(O,"mslDeleteStore",!1),rib:d(O,"mslPersistStore",!0),i2a:d(O,"correctNetworkForShortTitles",!0),Ilb:d(O,"postplayHighInitBitrate",!1),f9a:d(O,"flushHeaderCacheOnAudioTrackChange",!0),z8a:d(O,"fatalOnAseStreamingFailure",!0),esb:d(O,"supportsUnequalizedDownloadables",!0),Lpa:d(E,g("debugAseDenominator"),100),D1:d(E,"aseAudioBufferSizeBytes",Qa.D1.fa(n.Pn)),F1:d(E,"aseVideoBufferSizeBytes",Qa.F1.fa(n.Pn)),Iv:d(E,"minInitVideoBitrate",560),Z8:d(E,"minHCInitVideoBitrate",560),Sy:d(E,"maxInitVideoBitrate",Infinity),qK:d(E,"minInitAudioBitrate",0),pK:d(E,"minHCInitAudioBitrate",0),eK:d(E,"maxInitAudioBitrate",65535),$T:d(E,"minAcceptableVideoBitrate",235),gU:d(E,"minRequiredBuffer",3E4),Mi:d(E,"minPrebufSize",7800),L$:d(R,"rebufferingFactor",1),fq:d(E,"maxBufferingTime",2600),nca:d(O,"useMaxPrebufSize",!0),ID:d(E,"maxPrebufSize",45E3),I8:d(E,"maxRebufSize",Infinity),bT:d(sa,"initialBitrateSelectionCurve",null),Bua:d(E,"initSelectionLowerBound",560),Cua:d(E,"initSelectionUpperBound",1050),rW:d(E,"throughputPercentForAudio",15),Q1:d(E,"bandwidthMargin",10),R1:d(O,"bandwidthMarginContinuous",!1),S1:d(sa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Q2:d(E,"conservBandwidthMargin",20),zba:d(O,"switchConfigBasedOnInSessionTput",!1),dI:d(E,"conservBandwidthMarginTputThreshold",0),R2:d(sa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),yCa:d(O,"switchAlgoBasedOnHistIQR",!1),ow:d(r,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),H8:d(W,"maxPlayerStateToSwitchConfig",-1),j8:d(r,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),GY:d(R,"IQRThreshold",.5),J6:d(r,"histIQRCalcToUse","simple"),Js:d(E,"maxTotalBufferLevelPerSession",0),hua:d(E,"highWatermarkLevel",3E4),aDa:d(E,"toStableThreshold",3E4),vW:d(E,"toUnstableThreshold",Qa.vW.fa(ka.ma)),gba:d(O,"skipBitrateInUpswitch",!0),uca:d(E,"watermarkLevelForSkipStart",8E3),C6:d(E,"highStreamRetentionWindow",9E4),k8:d(E,"lowStreamTransitionWindow",51E4),E6:d(E,"highStreamRetentionWindowUp",3E5),m8:d(E,"lowStreamTransitionWindowUp",3E5),D6:d(E,"highStreamRetentionWindowDown",6E5),l8:d(E,"lowStreamTransitionWindowDown",0),B6:d(R,"highStreamInfeasibleBitrateFactor",.5),Oy:d(E,"lowestBufForUpswitch",15E3),GT:d(E,"lockPeriodAfterDownswitch",15E3),o8:d(E,"lowWatermarkLevel",25E3),Py:d(E,"lowestWaterMarkLevel",2E4),q8:d(O,"lowestWaterMarkLevelBufferRelaxed",!1),T8:d(R,"mediaRate",1),K8:d(E,"maxTrailingBufferLen",1E4),I1:d(E,"audioBufferTargetAvailableSize",262144),sca:d(E,"videoBufferTargetAvailableSize",1048576),Lwa:d(E,"maxVideoTrailingBufferSize",8388608),xwa:d(E,"maxAudioTrailingBufferSize",393216),MR:d(R,"fastUpswitchFactor",3),D4:d(R,"fastDownswitchFactor",1),QT:d(E,"maxMediaBufferAllowed",24E4),hq:d(E,"maxVideoBufferAllowedInBytes",0),dba:d(O,"simulatePartialBlocks",!0),XBa:d(O,"simulateBufferFull",!0),S2:d(O,"considerConnectTime",!1),P2:d(R,"connectTimeMultiplier",1),gwa:d(E,"lowGradeModeEnterThreshold",12E4),hwa:d(E,"lowGradeModeExitThreshold",9E4),ywa:d(E,"maxDomainFailureWaitDuration",3E4),vwa:d(E,"maxAttemptsOnFailure",18),dra:d(O,"exhaustAllLocationsForFailure",!0),Ewa:d(E,"maxNetworkErrorsDuringBuffering",20),C8:d(E,"maxBufferingTimeAllowedWithNetworkError",6E4),C4:d(E,"fastDomainSelectionBwThreshold",2E3),Hba:d(E,"throughputProbingEnterThreshold",4E4),MCa:d(E,"throughputProbingExitThreshold",34E3),Tva:d(E,"locationProbingTimeout",1E4),qra:d(E,"finalLocationSelectionBwThreshold",1E4),KCa:d(R,"throughputHighConfidenceLevel",.75),LCa:d(R,"throughputLowConfidenceLevel",.4),KC:d(O,"enablePerfBasedLocationSwitch",!1),Lo:d(O,"probeServerWhenError",!0),t$:d(E,"probeRequestTimeoutMilliseconds",8E3),Qr:d(O,"allowSwitchback",!0),rz:d(E,"probeDetailDenominator",100),OT:d(E,"maxDelayToReportFailure",300),W7:d(E,"locationStatisticsUpdateInterval",6E4),ipa:d(O,"countGapInBuffer",!1),UB:d(O,"allowReissueMediaRequestAfterAbort",!1),r1:d(O,"allowCallToStreamSelector",!0),Y1:d(E,"bufferThresholdForAbort",1E4),Z9:d(E,"pipelineScheduleTimeoutMs",2),Ty:d(E,"maxPartialBuffersAtBufferingStart",2),a9:d(E,"minPendingBufferLen",6E3),Dv:d(E,"maxPendingBufferLen",12E3),chb:d(E,"maxPendingBufferLenAL1",3E4),AR:d(O,"enableRequestPacing",!1),J8:d(E,"maxStreamingSkew",4E3),G8:d(E,"maxPendingBufferPercentage",10),Uy:d(E,"maxRequestsInBuffer",60),Gwa:d(E,"maxRequestsInBufferAL1",240),Hwa:d(E,"maxRequestsInBufferBranching",120),PS:d(E,"headerRequestSize",4096),bU:d(E,"minBufferLenForHeaderDownloading",1E4),xV:d(E,"reserveForSkipbackBufferMs",1E4),C9:d(E,"numExtraFragmentsAllowed",2),yn:d(O,"pipelineEnabled",!1),$Ba:d(E,"socketReceiveBufferSize",0),lQ:d(E,"audioSocketReceiveBufferSize",32768),kF:d(E,"videoSocketReceiveBufferSize",65536),z6:d(E,"headersSocketReceiveBufferSize",32768),AW:d(E,"updatePtsIntervalMs",1E3),a2:d(E,"bufferTraceDenominator",100),bC:d(E,"bufferLevelNotifyIntervalMs",2E3),AH:d(E,"aseReportDenominator",0),E1:d(E,"aseReportIntervalMs",3E5),Lqa:d(O,"enableAbortTesting",!1),Bma:d(E,"abortRequestFrequency",8),sba:d(E,"streamingStatusIntervalMs",2E3),hE:d(E,"prebufferTimeLimit",24E4),cU:d(E,"minBufferLevelForTrackSwitch",2E3),T9:d(E,"penaltyFactorForLongConnectTime",2),g8:d(E,"longConnectTimeThreshold",200),n1:d(E,"additionalBufferingLongConnectTime",2E3),o1:d(E,"additionalBufferingPerFailure",8E3),dL:d(E,"rebufferCheckDuration",6E4),Oqa:d(O,"enableLookaheadHints",!1),dwa:d(E,"lookaheadFragments",2),po:d(O,"enableOCSideChannel",!0),KN:d(ha,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),BDa:d(O,"updateDrmRequestOnNetworkFailure",!1),$pa:d(O,"deferAseScheduling",!1),PT:d(E,"maxDiffAudioVideoEndPtsMs",16E3),gF:d(O,"useHeaderCache",!0),ZQ:d(E,"defaultHeaderCacheSize",4),G3:d(E,"defaultHeaderCacheDataPrefetchMs",8E3),w6:d(E,"headerCacheMaxPendingData",6),o9:d(O,"neverWipeHeaderCache",!0),x6:d(E,"headerCachePriorityLimit",5),MI:d(O,"enableUsingHeaderCount",!1),eua:d(O,"headerCacheTruncateHeaderAfterParsing",!0),e9a:d(O,g("flushHeaderCacheBeforePlayback"),!1),m9:d(E,"networkFailureResetWaitMs",2E3),l9:d(E,"networkFailureAbandonMs",6E4),UT:d(E,"maxThrottledNetworkFailures",3),qW:d(E,"throttledNetworkFailureThresholdMs",200),Lr:d(O,"abortUnsentBlocks",!1),L8:d(E,"maxUnsentBlocks",2),c1:d(E,"abortStreamSelectionPeriod",2E3),n8:d(W,"lowThroughputThreshold",400),u4:d(O,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),nxa:d(O,"mp4ParsingInNative",!1),aCa:d(O,"sourceBufferInOrderAppend",!0),Cn:d(O,"requireAudioStreamToEncompassVideo",!0),bna:d(O,"allowAudioToStreamPastVideo",!0),ff:d(O,"enableManagerDebugTraces",!1),pwa:d(E,"managerDebugMessageInterval",1E3),owa:d(E,"managerDebugMessageCount",20),Lxa:d(O,"notifyManifestCacheEom",!1),pQ:d(E,"bufferThresholdToSwitchToSingleConnMs",18E4),Z1:d(E,"bufferThresholdToSwitchToParallelConnMs",12E4),PU:d(E,"periodicHistoryPersistMs",3E5),GV:d(E,"saveVideoBitrateMs",18E4),nna:d(O,"appendMediaRequestOnComplete",!0),RW:d(O,"waitForDrmToAppendMedia",!1),S4:d(O,g("forceAppendHeadersAfterDrm"),!1),cL:d(O,g("reappendRequestsOnSkip"),!0),xib:d(E,"netIntrStoreWindow",36E3),$hb:d(E,"minNetIntrDuration",8E3),w8a:d(E,"fastHistoricBandwidthExpirationTime",10368E3),s_a:d(E,"bandwidthExpirationTime",5184E3),u8a:d(E,"failureExpirationTime",86400),bdb:d(E,"historyTimeOfDayGranularity",4),m8a:d(O,"expandDownloadTime",!1),iib:d(E,"minimumMeasurementTime",500),hib:d(E,"minimumMeasurementBytes",131072),usb:d(E,"throughputMeasurementTimeout",2E3),Mdb:d(E,"initThroughputMeasureDataSize",262144),wsb:d(r,"throughputPredictor","ewma"),tsb:d(E,"throughputMeasureWindow",5E3),ysb:d(E,"throughputWarmupTime",5E3),ssb:d(E,"throughputIQRMeasureWindow",5E3),eLa:d(E,"IQRBucketizerWindow",15E3),N1a:d(E,"connectTimeHalflife",10),wob:d(E,"responseTimeHalflife",10),adb:d(E,"historicBandwidthUpdateInterval",2E3),gib:d(E,"minimumBufferToStopProbing",1E4),qaa:d(r,"secondThroughputEstimator","none"),aBa:d(W,"secondThroughputMeasureWindowInMs",Infinity),X6a:d(ja,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),K8a:d(ha,"filterDefinitionOverrides",{}),r5a:d(r,"defaultFilter","throughput-ewma"),$ob:d(r,"secondaryFilter","none"),s5a:d(ha,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),uK:d(O,"needMinimumNetworkConfidence",!0),U1:d(O,"biasTowardHistoricalThroughput",!0),ZP:d(O,"addHeaderDataToNetworkMonitor",!1),mba:d(O,"startMonitorOnLoadStart",!1),T$:d(O,"reportFailedRequestsToNetworkMonitor",!1),E8:d(W,"maxFastPlayBufferInMs",Infinity),D8:d(W,"maxFastPlayBitThreshold",Infinity),w1:d(O,"appendFirstHeaderOnComplete",!0),yZa:d(r,"ase_stream_selector","optimized"),c7:d(r,"initBitrateSelectorAlgorithm","default"),c2:d(r,"bufferingSelectorAlgorithm","default"),w3:d(r,"ase_ls_failure_simulation",""),u3:d(O,"ase_dump_fragments",!1),v3:d(E,"ase_location_history",0),x3:d(E,"ase_throughput",0),Npa:d(O,"ase_simulate_verbose",!1),Flb:d(E,"pollingPeriod",150),Qva:d(E,"loadTimeMs",18E4),twa:d(E,"marginTimeMs",1E4),vw:d(O,"useMediaCache",!1),Mu:d(E,"diskCacheSizeLimit",52428800),XT:d(E,"mediaCachePrefetchMs",8E3),P8:d(Fa,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),gJ:d(O,"generateHardwareDeviceId",!1),t5:d(O,"getDeviceIdFromBindDevice",!1),k1:d(O,"addFailedLogBlobsToQueue",!0),Gqb:d(O,"shouldSaveLogs",!1),c8:d(ja,"logTypesToSave","startup startplay endplay debug subtitleqoe playbackaborted".split(" ")),ztb:{"content-sampling":{fq:d(E,"contentSamplingMaxBufferingTime",3E3),AE:d(r,"contentSamplingSelectStartingVMAFMethod","fallback"),qH:d(O,"contentSamplingActivateSelectStartingVMAF",!0),SD:d(E,"contentSamplingMinStartingVideoVMAF",80)},billboard:{Iv:d(E,"billboardMinInitVideoBitrate",1050),Sy:d(E,"billboardMaxInitVideoBitrate",null),Mi:d(E,"billboardMinPrebufSize",null),ID:d(E,"billboardMaxPrebufSize",null),fq:d(E,"billboardMaxBufferingTime",null),Ty:d(E,"billboardMaxPartialBuffersAtBufferingStart",null),Py:d(E,"billboardLowestWaterMarkLevel",6E3),Oy:d(E,"billboardLowestBufForUpswitch",25E3),ow:d(r,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Iv:d(E,"preplayMinInitVideoBitrate",1050),Sy:d(E,"preplayMaxInitVideoBitrate",null),Mi:d(E,"preplayMinPrebufSize",null),ID:d(E,"preplayMaxPrebufSize",null),fq:d(E,"preplayMaxBufferingTime",null),Ty:d(E,"preplayMaxPartialBuffersAtBufferingStart",null),Py:d(E,"preplayLowestWaterMarkLevel",6E3),Oy:d(E,"preplayLowestBufForUpswitch",25E3)},embedded:{Iv:d(E,"embeddedMinInitVideoBitrate",1050),Sy:d(E,"embeddedMaxInitVideoBitrate",null),Mi:d(E,"embeddedMinPrebufSize",null),ID:d(E,"embeddedMaxPrebufSize",null),fq:d(E,"embeddedMaxBufferingTime",null),Ty:d(E,"embeddedMaxPartialBuffersAtBufferingStart",null),Py:d(E,"embeddedLowestWaterMarkLevel",6E3),Oy:d(E,"embeddedLowestBufForUpswitch",25E3)}},n7a:d(O,"enableVerbosePlaydelayLogging",!1),k7a:d(O,"enableSeamless",!1),I6:d(E,"hindsightDenominator",0),H6:d(E,"hindsightDebugDenominator",0),RS:d(ha,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),LI:d(O,"enableSessionHistoryReport",!1),e4:d(E,"earlyStageEstimatePeriod",1E4),Cva:d(E,"lateStageEstimatePeriod",3E4),RT:d(E,"maxNumSessionHistoryStored",30),hU:d(E,"minSessionHistoryDuration",3E4),KI:d(O,"enableInitThroughputEstimate",!1),z1:d(O,"applyInitThroughputEstimate",!1),Dua:d(ha,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),cq:d(E,"maxActiveRequestsPerSession",3),MT:d(E,"maxActiveRequestsSABCell100",2),ST:d(E,"maxPendingBufferLenSABCell100",500),R7:d(O,"limitAudioDiscountByMaxAudioBitrate",!0),Fp:d(ha,"browserInfo",{}),$_a:d(E,g("busyGracePeriod"),199),zpb:d(O,g("sendTransitionLogblob"),!0),bn:d(O,g("editAudioFragments"),!1),qs:d(O,g("editVideoFragments"),!1),Q6a:d(O,g("editAudioFragmentsBranching"),!0),Gqa:d(O,g("editVideoFragmentsBranching"),!0),tR:d(O,g("earlyAppendSingleChildBranch"),!0),Ddb:d(O,g("includeSegmentInfoOnLogblobs"),!0),p8a:d(O,"exposeTestData",!1),y3:d(O,"declareBufferingCompleteAtSegmentEnd",!0),Hx:d(O,"applyProfileTimestampOffset",!1),bo:d(O,"applyProfileStreamingOffset",!1),gZa:d(O,g("allowSmallSeekDelta"),!1),Vqb:d(E,g("smallSeekDeltaThresholdMilliseconds"),M.FZ),W6a:d(O,"enableCDMAttestedDescriptors",!1),Y$:d(O,"requireDownloadDataAtBuffering",!1),Z$:d(O,"requireSetupConnectionDuringBuffering",!1),M$:d(O,"recordFirstFragmentOnSubBranchCreate",!1),N_a:d(O,"branchingAudioTrackFrameDropSmallSeekFix",!0),Mra:d(O,"forceL3WidevineCdm",!1),oub:d(O,"useMobileVMAF",!1),P5a:d(r,"desiredVMAFTypeMobile","phone_plus_exp"),Q5a:d(r,"desiredVMAFTypeNonMobile","plus_lts"),qH:d(O,"activateSelectStartingVMAF",!1),SD:d(E,"minStartingVideoVMAF",1)};ra=!0;f.Yoa=function(a){var k,d;if(0<f.config.Xva&&0===A.Cfa%f.config.Xva)try{k=c.W.get(S.Lj);d=c.W.get(Q.Tn).Jl("config","info",{params:a});k.tc(d);}catch(sc){c.log.error("Failed to log config$apply",sc);}J._cad_global.config=f.config;J._cad_global.platformExtraInfo=p.Vn;q.Ga(a);a&&(D=y.Va({},a,{ED:!0}),y.Va(D,Jb,{ED:!0}),b(ec,f.config),D.istestaccount&&c.log.trace("Config applied for",Oc(ra?D:a)),ra=!1);};f.Yoa(D);};f.XEb=function(a,c){return B.Od(a)&&"%"==a[a.length-1]?h.Jh(parseFloat(a)*c/100):a|0;};f.L1a=function(a){return a?(a=y.Va({},f.config),y.Va(a,{K9:f.config.iya},{oq:!0})):f.config;};f.YEb=function(a){var c;c=y.Va({},f.config);return y.Va(c,b(a),{oq:!0});};f.$oa=function(c){c=b(c);return y.Va({},a(150)(c),{oq:!0});};f.Zoa=function(c,b,k){k=!!k&&(0<=k.indexOf("h264hpl")||0<=k.indexOf("vp9"));c={PD:c?f.config.Rhb:f.config.PD,TD:c?f.config.cib:k?f.config.bib:f.config.TD,UB:c?!1:f.config.UB,Uy:c&&k?Math.max(f.config.Hwa,f.config.Gwa):c?f.config.Hwa:k?f.config.Gwa:f.config.Uy,Dv:k?f.config.chb:f.config.Dv,bn:f.config.bn||c&&f.config.Q6a,qs:f.config.qs||c&&f.config.Gqa,tR:!b};return y.Va({},a(150)(c),{oq:!0});};f.$Eb=b;f.ZEb=d;f.WEb="";},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);return d;}(Error);f.assert=function(a,b){if(!a)throw new d(b||"Assertion failed");};},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(4);a=a(86);f.qFa=function(){f.Ga();};f.xFb=!0;f.Qe=g.W.get(a.ut);f.Ga=f.Qe.assert.bind(f.Qe);f.sFb=f.Qe.BZa.bind(f.Qe);f.tFb=f.Qe.CZa.bind(f.Qe);f.J4a=f.Qe.HZa.bind(f.Qe);f.rI=f.Qe.KZa.bind(f.Qe);f.wFb=f.Qe.IZa.bind(f.Qe);f.uFb=f.Qe.FZa.bind(f.Qe);f.VQ=f.Qe.EZa.bind(f.Qe);f.qI=f.Qe.JZa.bind(f.Qe);f.vFb=f.Qe.GZa.bind(f.Qe);f.rFb=f.Qe.zZa.bind(f.Qe);f.Kpa=f.Qe.DZa.bind(f.Qe);f.yFb=f.Qe.Xdb.bind(f.Qe);},function(g,f){function a(){}function b(){}function d(){}function t(){}function m(){}Object.defineProperty(f,"__esModule",{value:!0});m.Xfb="loadedtracks";m.Wfb="loadedmetadata";m.loaded="loaded";m.error="error";m.closed="closed";m.Ym="currenttimechanged";m.boa="bufferedtimechanged";m.M6a="durationchanged";m.Oub="videosizechanged";m.Kkb="pausedchanged";m.Dlb="playingchanged";m.T7a="endedchanged";m.g2="busychanged";m.Gna="audiotracklistchanged";m.HH="audiotrackchanged";m.$z="timedtexttracklistchanged";m.YE="timedtexttrackchanged";m.mM="trickplayframeschanged";m.vib="mutedchanged";m.Sub="volumechanged";m.Mqb="showsubtitle";m.Rnb="removesubtitle";m.Xub="watermark";m.s7="isReadyToTransition";m.nD="inactivated";m.npb="segmentmaploaded";m.opb="segmentpresenting";m.e_a="autoplaywasallowed";m.f_a="autoplaywasblocked";f.rb=m;t.sBa="serverTimeChanged";f.yfa=t;d.vL="playlistsegmenttransition";f.mG=d;(function(a){a.YB="aseException";a.ZB="aseReport";a.c_a="authorized";a.N1="autoplayWasAllowed";a.jj="autoplayWasBlocked";a.w_a="bandwidthMeterAggregateUpdate";a.eo="bufferUnderrun";a.closed="closed";a.Ge="closing";a.Ym="currentTimeChanged";a.Nu="downloadComplete";a.nD="inactivated";a.Eva="licenseAdded";a.ZJ="licensed";a.$p="locationSelected";a.KT="manifestClosing";a.rn="manifestPresenting";a.WHb="manifestSelected";a.WT="mediaBufferChanged";a.k9="needLicense";a.tU="nextSegmentChosen";a.yh="playbackStart";a.Bn="repositioned";a.Cz="repositioning";a.PAa="safePlayRequested";a.hpb="segmentAborted";a.uL="segmentPresenting";a.SJb="segmentComplete";a.jpb="segmentLastPts";a.mpb="segmentStarting";a.FE="serverSwitch";a.RBa="shouldUpdateVideoDiagInfo";a.Ri="skipped";a.RE="subtitleError";a.Fba="throttledMediaTimeChanged";a.WE="timedTextRebuffer";a.$z="timedTextTrackListChanged";a.mM="trickPlayFramesChanged";a.oM="tryRecoverFromStall";a.Iq="updateNextSegmentWeights";a.zub="userInitiatedPause";a.WDa="userInitiatedResume";}(f.S||(f.S={})));b.MA=0;b.LOADING=1;b.Yc=2;b.CLOSING=3;b.CLOSED=4;f.jb=b;a.Yc=1;a.Hj=2;a.ria=3;f.lf=a;(function(a){a[a.ng=1]="WAITING";a[a.yd=2]="PLAYING";a[a.ni=3]="PAUSED";a[a.Vq=4]="ENDED";}(f.nb||(f.nb={})));(function(a){a[a.PF=0]="INITIAL";a[a.$w=1]="SEEK";a[a.WN=2]="TRACK_CHANGED";a[a.UA=3]="SEGMENT_CHANGED";}(f.jg||(f.jg={})));},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(139);f.is=g.Gt;f.Rb=function(a){return f.is.Bd(a);};f.Ve=function(a){return f.is.Fx(a);};f.Geb=function(a){return f.is.b1(a);};f.isArray=function(a){return f.is.Rr(a);};f.kva=function(a){return f.is.fna(a);};f.pa=function(a,d,t){return f.is.Uf(a,d,t);};f.jeb=function(a,d,t){return f.is.s1(a,d,t);};f.qv=function(a,d,t){return f.is.Bp(a,d,t);};f.bva=function(a){return f.is.pH(a);};f.rHb=function(a){return f.is.iYa(a);};f.uHb=function(a){return f.is.jYa(a);};f.lva=function(a){return f.is.gna(a);};f.Od=function(a){return f.is.Bi(a);};f.Hy=function(a){return f.is.Gk(a);};f.Oua=function(a){return f.is.nH(a);};f.Mb=function(a){return f.is.oH(a);};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.gd="ConfigSymbol";},function(g,f,a){var b,d,t,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(14);d=a(19);t=a(8);m=a(16);f.Sc=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};f.Va=f.Va||function(a,b,q){var c,k,z;if(b)if(q){c=q.ED;k=q.prefix;z=q.oq;f.Sc(b,function(b,q){if(!z||d.Rb(q))a[(k||"")+(c?b.toLowerCase():b)]=q;});}else f.Sc(b,function(c,b){a[c]=b;});return a;};f.x0a=function(a,b,d,p){var c;if(a){c=a[b];m.Mb(c)&&(d=c.apply(a,t.slice.call(arguments,3)));}};f.vZa=function(){for(var a=["info","warn","trace","error"],b={},d=a.length;d--;)b[a[d]]=!0;return b;};f.Qd=f.Qd||function(a){return parseInt(a,10);};f.MIb=function(a){return/^true$/i.test(a);};f.Eza=function(a,b){return t.Jh(a+t.YF()*(b-a));};f.mW=function(a){return JSON.stringify(a,null,"  ");};f.L6=function(){var k,d;function a(a){b.Ga(void 0!==k[a]);return k[a];}k={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=/[&'"<>]/g;return function(c){return c.replace(d,a);};}();f.trim=function(){var a;a=/^\s+|\s+$/gm;return function(c){return c.replace(a,"");};}();f.u8=function(a){return Array.isArray(a)?a:[a];};f.qd=f.qd||function(a){var c,b,d;if(a){c=a.stack;b=a.number;d=a.message;d||(d=""+a);c?(a=""+c,0!=a.indexOf(d)&&(a=d+"\n"+a)):a=d;b&&(a+="\nnumber:"+b);return a;}};f.Ql=function(a){return m.pa(a)?a.toFixed(0):"";};f.iy=function(a){return m.pa(a)?(a/1E3).toFixed(0):"";};f.q9a=function(a){return m.pa(a)?a.toFixed():"";};f.f2a=function(a){for(var c=[],b=0;b<a.length;b++)c[b]=a[b];return c;};},function(g,f,a){var m,c;function b(a){return null!==a&&void 0!==a;}function d(a){return typeof a==f.tRa;}function t(a,d,p){var k,q,f;if(d)if(p){k=p.ED;q=p.prefix;f=p.oq;c.Sc(d,function(c,d){if(!f||b(d))a[(q||"")+(k?c.toLowerCase():c)]=d;});}else c.Sc(d,function(c,b){a[c]=b;});return a;}Object.defineProperty(f,"__esModule",{value:!0});m=a(8);c=a(18);f.je=function(){};f.Mj=1E3;f.eG=Object.create;f.INa=Object.keys;f.dN=Date.now;f.Rw=Math.floor;f.HMa=Math.ceil;f.Jh=Math.round;f.um=Math.max;f.Un=Math.min;f.YF=Math.random;f.XF=Math.abs;f.lga=Math.pow;f.Vi="$attributes";f.VW="$children";f.WW="$name";f.Pq="$text";f.oEa="$parent";f.qF="$sibling";f.tRa="string";f.RCb="number";f.QCb="function";f.sRa="object";f.Rb=b;f.Ve=function(a){return typeof a==f.sRa;};f.Od=d;f.Hy=function(a){return d(a)&&a;};f.Qd=function(a){return parseInt(a,10);};f.cr=function(a,c,b){return a>=c?a<=b?a:b:c;};f.Va=t;f.EL=function(a){return t({},a);};f.G2=function(a){var d;for(var c=0;c<arguments.length;++c);for(var c=0,k=arguments.length;c<k;){d=arguments[c++];if(b(d))return d;}};f.uZa=function(a){for(var c,b=!0,k;b;)for(b=!1,c=a.length;--c;)k=a[c],k.startTime<a[c-1].startTime&&(a[c]=a[c-1],a[c-1]=k,b=!0);};f.Gu=function(a,c){if(a.length==c.length){for(var b=a.length;b--;)if(a[b]!=c[b])return!1;return!0;}return!1;};f.createElement=function(a,b,d,u){var k;k=m.Jd.createElement(a);b&&(k.style.cssText=b);d&&(k.innerHTML=d);u&&c.Sc(u,function(a,c){k.setAttribute(a,c);});return k;};f.hI=function(a){var b;b="";c.Sc(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};f.XR=function(a,c,b){var k;a/c>b?(k=f.Jh(c*b),a=c):(k=a,a=f.Jh(a/b));return{width:k,height:a};};f.L6=function(){var c,b;function a(a){return c[a];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};b=/[&'"<>]/g;return function(c){return c.replace(b,a);};}();f.qd=function(a){var c,b;if(a){c=a.stack;b=a.number;a=""+a;c?(c=""+c,0!=c.indexOf(a)&&(c=a+"\n"+c)):c=a;b&&(c+="\nnumber:"+b);return c;}};f.G={bj:1001,$g:1003,DJa:1701,zea:1713,EJa:1715,CJa:1721,kN:1723};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.De="AsyncComponentLoaderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.se="IsTypeSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.af="UtilitiesSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Me="ApplicationSymbol";},function(g,f,a){g.T={NJa:a(761),na:a(74).na,hC:a(74).hC,Um:a(74).Um,GD:a(74).GD,tL:a(74).tL,gZ:a(760).gZ,sZ:a(208),wSa:a(759)};},function(g,f,a){g.T={EventEmitter:a(766),Jw:a(765)};},function(g,f,a){var d,t,m,c;function b(){return f.mO.Ky.fa(c.ma);}Object.defineProperty(f,"__esModule",{value:!0});g=a(476);d=a(42);t=a(23);m=a(116);c=a(3);f.Sja=g.Uc.get(d.Jj);f.mO=g.Uc.get(t.Me);f.zUa=g.Uc.get(m.FA);f.Cfa=f.mO.id;f.Vf=function(){return f.mO.cc().fa(c.ma);};f.EQ=function(){return f.Sja.Te.fa(c.xm);};f.PEb=function(){return f.mO.Ky.fa(c.xm);};f.p1a=function(){return f.zUa.oC();};f.q1a=b;f.C2=function(){return f.Sja.Te.fa(c.ma);};f.QEb=function(){return b();};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.sX="ConfigurableInputsSymbol";f.cj="ValidatingConfigurableInputsSymbol";f.tA="ConfigNameSymbol";f.zN="InitParamsSymbol";},function(g,f,a){var p,u,z,y,h,A,B;function b(){var a,c;if(a=f.U5.Ula)return a;a=A.bZ.search.substr(1);c=a.indexOf("#");0<=c&&(a=a.substr(0,c));a=d(a);return f.U5.Ula=a;}function d(a){for(var c=/[+]/g,b=(a||"").split("&"),k={},d,p=0;p<b.length;p++)a=y.trim(b[p]),d=a.indexOf("="),0<=d?k[decodeURIComponent(a.substr(0,d).replace(c,"%20")).toLowerCase()]=decodeURIComponent(a.substr(d+1).replace(c,"%20")):k[a.toLowerCase()]=null;return k;}function t(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function m(a){return t(a.constructor);}function c(a){return A.sort.call(a,function(a,c){return a-c;});}function k(a){for(var c=0,b=a.length;b--;)c+=a[b];return c;}function q(){return B.Mb(A.sk.requestMediaKeySystemAccess);}Object.defineProperty(f,"__esModule",{value:!0});p=a(9);u=a(14);z=a(4);y=a(18);h=a(19);A=a(8);B=a(16);f.Qoa=function(a,c){if(a===c)return!0;if(!a||!c)return!1;for(var b in a)if(a.hasOwnProperty(b)&&(!c.hasOwnProperty(b)||a[b]!==c[b]))return!1;return!0;};f.Gu=f.Gu||function(a,c){if(a.length==c.length){for(var b=a.length;b--;)if(a[b]!=c[b])return!1;return!0;}return!1;};f.lJb=function(a){var c;if(a){c=a.length;if(c)return c=y.Eza(0,c-1),a[c];}};f.T1a=function(a,c){if(a.length!=c.length)return!1;a.sort();c.sort();for(var b=a.length;b--;)if(a[b]!==c[b])return!1;return!0;};f.RYa=function(a,c){function b(){a.removeEventListener("loadedmetadata",b);c.apply(this,arguments);}a.addEventListener("loadedmetadata",b);};f.Smb=function(){var a,c,b,k,d,p;a=A.Jd.cookie.split("; ");c=a.length;p={};for(b=0;b<c;b++)if(k=y.trim(a[b]))d=k.indexOf("="),0<d&&(p[k.substr(0,d)]=k.substr(d+1));return p;};f.MGb=b;f.U5=Object.assign(b,{Ula:void 0});f.KU=d;f.zK=function(a){var c;c="";y.Sc(a,function(a,b){c&&(c+="&");u.Ga(h.Od(b)||B.pa(b)||B.Oua(b));c+=encodeURIComponent(a)+"="+encodeURIComponent(b);});return c;};f.getFunctionName=t;f.zsa=m;f.Vxa=function(a){var c;c="";B.isArray(a)||B.kva(a)?c=A.reduce.call(a,function(a,c){return a+(32<=c&&128>c?A.jRa(c):".");},""):h.Od(a)?c=a:y.Sc(a,function(a,b){c+=(c?", ":"")+"{"+a+": "+(B.Mb(b)?t(b)||"function":b)+"}";});return"["+m(a)+" "+c+"]";};f.dJb=function(a,c){a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c);};f.hI=f.hI||function(a){var c;c="";y.Sc(a,function(a,b){c+=(c?";":"")+a+":"+b;});return c;};f.nHb=function(a,c){var b;b=a[0];if(c<=b[0])return b.slice(1);for(var k=1,d;d=a[k++];){if(c<=d[0]){a=(c-b[0])/(d[0]-b[0]);c=[];for(k=1;k<b.length;k++)c.push((b[k]||0)+a*((d[k]||0)-(b[k]||0)));return c;}b=d;}return b.slice(1);};f.Fvb=function(a,c){var d;for(var b={},k=0;k<c.length;k++){d=c[k];if("string"!=typeof d&&"number"!=typeof d)return!1;b[c[k]]=1;}for(k=0;k<a.length;k++)if(d=a[k],!b[d])return!1;return!0;};f.ZEa=function(a,c){0>a.indexOf(c)&&a.push(c);};f.YW=c;f.Hvb=k;f.Pca=function(a,c){var b,k,d,p;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(d=a[b])&&d<=d);)d=void 0;for(;++b<k;)null!=(p=a[b])&&p>d&&(d=p);}else{for(;++b<k&&!(null!=(d=c.call(a,a[b],b))&&d<=d);)d=void 0;for(;++b<k;)null!=(p=c.call(a,a[b],b))&&p>d&&(d=p);}return d;};f.Gvb=function(a,c){var b,k,d,p;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(d=a[b])&&d<=d);)d=void 0;for(;++b<k;)null!=(p=a[b])&&d>p&&(d=p);}else{for(;++b<k&&!(null!=(d=c.call(a,a[b],b))&&d<=d);)d=void 0;for(;++b<k;)null!=(p=c.call(a,a[b],b))&&d>p&&(d=p);}return d;};f.YD=function(a){return B.Mb(a.then)?a:new Promise(function(c,b){a.oncomplete=function(){c(a.result);};a.onerror=function(){b(a.error);};});};f.lGb=function(a,b){var d,p,q,u,f,z;function k(a){0>d.indexOf(a)&&B.pa(a)&&d.push(a);}a=a.slice();c(a);d=[];if(!b||!b.length)return a;if(!a.length)return[];p=b.length;try{for(;p--;){f=""+b[p];z=h.Qd(f);switch(f[f.length-1]){case"-":for(q=a.length;q--;)if(u=a[q],u<z){k(u);break;}break;case"+":for(q=0;q<a.length;q++)if(u=a[q],u>z){k(u);break;}break;default:0<=a.indexOf(z)&&k(z);}}}catch(ea){}d.length||d.push(a[0]);c(d);return d;};f.XR=f.XR||function(a,c,b){var k;a/c>b?(k=A.Jh(c*b),a=c):(k=a,a=A.Jh(a/b));return{width:k,height:a};};f.VEb=function(a,c,b){for(var d=[],p=0;p<c;p++)d.push(A.lga(a[p]-b,2));return A.IMa(k(d)/d.length);};f.Gl=function(a,c){var b;b=a.length;c=(b-1)*c+1;if(1===c)return a[0];if(c==b)return a[b-1];b=A.Rw(c);return a[b-1]+(c-b)*(a[b]-a[b-1]);};f.nGb=function(a,c){if(!B.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");c=B.isArray(c)?c:[c];for(var b=a.length,k=0;k<b;k++)for(var d=0;d<c.length;d++)if(a[k].type==c[d])return a[k];throw Error("Box not found "+c);};f.rwb=function(a){return a.$u("trak/mdia/minf/stbl/stsd/"+p.SFa+"|"+p.TFa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.L4.schm.Sob;})[0].$u("schi/tenc").uv;};f.qwb=function(a){var b;function c(a,c){var k;k=b[a];b[a]=b[c];b[c]=k;}b=new Uint8Array(a);c(0,3);c(1,2);c(4,5);c(6,7);return b;};f.dva=q;f.q7=function(a){return q()||a.WL;};f.ZIb=function(a){return function(c){return c&&c[a];};};B.Mb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,c){var b,k;void 0===a&&(a=0);void 0===c&&(c=this.byteLength);a=Math.floor(a);c=Math.floor(c);0>a&&(a+=this.byteLength);0>c&&(c+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);c=Math.min(Math.max(0,c),this.byteLength);if(0>=c-a)return new ArrayBuffer(0);b=new ArrayBuffer(c-a);k=new Uint8Array(b);a=new Uint8Array(this,a,c-a);k.set(a);return b;});f.w7=function(a){return a&&0==a.toLowerCase().indexOf("https");};f.U$a=function(){var a,c;a=new ArrayBuffer(4);c=new Uint8Array(a);a=new Uint32Array(a);c[0]=161;c[1]=178;c[2]=195;c[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};f.xS=function(){var a,c,b;try{a=/playercore.*js/;c=A.ar.getEntries("resource").filter(function(c){return null!==a.exec(c.name);});if(c&&0<c.length){b=A.Jh(c[0].duration);return JSON.stringify(b);}}catch(W){}};f.$Ib=function(a,c,b){if(a&&a.length)if(b&&b.d1a)try{a.forEach(function(a,k){var d;d=(k=b.d1a[k])&&k.media;d&&h.Od(d)?(d=z.Kk(d).buffer,a.media={arrayBuffer:d,length:d.byteLength,stream:c,Ub:k.cdn}):z.log.warn("chunk not in cache",a.bg);});}catch(W){z.log.error("error reading cached chunks",W);}else z.log.warn("chunks not available in cached stream",b.type);else z.log.warn("chunks not available in mediabuffer",b.type);};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.mja=1]="Video";}(f.aG||(f.aG={})));(function(a){a[a.Fw=0]="Default";a[a.Tw=1]="Microsoft";}(f.Aw||(f.Aw={})));(function(a){a[a.Fw=0]="Default";a[a.oX=1]="Cast";a[a.qX=2]="Chrome";a[a.Tw=3]="Microsoft";a[a.Cia=4]="Safari";}(f.Oj||(f.Oj={})));(function(a){a[a.oG=0]="SD";a[a.mN=1]="HD";a[a.bO=2]="UHD";a[a.Tq=3]="DV";a[a.Xq=4]="HDR10";a[a.oA=5]="AVCHigh";a[a.Qt=6]="VP9";a[a.Ch=7]="AV1";}(f.kd||(f.kd={})));(function(a){a[a.hp=0]="Level_1_4";a[a.Nw=1]="Level_2_2";}(f.Gh||(f.Gh={})));f.iDb=function(){};(function(a){a[a.uBb=0]="Platform";a[a.Wwb=1]="CurrentTitle";}(f.lSa||(f.lSa={})));f.DX="DeviceCapabilitiesSymbol";f.qxb=function(){};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.mg="SchedulerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Lt="named";f.EN="name";f.rG="unmanaged";f.Oga="optional";f.QF="inject";f.Qw="multi_inject";f.Mia="inversify:tagged";f.Nia="inversify:tagged_props";f.hZ="inversify:paramtypes";f.DHa="design:paramtypes";f.gG="post_construct";},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(13);f.uX=!1;g=function(){function a(a,b,c,k,d){this.Ua=a;this.type=b;this.byteOffset=c;this.byteLength=k;this.parent=d;this.Cc={};this.EK=k;}a.gy=function(a,b){var k,p;function c(a){a&&a.gy&&(a=a.gy(b),a.length&&(k=k.concat(a)));}k=[];a.type===b&&k.push(a);if(a.Cc)for(var d in a.Cc){p=a.Cc[d];Array.isArray(p)&&p.forEach(c);}return k;};a.sH=function(a,b){void 0===a.Cc[b.type]&&(a.Cc[b.type]=[]);a.Cc[b.type].push(b);};a.hy=function(b,d){return a.gy(b,d)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{J:{get:function(){return this.Ua;},enumerable:!0,configurable:!0}});a.prototype.kf=function(){var a;a=this.Ua.wb();this.version=a>>24;this.He=a&16777215;};a.prototype.sH=function(b){a.sH(this,b);};a.prototype.gy=function(b){return a.gy(this,b);};a.prototype.hy=function(b){return a.hy(this,b);};a.prototype.parse=function(){return!0;};a.prototype.fy=function(){return!0;};a.prototype.Zo=function(a){if((a=this.Cc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.zj=function(a,d){d=void 0===d?this.Ua.offset:d;b.assert(d>=this.startOffset+8&&d+a<=this.startOffset+this.EK,"Removal range [0x"+d.toString(16)+"-0x"+(d+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.EK).toString(16)+")");this.byteLength-=a;this.Ua.pm(this.byteLength,!1,this.startOffset);this.parent?this.parent.zj(a,d):this.Ua.zj(a,d);};a.prototype.hL=function(a,d,c){c=void 0===c?this.Ua.offset:c;b.assert(c>=this.startOffset+8&&c+a<=this.startOffset+this.EK,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.EK).toString(16)+")");this.byteLength+=(d?d.byteLength:0)-a;this.Ua.pm(this.byteLength,!1,this.startOffset);this.parent?this.parent.hL(a,d,c):this.Ua.hL(a,d,c);};a.prototype.Qza=function(a,b,c){if(1<c){for(var k=[];0<c--;)k.push(this.Wla(a,b));return k;}return this.Wla(a,b);};a.prototype.xq=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var k,d;if("offset"===a.type){k=a.offset;if(0<k%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.Ua.offset+=k/8;}else for(k in a){d=a[k];b[k]="string"===typeof d?c.Qza(d):c.Qza(d.type,d.length,d.tZa);}});return b;};a.prototype.Wla=function(a,b){var c;c=this.byteLength-this.Ua.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.Ua.ee();break;case"int64":a=this.Ua.fi();break;case"int32":a=this.Ua.wb();break;case"int16":a=this.Ua.Nf();break;case"string":a=this.Ua.Rmb(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};a.Qb=!1;return a;}();f.Fh=g;},function(g,f,a){var c,k,q,p,u,z,y,h,A;function b(a,c){var b,k,d;try{b=q.sk.plugins;k=b.length;for(d=0;d<k;d++)if(c.test(b[d][a]))return b[d];return!1;}catch(E){}}function d(){var a,c;a=b("filename",/widevinecdm/i);if(a){try{c=a.description.match(/version: ([0-9.]+)/);if(c&&c[1])return c[1];}catch(S){}return"true";}return"false";}function t(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.pl,robustness:"HW_SECURE_DECODE"},{contentType:c.pl,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.Pw,robustness:"SW_SECURE_CRYPTO"}]}];try{q.sk.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var c;c=a.getConfiguration();a=c.videoCapabilities;(c=c.audioCapabilities)&&c.length&&(c=m(c),0<=c.indexOf("SW_SECURE_CRYPTO")&&(f.Vn.cptheaacwv_sw_cryp=!0));a&&a.length?(f.Vn.cpth264wv=!0,c=m(a),0<=c.indexOf("SW_SECURE_DECODE")&&(f.Vn.cpth264wv_sw_dec=!0),0<=c.indexOf("HW_SECURE_DECODE")&&(f.Vn.cpth264wv_hw_dec=!0)):f.Vn.cpth264wv=!1;})["catch"](function(){f.Vn.cpth264wv=!1;});}catch(M){}}function m(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(f,"__esModule",{value:!0});a(0).__exportStar(a(769),f);c=a(9);g=a(28);k=a(19);q=a(8);p=a(29);u=a(4);a=a(426);f.tHb=/CrOS/.test(q.Nj);f.gia=/CrOS/.test(q.Nj);f.Zga={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:p.Oj.qX,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};u.W.get(a.dja).qZa(f.Zga);f.TAb=function(){return{};};f.UAb=b;f.VAb=d;f.$ga=d();a=f.$ga;if(!(p=f.$ga))a:{try{q.sk.plugins.refresh();p=d();break a;}catch(B){}p=void 0;}u=!!b("name",/Chrome Remote Desktop Viewer/i);z=!!b("name",/Chromoting Viewer/i);a:{try{y=MediaSource.isTypeSupported(c.pl);break a;}catch(B){}y=void 0;}a:{try{h=k.createElement("VIDEO").canPlayType(c.pl);break a;}catch(B){}h=void 0;}a:{try{if(g.dva())t();else{A=k.createElement("VIDEO").canPlayType(c.pl,"com.widevine.alpha");break a;}}catch(B){}A=void 0;}f.Vn={wvp:a,wvp2:p,crdvp:u,cvp:z,itsh264:y,cpth264:h,cpth264wv:A};f.NEb=t;f.NGb=m;},function(g,f,a){var m,c,k;function b(a){return function(c,b){return c.J$(b,a);};}function d(a,c){return a.hV.Jmb[c]||t(a,c);}function t(a,c){a=a.Gs.data[c];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(f,"__esModule",{value:!0});m=a(35);c=a(3);k=a(134);f.config=function(a,c){return function(b,p,q){var u,f;u=void 0!==c?c:p;f=q.get;void 0!==f&&(q.get=function(){var c;if(!this.veb(p))return this.sbb(p);a:{c=(this.fZa?d:t)(this,u.toString());if(void 0!==c)if(c=a(this.yK,c),c instanceof k.vm)this.Pra(u,c);else break a;c=f.bind(this)();}this.vob(p,c);return c;});return q;};};f.g7=function(a,c){return a.Mza(c);};f.Wd=function(a,c){return a.G$(c);};f.uw=function(a,c){return a.Na(c);};f.string=function(a,c){return a.J$(c);};f.tba=function(a,c){return a.rd(c,f.string);};f.oHb=function(a,c){return a.rd(c,f.g7);};f.rDa=function(a,c){return a.rd(c,f.uw);};f.Sg=function(a,b){a=a.Na(b);return a instanceof k.vm?a:c.Cb(a);};f.aa=function(a,c){a=a.Na(c);return a instanceof k.vm?a:m.aa(a);};f.url=b(/^\S+$/);f.$Fb=function(a){return function(c,b){return c.Lza(b,a);};};f.object=function(){return function(a,c){return a.Nza(c);};};f.cAa=b;f.Dp=function(a,c){return function(b,k){return b.rd(k,a,c);};};},function(g,f,a){var t;function b(a){return t.cO.apply(this,arguments)||this;}function d(a){return new t.jp(a,f.qA);}Object.defineProperty(f,"__esModule",{value:!0});t=a(469);aa(b,t.cO);f.Bwb=b;f.mQ=d;f.aa=function(a){return new t.jp(a,f.Pn);};f.HHb=function(a){return new t.jp(a,f.Gfa);};f.bIb=function(a){return new t.jp(a,f.XMa);};f.qA=new b(1,"b");f.Pn=new b(8*f.qA.Le,"B",f.qA);f.Gfa=new b(1024*f.Pn.Le,"KB",f.qA);f.XMa=new b(1024*f.Gfa.Le,"MB",f.qA);f.Cf=d(0);},function(g,f,a){var t,m,c,k;function b(a,c){var b;b=k.call(this,a,c)||this;b.apa=c;b.debug=a.debug;b.ia=a.uf.lb(b.apa);return b;}function d(a,c){this.apa=c;this.z$={};this.Gs=a.Gs;this.yK=a.yK;this.hV=a.hV;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);t=a(1016);m=a(1);c=a(134);f.rRa="isTestAccount";d.prototype.Pra=function(){};d.prototype.vob=function(a,c){this.z$[a]=[c,this.Gs.HAa];};d.prototype.veb=function(a){return t.Sga.of(this.z$[a]).map(function(a){return a[1];}).lya(-1)<this.Gs.HAa;};d.prototype.sbb=function(a){return t.Sga.of(this.z$[a]).map(function(a){return a[0];}).lya(function(){throw Error("Invalid State Error");});};oa.Object.defineProperties(d.prototype,{fZa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.Gs&&this.Gs.data){a=this.Gs.data[f.rRa];"undefined"!==typeof a&&(b=a.toString());a=this.yK.G$(b);a=a instanceof c.vm?!1:a;}else a=!1;return a;}}});k=d;k=g.__decorate([m.N(),g.__param(0,m.Yg()),g.__param(1,m.Yg())],k);f.QM=k;aa(b,k);b.prototype.Pra=function(a,c){this.ia.error("Invalid configuration value.",{name:a},c);this.debug.assert(!1);};a=b;a=g.__decorate([g.__param(0,m.Yg()),g.__param(1,m.Yg())],a);f.ve=a;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.qja="WindowTimersSymbol";f.Ht="JSONSymbol";f.OA="NavigatorSymbol";f.VMa="MediaSourceSymbol";f.Nfa="LocationSymbol";f.Qda="DateSymbol";f.tZ="PerformanceSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Mh={bwa:"logblob",Ia:"manifest",Kf:"license",events:"events",bind:"bind",uya:"pair",ping:"ping"};g=f.kg||(f.kg={});g[g.Yq=20]="High";g[g.UY=10]="Medium";g[g.HA=0]="Low";f.DZ={kg:"reqPriority",jQa:"reqAttempt",kQa:"reqName"};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.NY="LogBatcherConfigSymbol";f.Lj="LogBatcherSymbol";f.Ofa="LogBatcherProviderSymbol";},function(g,f){var d;function a(a,b,c,k){var d;Object.getOwnPropertyNames(a).filter(function(a){return(!k||k(a))&&(c||!Object.prototype.hasOwnProperty.call(b,a));}).forEach(function(c){d=Object.getOwnPropertyDescriptor(a,c);void 0!==d&&Object.defineProperty(b,c,d);});}function b(d,f,c){var k,q;k=c?[]:Object.keys(f);q=Object.getPrototypeOf(d);null!==q&&q!==Object.prototype&&b(q,f,c);a(d,f,!0,function(a){return"constructor"!==a&&-1===k.indexOf(a);});}Object.defineProperty(f,"__esModule",{value:!0});d=Object.getOwnPropertyNames(Function);f.li=function(f,m,c){void 0===c&&(c=!0);f.prototype?(b(f.prototype,m.prototype,c),a(f,m,c,function(a){return-1===d.indexOf(a);})):a(f,m.prototype,c,function(a){return-1===d.indexOf(a);});};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Ij="Base64EncoderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Jj="ClockSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.tk="PboCommandContextSymbol";},function(g,f,a){var m,c;function b(a){return a&&a.hf&&a.inRange&&!a.Og&&!1!==a.Vu;}function d(a,c,b){return!m.pa(a)||a<c?c:a>b?b:a;}function t(a){if(!(this instanceof t))return new t(a);this.sd=m.pa(a)?a:void 0;}m=a(6);c=new(a(5)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.T={console:c,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",c.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},Gy:b,J4:function(a,c,b){var p,q,f,t;function k(c){var d;d=a[c];if(!d.hf||!d.inRange||d.Og||b&&!b(d,c))return!1;t=c;return!0;}p=a.length;q=0;f=p;m.isArray(c)&&(q=d(c[0],0,p),f=d(c[1],0,p),c=c[2]);c=d(c,q-1,f);for(p=c-1;p>=q;--p)if(k(p))return t;for(p=c+1;p<f;++p)if(k(p))return t;return-1;},nib:function(a,c){return Math.floor(a/(125*c)*1E3);},a0a:function(a,c){return Math.ceil(a/1E3*c*125);},vHb:function(a,c){return!a.slice(c+1).some(b);},np:t,una:function(a,c){var b;return a.some(function(a,d,k){b=a;return c(a,d,k);})?b:void 0;},XB:function(a,c){var b;return a.some(function(a,d,k){b=d;return c(a,d,k);})?b:-1;},hC:d};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.zb=function(a){return setTimeout(a,0);};},function(g,f,a){var b,d,t,m,c,k;b=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};d=a(462);g=a(71);t=a(242);m=a(241);c=function(a){function d(b,d,p){var q;a.call(this);this.Vz=null;this.We=this.mk=this.Uz=!1;switch(arguments.length){case 0:this.destination=t.empty;break;case 1:if(!b){this.destination=t.empty;break;}if("object"===typeof b){if(b instanceof c||"syncErrorThrowable"in b&&b[m.Kz]){q=b[m.Kz]();this.mk=q.mk;this.destination=q;q.add(this);}else this.mk=!0,this.destination=new k(this,b);break;}default:this.mk=!0,this.destination=new k(this,b,d,p);}}b(d,a);d.prototype[m.Kz]=function(){return this;};d.create=function(a,c,b){a=new d(a,c,b);a.mk=!1;return a;};d.prototype.next=function(a){this.We||this.jh(a);};d.prototype.error=function(a){this.We||(this.We=!0,this.Zc(a));};d.prototype.complete=function(){this.We||(this.We=!0,this.ec());};d.prototype.unsubscribe=function(){this.closed||(this.We=!0,a.prototype.unsubscribe.call(this));};d.prototype.jh=function(a){this.destination.next(a);};d.prototype.Zc=function(a){this.destination.error(a);this.unsubscribe();};d.prototype.ec=function(){this.destination.complete();this.unsubscribe();};d.prototype.SXa=function(){var a,c;a=this.Jm;c=this.rx;this.rx=this.Jm=null;this.unsubscribe();this.We=this.closed=!1;this.Jm=a;this.rx=c;};return d;}(g.uk);f.pi=c;k=function(a){function c(c,b,k,p){var q;a.call(this);this.ZG=c;c=this;d.Mb(b)?q=b:b&&(q=b.next,k=b.error,p=b.complete,b!==t.empty&&(c=Object.create(b),d.Mb(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)));this.si=c;this.jh=q;this.Zc=k;this.ec=p;}b(c,a);c.prototype.next=function(a){var c;if(!this.We&&this.jh){c=this.ZG;c.mk?this.ZZ(c,this.jh,a)&&this.unsubscribe():this.$Z(this.jh,a);}};c.prototype.error=function(a){var c;if(!this.We){c=this.ZG;if(this.Zc)c.mk?this.ZZ(c,this.Zc,a):this.$Z(this.Zc,a),this.unsubscribe();else if(c.mk)c.Vz=a,c.Uz=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a,c,b;a=this;if(!this.We){c=this.ZG;if(this.ec){b=function(){return a.ec.call(a.si);};c.mk?this.ZZ(c,b):this.$Z(b);}this.unsubscribe();}};c.prototype.$Z=function(a,c){try{a.call(this.si,c);}catch(y){throw this.unsubscribe(),y;}};c.prototype.ZZ=function(a,c,b){try{c.call(this.si,b);}catch(L){return a.Vz=L,a.Uz=!0;}return!1;};c.prototype.Ir=function(){var a;a=this.ZG;this.ZG=this.si=null;a.unsubscribe();};return c;}(c);},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.ejb=function(a,b){return a-b;};f.bKb=function(a,b){return a.localeCompare(b);};f.Yk=function(a,b){var d;d=Object.getOwnPropertyDescriptor(a,b);d&&Object.defineProperty(a,b,{configurable:d.configurable,enumerable:!1,value:d.value,writable:d.writable});};},function(g){g.T=function(f,a){for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b]);return a;};},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});a(0).__exportStar(a(382),f);f.ygb=function(b){f.platform.EJ(b);return a(767).yMa;};f.CGb=function(){return a(350);};f.oIb=function(){return a(202);};g=a(11);f.pc=g;g=a(661);f.Zm=g.Zm;g=a(5);f.platform=g;},function(g,f,a){var b,d;b=a(110);d=a(158);g.T=function(a){return function c(k,q){switch(arguments.length){case 0:return c;case 1:return d(k)?c:b(function(c){return a(k,c);});default:return d(k)&&d(q)?c:d(k)?b(function(c){return a(c,q);}):d(q)?b(function(c){return a(k,c);}):a(k,q);}};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.At||(f.At={});g[g.Tia=0]="Test";g[g.xfa=1]="Int";g[g.cRa=2]="Staging";g[g.RPa=3]="Prod";f.rm="GeneralConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.jIa="Cannot apply @injectable decorator multiple times.";f.kIa="Metadata key was used more than once in a parameter:";f.cG="NULL argument";f.Efa="Key Not Found";f.uEa="Ambiguous match found for serviceIdentifier:";f.eGa="Could not unbind serviceIdentifier:";f.sNa="No matching bindings found for serviceIdentifier:";f.jMa="Missing required @injectable annotation in:";f.kMa="Missing required @inject or @multiInject annotation in:";f.YRa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};f.hGa="Circular dependency found:";f.iAb="Sorry, this feature is not fully implemented yet.";f.XKa="Invalid binding type:";f.tNa="No snapshot available to restore.";f.$Ka="Invalid return type in middleware. Middleware must return!";f.Xyb="Value provided to function binding must be a function!";f.bLa="The toSelf function can only be applied when a constructor is used as service identifier";f.YKa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";f.vEa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};f.wGa="Invalid Container constructor argument. Container options must be an object.";f.uGa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";f.tGa="Invalid Container option. Auto bind injectable must be a boolean";f.vGa="Invalid Container option. Skip base check must be a boolean";f.xMa="Cannot apply @postConstruct decorator multiple times in the same class";f.GOa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};f.iGa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};f.CQa="Maximum call stack size exceeded";},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(68);b=a(45);d=a(8);f.Ae=new g.Kj();f.Vk=1;f.vy=2;f.p6=3;f.rJ=4;f.o6=5;b.zb(function(){var b,c,k;function a(a,b){if(c)c.on(a,b);else J.addEventListener(a,b);}b=J.jQuery;c=b&&b(J);b=(b=J.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;k=d.Jd.hidden;b?b(function(a){f.Ae.Ib(f.Vk,a);}):a("beforeunload",function(a){f.Ae.Ib(f.Vk,a);});a("keydown",function(a){f.Ae.Ib(f.vy,a);});a("resize",function(){f.Ae.Ib(f.p6);});d.Jd.addEventListener("visibilitychange",function(){k!==d.Jd.hidden&&(k=d.Jd.hidden,f.Ae.Ib(f.rJ));});});(function(){J.addEventListener("error",function(a){f.Ae.Ib(f.o6,a);return!0;});}());},function(g){g.T=function a(b,d){var t;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,d);Object.getOwnPropertyNames(b).forEach(function(a){t=Object.getOwnPropertyDescriptor(b,a);void 0!==t&&Object.defineProperty(d,a,t);});};},function(g,f,a){var d;function b(a,b,c,k,q,p,f,z,g,h,A){this.code=void 0===a?d.I.bj:a;this.Gc=b;this.sg=c;this.$x=k;this.kq=q;this.message=p;this.yC=f;this.data=z;this.cn=g;this.ulb=h;this.alert=A;this.X=!1;}Object.defineProperty(f,"__esModule",{value:!0});d=a(2);b.qd=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!==a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}return"";};b.prototype.zI=function(a){this.yC=b.qd(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.Gc,extCode:this.sg,edgeCode:this.$x,mslCode:this.kq,message:this.message,details:this.yC,data:this.data,errorDisplayMessage:this.cn,playbackServiceError:this.ulb};};b.gS=function(a,f){return new b(a,d.G.$g,void 0,void 0,void 0,void 0,f.message,f.stack);};f.Oc=b;},function(g,f,a){var d,t;function b(a,c){var k;k=f.fr[0];k==c&&(k=f.fr[1]);k?k.close(function(){b(a,c);}):a&&a(d.wc);}Object.defineProperty(f,"__esModule",{value:!0});d=a(9);t=a(14);f.Lha=b;f.Oha=function(a,c){switch(a){case f.Jha:f.Mha.push(c);return;case f.Kha:f.Nha.push(c);return;}t.Ga(!1);};f.fr=[];f.Mha=[];f.Nha=[];f.Jha=1;f.Kha=3;f.lG={index:0,mib:void 0,O4:void 0};f.Iha="network";f.Hha="media";f.pPa="timedtext";f.qPa="playback";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Tn="LogMessageFactorySymbol";},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(13);f.FG=function(a){b.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};f.Wja=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};f.BDb=function(a,b){return Math.floor(1E3*a/b);};},function(g,f){function a(a,f){return"number"!==typeof a||"number"!==typeof f?!1:a&&f?Math.abs(a*f/b(a,f)):0;}function b(a,b){var d;a=Math.abs(a);for(b=Math.abs(b);b;){d=b;b=a%b;a=d;}return a;}Object.defineProperty(f,"__esModule",{value:!0});g=function(){function d(a,b){"object"===typeof a?(this.JP=a.vd,this.Hr=a.ga):(this.JP=a,this.Hr=b);}d.GIb=function(a){return new d(1,a);};d.y9a=function(a){return new d(a,1E3);};d.ZCa=function(a,b){return Math.floor(1E3*a/b);};d.pxa=function(a,b){return Math.floor(a*b/1E3);};d.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};d.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};d.F9a=function(f,m){var c;if(f.ga===m.ga)return new d(b(f.vd,m.vd),f.ga);c=a(f.ga,m.ga);return d.F9a(f.jm(c),m.jm(c));};Object.defineProperties(d.prototype,{vd:{get:function(){return this.JP;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){return this.Hr;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{wf:{get:function(){return 1E3*this.JP/this.Hr;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ag:{get:function(){return this.JP/this.Hr;},enumerable:!0,configurable:!0}});d.prototype.jm=function(a){a/=this.ga;return new d(Math.floor(this.vd*a),Math.floor(this.ga*a));};d.prototype.add=function(b){var f;if(this.ga===b.ga)return new d(this.vd+b.vd,this.ga);f=a(this.ga,b.ga);return this.jm(f).add(b.jm(f));};d.prototype.ie=function(a){return this.add(new d(-a.vd,a.ga));};d.prototype.j9=function(a){return new d(this.vd*a,this.ga);};d.prototype.FC=function(b){var d;if(this.ga===b.ga)return this.vd/b.vd;d=a(this.ga,b.ga);return this.jm(d).FC(b.jm(d));};d.prototype.Vbb=function(b){return a(this.ga,b);};d.prototype.gnb=function(){return new d(this.ga,this.vd);};d.prototype.compare=function(b,d){var c;if(this.ga===d.ga)return b(this.vd,d.vd);c=a(this.ga,d.ga);return b(this.jm(c).vd,d.jm(c).vd);};d.prototype.equal=function(a){return this.compare(function(a,c){return a===c;},a);};d.prototype.Hxa=function(a){return this.compare(function(a,c){return a!==c;},a);};d.prototype.lessThan=function(a){return this.compare(function(a,c){return a<c;},a);};d.prototype.greaterThan=function(a){return this.compare(function(a,c){return a>c;},a);};d.prototype.nfb=function(a){return this.compare(function(a,c){return a<=c;},a);};d.prototype.q6=function(a){return this.compare(function(a,c){return a>=c;},a);};d.prototype.toJSON=function(){return{ticks:this.vd,timescale:this.ga};};d.prototype.toString=function(){return this.vd+"/"+this.ga;};d.Cf=new d(0,1);d.CK=new d(1,1E3);return d;}();f.dc=g;},function(g,f,a){var c;function b(){}function d(){}function t(){}function m(){}Object.defineProperty(f,"__esModule",{value:!0});a=a(112);(function(a){a[a.wm=0]="STANDARD";a[a.It=1]="LIMITED";a[a.kBb=2]="PREVIEW";}(c||(c={})));m.lda="created";m.tia="started";m.Aia="succeeded";m.Bt="failed";m.rA="cancelled";m.UM="cancelled_on_create";m.vF="cancelled_on_start";m.TM="cancelled_not_encrypted";f.te=m;t.$Cb="uirequest";t.jBb="prefetch_start";t.hBb="prefetch_complete";t.iBb="prefetch_delete";t.gOa="periodic_update";(function(a){a[a.lha=0]="PRE_FETCH";a[a.eia=1]="QC";a[a.wm=2]="STANDARD";a[a.Bia=3]="SUPPLEMENTAL";a[a.hIa=4]="DOWNLOAD";}(g=f.Wn||(f.Wn={})));a={manifest:a.ue.Wi.Cca,ldl:a.ue.Wi.Mw,getHeaders:a.ue.Wi.JF,getMedia:a.ue.Wi.MEDIA};d.IEa="asl_start";d.GEa="asl_comp";d.zvb="asl_exc";d.HEa="asl_fail";d.EQa="stf_creat";d.xKa="idb_open";d.uKa="idb_block";d.EKa="idb_upgr";d.DKa="idb_succ";d.vKa="idb_error";d.wKa="idb_invalid_state";d.zKa="idb_open_timeout";d.BKa="idb_open_wrkarnd";d.CKa="idb_storelen_exc";d.yKa="idb_open_exc";d.AKa="idb_timeout_invalid_storelen";d.qMa="msl_load_data";d.sMa="msl_load_no_data";d.rMa="msl_load_failed";f.ri=d;b.ozb=c;b.gpa=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.te=m;b.HOa=t;b.Wn=g;b.d2a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.hG=a;b.ri=d;f.Xc=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.ql="PlayerErrorFactorySymbol";},function(g,f){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(f,"__esModule",{value:!0});aa(a,Error);f.ym=a;f.Xw="PromiseTimerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Iia="StorageValidatorSymbol";f.ep="AppStorageFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Rn="EmeConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Mca="AccountManagerSymbol";f.Rq="AccountManagerProviderSymbol";},function(g,f){function a(){}function b(){}function d(){}Object.defineProperty(f,"__esModule",{value:!0});d.TX="playready-h264mpl30-dash";d.lN="playready-h264mpl31-dash";d.UX="playready-h264mpl40-dash";d.QJa="playready-h264hpl22-dash";d.QX="playready-h264hpl30-dash";d.RX="playready-h264hpl31-dash";d.SX="playready-h264hpl40-dash";d.rY="hevc-main-L30-dash-cenc";d.sY="hevc-main-L31-dash-cenc";d.tY="hevc-main-L40-dash-cenc";d.uY="hevc-main-L41-dash-cenc";d.vY="hevc-main-L50-dash-cenc";d.wY="hevc-main-L51-dash-cenc";d.dY="hevc-main10-L30-dash-cenc";d.gY="hevc-main10-L31-dash-cenc";d.jY="hevc-main10-L40-dash-cenc";d.mY="hevc-main10-L41-dash-cenc";d.KF="hevc-main10-L50-dash-cenc";d.LF="hevc-main10-L51-dash-cenc";d.eY="hevc-main10-L30-dash-cenc-prk";d.hY="hevc-main10-L31-dash-cenc-prk";d.kY="hevc-main10-L40-dash-cenc-prk";d.nY="hevc-main10-L41-dash-cenc-prk";d.fY="hevc-main10-L30-dash-cenc-prk-do";d.iY="hevc-main10-L31-dash-cenc-prk-do";d.lY="hevc-main10-L40-dash-cenc-prk-do";d.oY="hevc-main10-L41-dash-cenc-prk-do";d.pY="hevc-main10-L50-dash-cenc-prk-do";d.qY="hevc-main10-L51-dash-cenc-prk-do";d.Cyb="hevc-main-L30-L31-dash-cenc-tl";d.Dyb="hevc-main-L31-L40-dash-cenc-tl";d.Eyb="hevc-main-L40-L41-dash-cenc-tl";d.Fyb="hevc-main-L50-L51-dash-cenc-tl";d.yyb="hevc-main10-L30-L31-dash-cenc-tl";d.zyb="hevc-main10-L31-L40-dash-cenc-tl";d.Ayb="hevc-main10-L40-L41-dash-cenc-tl";d.Byb="hevc-main10-L50-L51-dash-cenc-tl";d.ZM="hevc-dv5-main10-L30-dash-cenc-prk";d.$M="hevc-dv5-main10-L31-dash-cenc-prk";d.aN="hevc-dv5-main10-L40-dash-cenc-prk";d.bN="hevc-dv5-main10-L41-dash-cenc-prk";d.cN="hevc-dv5-main10-L50-dash-cenc-prk";d.zX="hevc-dv5-main10-L51-dash-cenc-prk";d.VX="hevc-hdr-main10-L30-dash-cenc";d.WX="hevc-hdr-main10-L31-dash-cenc";d.XX="hevc-hdr-main10-L40-dash-cenc";d.YX="hevc-hdr-main10-L41-dash-cenc";d.ZX="hevc-hdr-main10-L50-dash-cenc";d.aY="hevc-hdr-main10-L51-dash-cenc";d.nN="hevc-hdr-main10-L30-dash-cenc-prk";d.oN="hevc-hdr-main10-L31-dash-cenc-prk";d.pN="hevc-hdr-main10-L40-dash-cenc-prk";d.qN="hevc-hdr-main10-L41-dash-cenc-prk";d.$X="hevc-hdr-main10-L50-dash-cenc-prk";d.bY="hevc-hdr-main10-L51-dash-cenc-prk";d.lja="vp9-profile0-L21-dash-cenc";d.uG="vp9-profile0-L30-dash-cenc";d.vG="vp9-profile0-L31-dash-cenc";d.wG="vp9-profile0-L40-dash-cenc";d.gja="vp9-profile2-L30-dash-cenc-prk";d.hja="vp9-profile2-L31-dash-cenc-prk";d.ija="vp9-profile2-L40-dash-cenc-prk";d.jja="vp9-profile2-L50-dash-cenc-prk";d.kja="vp9-profile2-L51-dash-cenc-prk";d.Dca="av1-main-L20-dash-cbcs-prk";d.Eca="av1-main-L21-dash-cbcs-prk";d.Fca="av1-main-L30-dash-cbcs-prk";d.Gca="av1-main-L31-dash-cbcs-prk";d.Hca="av1-main-L40-dash-cbcs-prk";d.Ica="av1-main-L41-dash-cbcs-prk";d.Jca="av1-main-L50-dash-cbcs-prk";d.Kca="av1-main-L51-dash-cbcs-prk";d.pQa=[d.TX];d.VJa=[d.lN,d.UX];d.VRa=[d.rY,d.sY,d.tY,d.uY,d.vY,d.wY];d.XRa=[d.dY,d.gY,d.jY,d.mY,d.KF,d.LF];d.WRa=[d.eY,d.hY,d.kY,d.nY,d.KF,d.LF];d.YCb=[d.fY,d.iY,d.lY,d.oY,d.pY,d.qY];d.UJa=[d.VX,d.WX,d.XX,d.YX,d.ZX,d.aY];d.TJa=[d.nN,d.oN,d.pN,d.qN,d.$X,d.bY];d.lIa=[d.ZM,d.aN,d.cN,d.$M,d.bN,d.zX];d.jxb=[d.ZM,d.$M,d.aN,d.cN,d.bN];d.Bvb=[d.QX,d.RX,d.SX];d.hDb=[d.uG,d.vG,d.wG];d.Qt=[d.lja,d.uG,d.vG,d.wG,d.gja,d.hja,d.ija,d.jja,d.kja];d.NEa=[d.Dca,d.Eca,d.Fca];d.MEa=[d.Gca,d.Hca,d.Ica];d.OEa=[d.Jca,d.Kca];d.Ch=[].concat(d.NEa,d.MEa,d.OEa);d.PJa=d.pQa.concat(d.VJa);d.SJa=d.VRa;d.RJa=d.XRa;d.TEa=[].concat(d.PJa,d.SJa,d.RJa,d.WRa,d.UJa,d.TJa,d.lIa,d.Qt,d.Ch);f.ca=d;b.rN="heaac-2-dash";b.sN="heaac-2hq-dash";b.XM="ddplus-2.0-dash";b.tX="ddplus-5.1-dash";b.YM="ddplus-atmos-dash";b.cY="playready-heaac-2-dash";b.XJa="heaac-2-dash-enc";b.hHa="ddplus-2.0-dash-enc";b.iHa="ddplus-5.1-dash-enc";b.WJa="playready-heaac-2-dash-enc";b.TEa=[b.rN,b.sN,b.XM,b.tX,b.YM,b.cY,b.XJa,b.hHa,b.iHa,b.WJa];f.Xi=b;a.zQa="simplesdh";a.xX="dfxp-ls-sdh";a.KA="nflx-cmisc";a.bCb="simplesdh-enc";a.cxb="dfxp-ls-sdh-enc";a.HN="nflx-cmisc-enc";f.vk=a;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(31);g=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.Lt?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();f.Metadata=g;},function(g,f,a){var d,t;function b(){var a,c;a=this;this.Yn={};this.on=function(c,b,d){a.addListener(c,b,d);};this.addListener=function(c,b,d){a.Yn&&(a.Yn[c]=a.Yn[c]||new t.aia(!0)).add(b,d);};this.removeListener=function(c,b){a.Yn&&a.Yn[c]&&a.Yn[c].removeAll(b);};this.x5=function(c){return a.Yn&&a.Yn[c]?a.Yn[c].d9a():[];};c=this;this.Ib=function(a,b,p){var k;if(c.Yn){k=c.x5(a);for(a={Ii:0};a.Ii<k.length;a={Ii:a.Ii},a.Ii++)p?function(a){return function(){var c;c=k[a.Ii];d.zb(function(){c(b);});};}(a)():k[a.Ii].call(this,b);}};}Object.defineProperty(f,"__esModule",{value:!0});d=a(45);t=a(430);b.prototype.EC=function(){this.Yn=void 0;};f.Kj=b;},function(g,f,a){var p,u,z,y,h,A,B,M,S,Q,l,E,n,R,r,Y;function b(a){var c,b,d,k;c=a.url.split("?");b=c[0];d="sc="+a.Uob;k=a.goa?"random="+(1E17*l.YF()).toFixed(0):"";b=c[1]?b+("?"+c[1]+"&"+d):b+("?"+d);b=b+(k?"&"+k:"");a.Ub&&!y.w7(b)&&(a=u.config&&u.config.q2)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function d(a){var c,b,d,k;c=a.url.split("?");b=c[0];d="bb_reason="+a.reason;k=a.goa?"random="+(1E17*l.YF()).toFixed(0):"";b=c[1]?b+("?"+c[1]+"&"+d):b+("?"+d);b=b+(k?"&"+k:"");a.Ub&&!y.w7(b)&&(a=u.config&&u.config.q2)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function t(a,c){var b,d,k,p;b=a.url.split("?");d=b[0];k=m(a);k&&(c.vq=k,(void 0===a.tM?0:a.tM)?(a.headers=a.headers||{},a.headers.Range="bytes="+k):(c.vq=k,d="/"==d[d.length-1]?d+"range/":d+"/range/",d+=k));k=a.goa?"random="+(1E17*l.YF()).toFixed(0):"";u.config.po&&a.VV&&(p="sc="+a.VV,k=p+(k?"&"+k:""));d=b[1]?d+("?"+b[1]+(k?"&"+k:"")):d+(k?"?"+k:"");a.Ub&&!y.w7(d)&&(a=u.config&&u.config.q2)&&(d=a.replace("{URL}",d).replace("{EURL}",encodeURIComponent(d)));c.url=d;}function m(a){var c;c=a.offset;if(void 0!==c)return S.VQ(c),void 0!==a.length?(a=a.offset+a.length-1,S.VQ(a),S.Ga(c<=a),c+"-"+a):c+"-";}function c(){return!1!==l.sk.onLine;}function k(a,c,b,d){var k,p;k=d.k$;p=d.headers;a.open(k?"POST":"GET",c,!b);switch(d.responseType){case f.TS:a.responseType="arraybuffer";break;case f.lua:Q.x0a(a,"overrideMimeType",void 0,"text/xml");}k&&(c={"Content-Type":A.Od(k)?"text/plain":"application/x-octet-stream"},p=p?A.Va(c,p):c);p&&Q.Sc(p,function(c,b){a.setRequestHeader(c,b);});d.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");k?a.send(k):a.send();}function q(a,c){switch(c.type){case f.TS:return a.response||new ArrayBuffer(0);case f.lua:return a.responseXML;default:return a.responseText;}}Object.defineProperty(f,"__esModule",{value:!0});p=a(68);u=a(12);z=a(9);y=a(28);h=a(26);A=a(19);B=a(2);M=a(4);S=a(14);Q=a(18);l=a(8);E=a(45);n=a(16);R=a(20);r={PZ:1,mDb:2,sFa:3};f.Ed=function(){var y,L,Q,l;function a(a){var c;try{c=a.url;n.lva(c)?0===c.indexOf("https")?l.ssl++:0===c.indexOf("http")?l["non-ssl"]++:l.invalid++:l.invalid++;}catch(Aa){}}function m(){L.Ib(f.kdb);L.Ib(f.mua);}function g(){L.Ib(f.N6);L.Ib(f.mua);}y=M.Jf("Http");L=new p.Kj();Q=0;l={ssl:0,"non-ssl":0,invalid:0};M.W.get(R.De).register(B.I.pfa,function(a){u.config.pub&&(J.addEventListener("online",m),J.addEventListener("offline",g),f.M6=c);a(z.wc);});return{addEventListener:L.addListener,removeEventListener:L.removeListener,download:function(c,b){var N,ka,r,ba,ca,V,O,ha,fa,za,ea;function d(){var a;d=A.je;ea&&(clearTimeout(ea),ea=null);L.removeListener(f.N6,g);fa&&(fa.onloadstart=null,fa.onreadystatechange=null,fa.onprogress=null,fa.onerror=null,fa.onload=null,fa=fa.onabort=null);ha.X||(ha.Y!=B.G.Dt?N.warn("Download failed",ka,B.Sn(ha)):N.trace("Download aborted",ka));a=r;r=void 0;for(var c=a.length;c--;)(function(){var b;b=a[c];E.zb(function(){b(ha);});}());L.Ib(f.hdb,ha,!0);}function p(){ea&&(clearTimeout(ea),ea=null);ea=setTimeout(l,za?O:V);}function z(a,c,b,k){var p,q;ha.X=!1;ha.Y=a;p=h.Vf();q=ha.rj;q.dg=q.dg||p;q.il=q.il||p;0<c&&(ha.Vh=ha.Ec=c);b&&(ha.Ra=b);k&&(ha.Bj=k);a!==B.G.MF&&a!==B.G.Lw&&a!==B.G.OF||!fa||(fa.onabort=null,W());d();}function m(a){var c,b;try{b=a.getResponseHeader("X-Netflix.Retry.Server.Policy");b&&(c=JSON.parse(b));}catch(yd){}return c;}function g(){f.M6()||z(B.G.MF);}function l(){z(za?B.G.Lw:B.G.OF);}function W(){try{fa&&fa.abort();}catch(xd){}}function R(){z(B.G.Dt);}S.Ga(b);N=c.j&&c.j.log&&M.Zf(c.j,"Http")||y;ka={Num:Q++};r=[b];ba={};V=c.JQ||u.config.JQ;O=c.t9||u.config.t9;a(c);ha=function(){var a,b,k;a=A.je;b=A.je;k=A.je;return{request:c,type:c.responseType,rj:ba,abort:W,timeout:l,Cma:function(a){d!==A.je&&(S.Ga(r,"Callback should be added before download starts."),r&&r.unshift(a));},AU:function(a){k(a);},CU:function(c){a(c);},WD:function(a){b(a);},Zpb:function(a){k=a;},hqb:function(c){a=c;},Wpb:function(a){b=a;}};}();E.zb(function(){var a,b;if(n.lva(c.url))try{if(t(c,ha),ca=ha.url,S.rI(ca),ka.Url=ca,f.M6()){fa=new XMLHttpRequest();a=u.config.uub&&"undefined"!=typeof fa.onloadstart;a&&(fa.onloadstart=function(){var a;a=h.Vf();ba.requestTime=a;ha.AU({mediaRequest:c,timestamp:a});});fa.onreadystatechange=function(){if(2==fa.readyState){za=!0;ba.dg=h.Vf();fa.onreadystatechange=null;p();for(var a=ha,b=fa.getAllResponseHeaders().split("\n"),d=b.length,k,q,f={};d--;)if(k=b[d])q=k.indexOf(": "),1<=q&&q<k.length-1&&(f[k.substr(0,q)]=k.substr(q+2));a.headers=f;ha.CU({timestamp:ba.dg,connect:!0,mediaRequest:c,start:ba.requestTime,rt:[ba.dg-ba.requestTime]});}};fa.onprogress=function(a){za=!0;ba.Iu=a.loaded;p();a={mediaRequest:c,bytes:a.loaded,tempstamp:h.Vf(),bytesLoaded:a.loaded};ha.CU(a);};fa.onload=function(){var a;if(d!==A.je){S.Ga(void 0===ba.il);ba.il=h.Vf();ba.dg=ba.dg||ba.il;if(200<=fa.status&&299>=fa.status)if(a=q(fa,ha),c.ci)try{ha.content=c.ci(a,ha);ha.X=!0;ha.parsed=!0;ha.raw=a;}catch(yd){N.warn("Exception parsing response",yd,ka);z(B.G.yY,void 0,A.qd(yd));}else ha.parsed=!1,ha.content=a,ha.X=!0;else fa.status==Y?z(B.G.AA,fa.status):z(B.G.NF,fa.status,fa.response,m(fa));d();}};fa.onabort=R;fa.onerror=function(){var a,c;a=fa.status;"undefined"!==typeof u.config.Nra&&(a=u.config.Nra);if(0<a)if(a==Y)z(B.G.AA,a);else{try{c=fa.responseText;}catch(Le){}z(B.G.NF,a,c,m(fa));}else z(B.G.BA);};b=h.Vf();k(fa,ca,!1,c);L.Ib(f.jdb,ha,!0);a||(ba.requestTime=b,ha.AU({mediaRequest:c,timestamp:b}));p();L.addListener(f.N6,g);}else E.zb(z.bind(void 0,B.G.MF));}catch(Ya){N.error("Exception starting download",Ya,ka);z(B.G.CY,void 0,A.qd(Ya));}else z(B.G.Lea);});return ha;},Kb:l,wIb:function(a){var c;c=new XMLHttpRequest();a=d(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},Oqb:function(a){var c;c=new XMLHttpRequest();a=b(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},nmb:function(a){var c,b,d;c=new XMLHttpRequest();b=a.url;d=a.kmb;c.open("HEAD",b);c.timeout=Math.max(2*d.Zfb,u.config.t$);c.onreadystatechange=function(){2==c.readyState&&d&&d.al({url:b});};c.ontimeout=c.onerror=function(){d&&d.A9({url:b});};c.send();},ZPa:r};}();f.eHb=b;f.bHb=d;f.dHb=t;f.cHb=m;f.M6=z.aQa;f.fHb=c;f.oDb=k;f.nDb=q;f.jdb=1;f.hdb=2;f.kdb=3;f.N6=4;f.mua=5;f.kua=1;f.lua=2;f.TS=3;Y=420;J._cad_global.http=f.Ed;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.jN="EventSourceSymbol";f.PX="GlobalEventSourceSymbol";f.AF="DebugEventSourceSymbol";},function(g,f,a){var d,t,m,c,k,q;function b(a){return a.reduce(function(a,c){return a.concat(c instanceof q.dO?c.TI:c);},[]);}d=a(101);t=a(463);m=a(462);c=a(1004);k=a(461);q=a(1003);g=function(){function a(a){this.closed=!1;this.NB=this.rx=this.Jm=null;a&&(this.Ir=a);}a.prototype.unsubscribe=function(){var a,p,f,g,h,B;a=!1;if(!this.closed){f=this.Jm;g=this.rx;h=this.Ir;B=this.NB;this.closed=!0;this.NB=this.rx=this.Jm=null;for(var M=-1,S=g?g.length:0;f;)f.remove(this),f=++M<S&&g[M]||null;m.Mb(h)&&(f=c.nDa(h).call(this),f===k.Su&&(a=!0,p=p||(k.Su.e instanceof q.dO?b(k.Su.e.TI):[k.Su.e])));if(d.isArray(B))for(M=-1,S=B.length;++M<S;)f=B[M],t.Ve(f)&&(f=c.nDa(f.unsubscribe).call(f),f===k.Su&&(a=!0,p=p||[],f=k.Su.e,f instanceof q.dO?p=p.concat(b(f.TI)):p.push(f)));if(a)throw new q.dO(p);}};a.prototype.add=function(c){var b;if(!c||c===a.EMPTY)return a.EMPTY;if(c===this)return this;b=c;switch(typeof c){case"function":b=new a(c);case"object":if(b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;"function"!==typeof b.Bja&&(c=b,b=new a(),b.NB=[c]);break;default:throw Error("unrecognized teardown "+c+" added to Subscription.");}(this.NB||(this.NB=[])).push(b);b.Bja(this);return b;};a.prototype.remove=function(a){var c;c=this.NB;c&&(a=c.indexOf(a),-1!==a&&c.splice(a,1));};a.prototype.Bja=function(a){var c,b;c=this.Jm;b=this.rx;c&&c!==a?b?-1===b.indexOf(a)&&b.push(a):this.rx=[a]:this.Jm=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();f.uk=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.kp="PlatformSymbol";},function(g,f,a){var d,t,m,c;function b(a,c,b,d,f,m){this.context=a;this.errorCode=c;this.zob=b;this.W$=f;this.V$=m;this.name=d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);t=a(292);m=a(3);c=a(55);b.prototype.send=function(a,c,b,d,f,m,g){var k;k=this;return this.J$a(a,c,b,d,f,m,g).then(function(a){return k.context.g6a.send(a.context,a.request);});};b.prototype.J$a=function(a,c,b,d,f,m,g){var k,p;try{k=t.X_a(this.context.mv.oC(),b,this.context.bl,d,f);p=this.V_a(a,c,m,g);return Promise.resolve({context:p,request:k});}catch(M){return Promise.reject(M);}};b.prototype.V_a=function(a,c,b,d){return{Ed:this.context.Ed,log:a,Ok:this.name,url:this.context.kub(t.Y_a(this.context.Hf,this.context.bl,this.name)),profile:c,faa:this.zob,timeout:m.Ag(59),headers:{"Content-Type":"text/plain"},V$:this.V$,W$:void 0!==b?b:this.W$,D_a:d};};b.prototype.gn=function(a){return a instanceof c.Oc?a:t.gn(this.errorCode,a);};b.prototype.yoa=function(a){var c;c=this;a.forEach(function(a){if(c.n7(a))throw a.error;});};b.prototype.n7=function(a){return void 0!==a.error;};a=b;a=g.__decorate([d.N(),g.__param(0,d.Yg()),g.__param(1,d.Yg()),g.__param(2,d.Yg()),g.__param(3,d.Yg()),g.__param(4,d.Yg()),g.__param(5,d.Yg())],a);f.Dh=a;},function(g,f,a){var u;function b(a,b){if(a.length==b.length&&1<a.length){for(var d=a.length,k=0,p=c(a),q=c(b),f=0;f<d;f++)k+=a[f]*b[f];return(k-p*q/d)/d;}return!1;}function d(a){if(!Array.isArray(a)||2>a.length)return!1;a=t(a);return Math.sqrt(a);}function t(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=m(a);return c(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function m(a){return Array.isArray(a)&&a.length?c(a)/a.length:!1;}function c(a){return Array.isArray(a)?a.reduce(function(a,c){return a+c;},0):!1;}function k(a,c,b){return Math.max(Math.min(a,b),c);}function q(a,c){return"number"===typeof a?a:c;}function p(a){return 1/(1+Math.exp(-a));}u=a(6);g.T={na:function(a,c,b){try{a.na(c,b);}catch(A){a.Zc("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",A,"Event:",b);}},Um:function(){var a,c,b;a=Array.prototype.concat.apply([],arguments);c=a.reduce(function(a,c){return a+c.byteLength;},0);b=new Uint8Array(c);a.reduce(function(a,c){b.set(new Uint8Array(c),a);return a+c.byteLength;},0);return b.buffer;},hC:k,g1a:function(a,c,b,d){return{min:k(q(a.min,c),b,d),max:k(q(a.max,c),b,d),fs:k(a.fs||6E4,0,6E5),uoa:k(a.uoa||0,-3E5,3E5),scale:k(a.scale||6E4,0,3E5),WAa:k(a.WAa||0,-3E5,3E5),gamma:k(a.gamma||1,.1,10)};},Sc:function(a,c){void 0!==a&&u.gkb(a).forEach(function(a){c(a[0],a[1]);});},e8a:function(a,c,b){return a.min+(a.max-a.min)*(1-Math.pow(p(6*(c-(a.fs+(a.uoa||0)*(1-b)))/(a.scale+(a.WAa||0)*(1-b))),a.gamma));},f8a:function(a,c){return a.min+(a.max-a.min)*Math.pow(p(6*(c-a.fs)/a.scale),a.gamma);},RGb:c,X9a:m,fcb:t,PGb:d,wGb:b,vGb:function(a,c){var k;if(a.length==c.length){k=b(a,c);a=d(a);c=d(c);if(0<a&&0<c)return k/(a*c);}return!1;},GD:function(a,c,b){return c.upa?c.upa(b):new a.Console("ASEJS","media|asejs",b);},tL:function(a){return a.length?"{"+a+"} ":"";},Pob:function(a,c,b){return{min:a.min*b+(1-b)*c.min,max:a.max*b+(1-b)*c.max,fs:a.fs*b+(1-b)*c.fs,scale:a.scale*b+(1-b)*c.scale,gamma:a.gamma*b+(1-b)*c.gamma};},tanh:Math.tanh||function(a){var c;c=Math.exp(+a);a=Math.exp(-a);return Infinity==c?1:Infinity==a?-1:(c-a)/(c+a);},aba:p};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.ig={audio:"audio",video:"video",tW:"timedtext",Yba:"trickplay"};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.ol={start:"start",stop:"stop",SJ:"keepAlive",NI:"engage",splice:"splice"};f.MX="EventPboCommandFactorySymbol";f.Gia="StartEventPboCommandSymbol";f.Hia="StopEventPboCommandSymbol";f.Ffa="KeepAliveEventPboCommandSymbol";f.Eia="SpliceEventPboCommandSymbol";f.sea="EngageEventPboCommandSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});(function(a){a[a.wm=0]="STANDARD";a[a.It=1]="LIMITED";}(f.Zi||(f.Zi={})));f.Iva=function(a){return["STANDARD","LIMITED"][a];};},function(g,f,a){var b,d,t,m,c,k,q,p;b=a(80);d=a(452);t=a(451);m=a(463);c=a(10);k=a(165);q=a(986);p=a(240);f.ft=function(a,f,g,h){var u;u=new q.wfa(a,g,h);if(u.closed)return null;if(f instanceof c.Da)if(f.ur)u.next(f.value),u.complete();else return u.mk=!0,f.subscribe(u);else if(d.Mua(f)){a=0;for(g=f.length;a<g&&!u.closed;a++)u.next(f[a]);u.closed||u.complete();}else{if(t.cva(f))return f.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(f&&"function"===typeof f[k.iterator]){f=f[k.iterator]();do{a=f.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(f&&"function"===typeof f[p.observable])if(f=f[p.observable](),"function"!==typeof f.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return f.subscribe(new q.wfa(a,g,h));else f="You provided "+(m.Ve(f)?"an invalid object":"'"+f+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(f));}return null;};},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.apply(this,arguments);}b(d,a);d.prototype.gz=function(a,c){this.destination.next(c);};d.prototype.x9=function(a){this.destination.error(a);};d.prototype.al=function(){this.destination.complete();};return d;}(a(46).pi);f.er=g;},function(g,f,a){g=a(250);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof J&&J||"undefined"!==typeof g&&g||a;f.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.On={Request:"Request",JZ:"Singleton",$N:"Transient"};f.Eh={vda:"ConstantValue",wda:"Constructor",hea:"DynamicValue",OX:"Factory",Function:"Function",IY:"Instance",qLa:"Invalid",dia:"Provider"};f.hr={sda:"ClassProperty",xda:"ConstructorArgument",VZ:"Variable"};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.ResponseType||(f.ResponseType={});g[g.Text=0]="Text";g[g.pDb=1]="Xml";g[g.iwb=2]="Binary";f.Jyb="HttpClientSymbol";f.Jt="LegacyHttpSymbol";},function(g){var f;f=function(){function a(a){this.Gf=a;}a.prototype.iqb=function(a){this.Gf=a;};a.prototype.Eoa=function(){this.Gf=void 0;};a.prototype.ky=function(a){this.Gf&&this.Gf.jz&&this.Gf.jz(a);};a.prototype.jy=function(a){this.Gf&&this.Gf.Ov&&this.Gf.Ov(a);};a.prototype.YC=function(a){this.Gf&&this.Gf.DK&&this.Gf.DK(a);};a.prototype.Wu=function(a){this.Gf&&this.Gf.ai&&this.Gf.ai(a);};a.prototype.cS=function(a){this.Gf&&this.Gf.XD&&this.Gf.XD(a);};a.prototype.bS=function(a,d){this.Gf&&this.Gf.DU&&this.Gf.DU(a,d);};return a;}();f.prototype.jz=f.prototype.ky;f.prototype.Ov=f.prototype.jy;f.prototype.DK=f.prototype.YC;f.prototype.ai=f.prototype.Wu;f.prototype.XD=f.prototype.cS;f.prototype.DU=f.prototype.bS;g.T=f;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});(function(a){a[a.zqa=0]="downloading";a[a.v6a=1]="downloaded";a[a.Ph=2]="appended";a[a.buffered=3]="buffered";a[a.vJb=4]="removed";a[a.xKb=5]="unused";}(f.Rca||(f.Rca={})));(function(a){a[a.waiting=1]="waiting";a[a.EIb=2]="ondeck";a[a.zqa=4]="downloading";a[a.v6a=8]="downloaded";a[a.KJ=6]="inprogress";}(f.Qca||(f.Qca={})));f.Ivb="AseBufferViewSymbol";f.ZW="AseBufferAccountingSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.qt="ApiInfoSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Rda="DebugConfigSymbol";f.ut="DebugSymbol";},function(g,f,a){var d,t;function b(a,c,b,q,p){a=void 0===a?d.I.bj:a;return t.Oc.call(this,a,c,b,void 0,void 0,q,t.Oc.qd(p),p)||this;}Object.defineProperty(f,"__esModule",{value:!0});d=a(2);t=a(55);aa(b,t.Oc);f.Df=b;},function(g,f,a){var t,m;function b(a,b,d,p,f){var c,k,u;c={};k="number"===typeof f;f=void 0!==f&&k?f.toString():d;if(k&&void 0!==d)throw Error(t.YKa);Reflect.v6(a,b)&&(c=Reflect.getMetadata(a,b));d=c[f];if(Array.isArray(d))for(var k=0,q=d;k<q.length;k++){u=q[k];if(u.key===p.key)throw Error(t.kIa+" "+u.key.toString());}else d=[];d.push(p);c[f]=d;Reflect.J3(a,c,b);}function d(a,b){return function(c,d){b(c,d,a);};}Object.defineProperty(f,"__esModule",{value:!0});t=a(52);m=a(31);f.Wz=function(a,d,q,p){b(m.Mia,a,d,p,q);};f.dM=function(a,d,q){b(m.Nia,a.constructor,d,q);};f.Lu=function(a,b,q){"number"===typeof q?Reflect.Lu([d(q,a)],b):"string"===typeof q?Reflect.Lu([a],b,q):Reflect.Lu([a],b);};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(15);f.WMa=function(a,g){var c;function d(){}c=[];this.ct=function(a){var k;for(var b=[],d=c.length;d--;){k=c[d];k.ct(a)&&b.push(k.YI);}if(b.length)return b;};f.tga.forEach(function(b){(b=b(a,g))&&c.push(b);});0<c.length&&a.addEventListener(b.S.yh,d);};f.$F=function(a){f.tga.push(a);};f.tga=[];},function(g,f,a){var b,d,t,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});b=a(12);d=a(9);t=a(14);g=a(2);m=a(4);c=a(65);k=a(33);a=a(20);m.W.get(a.De).register(g.I.Xea,function(a){t.Ga(b.config);k.QY&&t.Ga(J._cad_global.msl.Tg);m.W.get(c.Rq)().then(function(c){f.hj=c;a(d.wc);})["catch"](function(c){a(c);});});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Ww="PboConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Gw="DeviceFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.YY="6674654e-696c-5078-6966-665374726d21";f.ZY="6674654e-696c-4878-6165-6465722e7632";f.Ega="6674654e-696c-5078-6966-66496e646578";f.GN="6674654e-696c-4d78-6f6f-6653697a6573";f.FN="6674654e-696c-5378-6565-6b506f696e74";f.Yga="cedb7489-e77b-514c-84f9-7148f9882554";f.Xga="524f39a2-9b5a-144f-a244-6c427c648df4";f.XY="6674654e-696c-4678-7261-6d6552617465";},function(g,f,a){var b,d,t,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);a(13);d=a(11);t=a(54);m=a(59);g=a(40);c=a(156);k=a(212);a=a(155);q=function(a){function p(c,b){var d;d=a.call(this,c,b)||this;d.vi=b.index;d.nB=b.bb;d.jr=b.xb;d.dYa=b.vc?b.vc:c.vc;d.Sla=b.Oo||0;d.Yka=!!b.Zp;d.Xf=void 0===b.X4||void 0===b.W4||b.X4===b.bb&&b.W4===b.xb?d:new k.tF(d,{bb:b.X4,xb:b.W4});d.lVa=b.h9;d.BSa=b.og;d.mr=b.Ta?d.Gxa(b.Ta):void 0;d.mma=b.pw;d.Ph=!1;return d;}b.__extends(p,a);Object.defineProperties(p.prototype,{Cy:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.vi;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{vc:{get:function(){return this.dYa;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{bb:{get:function(){return this.nB;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{xb:{get:function(){return this.jr;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Oo:{get:function(){return this.Sla;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Zp:{get:function(){return this.Yka;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{h9:{get:function(){return this.lVa;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{og:{get:function(){return this.BSa;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Ta:{get:function(){return this.mr;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{pw:{get:function(){return this.mma;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{X4:{get:function(){return this.Xf.bb;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{W4:{get:function(){return this.Xf.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{t9a:{get:function(){return this.Xf.Ll;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Sra:{get:function(){return this.Xf.NK;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Xu:{get:function(){return this.Xf.Fc;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{dS:{get:function(){return this.Xf.ce;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Rra:{get:function(){return this.Xf.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{Qra:{get:function(){return this.Xf.Mc;},enumerable:!0,configurable:!0}});Object.defineProperties(p.prototype,{dJ:{get:function(){return this.t9a/this.stream.Ha.vd;},enumerable:!0,configurable:!0}});p.prototype.HBa=function(a){this.Sla=a.jm(this.ga).vd;};p.prototype.y8=function(){this.Yka=!0;};p.prototype.CL=function(a){this.mma=a;};p.prototype.Dj=function(a){var c,b;void 0===a&&(a={});c=this.stream.Ha.vd;b=this.mr||{start:0,end:this.dJ};a=this.Gxa(a);this.Xf&&this.Xf!==this||(this.Xf=new k.tF(this,this));a.start>b.start&&(this.nB=this.Xf.bb+a.start*c);a.end<b.end&&(this.jr=this.Xf.bb+a.end*c);this.mr=a;};p.prototype.Bqa=function(){this.mr?this.Dj({start:this.mr.start+1,end:this.mr.end}):this.Dj({start:1});};p.prototype.F6a=function(){this.mr?this.Dj({start:this.mr.start,end:(this.mr.end||0)-1}):this.Dj({start:0,end:-1});};p.prototype.X8a=function(a){var b;if(!(a<this.U||a>=this.ba)&&this.og&&this.og.length){a=new m.dc(a+1-this.U,1E3).FC(this.stream.Ha);for(var c=this.og.length-1;0<=c;--c){b=this.og[c];if(b.em<=a)return b;}return{em:0,Fd:this.Xu};}};p.prototype.W8a=function(a){var b;if(!(a<this.U||a>=this.ba)&&this.og&&this.og.length){a=new m.dc(a+1-this.U,1E3).FC(this.stream.Ha);for(var c=this.og.length-1;0<=c;--c){b=this.og[c];if(b.em<=a)return b;}return{em:0,Fd:this.Xu};}};p.prototype.sra=function(a,c){var b,d,k;if(!(a<this.U||a>=this.ba)){b=this.Ha.vd;d=this.Ha.ga;k=Math.floor(this.Ll/b);a=Math.min((c?Math.ceil:Math.floor)((m.dc.pxa(a,d)-this.bb+(c?-1:1)*(d/1E3-1))/b),k);b=m.dc.ZCa(this.bb+a*b,d);return a===k?void 0:{em:a,Fd:b};}};p.prototype.RR=function(a){return this.O===d.L.VIDEO?this.X8a(a):this.sra(a,!1);};p.prototype.U8a=function(a){return this.O===d.L.VIDEO?this.W8a(a):this.sra(a,!0);};p.prototype.q1=function(a){this.Tb+=a.aa;this.jr=a.xb;};p.prototype.toString=function(){return"["+this.za+", "+this.P+"kbit/s, "+("c:"+this.Mc+"-"+this.Re+",")+("p:"+this.Fc+"-"+this.ce+",d:"+this.duration+"]");};p.prototype.toJSON=function(){var a;a=c.zw.prototype.toJSON.call(this);t({index:this.index,startPts:this.U,endPts:this.ba,contentStartPts:this.Mc,contentEndPts:this.Re,fragmentStartPts:this.Xu!==this.U?this.Xu:void 0,fragmentEndPts:this.dS!==this.ba?this.dS:void 0,edit:this.Ta},a);return a;};p.prototype.Ara=function(a){var c;if(this.og)for(var b=0;b<this.og.length;++b)this.og[b].em===a&&(c=this.og[b].offset);return c;};p.prototype.Gxa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.dJ)+(a.end||0)};};return p;}(c.zw);f.pk=q;g.li(a.OM,q);},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.GA="LoggerSinksSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.WA="ThrottleFactorySymbol";},function(g,f,a){var d;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.format=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return"undefined"!=typeof d[c]?d[c]:a;});};b.prototype.Hrb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};b.prototype.mW=function(a){return JSON.stringify(a,null,"  ");};d=b;d=g.__decorate([a.N()],d);f.cx=d;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.fx="Utf8EncoderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Cw="Base16EncoderSymbol";},function(g,f,a){var b,d,t,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);d=a(236);t=a(132);m=a(117);a=function(a){function c(c,b){a.call(this);this.Dp=c;(this.ka=b)||1!==c.length||(this.ur=!0,this.value=c[0]);}b(c,a);c.create=function(a,b){return new c(a,b);};c.of=function(){var k;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];m.Fy(b)?a.pop():b=null;k=a.length;return 1<k?new c(a,b):1===k?new d.HZ(a[0],b):new t.FF(b);};c.zb=function(a){var c,b,d;c=a.Dp;b=a.index;d=a.zf;b>=a.count?d.complete():(d.next(c[b]),d.closed||(a.index=b+1,this.Jb(a)));};c.prototype.Tf=function(a){var b,d,k;b=this.Dp;d=b.length;k=this.ka;if(k)return k.Jb(c.zb,0,{Dp:b,index:0,count:d,zf:a});for(k=0;k<d&&!a.closed;k++)a.next(b[k]);a.complete();};return c;}(g.Da);f.xw=a;},function(g,f){f.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(71);f.fLa=g.fLa;g=a(10);f.Da=g.Da;g=a(166);f.aj=g.aj;g=a(458);f.QN=g.QN;g=a(456);f.uda=g.uda;g=a(993);f.Uia=g.Uia;a(989);a(985);a(979);a(977);a(974);a(970);a(967);a(963);a(960);a(958);a(956);a(954);a(951);a(947);a(944);a(943);a(940);a(936);a(933);a(932);a(930);a(928);a(925);a(923);a(922);a(920);a(917);a(914);a(911);a(908);a(907);g=a(242);f.LNa=g.LNa;a=a(71);f.uk=a.uk;},function(g,f){var a;Object.defineProperty(f,"__esModule",{value:!0});a=0;f.id=function(){return a++;};},function(g,f,a){var b,d,t,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(9);d=a(12);g=a(2);t=a(14);m=a(4);c=a(335);k=a(33);q=a(8);a=a(20);p=m.W.get(a.De);p.register(g.I.FY,function(a){var u,g;t.Ga(d.config);t.Ga(q.Mt&&q.Mt.getDeviceId||q.$Y||k.Gea);u=m.W.get(c.Xda);g=m.Jf("Device");p.Nc("devs");u.create({deviceId:d.config.deviceId,e5:k.Gea,iR:"deviceid",Mg:d.config.Mg,dn:k.Eg.JX,kqa:k.Hda,userAgent:q.Nj,Z7:d.config.Z7,t5:d.config.t5,V5a:k.Eg.Fda,a_a:d.config.Jna.e,U5a:k.Eg.EHa,gJ:d.config.gJ,Qta:d.config.Iub,sib:d.config.Np?"mslstoretest":"mslstore"}).then(function(c){f.th=c;J._cad_global.device=f.th;g.info("Esn source: "+f.th.SC);p.Nc("devdone");a(b.wc);})["catch"](function(c){c.X=void 0;a(c);});});},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(16);f.cr=f.cr||function(a,b,f){return a>=b?a<=f?a:f:b;};f.xAb=function(a,b,f,c,k){return(a-b)*(k-c)/(f-b)+c;};f.bh=function(a){if(b.pa(a))return(a/1E3).toFixed(3);};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.Zq||(f.Zq={});g[g.gwb=8]="Backspace";g[g.Tab=9]="Tab";g[g.Rxb=13]="Enter";g[g.CCb=16]="Shift";g[g.Vwb=17]="Ctrl";g[g.Dvb=18]="Alt";g[g.rBb=19]="PauseBreak";g[g.Lwb=20]="CapsLock";g[g.Xxb=27]="Escape";g[g.ECb=32]="Space";g[g.qBb=33]="PageUp";g[g.pBb=34]="PageDown";g[g.Qxb=35]="End";g[g.Hyb=36]="Home";g[g.qzb=37]="LeftArrow";g[g.cDb=38]="UpArrow";g[g.HBb=39]="RightArrow";g[g.txb=40]="DownArrow";g[g.gzb=45]="Insert";g[g.mxb=46]="Delete";g[g.sDb=48]="Zero";g[g.OAb=49]="One";g[g.WCb=50]="Two";g[g.SCb=51]="Three";g[g.ryb=52]="Four";g[g.pyb=53]="Five";g[g.DCb=54]="Six";g[g.BCb=55]="Seven";g[g.Pxb=56]="Eight";g[g.tAb=57]="Nine";g[g.tvb=65]="A";g[g.Kvb=66]="B";g[g.Cwb=67]="C";g[g.gHa=68]="D";g[g.E=69]="E";g[g.Yxb=70]="F";g[g.syb=71]="G";g[g.vyb=72]="H";g[g.mKa=73]="I";g[g.hzb=74]="J";g[g.KY=75]="K";g[g.uLa=76]="L";g[g.uzb=77]="M";g[g.nNa=78]="N";g[g.IAb=79]="O";g[g.QAb=80]="P";g[g.Q=81]="Q";g[g.BBb=82]="R";g[g.nQa=83]="S";g[g.qRa=84]="T";g[g.XCb=85]="U";g[g.dDb=86]="V";g[g.jDb=87]="W";g[g.YZ=88]="X";g[g.qDb=89]="Y";g[g.rDb=90]="Z";g[g.rzb=91]="LeftWindowKey";g[g.IBb=92]="RightWindowKey";g[g.zCb=93]="SelectKey";g[g.yAb=96]="Numpad0";g[g.zAb=97]="Numpad1";g[g.AAb=98]="Numpad2";g[g.BAb=99]="Numpad3";g[g.CAb=100]="Numpad4";g[g.DAb=101]="Numpad5";g[g.EAb=102]="Numpad6";g[g.FAb=103]="Numpad7";g[g.GAb=104]="Numpad8";g[g.HAb=105]="Numpad9";g[g.Szb=106]="Multiply";g[g.Cvb=107]="Add";g[g.LCb=109]="Subtract";g[g.lxb=110]="DecimalPoint";g[g.sxb=111]="Divide";g[g.Zxb=112]="F1";g[g.cyb=113]="F2";g[g.dyb=114]="F3";g[g.eyb=115]="F4";g[g.fyb=116]="F5";g[g.gyb=117]="F6";g[g.hyb=118]="F7";g[g.iyb=119]="F8";g[g.jyb=120]="F9";g[g.$xb=121]="F10";g[g.ayb=122]="F11";g[g.byb=123]="F12";g[g.vAb=144]="NumLock";g[g.xCb=145]="ScrollLock";g[g.ACb=186]="SemiColon";g[g.Txb=187]="Equals";g[g.Rwb=188]="Comma";g[g.kxb=189]="Dash";g[g.tBb=190]="Period";g[g.qyb=191]="ForwardSlash";g[g.TCb=192]="Tilde";g[g.PAb=219]="OpenBracket";g[g.fwb=220]="BackSlash";g[g.Pwb=221]="CloseBracket";g[g.ABb=222]="Quote";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.YA="VideoPreparerSymbol";},function(g,f,a){var c,k;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function d(a){return c.Od(a);}function t(a){return c.pa(a);}function m(a){return!b(a)&&!d(a)&&!t(a)&&!Array.isArray(a)&&c.Ve(a);}c=a(6);k={Ew:0,VN:1,vNa:2,OBJECT:3,bj:4};g.T={l6:function(a){return b(a)?k.Ew:d(a)?k.VN:t(a)?k.vNa:m(a)?k.OBJECT:k.bj;},jT:b,Od:d,pa:t,Ve:m,sm:k};},function(g){var f;f={EJ:function(a){for(var b in a)a.hasOwnProperty(b)&&(f[b]=a[b]);}};g.T=f;},function(g,f,a){var b;b=a(158);g.T=function(a){return function m(c){return 0===arguments.length||b(c)?m:a.apply(this,arguments);};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.JA="MslSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});(function(a){function b(){}function d(){}function f(){}f.cGa="cache_start";f.dGa="cache_success";f.$Fa="cache_abort";f.bGa="cache_fail";f.aGa="cache_evict";f.fOa="pb_request";f.DQa="start_playback";a.Iw=f;d.Cca="auth";d.Mw="ldl";d.JF="hdr";d.MEDIA="media";a.Wi=d;b.SM="cached";b.LOADING="loading";b.dJa="expired";a.KM=b;}(f.ue||(f.ue={})));f.Yha="PrefetchEventsFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.VA="SourceBufferTypeProviderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.ex="TimingApiSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Lia="SystemRandomSymbol";f.nG="RandomGeneratorSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.FA="IdProviderSymbol";},function(g,f){f.Fy=function(a){return a&&"function"===typeof a.Jb;};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Sw="MediaKeySystemAccessServicesSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.cea="DrmServicesSymbol";f.fN="DrmServicesProviderSymbol";},function(g,f,a){var d,t,m,c,k,q,p,u,z,y,h,A,B,M,S,Q,l;function b(a){var p;p=this;this.createPlayer=function(a,b){var d,k;b=void 0===b?{}:b;b="number"===typeof b?{Xg:b}:b;d=b.manifest;if(d&&d.runtime)d.clientGenesis=d.clientGenesis||h.C2(),d=c.W.get(y.SY).decode(d);else if(d){k=c.W.get(S.iG)();k.$P(d.links);d.tf=k;}a=c.W.get(B.yZ).m4a(a);return c.W.get(A.zZ).create(a,b,d).aEa;};this.createPlaylistPlayer=function(a,b,d){var k;k=c.W.get(M.Uha);return c.W.get(A.zZ).create(k.etb(a),b,d).aEa;};this.closeAllPlayers=function(a){m.Lha(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;p.iQ.$J(function(k){k.X?(t.config.NV?p.tpb().then(function(){d.mPa();})["catch"](function(a){c.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(p,b.BH);a(Object.assign({success:!0},b.BH));}):a({success:!1,error:c.xZ(k.errorCode||q.I.Wea,k)});});};this.applyConfig=function(a){p.EDa(a);t.Yoa(a);};this.prepare=function(a,b){var d;a=p.p$.fqa(a)||[];d=new Set();a=a.filter(function(a){var c;c=d.has(a.M);d.add(a.M);return!c;});if(t.config.An&&p.Hc())try{p.Hc().Xv(a,b);}catch(ea){c.log.warn("Prepare call failed",ea);}};this.predownload=function(a,b){if((a=p.p$.fqa(a))&&t.config.vw&&p.Hc())try{p.Hc().Rlb(a,b);}catch(Y){c.log.warn("Predownload call failed",Y);}};this.lookupPredownloaded=function(){return t.config.vw&&p.Hc()?p.Hc().Ny():Promise.resolve([]);};this.ppmUpdate=function(a){J._cad_global.playerPredictionModel?((a=p.p$.O5a(a))&&J._cad_global.playerPredictionModel.update(a),J._cad_global.prefetchEvents&&J._cad_global.prefetchEvents.update(a)):c.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){var b;try{b=c.aD().VL();a(b);}catch(Y){a(!1);}};this.supportsUltraHd=function(a){c.aD().XL().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){var b;try{b=c.aD().SL();a(b);}catch(Y){a(!1);}};this.supportsDolbyVision=function(a){var b;try{b=c.aD().TL();a(b);}catch(Y){a(!1);}};this.close=function(){};this.deviceThroughput=function(){var a;a=c.W.get(u.JN).e3();return a?Promise.resolve(a.Uk()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=c.W.get(u.JN).e3();return a?Promise.resolve(a.Uab()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return t.config.k7a;};this.p$=c.W.get(k.uZ);this.iQ=c.W.get(l.De);this.Hc=c.W.get(Q.YA);this.EDa(a);t.M1a([a]);c.aD().XL();}Object.defineProperty(f,"__esModule",{value:!0});d=a(181);t=a(12);m=a(56);c=a(4);k=a(183);q=a(2);p=a(27);u=a(190);z=a(146);y=a(160);h=a(26);A=a(262);B=a(172);M=a(257);S=a(123);Q=a(107);l=a(20);b.prototype.EDa=function(a){c.W.get(p.zN).Ahb(a);};b.prototype.tpb=function(){return c.W.get(z.ON)()["catch"](function(a){c.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){c.log.error("Unable to send deferred playdata",a);});};b.BH={};f.eO=b;},function(g,f,a){var d,t,m;function b(a,b,d,p,f){b=m.Dh.call(this,a,b,p,t.Mh.events,f,t.Mh.events+"/"+d)||this;b.context=a;b.g8a=d;return b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);t=a(38);m=a(73);a(149);aa(b,m.Dh);b.prototype.Ue=function(a,b,d){var c,k;c=this;k=this.rQ(d);return this.send(a,b,d.href,k).then(function(){return d;})["catch"](function(a){throw c.gn(a);});};b.prototype.en=function(a,b,d,p){var c,k;c=this;k=this.rQ(p);return this.send(a,b,d.I5("events").href,k).then(function(a){d.$P(a.result.links);return p;})["catch"](function(a){throw c.gn(a);});};b.prototype.rQ=function(a){return{event:this.g8a,xid:a.oa,position:a.position||0,clientTime:a.aI,sessionStartTime:a.AL,mediaId:a.Vy,trackId:a.fb,sessionId:a.sessionId,appId:a.yH,playTimes:this.Z_a(a.KK),sessionParams:a.fm,mdxControllerEsn:a.N8};};b.prototype.e2=function(a){return{downloadableId:a.Rc,duration:a.duration};};b.prototype.Z_a=function(a){return{total:a.total,audio:a.audio.map(this.e2),video:a.video.map(this.e2),text:a.text.map(this.e2)};};a=b;a=g.__decorate([d.N(),g.__param(0,d.Yg()),g.__param(1,d.Yg()),g.__param(2,d.Yg()),g.__param(3,d.Yg()),g.__param(4,d.Yg())],a);f.Nn=a;},function(g,f,a){var b,d,t,m,c,k,q,p,u,z,y,h,A,B;Object.defineProperty(f,"__esModule",{value:!0});b=a(49);d=a(295);t=a(569);m=a(140);c=a(12);k=a(9);q=a(145);p=a(280);u=a(26);g=a(2);z=a(4);y=a(190);h=a(8);A=a(141);B=a(20);z.W.get(B.De).register(g.I.Yea,function(g){var L,B,M,l,n,R,r;L=z.W.get(y.JN).e3();B=z.W.get(q.$da).vA;M=z.W.get(d.rga).qk;l={};l.nz=z.lS("ASE");l.xZa=z.lS("JS-ASE",void 0,"Platform");l.Jf=z.lS;l.storage=A.storage;l.mo=A.mo;l.Vab=h.dN;l.getTime=u.Vf;l.yD={};l.qk=M;l.gr=t.gr;l.vA=B;l.MediaSource=p.TMa;l.SourceBuffer=m.pga;l.EGb=function(){};B=new Promise(function(a){A.storage.load("nh",function(c){l.yD.nh=c.X?c.data:void 0;a();});});M=new Promise(function(a){A.storage.load("lh",function(c){l.yD.lh=c.X?c.data:void 0;a();});});n=new Promise(function(a){A.storage.load("gh",function(c){l.yD.gh=c.X?c.data:void 0;a();});});R=new Promise(function(a){A.storage.load("sth",function(c){l.yD.sth=c.X?c.data:void 0;a();});});r=new Promise(function(a){A.storage.load("vb",function(c){l.yD.vb=c.X?c.data:void 0;a();});});Promise.all([B,M,r,R,n]).then(function(){var d;d=a(567)(l);f.Vj=a(279);f.Vj.declare(b.Zm);f.Vj.declare({vw:["useMediaCache",!1],Mu:["diskCacheSizeLimit",0],nFb:["dailyDiskCacheWriteLimit",0],XT:["mediaCachePrefetchMs",8E3],P8:["mediaCachePartitionConfig",{}]});f.Vj.set(a(150)(c.config),!0,z.lS("ASE"));d=b.ygb(d);f.Jk=new d(f.Vj,L);f.Jk.yc(c.config.D1,c.config.F1,{nz:l.nz},c.config.xV);g(k.wc);})["catch"](function(a){l.nz.error("Exception loading location history from local storage",a);});});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.uha="PboLinksManagerSymbol";f.iG="PboLinksManagerFactorySymbol";},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(18);d=a(14);f.Vi="$attributes";f.VW="$children";f.WW="$name";f.Pq="$text";f.oEa="$parent";f.qF="$sibling";f.QIb=/^\s*\<\?xml.*\?\>/i;f.F$a=function(a,b,c){for(var d=2;d<arguments.length;++d);for(d=1;(b=arguments[d++])&&(a=a[b]););return a;};f.NIb=function(a,m){var c;a?c=b.Qd(a[f.Pq]):void 0!==m&&(c=m);d.VQ(c);return c;};f.Ckb=function(a){var b;a&&(b=a[f.Pq]);d.J4a(b);return b;};f.VHb=function(a,b){var c;c={};c[f.Vi]=a;c[f.Pq]=b;return c;};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(206);g=function(){function a(a,b,c){this.tag=a;this.view=b;this.J=c;this.startOffset=c.offset;}a.Jza=function(d,f){var c,k;c=d.ee();k=d.Umb();d=new(b.xC[c]||a)(c,d.B$a(k),d);d.parse(f);return d;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.J.offset=this.startOffset+this.length;this.J.az=0;return!0;};a.prototype.tra=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.xC)for(var c=0;c<this.xC.length;c++)b=b.concat(this.xC[c].tra(a));return b;};a.prototype.hy=function(a){for(a=this.tra(a);0<a.length;)return a[0];};a.prototype.Vla=function(){for(this.xC=[];this.J.offset<this.startOffset+this.length;)this.xC.push(a.Jza(this.J,this));};return a;}();f.CX=g;g.prototype.skip=g.prototype.parse;},function(g){var b,d;function f(){var f,g;if(DataView.prototype&&DataView.prototype.ty&&!d){try{f=new ArrayBuffer(4);g=new DataView(f);g.iD(0,4,1);}catch(c){return;}try{f=new ArrayBuffer(4);g=new DataView(f);g.iD(1,2,2);}catch(c){DataView.prototype.iD=a(DataView.prototype.iD,DataView.prototype.getUint8,Uint8Array);DataView.prototype.FS=a(DataView.prototype.FS,DataView.prototype.getUint16,Uint16Array);DataView.prototype.ty=a(DataView.prototype.ty,DataView.prototype.getUint32,Uint32Array);DataView.prototype.E5=a(DataView.prototype.E5,DataView.prototype.getInt8,Int8Array);DataView.prototype.C5=a(DataView.prototype.C5,DataView.prototype.getInt16,Int16Array);DataView.prototype.D5=a(DataView.prototype.D5,DataView.prototype.getInt32,Int32Array);}b.bcb=function(a,b,d,p,f){return a.iD(b,d,p||1,f);};b.acb=function(a,b,d,p,f){return a.FS(b,d,p||2,f);};b.Fta=function(a,b,d,p,f){return a.ty(b,d,p||4,f);};b.AGb=function(a,b,d,p,f){return a.E5(b,d,p||1,f);};b.yGb=function(a,b,d,p,f){return a.C5(b,d,p||2,f);};b.zGb=function(a,b,d,p,f){return a.D5(b,d,p||4,f);};d=!0;}}function a(a,b,c){return function(d,f,p,u){var k;p=p||c.BYTES_PER_ELEMENT;if(d+f*p>this.byteLength){k=new c(f);k.set(a.call(this,d,f-1,p,u));k[f-1]=b.call(this,d+(f-1*p),u);return k;}return a.call(this,d,f,p,u);};}b={iD:function(a,b,c,d,f){var k;k=new Uint8Array(c);d=d||1;for(var q=0;q<c;++q,b+=d)k[q]=a.getUint8(b,f);return k;},FS:function(a,b,c,d,f){var k;k=new Uint16Array(c);d=d||2;for(var q=0;q<c;++q,b+=d)k[q]=a.getUint16(b,f);return k;},ty:function(a,b,c,d,f){var k;k=new Uint32Array(c);d=d||4;for(var q=0;q<c;++q,b+=d)k[q]=a.getUint32(b,f);return k;},E5:function(a,b,c,d,f){var k;k=new Int8Array(c);d=d||1;for(var q=0;q<c;++q,b+=d)k[q]=a.getInt8(b,f);return k;},C5:function(a,b,c,d,f){var k;k=new Int16Array(c);d=d||2;for(var q=0;q<c;++q,b+=d)k[q]=a.getInt16(b,f);return k;},D5:function(a,b,c,d,f){var k;k=new Int32Array(c);d=d||4;for(var q=0;q<c;++q,b+=d)k[q]=a.getInt32(b,f);return k;},iGb:f};d=!1;b.H$a=function(){return d;};f();g.T=b;},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(800);a=a(797);f.Bhb=g;f.Qs=a;},function(g,f,a){var d,t,m,c;function b(a,b,p){var k;k=m.WM.call(this,a,b,d.aG.mja)||this;k.config=a;k.U8=b;k.is=p;k.type=d.Oj.Fw;k.lF=c.Hd.vpa();return k;}Object.defineProperty(f,"__esModule",{value:!0});d=a(29);t=a(66);m=a(412);g=a(97);c=a(129);new g.cx();aa(b,m.WM);b.prototype.Dq=function(){return Promise.resolve(!1);};b.prototype.cD=function(){return Promise.resolve("");};b.prototype.VL=function(){return!1;};b.prototype.TL=function(){return!1;};b.prototype.XL=function(){return Promise.resolve(!1);};b.prototype.SL=function(){return!1;};b.prototype.pS=function(a){return this.lF[a];};b.prototype.j1=function(a){return a;};b.prototype.rwa=function(a){switch(a){case d.Gh.hp:return"1.4";case d.Gh.Nw:return"2.2";}};b.prototype.Vx=function(){var a;a={};a[t.ca.TX]="avc1.4D401E";a[t.ca.lN]="avc1.4D401F";a[t.ca.UX]="avc1.4D4028";a[t.ca.rY]="hev1.1.6.L90.B0";a[t.ca.sY]="hev1.1.6.L93.B0";a[t.ca.tY]="hev1.1.6.L120.B0";a[t.ca.uY]="hev1.1.6.L123.B0";a[t.ca.vY]="hev1.1.6.L150.B0";a[t.ca.wY]="hev1.1.6.L153.B0";a[t.ca.dY]="hev1.2.6.L90.B0";a[t.ca.gY]="hev1.2.6.L93.B0";a[t.ca.jY]="hev1.2.6.L120.B0";a[t.ca.mY]="hev1.2.6.L123.B0";a[t.ca.KF]="hev1.2.6.L150.B0";a[t.ca.LF]="hev1.2.6.L153.B0";a[t.ca.eY]="hev1.2.6.L90.B0";a[t.ca.hY]="hev1.2.6.L93.B0";a[t.ca.kY]="hev1.2.6.L120.B0";a[t.ca.nY]="hev1.2.6.L123.B0";a[t.ca.VX]="hev1.2.6.L90.B0";a[t.ca.WX]="hev1.2.6.L93.B0";a[t.ca.XX]="hev1.2.6.L120.B0";a[t.ca.YX]="hev1.2.6.L123.B0";a[t.ca.ZX]="hev1.2.6.L150.B0";a[t.ca.aY]="hev1.2.6.L153.B0";a[t.ca.nN]="hev1.2.6.L90.B0";a[t.ca.oN]="hev1.2.6.L93.B0";a[t.ca.pN]="hev1.2.6.L120.B0";a[t.ca.qN]="hev1.2.6.L123.B0";a[t.ca.ZM]=c.Hd.yX;a[t.ca.$M]=c.Hd.Lda;a[t.ca.aN]=c.Hd.Mda;a[t.ca.bN]=c.Hd.Nda;a[t.ca.cN]=c.Hd.Oda;a[t.ca.zX]=c.Hd.Pda;a[t.ca.QJa]="avc1.640016";a[t.ca.QX]="avc1.64001E";a[t.ca.RX]="avc1.64001F";a[t.ca.SX]="avc1.640028";a[t.ca.lja]=c.Hd.tG;a[t.ca.uG]=c.Hd.tG;a[t.ca.vG]=c.Hd.tG;a[t.ca.wG]=c.Hd.tG;a[t.ca.gja]=c.Hd.sG;a[t.ca.hja]=c.Hd.sG;a[t.ca.ija]=c.Hd.sG;a[t.ca.jja]=c.Hd.sG;a[t.ca.kja]=c.Hd.sG;a[t.ca.Dca]=c.Hd.Ch;a[t.ca.Eca]=c.Hd.Ch;a[t.ca.Fca]=c.Hd.Ch;a[t.ca.Gca]=c.Hd.Ch;a[t.ca.Hca]=c.Hd.Ch;a[t.ca.Ica]=c.Hd.Ch;a[t.ca.Jca]=c.Hd.Ch;a[t.ca.Kca]=c.Hd.Ch;return a;};b.prototype.nta=function(){return this.config().iF;};b.prototype.fD=function(){return Promise.resolve(void 0);};b.prototype.pJ=function(){return Promise.resolve(void 0);};b.prototype.kI=function(a){var c;c=[];this.is.Bd(a)&&c.push(this.rwa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:c,isHdcpEngaged:!!c.length}];};b.cF="video/mp4;codecs={0};";f.qm=b;},function(g,f,a){var d;function b(){}Object.defineProperty(f,"__esModule",{value:!0});d=a(29);b.vpa=function(a){var f;f={};f[d.kd.oG]=b.GF;f[d.kd.mN]=b.GF;f[d.kd.bO]=b.HF;f[d.kd.Xq]=b.Xq;f[d.kd.Tq]=a||b.Tq;f[d.kd.oA]=b.GF;f[d.kd.Qt]=b.tG;f[d.kd.Ch]=b.Ch;return f;};b.GF="avc1.640028";b.HF="hev1.1.6.L93.B0";b.yX="dvhe.05.01";b.Lda="dvhe.05.04";b.Mda="dvhe.05.05";b.Nda="dvhe.05.06";b.Oda="dvhe.05.07";b.Pda="dvhe.05.09";b.Tq=b.yX;b.Xq=b.HF;b.XW="mp4a.40.2";b.Xwb="ec-3";b.gDb="vp9";b.tG="vp09.00.11.08.02";b.sG="vp09.02.31.10.01";b.Ch="av01.0.04M.08";b.FGa=[b.Pda,b.Oda,b.Nda,b.Mda,b.Lda,b.yX];f.Hd=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.XA="TimeoutMonitorFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.oj=function(){return this.buffer.length-this.position;};a.prototype.fe=function(){return this.buffer[this.position++];};a.prototype.rd=function(a){var b;b=this.position;this.position+=a;return this.Ceb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.Ceb=function(a){return void 0!==a.subarray;};a.prototype.kc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.wq=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.H$=function(){for(var a="",d;d=this.fe();)a+=String.fromCharCode(d);return a;};a.prototype.Ab=function(){return this.kc(2);};a.prototype.Na=function(){return this.kc(4);};a.prototype.Of=function(){return this.kc(8);};a.prototype.lV=function(){return this.kc(2)/256;};a.prototype.aL=function(){return this.kc(4)/65536;};a.prototype.$e=function(a){for(var b,f="";a--;)b=this.fe(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;};a.prototype.Zv=function(){return this.$e(4)+"-"+this.$e(2)+"-"+this.$e(2)+"-"+this.$e(2)+"-"+this.$e(6);};a.prototype.bL=function(a){for(var b=0,f=0;f<a;f++)b+=this.fe()<<(f<<3);return b;};a.prototype.yz=function(){return this.bL(4);};a.prototype.pF=function(a){this.Nq(a,2);};a.prototype.Oq=function(a){this.Nq(a,4);};a.prototype.HM=function(a){this.buffer[this.position++]=a;};a.prototype.Nq=function(a,d){this.position+=d;for(var b=1;b<=d;b++)this.buffer[this.position-b]=a&255,a=Math.floor(a/256);};a.prototype.Mq=function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);};a.prototype.mA=function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];};a.prototype.nA=function(a,d){this.mA(a.rd(d));};a.prototype.mEa=function(b){b=new a(b);for(var d,f;;)if(d=b.oj(),f=d>>>14)f=Math.min(4,f),this.HM(192|f),this.nA(b,16384*f);else{128>d?this.HM(d):this.Nq(d|32768,2);this.nA(b,d);break;}};a.prototype.Gza=function(){var f;for(var b=[],d=new a(b);;){f=this.fe();if(f&128)if(128==(f&192))f&=63,f=(f<<8)+this.fe(),d.nA(this,f);else if(f&=63,0<f&&4>=f){d.nA(this,16384*f);continue;}else throw Error("bad asn1");else d.nA(this,f);break;}return new Uint8Array(b);};return a;}();f.uA=g;},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b){a.call(this);this.ka=b;}b(d,a);d.create=function(a){return new d(a);};d.zb=function(a){a.zf.complete();};d.prototype.Tf=function(a){var c;c=this.ka;if(c)return c.Jb(d.zb,0,{zf:a});a.complete();};return d;}(a(10).Da);f.FF=g;},function(g,f,a){var b,d,t,m;b=a(117);d=a(450);t=a(449);m=a(446);f.concat=function(){for(var a=[],k=0;k<arguments.length;k++)a[k-0]=arguments[k];return 1===a.length||2===a.length&&b.Fy(a[1])?t.from(a[0]):m.cI()(d.of.apply(void 0,a));};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.vm=function(){};f.MZ="StringObjectReaderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.ZF="MediaKeysStorageFactorySymbol";},function(g,f,a){var d,t,m;function b(){}Object.defineProperty(f,"__esModule",{value:!0});d=a(168);t=a(55);m=a(2);b.u5=function(a){if(a){if(a.includes(f.BF.pz))return d.Qn.pz;if(a.includes("fps"))return d.Qn.VC;if(a.includes(f.BF.TW))return d.Qn.TW;}throw new t.Oc(m.I.WIa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.Hsa=function(a){switch(a){case d.Qn.pz:return f.BF.pz;case d.Qn.VC:return f.BF.VC;default:return f.BF.TW;}};b.lp="com.microsoft.playready";b.jd="com.microsoft.playready.hardware";b.kG="com.microsoft.playready.software";b.vBb="com.chromecast.playready";b.wBb="org.chromium.external.playready";b.oyb="com.apple.fps.2_0";b.uSa="com.widevine.alpha";b.xBb="com.microsoft.playready.recommendation";b.yBb="com.microsoft.playready.recommendation.3000";b.zBb="com.microsoft.playready.recommendation.2000";f.ib=b;f.BF={VC:"fairplay",TW:"widevine",pz:"playready"};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.jG="PlatformConfigDefaultsSymbol";},function(g,f,a){var k;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function d(a,c){return null===a.Ps?!1:a.Ps.Ke===c?!0:d(a.Ps,c);}function t(a){function c(a,d){void 0===d&&(d=[]);d.push(b(a.Ke));return null!==a.Ps?c(a.Ps,d):d;}return c(a).reverse().join(" --\x3e ");}function m(a){a.v2.forEach(function(a){if(d(a,a.Ke))throw a=t(a),Error(k.hGa+" "+a);m(a);});}function c(a){var c;if(a.name)return a.name;a=a.toString();c=a.match(/^function\s*([^\s(]+)/);return c?c[1]:"Anonymous function: "+a;}Object.defineProperty(f,"__esModule",{value:!0});k=a(52);f.hD=b;f.Mva=function(a,b,d){var k;k="";a=d(a,b);0!==a.length&&(k="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.pj&&(b=c(a.pj));k=k+"\n "+b;a.kC.$wa&&(k=k+" - "+a.kC.$wa);}));return k;};f.f1a=m;f.pfb=function(a,c){var b,d;if(c.u7()||c.r7()){b="";d=c.Qab();c=c.A$a();null!==d&&(b+=d.toString()+"\n");null!==c&&c.forEach(function(a){b+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+b;}return" "+a;};f.getFunctionName=c;},function(g,f){var b;function a(){}Object.defineProperty(f,"__esModule",{value:!0});b=/^\S+$/;a.prototype.Kl=function(a){return void 0!==a;};a.prototype.Bd=function(a){return null!==a&&void 0!==a;};a.prototype.Fx=function(b){return a.ena(b);};a.prototype.b1=function(b){return!(!b||!a.ena(b));};a.prototype.Rr=function(a){return Array.isArray(a);};a.prototype.fna=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Uf=function(b,f,g){return a.zma(b,f,g);};a.prototype.a1=function(b){return a.a1(b);};a.prototype.s1=function(b,f,g){return a.bQ(b,f,g)&&0===b%1;};a.prototype.Bp=function(b,f,g){return a.bQ(b,f||0,g);};a.prototype.pH=function(b){return a.bQ(b,1);};a.prototype.iYa=function(b){return a.bQ(b,0,255);};a.prototype.jYa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.gna=function(a){return!(!a||!b.test(a));};a.prototype.Bi=function(b){return a.Ama(b);};a.prototype.Gk=function(b){return!(!a.Ama(b)||!b);};a.prototype.nH=function(a){return!0===a||!1===a;};a.prototype.oH=function(a){return"function"==typeof a;};a.Ama=function(a){return"string"==typeof a;};a.zma=function(a,b,f){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===f||a<=f);};a.a1=function(a){return"number"==typeof a&&isNaN(a);};a.bQ=function(b,f,g){return a.zma(b,f,g)&&0===b%1;};a.ena=function(a){return"object"==typeof a;};f.Gt=new a();},function(g,f,a){var t,m,c,k,q,p,u,z,y,h,A,B,M,S,Q,l;function b(a){b=h.je;Q=a.appendBuffer?"appendBuffer":"append";f.BN=!k.config.p_a&&!!a.remove;l=!!a.addEventListener;}function d(a,d,f,g,y){var h,L;h=this;this.j=a;this.type=d;this.Fja=g;this.log=y;this.TO=new q.Jc(!1);this.jx={data:[],state:"",operation:""};this.OD=this.ira((this.type===t.pc.L.VIDEO?this.j.Bf.value:this.j.Lc.value).mc);this.dj=new p.Kj();this.$_={Type:this.type};k.config.yv&&(L=!0,this.M4=new q.Jc(!1));this.log.trace("Adding source buffer",this.$_,{TypeId:this.OD});this.Kc=f.addSourceBuffer(this.OD);b(this.Kc);l&&(this.Kc.addEventListener("updatestart",function(){h.jx.state="updatestart";}),this.Kc.addEventListener("update",function(){h.jx.state="update";}),this.Kc.addEventListener("updateend",function(){h.TO.set(!1);h.Jja&&h.Jja();h.jx.state="updateend";L&&h.Kc.buffered.length&&(L=!1,h.M4.set(!0));}),this.Kc.addEventListener("error",function(b){var d;try{d=b.target.error&&b.target.error.message;(b.message||d)&&y.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(va){}b=u.W.get(c.ql);a.pd(b(z.I.yOa,m.w5(h.type)));}),this.Kc.addEventListener("abort",function(){}));a.addEventListener(B.S.closed,function(){h.Kc=void 0;});}Object.defineProperty(f,"__esModule",{value:!0});t=a(49);m=a(213);c=a(61);k=a(12);q=a(176);p=a(68);u=a(4);a(84);z=a(2);a(3);y=a(14);h=a(19);A=a(16);B=a(15);M=a(113);S=a(143);d.prototype.nj=function(){return this.TO.value;};d.prototype.updating=function(){return this.Kc?this.Kc.updating:!1;};d.prototype.xBa=function(a){this.Jja=a;};d.prototype.buffered=function(){return this.Kc.buffered;};d.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};d.prototype.toJSON=function(){return{type:this.type};};d.prototype.nS=function(){var a,c,b,d,k,f,p;try{a=this.Kc.buffered;k=0;if(a)for(c=[],b=0,d=a.length,b=0;b<d;b++){f=a.start(b);p=a.end(b);k=k+(p-f);y.Ga(p>f);c.push(f+"-"+p);}if(c)return{Buffered:k.toFixed(3),Ranges:c.join("|")};}catch(N){}};d.prototype.mna=function(a,c){y.Ga(this.Kc.buffered&&1>=this.Kc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.nS()));y.Ga(!this.nj());this.PBa("append",a);c=c&&c.bm/1E3;A.pa(c)&&this.Kc.timestampOffset!==c&&(this.Kc.timestampOffset=c);this.Kc[Q](a);l&&this.TO.set(!0);};d.prototype.remove=function(a,c){y.Ga(!this.nj());try{f.BN&&(this.PBa("remove"),this.Kc.remove(a,c),l&&this.TO.set(!0));}catch(R){this.log.error("SourceBuffer remove exception",R,this.$_);}};d.prototype.PBa=function(a,c){this.jx.data=c||[];this.jx.state="init";this.jx.operation=a;};d.prototype.mqb=function(a,c){this.hfb=Math.floor(1E3*a/c);};d.prototype.Q0a=function(a){var c;if(this.Kc){if(a=this.ira([{type:this.V1a,df:a}]),a!==this.OD){c=this.OD;this.log.info("Changing SourceBuffer mime-type from: "+this.OD+" to: "+a);try{if(this.Kc.changeType)this.Kc.changeType(a),this.OD=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(R){throw this.log.error("Error changing SourceBuffer type",R,this.$_,{From:c,To:a}),R;}}}else this.log.info("No SourceBuffer");};d.prototype.appendBuffer=function(a,c){!c||c.Vb?this.x1(a,c):this.cQ(a,c);return!0;};d.prototype.x1=function(a,c){this.j.vg.x1(this,a,c||{});};d.prototype.cQ=function(a,c){a=this.Q1a(a,c);this.j.vg.cQ(a);};d.prototype.Q1a=function(a,c){var b,d,k;b=this.hfb||0;d=this.O;k=this.Dm-b||Infinity;return{Coa:function(){this.response=void 0;},ak:function(){return this.requestId;},constructor:{name:"MediaRequest"},requestId:c.ak(),O:d,readyState:S.Eb.Zb.DONE,Us:c.U,mE:c.U+c.duration,ps:c.duration,bm:b,Vm:c.Vm,ii:c.Lf.Pb.xa.id,za:c.za,Db:+c.Db,location:c.location,VH:c.offset,UH:c.offset+c.aa-1,P:c.P,response:a,Wta:a&&0<a.byteLength,Cy:!0,get Vb(){return!this.Cy;},Lf:{Pb:{xa:{ba:k}}},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.ii,isHeader:this.Vb,ptsStart:this.Us,ptsOffset:this.bm,responseType:this.ODb,duration:this.ps,readystate:this.pf};this.stream&&(a.bitrate=this.stream.P);return JSON.stringify(a);}};};d.prototype.endOfStream=function(){};d.prototype.addEventListener=function(a,c,b){this.dj.addListener(a,c,b);};d.prototype.removeEventListener=function(a,c){this.dj.removeListener(a,c);};d.prototype.ira=function(a){var c;c=u.W.get(M.VA);return this.type===t.pc.L.VIDEO?c.mI(a):c.gI(a);};oa.Object.defineProperties(d.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.type;}},oQ:{configurable:!0,enumerable:!0,get:function(){return this.Fja.oQ;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.Fja.sourceId;}},V1a:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});f.pga=d;},function(g,f,a){var b,d,t,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});b=a(12);d=a(9);t=a(286);g=a(2);m=a(285);c=a(283);k=a(4);a=a(20);f.storage=f.storage||void 0;f.mo=f.mo||void 0;k.W.get(a.De).register(g.I.hfa,function(a){var k;switch(b.config.zrb){case"idb":k=m.vrb;break;case"none":k=t.xrb;break;case"ls":k=c.wrb;}k(function(c){c.X?(f.storage=c.storage,f.mo=c.mo,a(d.wc)):a(c);});});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.PN="PboPublisherSymbol";},function(g,f){function a(){}Object.defineProperty(f,"__esModule",{value:!0});a.wd={Mga:"mr1",Lga:"mr2",Nga:"mr3",dG:"mr4",GNa:"mr5",Vw:"mr6"};a.Zb={UNSENT:0,OPENED:1,Ot:2,Yw:3,DONE:5,Bt:6,rF:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.GBb={Aca:0,bx:1,Fga:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.yt={NO_ERROR:-1,SHa:0,Jda:1,dIa:2,WHa:3,oGa:4,jda:5,mX:6,pGa:7,qGa:8,rGa:9,lGa:10,nGa:11,ida:12,mGa:13,kGa:14,cKa:15,Nea:16,Mea:17,zY:18,uN:19,AY:20,BY:21,eKa:22,vN:23,Oea:24,dKa:25,ZHa:26,THa:27,BQa:28,JHa:29,KHa:30,LHa:31,MHa:32,NHa:33,OHa:34,PHa:35,QHa:36,RHa:37,UHa:38,VHa:39,XHa:40,YHa:41,$Ha:42,aIa:43,bIa:44,cIa:45,eIa:46,fIa:47,AQa:48,TIMEOUT:49,xY:50,Kea:51,bKa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.Qc={tE:{Aca:!0,bx:!1,Fga:!0}};f.Eb=a;},function(g){var m,c,k,q;function f(){f.yc.call(this);}function a(a,c,b,d){var k,p;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);k=a.eh;void 0===k?(k=a.eh=Object.create(null),a.kx=0):(void 0!==k.tIb&&(a.emit("newListener",c,b.listener?b.listener:b),k=a.eh),p=k[c]);void 0===p?(k[c]=b,++a.kx):("function"===typeof p?p=k[c]=d?[b,p]:[p,b]:d?p.unshift(b):p.push(b),b=void 0===a.XG?f.IFb:a.XG,0<b&&p.length>b&&!p.Vub&&(p.Vub=!0,b=Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.SFb=a,b.type=c,b.count=p.length,console&&console.warn&&console.warn(b)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.Dra||(this.target.removeListener(this.type,this.kEa),this.Dra=!0,c(this.listener,this.target,a));}function d(a,c,d){a={Dra:!1,kEa:void 0,target:a,type:c,listener:d};c=b.bind(a);c.listener=d;return a.kEa=c;}function t(a){var c;c=this.eh;if(void 0!==c){a=c[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}m="object"===typeof Reflect?Reflect:null;c=m&&"function"===typeof m.apply?m.apply:function(a,c,b){return Function.prototype.apply.call(a,c,b);};k=Number.isNaN||function(a){return a!==a;};g.T=f;f.EventEmitter=f;f.prototype.eh=void 0;f.prototype.kx=0;f.prototype.XG=void 0;q=10;Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return q;},set:function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");q=a;}});f.yc=function(){if(void 0===this.eh||this.eh===Object.getPrototypeOf(this).eh)this.eh=Object.create(null),this.kx=0;this.XG=this.XG||void 0;};f.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.XG=a;return this;};f.prototype.emit=function(a){var k,d,f;for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);k="error"===a;d=this.eh;if(void 0!==d)k=k&&void 0===d.error;else if(!k)return!1;if(k){0<b.length&&(f=b[0]);if(f instanceof Error)throw f;b=Error("Unhandled error."+(f?" ("+f.message+")":""));b.context=f;throw b;}d=d[a];if(void 0===d)return!1;if("function"===typeof d)c(d,this,b);else{f=d.length;for(var k=Array(f),p=0;p<f;++p)k[p]=d[p];for(d=0;d<f;++d)c(k[d],this,b);}return!0;};f.prototype.addListener=function(c,b){return a(this,c,b,!1);};f.prototype.on=f.prototype.addListener;f.prototype.lza=function(c,b){return a(this,c,b,!0);};f.prototype.once=function(a,c){if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);this.on(a,d(this,a,c));return this;};f.prototype.bmb=function(a,c){if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);this.lza(a,d(this,a,c));return this;};f.prototype.removeListener=function(a,c){var b,d,k,f,p;if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);d=this.eh;if(void 0===d)return this;b=d[a];if(void 0===b)return this;if(b===c||b.listener===c)0===--this.kx?this.eh=Object.create(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,b.listener||c));else if("function"!==typeof b){k=-1;for(f=b.length-1;0<=f;f--)if(b[f]===c||b[f].listener===c){p=b[f].listener;k=f;break;}if(0>k)return this;if(0===k)b.shift();else{for(;k+1<b.length;k++)b[k]=b[k+1];b.pop();}1===b.length&&(d[a]=b[0]);void 0!==d.removeListener&&this.emit("removeListener",a,p||c);}return this;};f.prototype.rjb=f.prototype.removeListener;f.prototype.removeAllListeners=function(a){var c,b,d;b=this.eh;if(void 0===b)return this;if(void 0===b.removeListener)return 0===arguments.length?(this.eh=Object.create(null),this.kx=0):void 0!==b[a]&&(0===--this.kx?this.eh=Object.create(null):delete b[a]),this;if(0===arguments.length){c=Object.keys(b);for(b=0;b<c.length;++b)d=c[b],"removeListener"!==d&&this.removeAllListeners(d);this.removeAllListeners("removeListener");this.eh=Object.create(null);this.kx=0;return this;}c=b[a];if("function"===typeof c)this.removeListener(a,c);else if(void 0!==c)for(b=c.length-1;0<=b;b--)this.removeListener(a,c[b]);return this;};f.prototype.listeners=function(a){var c;c=this.eh;if(void 0===c)a=[];else if(a=c[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var c=Array(a.length),b=0;b<c.length;++b)c[b]=a[b].listener||a[b];a=c;}return a;};f.listenerCount=function(a,c){return"function"===typeof a.listenerCount?a.listenerCount(c):t.call(a,c);};f.prototype.listenerCount=t;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.GIa=function(){this.AUDIO=0;this.VIDEO=1;this.YJa=2;this.Ue=function(){};};f.$da="DownloadTrackConstructorFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Aha="PboPlaydataServicesSymbol";f.ON="PboPlaydataServicesProviderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.TF="LicenseProviderSymbol";},function(g,f,a){var d,t;function b(a){switch(a){case d.G.NF:return"http";case d.G.OF:return"connectiontimeout";case d.G.Lw:return"readtimeout";case d.G.yY:return"corruptcontent";case d.G.Dt:return"abort";case d.G.BA:case d.G.CY:return"unknown";}}Object.defineProperty(f,"__esModule",{value:!0});d=a(2);t=a(8);f.fta=b;f.kta=function(a,c){a={errorcode:a+(c.errorCode||d.I.bj)};c.Y&&(a.errorsubcode=c.Y);c.Ec&&(a.errorextcode=c.Ec);c.HR&&(a.erroredgecode=c.HR);c.Ra&&(a.errordetails=c.Ra);c.Vh&&(a.httperr=c.Vh);c.pU&&(a.aseneterr=c.pU);c.us&&(a.errordata=c.us);c.jK&&(a.mediaerrormessage=c.jK);(c=b(Number(c.Y)))&&(a.nwerr=c);return a;};f.sta=function(){return{screensize:t.br.width+"x"+t.br.height,screenavailsize:t.br.availWidth+"x"+t.br.availHeight,clientsize:J.innerWidth+"x"+J.innerHeight};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});(f.Sda||(f.Sda={})).TOa="PboDebugEvent";f.AX={zMa:"Manifest",Event:"Event",tzb:"Logblob"};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g.T=function(a){return{minInitVideoBitrate:a.Iv,minHCInitVideoBitrate:a.Z8,maxInitVideoBitrate:a.Sy,minInitAudioBitrate:a.qK,maxInitAudioBitrate:a.eK,minHCInitAudioBitrate:a.pK,minAcceptableVideoBitrate:a.$T,minRequiredBuffer:a.gU,minPrebufSize:a.Mi,rebufferingFactor:a.L$,useMaxPrebufSize:a.nca,maxPrebufSize:a.ID,maxRebufSize:a.I8,maxBufferingTime:a.fq,minAudioMediaRequestSizeBytes:a.aU,minVideoMediaRequestSizeBytes:a.iU,initialBitrateSelectionCurve:a.bT,initSelectionLowerBound:a.Bua,initSelectionUpperBound:a.Cua,throughputPercentForAudio:a.rW,bandwidthMargin:a.Q1,bandwidthMarginContinuous:a.R1,bandwidthMarginCurve:a.S1,conservBandwidthMargin:a.Q2,switchConfigBasedOnInSessionTput:a.zba,conservBandwidthMarginTputThreshold:a.dI,conservBandwidthMarginCurve:a.R2,switchAlgoBasedOnHistIQR:a.yCa,switchConfigBasedOnThroughputHistory:a.ow,maxPlayerStateToSwitchConfig:a.H8,lowEndMarkingCriteria:a.j8,IQRThreshold:a.GY,histIQRCalcToUse:a.J6,maxTotalBufferLevelPerSession:a.Js,highWatermarkLevel:a.hua,toStableThreshold:a.aDa,toUnstableThreshold:a.vW,skipBitrateInUpswitch:a.gba,watermarkLevelForSkipStart:a.uca,highStreamRetentionWindow:a.C6,lowStreamTransitionWindow:a.k8,highStreamRetentionWindowUp:a.E6,lowStreamTransitionWindowUp:a.m8,highStreamRetentionWindowDown:a.D6,lowStreamTransitionWindowDown:a.l8,highStreamInfeasibleBitrateFactor:a.B6,lowestBufForUpswitch:a.Oy,lockPeriodAfterDownswitch:a.GT,lowWatermarkLevel:a.o8,lowestWaterMarkLevel:a.Py,lowestWaterMarkLevelBufferRelaxed:a.q8,mediaRate:a.T8,maxTrailingBufferLen:a.K8,audioBufferTargetAvailableSize:a.I1,videoBufferTargetAvailableSize:a.sca,maxVideoTrailingBufferSize:a.Lwa,maxAudioTrailingBufferSize:a.xwa,fastUpswitchFactor:a.MR,fastDownswitchFactor:a.D4,maxMediaBufferAllowed:a.QT,maxMediaBufferAllowedInBytes:a.hq,simulatePartialBlocks:a.dba,simulateBufferFull:a.XBa,considerConnectTime:a.S2,connectTimeMultiplier:a.P2,lowGradeModeEnterThreshold:a.gwa,lowGradeModeExitThreshold:a.hwa,maxDomainFailureWaitDuration:a.ywa,maxAttemptsOnFailure:a.vwa,exhaustAllLocationsForFailure:a.dra,maxNetworkErrorsDuringBuffering:a.Ewa,maxBufferingTimeAllowedWithNetworkError:a.C8,fastDomainSelectionBwThreshold:a.C4,throughputProbingEnterThreshold:a.Hba,throughputProbingExitThreshold:a.MCa,locationProbingTimeout:a.Tva,finalLocationSelectionBwThreshold:a.qra,throughputHighConfidenceLevel:a.KCa,throughputLowConfidenceLevel:a.LCa,locationStatisticsUpdateInterval:a.W7,enablePerfBasedLocationSwitch:a.KC,probeServerWhenError:a.Lo,probeRequestTimeoutMilliseconds:a.t$,allowSwitchback:a.Qr,probeDetailDenominator:a.rz,maxDelayToReportFailure:a.OT,countGapInBuffer:a.ipa,allowReissueMediaRequestAfterAbort:a.UB,bufferThresholdForAbort:a.Y1,allowCallToStreamSelector:a.r1,pipelineScheduleTimeoutMs:a.Z9,maxPartialBuffersAtBufferingStart:a.Ty,minPendingBufferLen:a.a9,maxPendingBufferLen:a.Dv,maxPendingBufferLenSABCell100:a.ST,maxActiveRequestsSABCell100:a.MT,enableRequestPacing:a.AR,maxStreamingSkew:a.J8,maxPendingBufferPercentage:a.G8,maxRequestsInBuffer:a.Uy,headerRequestSize:a.PS,minBufferLenForHeaderDownloading:a.bU,reserveForSkipbackBufferMs:a.xV,numExtraFragmentsAllowed:a.C9,pipelineEnabled:a.yn,maxParallelConnections:a.HD,socketReceiveBufferSize:a.$Ba,audioSocketReceiveBufferSize:a.lQ,videoSocketReceiveBufferSize:a.kF,headersSocketReceiveBufferSize:a.z6,updatePtsIntervalMs:a.AW,bufferTraceDenominator:a.a2,bufferLevelNotifyIntervalMs:a.bC,aseReportDenominator:a.AH,aseReportIntervalMs:a.E1,enableAbortTesting:a.Lqa,abortRequestFrequency:a.Bma,streamingStatusIntervalMs:a.sba,prebufferTimeLimit:a.hE,minBufferLevelForTrackSwitch:a.cU,penaltyFactorForLongConnectTime:a.T9,longConnectTimeThreshold:a.g8,additionalBufferingLongConnectTime:a.n1,additionalBufferingPerFailure:a.o1,rebufferCheckDuration:a.dL,enableLookaheadHints:a.Oqa,lookaheadFragments:a.dwa,enableOCSideChannel:a.po,OCSCBufferQuantizationConfig:a.KN,updateDrmRequestOnNetworkFailure:a.BDa,deferAseScheduling:a.$pa,maxDiffAudioVideoEndPtsMs:a.PT,useHeaderCache:a.gF,useHeaderCacheData:a.xR,defaultHeaderCacheSize:a.ZQ,defaultHeaderCacheDataPrefetchMs:a.G3,headerCacheMaxPendingData:a.w6,neverWipeHeaderCache:a.o9,headerCachePriorityLimit:a.x6,enableUsingHeaderCount:a.MI,networkFailureResetWaitMs:a.m9,networkFailureAbandonMs:a.l9,maxThrottledNetworkFailures:a.UT,throttledNetworkFailureThresholdMs:a.qW,abortUnsentBlocks:a.Lr,maxUnsentBlocks:a.L8,abortStreamSelectionPeriod:a.c1,lowThroughputThreshold:a.n8,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.u4,mp4ParsingInNative:a.nxa,sourceBufferInOrderAppend:a.aCa,requireAudioStreamToEncompassVideo:a.Cn,allowAudioToStreamPastVideo:a.bna,enableManagerDebugTraces:a.ff,managerDebugMessageInterval:a.pwa,managerDebugMessageCount:a.owa,bufferThresholdToSwitchToSingleConnMs:a.pQ,bufferThresholdToSwitchToParallelConnMs:a.Z1,netIntrStoreWindow:a.xib,minNetIntrDuration:a.$hb,fastHistoricBandwidthExpirationTime:a.w8a,bandwidthExpirationTime:a.s_a,failureExpirationTime:a.u8a,historyTimeOfDayGranularity:a.bdb,expandDownloadTime:a.m8a,minimumMeasurementTime:a.iib,minimumMeasurementBytes:a.hib,throughputMeasurementTimeout:a.usb,initThroughputMeasureDataSize:a.Mdb,throughputMeasureWindow:a.tsb,throughputIQRMeasureWindow:a.ssb,IQRBucketizerWindow:a.eLa,connectTimeHalflife:a.N1a,responseTimeHalflife:a.wob,historicBandwidthUpdateInterval:a.adb,throughputWarmupTime:a.ysb,minimumBufferToStopProbing:a.gib,throughputPredictor:a.wsb,ase_stream_selector:a.yZa,enableFilters:a.X6a,filterDefinitionOverrides:a.K8a,defaultFilter:a.r5a,secondaryFilter:a.$ob,defaultFilterDefinitions:a.s5a,initBitrateSelectorAlgorithm:a.c7,bufferingSelectorAlgorithm:a.c2,ase_ls_failure_simulation:a.w3,ase_dump_fragments:a.u3,ase_location_history:a.v3,ase_throughput:a.x3,ase_simulate_verbose:a.Npa,secondThroughputEstimator:a.qaa,secondThroughputMeasureWindowInMs:a.aBa,marginPredictor:a.x8,simplePercentilePredictorPercentile:a.WBa,simplePercentilePredictorCalcToUse:a.UBa,simplePercentilePredictorMethod:a.VBa,IQRBandwidthFactorConfig:a.sfa,networkMeasurementGranularity:a.n9,HistoricalTDigestConfig:a.Qea,maxIQRSamples:a.Bwa,minIQRSamples:a.gxa,periodicHistoryPersistMs:a.PU,saveVideoBitrateMs:a.GV,needMinimumNetworkConfidence:a.uK,biasTowardHistoricalThroughput:a.U1,maxFastPlayBufferInMs:a.E8,maxFastPlayBitThreshold:a.D8,headerCacheTruncateHeaderAfterParsing:a.eua,minAudioMediaRequestDuration:a.PD,minVideoMediaRequestDuration:a.TD,minAudioMediaRequestDurationCache:a.PD,minVideoMediaRequestDurationCache:a.TD,addHeaderDataToNetworkMonitor:a.ZP,useMediaCache:a.vw,mediaCachePartitionConfig:a.P8,diskCacheSizeLimit:a.Mu,mediaCachePrefetchMs:a.XT,hindsightDenominator:a.I6,hindsightDebugDenominator:a.H6,hindsightParam:a.RS,minimumTimeBeforeBranchDecision:a.jU,enableSessionHistoryReport:a.LI,earlyStageEstimatePeriod:a.e4,lateStageEstimatePeriod:a.Cva,maxNumSessionHistoryStored:a.RT,minSessionHistoryDuration:a.hU,enableInitThroughputEstimate:a.KI,applyInitThroughputEstimate:a.z1,initThroughputPredictor:a.Dua,appendMediaRequestOnComplete:a.nna,waitForDrmToAppendMedia:a.RW,forceAppendHeadersAfterDrm:a.S4,startMonitorOnLoadStart:a.mba,reportFailedRequestsToNetworkMonitor:a.T$,reappendRequestsOnSkip:a.cL,maxActiveRequestsPerSession:a.cq,limitAudioDiscountByMaxAudioBitrate:a.R7,appendFirstHeaderOnComplete:a.w1,maxAudioFragmentOverlapMs:0,editAudioFragments:a.bn,editVideoFragments:a.qs,declareBufferingCompleteAtSegmentEnd:a.y3,applyProfileTimestampOffset:a.Hx,applyProfileStreamingOffset:a.bo,requireDownloadDataAtBuffering:a.Y$,requireSetupConnectionDuringBuffering:a.Z$,recordFirstFragmentOnSubBranchCreate:a.M$,earlyAppendSingleChildBranch:a.tR,selectStartingVMAFMethod:a.AE,activateSelectStartingVMAF:a.qH,minStartingVideoVMAF:a.SD};};},function(g,f,a){(function(b,d){var m;function f(a,b){var c;c=Date.now();this.crb=c;this.ER=c+a;this.Xkb=a;this.I4a=c+b;this.debug=!1;}m=new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");f.prototype.constructor=f;f.prototype.gb=function(a,b){a=((a-this.crb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;m.debug(a+" "+this.K4a+b);};f.prototype.gXa=function(a){this.K4a=a;this.gb(Date.now(),"starting");};f.prototype.UXa=function(a){var c;c=new Date().getTime();if(c>=this.I4a)throw Error("Execution deadline exceeded");if(3221225472<b.cIb().WGb)throw Error("Heap total limit exceeded");if(this.debug&&!(c<=this.ER)){for(;c>this.ER;)this.ER+=this.Xkb;this.gb(c,a);}};f.yc=function(){d.eV=new f(5E3,12E5);};f.Oaa=function(a){d.eV&&d.eV.gXa(a);};f.update=function(a){d.eV&&d.eV.UXa(a);};g.T=f;}.call(this,a(232),a(250)));},function(g,f,a){function b(a,b){this.QB=a;this.ph=Math.floor((a+b-1)/b);this.xc=b;this.reset();}a(13);b.prototype.shift=function(){this.Ac.shift();this.xp.shift();};b.prototype.aE=function(a){return this.koa(this.Ac[a],a);};b.prototype.update=function(a,b){this.Ac[a]=(this.Ac[a]||0)+b;};b.prototype.push=function(){this.Ac.push(0);this.xp.push(0);this.Oa+=this.xc;};b.prototype.add=function(a,b,f){var c,d,q;if(null===this.Oa)for(c=Math.max(Math.floor((f-b+this.xc-1)/this.xc),1),this.Oa=b;this.Ac.length<c;)this.push();for(;this.Oa<=f;)this.push(),this.Ac.length>this.ph&&this.shift();if(null===this.wk||b<this.wk)this.wk=b;if(b>this.Oa-this.xc)this.update(this.Ac.length-1,a);else if(b==f)c=this.Ac.length-Math.max(Math.ceil((this.Oa-f)/this.xc),1),0<=c&&this.update(c,a);else for(c=1;c<=this.Ac.length;++c){d=this.Oa-c*this.xc;q=d+this.xc;if(!(d>f)){if(q<b)break;this.update(this.Ac.length-c,Math.round(a*(Math.min(q,f)-Math.max(d,b))/(f-b)));}}for(;this.Ac.length>this.ph;)this.shift();};b.prototype.start=function(a){null===this.wk&&(this.wk=a);null===this.Oa&&(this.Oa=a);};b.prototype.stop=function(a){var b,d;if(null!==this.Oa)if(a-this.Oa>10*this.QB)this.reset();else{for(;this.Oa<=a;)this.push(),this.Ac.length>this.ph&&this.shift();b=this.Ac.length-Math.ceil((this.Oa-this.wk)/this.xc);0>b&&(this.wk=this.Oa-this.xc*this.Ac.length,b=0);d=this.Ac.length-Math.ceil((this.Oa-a)/this.xc);if(b===d)this.xp[b]+=a-this.wk;else if(d>b)for(this.xp[b]+=(this.Oa-this.wk)%this.xc,this.xp[d]+=this.xc-(this.Oa-a)%this.xc,a=b+1;a<d;++a)this.xp[a]=this.xc;this.wk=null;}};b.prototype.koa=function(a,b){b=this.g5(b);return 0===b?null:8*a/b;};b.prototype.g5=function(a){var b;b=this.xp[a];null!==this.wk&&(a=this.Oa-(this.Ac.length-a-1)*this.xc,a>this.wk&&(b=a-this.wk<=this.xc?b+(a-this.wk):this.xc));return b;};b.prototype.get=function(a,b){var d,c;d=this.Ac.map(this.koa,this);if("last"===a)for(a=0;a<d.length;++a)null===d[a]&&(d[a]=0<a?d[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.xc));for(a=0;a<d.length;++a)null===d[a]?d[a]=Math.floor(c||0):c=void 0!==c?b*d[a]+(1-b)*c:d[a];}return d;};b.prototype.reset=function(){this.Ac=[];this.xp=[];this.wk=this.Oa=null;};b.prototype.setInterval=function(a){this.ph=Math.floor((a+this.xc-1)/this.xc);};g.T=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.eQ=function(a,b){return""+a===""+b;};},function(g,f,a){var b,d,t,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(13);t=a(11);m=a(5);g=function(a){function c(c,b,k,f){k=a.call(this,k)||this;k.Zla=c.za;k.location=c.location||b.location;k.Db=c.Sb||b.Sb;k.Laa=c.Laa||b.Laa;k.jKb=m.time.ea();d.assert(f);k.K=f;return k;}b.__extends(c,a);c.prototype.yc=function(a,c){this.Sa=a;this.Lf=c;this.p1=!1;};c.prototype.nP=function(a){var c,b,d;c={type:"logdata",target:"endplay",fields:{}};b=this.O===t.L.AUDIO?"audioedit":"videoedit";d=[this.Xu===this.U?this.Re:this.Mc,this.Xu===this.U?-this.duration:this.duration];a&&a.Bq&&d.push(a.Bq);c.fields[b]={type:"array",value:d};this.Sa&&this.Sa.emit(c.type,c);};c.prototype.fP=function(a){this.Sa.u.cL&&(this.Tra=!0,this.Iqa=a);};c.prototype.EW=function(a,c){var b,d;if(this.complete)return 0;b=this.Zla;d=a[b];return d?d.url?this.url===d.url||(c(this,d.location,d.Sb),this.ZL(d.url))?0:(this.K.warn("swapUrl failed: ",this.UC),3):(this.K.warn("updateurl, missing url for streamId:",b,"mediaRequest:",this,"stream:",d),2):(this.K.warn("updateUrl, missing stream for streamId:",b,"mediaRequest:",this,"streamMap:",a),1);};return c;}(a(83));f.yw=g;},function(g,f,a){var t;function b(a,c){return void 0===a||void 0===c?void 0:a+c;}function d(a,c){return void 0===a||void 0===c?void 0:a-c;}Object.defineProperty(f,"__esModule",{value:!0});t=a(59);g=function(){function a(){}Object.defineProperties(a.prototype,{Ll:{get:function(){return d(this.xb,this.bb)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NK:{get:function(){return b(this.bb,this.Oo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{VU:{get:function(){return b(this.xb,this.Oo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{b4:{get:function(){return this.OB(this.Ll);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X1a:{get:function(){return this.OB(this.bb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U1a:{get:function(){return this.OB(this.xb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{f$:{get:function(){return this.OB(this.NK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zlb:{get:function(){return this.OB(this.VU);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Cmb:{get:function(){return this.OB(this.Oo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return d(this.ba,this.U)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.ou(this.NK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.ou(this.VU);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bm:{get:function(){return this.ou(this.Oo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vm:{get:function(){return this.ou(this.bb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Mc:{get:function(){return this.ou(this.bb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Re:{get:function(){return this.ou(this.xb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Fc:{get:function(){return this.ou(this.NK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ce:{get:function(){return this.ou(this.VU);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ps:{get:function(){return this.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Us:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mE:{get:function(){return this.ba;},enumerable:!0,configurable:!0}});a.prototype.OB=function(a){return void 0===a?void 0:0===a?t.dc.Cf:new t.dc(a,this.ga);};a.prototype.ou=function(a){return a&&Math.floor(t.dc.ZCa(a,this.ga));};return a;}();f.OM=g;},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});a(13);g=function(){function a(a,b){this.Bc=a;this.Tb=b.aa;this.zd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Bc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Tb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.zd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{da:{get:function(){return this.Bc.Ya.da;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ya:{get:function(){return this.Bc.Ya;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Bc.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Bc.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.Bc.za;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Bc.P;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Bc.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Bc.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lv:{get:function(){return this.Bc.Lv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ha:{get:function(){return this.Bc.Ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{EH:{get:function(){return this.Bc.EH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{GH:{get:function(){return this.Bc.GH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{h7:{get:function(){return this.Bc.h7;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.M,streamId:this.za,offset:this.offset,bytes:this.aa};};return a;}();f.zw=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.op={SA:"PRIMARY",Bca:"ASSISTIVE",hda:"COMMENTARY"};f.SZ={assistive:f.op.Bca,closedcaptions:f.op.Bca,directorscommentary:f.op.hda,commentary:f.op.hda,subtitles:f.op.SA,primary:f.op.SA};},function(g){g.T=function(f){return null!=f&&"object"===typeof f&&!0===f["@@functional/placeholder"];};},function(g,f,a){var b,d,t;b=a(110);d=a(50);t=a(158);g.T=function(a){return function k(f,p,u){switch(arguments.length){case 0:return k;case 1:return t(f)?k:d(function(b,d){return a(f,b,d);});case 2:return t(f)&&t(p)?k:t(f)?d(function(b,d){return a(b,p,d);}):t(p)?d(function(b,d){return a(f,b,d);}):b(function(b){return a(f,p,b);});default:return t(f)&&t(p)&&t(u)?k:t(f)&&t(p)?d(function(b,d){return a(b,d,u);}):t(f)&&t(u)?d(function(b,d){return a(b,p,d);}):t(p)&&t(u)?d(function(b,d){return a(f,b,d);}):t(f)?b(function(b){return a(b,p,u);}):t(p)?b(function(b){return a(f,b,u);}):t(u)?b(function(b){return a(f,p,b);}):a(f,p,u);}};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.gga="ManifestEncoderSymbol";f.SY="ManifestTransformerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Sea="IDBDatabaseFactorySymbol";f.ufa="IndexedDBFactorySymbol";f.HY="IndexedDBStorageFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.wNa="NativeLocalStorageSymbol";f.Gga="NativeLocalStorageFactorySymbol";f.Tea="IDBFactorySymbol";},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(29);f.nxb=function(){this.FH=[];this.iF=[];this.K1=b.Aw.Fw;this.OW=b.Oj.Fw;};f.eN="DeviceCapabilitiesConfigSymbol";},function(g,f,a){g=a(239);a=a(238);f.async=new a.dX(g.cX);},function(g,f,a){function b(a){var b,c;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),d=0;d<b.length;++d){c=b[d];if("entries"!==c&&"size"!==c&&a.prototype[c]===a.prototype.entries)return c;}return"@@iterator";}g=a(80);f.dKb=b;f.iterator=b(g.root);f.qvb=f.iterator;},function(g,f,a){var b,d,t,m,c,k,q,p;b=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};d=a(10);g=a(46);t=a(71);m=a(460);c=a(459);k=a(241);q=function(a){function c(c){a.call(this,c);this.destination=c;}b(c,a);return c;}(g.pi);f.lRa=q;a=function(a){function f(){a.call(this);this.Ns=[];this.vJ=this.We=this.closed=!1;this.Iba=null;}b(f,a);f.prototype[k.Kz]=function(){return new q(this);};f.prototype.ag=function(a){var c;c=new p(this,this);c.J9=a;return c;};f.prototype.next=function(a){if(this.closed)throw new m.QA();if(!this.We)for(var c=this.Ns,b=c.length,c=c.slice(),d=0;d<b;d++)c[d].next(a);};f.prototype.error=function(a){if(this.closed)throw new m.QA();this.vJ=!0;this.Iba=a;this.We=!0;for(var c=this.Ns,b=c.length,c=c.slice(),d=0;d<b;d++)c[d].error(a);this.Ns.length=0;};f.prototype.complete=function(){if(this.closed)throw new m.QA();this.We=!0;for(var a=this.Ns,c=a.length,a=a.slice(),b=0;b<c;b++)a[b].complete();this.Ns.length=0;};f.prototype.unsubscribe=function(){this.closed=this.We=!0;this.Ns=null;};f.prototype.U0=function(c){if(this.closed)throw new m.QA();return a.prototype.U0.call(this,c);};f.prototype.Tf=function(a){if(this.closed)throw new m.QA();if(this.vJ)return a.error(this.Iba),t.uk.EMPTY;if(this.We)return a.complete(),t.uk.EMPTY;this.Ns.push(a);return new c.Jia(this,a);};f.prototype.C1=function(){var a;a=new d.Da();a.source=this;return a;};f.create=function(a,c){return new p(a,c);};return f;}(d.Da);f.aj=a;p=function(a){function c(c,b){a.call(this);this.destination=c;this.source=b;}b(c,a);c.prototype.next=function(a){var c;c=this.destination;c&&c.next&&c.next(a);};c.prototype.error=function(a){var c;c=this.destination;c&&c.error&&this.destination.error(a);};c.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};c.prototype.Tf=function(a){return this.source?this.source.subscribe(a):t.uk.EMPTY;};return c;}(a);f.Evb=p;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.mia="ReportSyncSymbol";f.lia="ReportApiErrorSyncSymbol";f.Eea="FtlProbeConfigSymbol";f.Fea="FtlProbeSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.Qn||(f.Qn={});g[g.pz=0]="playready";g[g.TW=1]="widevine";g[g.VC=2]="fairplay";g[g.OEb=3]="clearkey";f.PIa="DrmTypeSymbol";},function(g){g.T={Sq:{QZ:0,pia:1,oi:2,name:["transient","semiTransient","permanent"]},Qq:{yea:0,nia:1,SN:2,fG:3,dr:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},fDb:{OCb:0,Dzb:1,Jwb:2,dr:100,name:["trailer","montage","content"]},ip:{Hfa:0,iia:1,aSa:2,gIa:3,dr:100,name:["left","right","up","down"]},RF:{xGa:0,SN:1,uyb:2,Oxb:3,Nvb:4,tyb:5,rFa:6,dr:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},EA:{fG:0,Eda:1,dr:100,name:["playFocused","detailsOpened"]}};},function(g,f,a){f=a(232);g.T="undefined"!==typeof f&&"undefined"!==typeof nrdp?nrdp.ea:Date.now;},function(g,f,a){var b,d,t,m,c,k,q,p,u,z,y,h,A,B,M,S,Q;Object.defineProperty(f,"__esModule",{value:!0});b=a(182);d=a(104);t=a(12);m=a(9);g=a(33);c=a(2);k=a(14);q=a(4);p=a(114);u=a(60);z=a(63);y=a(18);h=a(8);A=a(16);B=a(28);M=a(96);S=a(3);a=a(20);f.vn={};J._cad_global.msl=f.vn;Q=q.W.get(a.De);g.QY&&Q.register(c.I.efa,function(a){var W,n,r,V,N,ca,va,za,O,ha,fa,Aa,sa,ja;function g(b){b&&b.userList&&t.config.Dqb&&(b.userList=[]);V({esn:d.th.Mg,esnPrefix:d.th.dn,authenticationType:t.config.JH,authenticationKeyNames:t.config.Jna,systemKeyWrapFormat:t.config.hsb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:sa,storeState:b,notifyMilestone:Q.Nc.bind(Q),log:va,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:c.G.uMa,MSL_READ_TIMEOUT:c.G.tMa}},{result:function(a){L(a);},timeout:function(){a({Y:c.G.fga});},error:function(b){a(l(c.G.fga,void 0,b));}});}function L(b){var p,u,g;function d(){Aa&&q.W.get(z.ep).create().then(function(a){return a.save(ha,u,!1);})["catch"](function(a){va.error("Error persisting msl store",c.Sn(a));});}p=q.W.get(M.WA)(S.Cb(100));g=N.extend({init:function(a){this.nla=a;},getResponse:function(a,c,b){var d,f;c=this.nla;d=c.wn.Ed||d;a=A.kva(a.body)?q.IW(a.body):a.body;k.rI(a,"Msl should not be sending empty request");a={url:c.url,k$:a,withCredentials:!0,AC:"nq-"+c.method,headers:c.headers};c=this.nla.timeout;a.JQ=c;a.t9=c;f=d.download(a,function(a){try{if(a.X)b.result({body:a.content});else if(400===a.Vh&&a.Ra)b.result({body:a.Ra});else throw y.Va(new ca("HTTP error, SubCode: "+a.Y+(a.Vh?", HttpCode: "+a.Vh:"")),{cadmiumResponse:a});}catch(wd){b.error(wd);}});return{abort:function(){f.abort();}};}});O&&b.addEventHandler("shouldpersist",function(a){u=a.storeState;p.Jb(d);});y.Va(f.vn,{iHb:function(){fa=!0;},send:function(a){function d(){var c,b;c=a.wn;b={method:a.method,nonReplayable:a.u9,encrypted:a.Ml,userId:a.uM,body:a.body,timeout:2*a.timeout,url:new g(a),allowTokenRefresh:Aa,sendUserAuthIfRequired:ja,shouldSendUserAuthData:t.config.Iqb};c.uR?(b.email=c.uR,b.password=c.password||""):c.cDa?(b.token=c.cDa,b.mechanism=c.rhb,c.dz&&(b.netflixId=c.dz,b.secureNetflixId=c.KV),c.tz&&(b.profileGuid=c.tz)):c.dz?(b.netflixId=c.dz,b.secureNetflixId=c.KV):c.Pwa?(b.mdxControllerToken=c.Pwa,b.mdxPin=c.mhb,b.mdxNonce=c.lhb,b.mdxEncryptedPinB64=c.khb,b.mdxSignature=c.nhb):fa||c.useNetflixUserAuthData?b.useNetflixUserAuthData=!0:c.tz&&(b.profileGuid=c.tz);return b;}return new Promise(function(a,k){var f;f=d();b.send(f).then(function(c){fa&&(fa=!1);a({X:!0,body:c.body});})["catch"](function(a){var d,f;if(a.error){d=a.error.cadmiumResponse&&a.error.cadmiumResponse.Y?a.error.cadmiumResponse.Y:b.isErrorReauth(a.error)?c.G.ega:b.isErrorHeader(a.error)?c.G.nMa:c.G.cga;f=b.getErrorCode(a.error);k(l(d,f,a.error));}else va.error("Unknown MSL error",a),a.Gc=a.subCode,k({Y:a.Gc?a.Gc:c.G.vMa});});});},Tg:b});a(m.wc);}function l(a,c,b){var d,k,f,p;p={Y:a,PC:c};if(b){d=function(a){var c;a=a||""+b;if(b.stack){c=""+b.stack;a=0<=c.indexOf(a)?c:a+c;}return a;};if(f=b.cadmiumResponse){if(k=f.Ec&&f.Ec.toString())f.Ec=k;f.Y=a;f.PC=c;f.Ra=d(b.message);f.error={Gc:a,sg:k,kq:c,data:b.cause,message:b.message};return f;}d=d(b.errorMessage);k=y.Qd(b.internalCode)||y.Qd(b.error&&b.error.internalCode);f=void 0!==b.c8a?B.Vxa(b.c8a):void 0;}d&&(p.Ra=d);k&&(p.Ec=k);p.error={Gc:a,sg:k.toString(),kq:c,data:f,message:d};return p;}k.Ga(t.config);W=q.W.get(p.ex);n=u.Xc.ri;if(h.Mt&&h.Xm&&h.Xm.unwrapKey){try{r=J.netflix.msl;V=r.createMslClient;N=r.IHttpLocation;ca=r.MslIoException;}catch(Fa){a({Y:c.G.oMa});return;}va=q.Jf("Msl");za=t.config.qib;O=t.config.rib;ha=t.config.Np?"mslstoretest":"mslstore";r=b.OE.vBa;fa=t.config.Cdb;Aa=!r||r.X;sa=q.Kk(t.config.Np?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ja=!!t.config.Haa;q.W.get(z.ep).create().then(function(b){za?b.remove(ha).then(function(){g();})["catch"](function(a){va.error("Unable to delete MSL store",c.Sn(a));g();}):O?b.load(ha).then(function(a){W.mark(n.qMa);g(a.value);})["catch"](function(d){d.Y==c.G.mp?(W.mark(n.sMa),g()):(va.error("Error loading msl store",c.Sn(d)),W.mark(n.rMa),b.remove(ha).then(function(){g();})["catch"](function(c){a(c);}));}):g();})["catch"](function(b){va.error("Error creating app storage while loading msl store",c.Sn(b));a(b);});}else a({Y:c.G.pMa});});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.yZ="PlaylistHelperSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.kia=function(a,b){var d;this.Waa=function(){d||(d=setInterval(b,a));};this.A2=function(){d&&(clearInterval(d),d=void 0);};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.Kh||(f.Kh={});g[g.cCa=1]="sourceopen";g[g.Ym=2]="currentTimeChanged";g[g.rL=3]="seeked";g[g.pIb=4]="needlicense";g[g.Jva=5]="licenseadded";g[g.bCa=6]="sourceBuffersAdded";g[g.E9=7]="onNeedKey";},function(g,f,a){var b,d,t;Object.defineProperty(f,"__esModule",{value:!0});b=a(14);d=a(18);t=a(16);(function(){var c,k,q;function a(a){b.Ga(void 0!==c[a]);return c[a];}c={'"':'""',"\r":"","\n":" "};k=/["\r\n]/g;q=/[", ]/;f.z4a=function(c){return t.Rb(c)?t.pa(c)?c:t.Od(c)?c.replace(k,a):t.Oua(c)?c:isNaN(c)?"NaN":"":"";};f.lwa=function(a){var c,b;c=f.z4a;b="";d.Sc(a,function(a,d){a=c(a)+"="+c(d);q.test(a)&&(a='"'+a+'"');b=b?b+(","+a):a;});return b;};}());},function(g,f,a){var d,t,m;function b(a,b){this.ej=b?[b]:[];this.O_="$op$"+m++;this.o=a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(9);t=a(14);m=0;b.prototype.addListener=function(a,b){var c;c=this;t.Kpa(a);t.Ga(0>this.ej.indexOf(a));a[d.eZ+this.O_]=b;this.ej=this.ej.slice();this.ej.push(a);this.ej.sort(function(a,b){return c.Yqb(a,b);});};b.prototype.removeListener=function(a){var c;t.Kpa(a);this.ej=this.ej.slice();0<=(c=this.ej.indexOf(a))&&this.ej.splice(c,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Ku:b};this.o=a;a=this.ej;for(var c=a.length,d=0;d<c;d++)a[d](b);}};b.prototype.Yqb=function(a,b){return(a[d.eZ+this.O_]||0)-(b[d.eZ+this.O_]||0);};oa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});f.Jc=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.wZ="PlaybackSegmentDataFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.oZ="PboBindCommandSymbol";},function(g,f,a){var b,d,t,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(282);d=a(12);t=a(9);g=a(2);m=a(14);c=a(4);k=a(18);q=a(70);p=a(85);a=a(20);f.Wm={};J._cad_global.controlProtocol=f.Wm;c.W.get(a.De).register(g.I.$ea,function(a){var q,u,g;m.Ga(d.config);q=c.Jf("ControlProtocol");u=d.config.uh;m.Ga(u);g=c.W.get(p.qt);q.info("Creating EDGE instance",{Endpoint:g.endpoint+u.qxa,Path:u.Fqa});k.Va(f.Wm,new b.$Ga(q));a(t.wc);});f.dFb=c.W.get(q.jN);f.cFb="1";f.eFb="2";f.fFb="3";f.bFb="4";},function(g,f,a){var t,m,c,k,q,p,u,z,y,h,A,B,M,S,Q,l,E;function b(a){var b;b=this;this.j=a;this.Kna=this.Kva=!1;this.log=q.Zf(this.j,"Playback");this.wn={Ed:a.AJ,log:q.Zf(a,"MSLContext"),profile:a.profile};this.DT=q.W.get(M.TF);this.bl=q.W.get(l.Ww);this.Hc=q.W.get(E.YA);this.j.addEventListener(Q.S.ZJ,function(){return b.gub();});p.Ga(c.config);p.Ga(t.Wm);p.Ga(this.wn.Ed);c.config.bp||(this.A6a=q.W.get(u.aea));}function d(a,c,b){var k;function d(a){return a&&0<a.length&&a[0].xv;}k=q.W.get(M.TF);return a.oa&&d(a.ic)?k.release(Object.assign({},b,{oa:a.oa,ic:a.ic}),c):b.oa&&d(b.ic)?k.release(b,c):Promise.resolve(m.wc);}Object.defineProperty(f,"__esModule",{value:!0});t=a(179);m=a(9);c=a(12);k=a(26);q=a(4);p=a(14);u=a(467);z=a(2);y=a(60);h=a(33);A=a(45);B=a(16);M=a(147);S=a(146);Q=a(15);l=a(91);E=a(107);b.prototype.KH=function(a){var f,q,u;function b(){f.j.jBa().then(d)["catch"](a);}function d(c){try{f.j.sza(c);a(m.wc);f.Z8a();}catch(ca){f.log.error("Exception processing authorization response",ca);a({X:!1,Y:z.G.KOa});}}f=this;p.qI(this.j.M);p.qI(this.j.Xg);q=this.j.Ia;if(q){u=q.expiration;u?(u-=k.C2(),18E5<u?A.zb(function(){d(q);f.j.Bu="ui";}):(this.log.error("manifest is expired",{gap:u}),b())):A.zb(function(){d(q);f.j.Bu="ui";});}else c.config.An&&this.Hc()?(u=this.Hc().so(this.j.M,"manifest"))&&u.then(function(a){d(a);f.j.Bu="videopreparer";})["catch"](function(a){f.log.warn("manifest not in cache",a);b();}):b();};b.prototype.mJ=function(a){var c;c=this;return new Promise(function(b,d){var k,f,p;k=y.Xc.gpa(a.wh);f=a.Jp.map(function(a){return{sessionId:a.sessionId,dataBase64:q.Vr(a.data)};});p=c.j.ebb(a.Jp[0].sessionId);k={Mf:p.Mf,wh:B.is.Gk(a.wh)?a.wh:k,qR:[p.Yj],Jp:f,oa:p.oa,no:a.no,tf:p.Ia.tf};c.j.fI&&c.j.fI.LQ&&(k.iK=c.j.fI.LQ);c.DT.Cx(k,c.wn.profile).then(function(a){c.j.ic=a.ic;b(a);c.$8a(p);})["catch"](d);});};b.prototype.release=function(a){return d(this.j,this.wn.profile,a);};b.prototype.jpa=function(){var a;a=this.A6a.create();a.profileId=this.j.profile.id;this.j.ef&&(a.Pd=this.j.ef.cD());a.ic=this.j.ic;a.oa=this.j.oa;a.M=this.j.M;return a;};b.prototype.$8a=function(a){this.Kva||(this.Kva=!0,this.j.fireEvent(Q.S.ZJ,{da:a.da}));};b.prototype.Z8a=function(){var a;a=this;this.Kna||(this.Kna=!0,this.j.fireEvent(Q.S.c_a),q.W.get(S.ON)().then(function(c){c.drb(a.j);}));};b.prototype.gub=function(){var a;a=this;this.bl.Dy||b.NDa||(b.NDa=!0,h.uNa&&c.config.fub&&t.Wm.V1(this.wn).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(c){return a.log.error("NetflixId upgrade failed",z.Sn(c));}));};b.NDa=!1;f.aHa=b;f.Inb=d;},function(g,f,a){var m,c,k,q,p,u,z,y,h,A,B,M,S,Q,l,E,n,R;function b(a,b){var A,M;function f(b){return c.Inb(a,M,b);}function p(){var a,c,b;c=z.Jf("Eme");a=new u.Eg.xt(c,void 0,f,{Qg:!1,OJ:!1});b=z.W.get(h.VA);return u.Eg.zt(c,"cenc",void 0,{Qg:!1,OJ:!1,fva:q.config.hi,eBa:{Zwa:q.config.epb,xoa:q.config.saa,wKb:q.config.dpb},kL:a,wza:q.config.y$,fF:q.config.fF,lA:q.config.h4,UIb:q.config.fpb,Ena:b.gI([]),$Da:b.mI([]),oD:q.config.oD});}function g(a,c){var b,d;d=z.W.get(R.wZ)(0,0,c.movieId,{},c.xid,E.Cb(n.Vf()),!1,void 0,function(){return null;});q.config.hi&&(A.info("secure stop is enabled"),b=a.X?{success:a.X,persisted:!0,ss_km:a.Ywa,ss_sr:a.zL,ss_ka:a.Soa}:{success:a.X,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Gc,ErrorExternalCode:a.sg,ErrorEdgeCode:a.$x,ErrorDetails:a.cause&&a.cause.Ra},b.browserua=B.Nj,c=z.W.get(Q.Lj),a=z.W.get(l.Tn).Jl("securestop",a.X?"info":"error",b,d),c.tc(a));}function L(){function a(a,c){var b;M=m.hj.qy(c.profileId);if(!M)return A.warn("profile not found in release drm session, this is an orphan drmSession"),d(a,c);if(!c.ic||0===c.ic.length||!c.ic[0].xv)return A.error("releaseDrmSession exception: missing valid keySessionData"),d(a,c);if(0<c.ic.length){A.info("Sending the deferred playdata and secure stop data");b=p();return b.create(q.config.Pd).then(function(){return b.JFb(c);}).then(function(b){A.info("Sent the deferred playdata and secure stop data");g(b,c);return d(a,c);})["catch"](function(b){b&&b.code===y.I.sQa&&d(a,c);b&&b.code===y.I.rQa&&d(a,c);A.error("Unable to send last stop",b);g(b,c);throw b;});}A.info("No key session so just send the playdata");return f(c).then(function(){A.trace("Successfully sent stop command for previous session");return d(a,c);})["catch"](function(a){A.error("Unable to send stop command for previous session",a);throw a;});}t(A).then(function(c){var d;d=c.rR.filter(function(a){return!1===a.active;}).map(function(b){return a(c,b);});Promise.all(d).then(function(){A.info("release drm session completed for "+d.length+" entries");b(k.wc);})["catch"](function(a){a=a||{};a.DrmCacheSize=d.length;A.error("Unable to release one or more DRM session data",a);b(k.wc);});})["catch"](function(a){A.error("Unable to load DRM session data",a);b(k.wc);});}A=z.Jf("PlayDataManager");b=b||k.je;q.config.bp?b(k.wc):L();}function d(a,c){return a?a.R$(c):Promise.resolve();}function t(a){var c;if(!f.Aqa){c=z.W.get(A.nX);f.Aqa=new Promise(function(b,d){c.Kza().then(function(){b(c);})["catch"](function(c){a.error("Unable to load DRM data for persistent secure stop",c);d(c);});});}return f.Aqa;}Object.defineProperty(f,"__esModule",{value:!0});m=a(90);c=a(180);k=a(9);q=a(12);p=a(53);u=a(33);z=a(4);y=a(2);h=a(113);A=a(243);B=a(8);M=a(146);S=a(15);Q=a(39);l=a(57);E=a(3);n=a(26);R=a(177);g=a(20);f.lPa=function(a){var g,m,y,h,L;function c(){m||(a.Nc("pdsb"),m=z.W.get(M.ON)().then(function(c){h=c;a.Nc("pdsc");return c;})["catch"](function(c){g.error("Unable to initialize the playdata services",c);a.Nc("pdse");throw c;}));return m;}function f(){y=!0;h&&h.close();p.Ae.removeListener(p.Vk,f);}g=z.Zf(a,"PlayDataManager");y=!1;if(!u.Eg.zt||!u.Eg.xt){L={};u.Eg.zt=L.Sa;u.Eg.xt=L.request;}a.Nc("pdctor");a.addEventListener(S.S.Ge,function(){p.Ae.removeListener(p.Vk,f);});a.addEventListener(S.S.ZJ,function(){var c;if(!q.config.bp&&a.ef){c=a.Wm.jpa();t(g).then(function(a){return a.Gma(c);})["catch"](function(){g.error("Unable to load/add cached DRM data");});}});a.addEventListener(S.S.Ge,function(){var b;if(!y){a.Tub();b=[function(){return q.config.bp||!a.ef?Promise.resolve():new Promise(function(c){var b;g.info("Sending the expedited playdata and secure stop data");b=a.Wm.jpa();a.ef.gGb(b).then(function(c){g.info("Sent the expedited playdata and secure stop data");q.config.hi&&a.aq.LV({success:c.X,persisted:!1,ss_km:c.Ywa,ss_sr:c.zL,ss_ka:c.Soa});return t(g);}).then(function(a){return d(a,b);}).then(function(){c();})["catch"](function(b){g.error("Unable to send the expedited playdata and secure stop data",b);q.config.hi&&a.aq.LV({success:b.X,state:b.state,ErrorCode:b.code,ErrorSubCode:b.Gc,ErrorExternalCode:b.sg,ErrorEdgeCode:b.$x,ErrorDetails:b.cause&&b.cause.Ra});c();});});}(),function(){return c().then(function(c){return c.mCa(a.ha);}).then(function(){g.info("Sent the playdata");})["catch"](function(a){g.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){z.W.get(Q.Lj).flush(!1)["catch"](function(){g.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(b).then(function(){a.wU();})["catch"](function(){a.wU();});}});p.Ae.addListener(p.Vk,f);return{spb:function(d){a.Nc("pdpb");q.config.NV||c().then(function(c){return c.send(a.M);}).then(function(){q.config.bp?(a.Nc("pdpc"),d(k.wc)):b(a,function(){a.Nc("pdpc");d(k.wc);});})["catch"](function(){a.Nc("pdpe");d(k.wc);});}};};f.mPa=function(){new Promise(function(a){b({},function(c){a(c);});});};z.W.get(g.De).register(y.I.Et,function(a){a(k.wc);});},function(g,f,a){var b,d,t,m,c,k,q,p,u,z,y;Object.defineProperty(f,"__esModule",{value:!0});b=a(9);d=a(12);t=a(53);m=a(26);c=a(2);k=a(14);q=a(4);p=a(18);u=a(8);z=a(141);y=a(16);g=a(20);q.W.get(g.De).register(c.I.ifa,function(a){var L,S,Q;function g(){var a;g=b.je;a=setInterval(h,d.config.agb);t.Ae.addListener(t.Vk,function(c){c&&c.isPopStateEvent?L.trace("popstate event, Lock timers can stay"):(p.Sc(S,function(a,c){localStorage.removeItem(c.pn);}),clearInterval(a));},b.PA);}function h(){var a;a=m.EQ();p.Sc(S,function(c,b){c=localStorage.getItem(b.pn);(c=JSON.parse(c))?c.updated=a:c={updated:a,sessionId:Q,count:1};localStorage.setItem(b.pn,JSON.stringify(c));});}k.Ga(z.storage);L=q.Jf("StorageLock");S={};Q=Date.now()+"-"+Math.floor(1E6*Math.random());f.OE={Cx:function(a,k,f){var z,t,h,A,B,M,l,E,W,n;function q(a){localStorage.setItem(h,JSON.stringify(a));a={pn:h};S[h]=a;L.trace("Lock acquired",{Name:a.pn});g();k({X:!0,HT:a});}f=void 0===f?!1:f;z=this;if(localStorage){t=m.EQ();h="lock-"+a;A={updated:t,sessionId:Q,count:1};try{if(h in localStorage){B=localStorage.getItem(h);l=JSON.parse(B);y.qv(l.updated)&&(M=l.updated);E=u.XF(t-M)*b.Mj;W=Q===l.sessionId;if(E<d.config.Uva)if(W)l.count+=1,L.debug("Incremented lock count for existing playbackSession",{id:Q,count:l.count}),l.updated=t,q(l);else if(f){n=d.config.Uva-E+b.Mj;L.error("Waiting until current expiration to confirm whether lock is still active",{id:Q,count:l.count,Epoch:t,LockEpoch:M,waitTimeoutMs:n});J.setTimeout(function(){return z.Cx(a,k,!1);},n);}else k({X:!1});else L.error("Lock was expired or invalid, ignoring",{Epoch:t,LockEpoch:M}),q(A);}else q(A);}catch(fa){L.error("Error acquiring Lock",{errorSubCode:c.G.$g,errorDetails:p.qd(fa)});k({X:!0});}}else u.Rva?L.error("Local storage access exception",{errorSubCode:c.G.GQa,errorDetails:p.qd(u.Rva)}):L.error("No localstorage",{errorSubCode:c.G.HQa}),k({X:!0});},release:function(a,c){var d,f;k.Ga(S[a.pn]==a);if(localStorage){try{d=localStorage.getItem(a.pn);f=JSON.parse(d);1<f.count?(--f.count,localStorage.setItem(a.pn,JSON.stringify(f)),L.trace("Lock count decremented",{Name:a.pn,count:f.count})):(localStorage.removeItem(a.pn),delete S[a.pn],L.trace("Lock released",{Name:a.pn}));}catch(ba){L.error("Unable to release Lock",{Name:a.pn},ba);}c&&c(b.wc);}}};d.config.DR?f.OE.Cx("session",function(c){f.OE.vBa=c;a(b.wc);}):a(b.wc);});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.uZ="PlayPredictionDeserializerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.CT=function(a,b,d){var f;if(d.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");f=d.get;d.get=function(){var g,c;g=f.apply(this,arguments);c={enumerable:d.enumerable,value:g};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,c):Object.defineProperty(this,b,c);return g;};};},function(g,f){function a(){}Object.defineProperty(f,"__esModule",{value:!0});a.IHa="display";a.sGa="console";a.DBb="remote";a.kDb="writer";f.Wfa=a;},function(g,f,a){var d;function b(){}Object.defineProperty(f,"__esModule",{value:!0});d=a(8);b.Y2=function(a){var b;if(d.Jd.queryCommandSupported&&d.Jd.queryCommandSupported("copy")){b=d.Jd.createElement("textarea");b.textContent=a;b.style.position="fixed";d.Jd.body.appendChild(b);b.select();try{d.Jd.execCommand("copy");}catch(c){console.warn("Copy to clipboard failed.",c);}finally{d.Jd.body.removeChild(b);}}};f.rX=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Bha="PboPlaydataValidatorSymbol";f.yha="PboPlaydataArrayValidatorSymbol";f.zha="PboPlaydataCollectionValidatorSymbol";},function(g,f,a){var c,k,q,p,u;function b(a,c,b){this.Qa=a;this.Ita=c;this.ya=b;}function d(){}function t(){}function m(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);c=a(1);k=a(42);q=a(3);p=a(17);a=a(23);m.prototype.encode=function(a){return{downloadableId:a.Rc,duration:a.duration};};m.prototype.decode=function(a){return{Rc:a.downloadableId,duration:a.duration};};t.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new m().encode),video:a.video.map(new m().encode),text:a.text.map(new m().encode)};};t.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new m().decode),video:a.video.map(new m().decode),text:a.text.map(new m().decode)};};d.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.oa,movieId:a.M,position:a.position,clientTime:a.aI,sessionStartTime:a.AL,mediaId:a.Vy,playTimes:new t().encode(a.KK),trackId:a.fb,sessionId:a.sessionId,appId:a.yH,sessionParams:a.fm,mdxControllerEsn:a.N8};};d.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,oa:a.xid,M:a.movieId,position:a.position,aI:a.clientTime,AL:a.sessionStartTime,Vy:a.mediaId,KK:new t().decode(a.playTimes),fb:a.trackId,sessionId:a.sessionId,yH:a.appId,fm:a.sessionParams,N8:a.mdxControllerEsn};};f.qZ=d;b.prototype.create=function(a){return{href:a.Ia&&a.Ia.tf?a.Ia.tf.I5("events").href:"",type:"online",profileId:a.profile.id,oa:a.oa.toString(),M:a.M,position:a.p3||0,aI:this.Qa.Kaa.fa(q.ma),AL:a.pD?a.pD.fa(q.ma):-1,Vy:this.y$a(a),KK:this.cbb(a),fb:void 0!==a.Xg?a.Xg.toString():"",sessionId:this.Ita().sessionId||this.ya.id,yH:this.Ita().yH||this.ya.id,fm:a.Xa.fm||{}};};b.prototype.a4a=function(a,c){return Object.assign({},this.create(a),{N8:c&&c.LQ});};b.prototype.load=function(a){return new d().decode(a);};b.prototype.y$a=function(a){var c,b,d;c=a.Lc.value;b=a.Bf.value;d=a.uc.value;return c&&b&&d?(a=a.Ia.media.find(function(a){return a.tracks.AUDIO===c.fb&&a.tracks.VIDEO===b.fb&&a.tracks.TEXT===d.fb;}))?a.id:"":"";};b.prototype.R5=function(a){return a.map(function(a){return{Rc:a.downloadableId,duration:a.duration};});};b.prototype.cbb=function(a){return(a=a.cl)?(a=a.bbb(),{total:a.total,audio:this.R5(a.audio),video:this.R5(a.video),text:this.R5(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};u=b;u=g.__decorate([c.N(),g.__param(0,c.l(k.Jj)),g.__param(1,c.l(p.gd)),g.__param(2,c.l(a.Me))],u);f.fPa=u;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.RY="ManifestProviderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.JN="NetworkMonitorFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Sfa="LogMessageRulerConfigSymbol";f.Tfa="LogMessageRulerSymbol";},function(g,f,a){var b,d,t,m,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(4);d=a(2);t=a(342);m=a(341);c=a(45);f.pEa=function(a,f){var k,q;try{k=t.jvb(a);}catch(z){b.log.error("xml2xmlDoc exception",z);}c.zb(function(){if(k&&k.documentElement)try{q=m.kvb(k);}catch(z){b.log.error("xmlDoc2js exception",z);}c.zb(function(){q?f({X:!0,object:q}):f({X:!1,Y:d.G.zea});});});};},function(g,f,a){var b,d,t,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(14);d=a(19);t=a(9);m=a(124);c=a(8);k=a(16);q=a(18);f.jkb=function(){var ea,V,N,ca,va,za,O,ha,fa,Aa,sa,ja;function a(a){if(d.Hy(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return f.pkb[a];}}function u(a,b,d){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return c.Un(b,d);}function g(a,c){var b,d;b=a.length;d=a[b-1];if("t"===d)return parseFloat(a)*c|0;if("s"===d)return"m"===a[b-2]?parseFloat(a)|0:parseFloat(a)*t.Mj|0;if((a=a.match(fa))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*t.Mj|0;throw Error("dfxp-badtime");}function y(a,c,b,d,k){var f,p,q,u,g,m,y,t;if(a){p=a.style;b=p?b[p]:void 0;d=(p=a.region)?d[p]:void 0;p=k.length;for(q=0;q<p;q++)if(u=k[q],g=a[u],void 0===g&&b&&(g=b[u]),void 0===g&&d&&(g=d[u]),void 0!==g&&g!==c[u]){if(!f)for(f={},m=0;m<p;m++)y=k[m],t=c[y],void 0!==t&&(f[y]=t);f[u]=g;}}return f||c;}function h(a,c,b,k,f,p,q,u,g){var z,h;function t(a,L,A){var B,M,Q,l,E,n;B=a[m.Vi];M=B.style||L.style||"";Q=B.region||L.region||"";M||Q?(l=M+"/"+Q,E=b[l]):E=c;if(!E){E=c;n=d.EL(k);d.Va(n,f[M]);E=S(E,n,q,u,g);b[M+"/"]=E;Q&&(d.Va(n,p[Q]),d.Va(n,f[M]),E=S(E,n,q,u,g),b[l]=E);}if(!A)a:{for(A=za.length;A--;)if(void 0!==B[za[A]]){A=!0;break a;}A=void 0;}A&&(B=y(B,L,f,p,O),E=S(E,B,q,u,g));L=(a=a[m.VW])&&a.length;for(M=0;M<L;M++)Q=a[M],d.Ve(Q)?Aa.test(Q[m.WW])?h++:t(Q,B,A):(z.push({text:Q,lineBreaks:h,style:E}),h=0);}z=[];h=0;t(a,k,!1);0<h&&z.push({text:"",lineBreaks:h,style:c});return z;}function A(a,c,b,d,k,f,p,q){var u,g;b&&(b=V[b]||"top",a.verticalAlignment!==b&&(a.verticalAlignment=b));d&&(b=N[d]||"left",a.horizontalAlignment!==b&&(a.horizontalAlignment=b));k?((g=q[k])?(d=g.marginLeft,b=g.marginTop):(u=k.split(" "),d=E(u[0],p.x)||0,b=E(u[1],p.y)||0,g={Mp:0,marginLeft:d,marginTop:b,$Ya:d*c.s6+c.tJ,bZa:b*c.qca+c.MW},30>q.Mp&&(q.Mp++,q[k]=g)),a.marginLeft=g.$Ya,a.marginTop=g.bZa):(b=d=0,(g=q["default"])||(q["default"]=g={Mp:0}));f&&(k=g[f],k||(u=f.split(" "),k={aZa:(1-(d+(E(u[0],p.x)||0)))*c.s6+c.tJ,ZYa:(1-(b+(E(u[1],p.y)||0)))*c.qca+c.MW},30>g.Mp&&(g.Mp++,g[f]=k)),a.marginRight=k.aZa,a.marginBottom=k.ZYa);}function B(a,c,b,k,f){var p,q,u;p=a.displayAlign;q=a.textAlign;u=a.origin;a=a.extent;b=d.EL(b);A(b,c,p,q,u,a,k,f);b.id=ea++;return b;}function M(c,b,k,p){var q,g,m,y,t,z;q=u(k.characterSize||b.characterSize,f.qkb,2)||1;g=(g=c.fontSize)&&sa.test(g)?d.cr(d.Qd(g),25,200):void 0;q*=g/100||1;g=c.textOutline;if(g&&"none"!=g){y=g.split(" ");ja.test(y)?(z=0,t=c.color):(z=1,t=a(y[0]));m=l(y[z]);y=l(y[z+1]);}return{characterStyle:k.characterStyle||f.rkb[c.fontFamily]||b.characterStyle,characterSize:q*p,characterColor:a(k.characterColor||c.color||b.characterColor),characterOpacity:u(d.G2(k.characterOpacity,c.opacity,b.characterOpacity),f.P9,1),characterEdgeAttributes:k.characterEdgeAttributes||g&&("none"===g?f.nkb:y?f.O9:f.xya)||b.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor||t||b.characterEdgeColor),characterEdgeWidth:m,characterEdgeBlur:y,characterItalic:"italic"===c.fontStyle,characterUnderline:"underline"===c.textDecoration,backgroundColor:a(k.backgroundColor||c.backgroundColor||b.backgroundColor),backgroundOpacity:u(d.G2(k.backgroundOpacity,c.opacity,b.backgroundOpacity),f.P9,1)};}function S(a,b,d,k,f){var p;b=M(b,d,k,f);q.Sc(b,function(b,d){d!==a[b]&&(p||(p=c.eG(a)),p[b]=d);});return p||a;}function Q(a,b,d,k,f,p,q,u){var g;g=a[m.Vi];d=y(a[m.Vi],b,d,f,ha);b=d.region;a=g.displayAlign;d=d.textAlign;f=g.origin;g=g.extent;b||a||d||f||g?((k=k[b])?k=c.eG(k):a||f||g?(k=c.eG(va),k.id=ea++):k=c.eG(ca),A(k,p,a,d,f,g,q,u)):k=ca;return k;}function l(a){a=d.Qd(a);return k.qv(a,0,100)?a:0;}function E(a,c){var b;b=a[a.length-1];if("%"===b)return d.cr(.01*parseFloat(a),0,1);if("c"===b)return d.cr(d.Qd(a)/c,0,1);}function n(a){for(var b=a.length,d=a[--b].endTime;b--;)d=c.Un(a[b].endTime,d);return d;}function R(c){q.Sc(c,function(b,d){0<=b.toLowerCase().indexOf("color")&&(c[b]=a(d));});}function r(a,d){var k,f,p,q;k=a.pixelAspectRatio;q={tJ:0,s6:1,MW:0,qca:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(k=(k||"").split(" "),f=parseFloat(a[0])*(parseFloat(k[0])||1),p=parseFloat(a[1])*(parseFloat(k[1])||1));f=0<f&&0<p?f/p:1280/720;d=d||1280/720;k=f/d;.01<c.XF(d-f)&&(d>=f?(q.tJ=(1-k)/2,q.s6=k):b.Ga(!1,"not implemented"));return q;}function Y(a){var c,b,k,p,q;if(c=a.cellResolution)if(c=c.split(" "),2<=c.length){b=d.Qd(c[0]);c=d.Qd(c[1]);if(0<b&&0<c)return{x:b,y:c};}c=a.extent;if(c&&(c=c.split(" "),2<=c.length)){b=d.Qd(c[0]);q=d.Qd(c[1]);if(a=a.pixelAspectRatio)c=a.split(" "),k=d.Qd(c[0]),p=d.Qd(c[1]);if(b&&q&&1.5<b*(k||1)/(q*(p||1)))return f.lkb;}return f.kkb;}ea=1;V={before:"top",center:"center",after:"bottom"};N={left:"left",start:"left",center:"center",right:"right",end:"right"};ca={id:ea++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};va={id:ea++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};za="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");O=za.concat(["style","region"]);ha=["region","textAlign","displayAlign","extent","origin"];fa=/^([0-9]+):([0-9]+):([0-9.]+)$/;Aa=/^br$/i;sa=/^[0-9]{1,3}%$/;ja=/^[0-9]/;return function(b,k,p,q,z){var l,E,W,N,ka,sa,ca,ba,V,ja,fa,za,Aa,Fa,Oc,F,D,lb,Pc,qb,Sa,P,T,Bb,X,aa,ga,pf,Ne,da;function L(){try{for(var a;T;)if(V=T[m.Vi],Bb.push({id:ea++,startTime:g(V.begin,W),endTime:g(V.end,W),region:Q(T,aa,sa,ba,ca,N,Fa,lb),textNodes:h(T,ga,pf,X,sa,ca,F,D,Oc)}),T=T[m.qF],a=c.dN(),100<a-Ne){Ne=Date.now();da=setTimeout(L,1);return;}}catch(qf){S({Y:d.G.kN,Ra:d.qd(qf)});return;}da=setTimeout(A,1);}function A(){var c,b,k,f,p,q,u;function a(a,k){for(var f,p=[],q={},u,g=b.length;g--;)f=b[g],u=f.region.id,q[u]||(q[u]=1,p.unshift(f));(f=c[c.length-1])&&f.endTime==a&&d.Gu(f.blocks,p)?f.endTime=k:c.push({id:ea++,startTime:a,endTime:k,blocks:p});}try{if(!Bb.length){S({X:!0,entries:[]});return;}d.uZa(Bb);c=[];b=[];k=Bb[0];p=Bb[0].startTime;for(q=1;b.length||k;){for(;!b.length||k&&k.startTime==p;)b.push(k),p=k.startTime,k=Bb[q++];f=n(b);if(!k||f<=k.startTime)for(a(p,f),p=f,u=b.length;u--;)b[u].endTime<=p&&b.splice(u,1);else a(p,k.startTime),p=k.startTime,b.push(k),k=Bb[q++];}for(q=c.length;q--;)c[q].index=q,c[q].previous=c[q-1],c[q].next=c[q+1];}catch(rf){S({Y:d.G.kN,Ra:d.qd(rf)});return;}S({X:!0,entries:c});}function S(a){setTimeout(function(){l.abort=d.je;z(a);},1);}l={abort:function(){da&&clearTimeout(da);}};try{E=b[m.Vi];W=t.Mj/(d.Qd(E.tickRate)||1);N=r(E,k);ka=d.Va(va,{marginLeft:N.tJ,marginTop:N.MW,marginRight:N.tJ,marginBottom:N.MW});sa={};ca={};ba={};za=b.head;Aa=b.body;Fa=Y(E);Oc=1/Fa.y*N.qca;F=d.Va({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:f.O9,characterEdgeColor:"#000000",characterSize:1},p,{oq:!0});D=q||{};lb={Mp:0};if(za){Pc=za.styling;if(Pc)for(fa=Pc.style;fa;)V=fa[m.Vi],R(V),sa[V.id]=V,fa=fa[m.qF];qb=za.layout;if(qb)for(var J=qb.region;J;){V=J[m.Vi];Sa=V.id;ja=d.EL(sa[V.style]);ja=d.Va(ja,V);for(fa=J.style;fa;)d.Va(ja,fa[m.Vi]),fa=fa[m.qF];R(ja);ca[Sa]=ja;ba[Sa]=B(ja,N,ka,Fa,lb);J=J[m.qF];}}P=Aa.div;T=P.p;Bb=[];X={};X=y(Aa[m.Vi],X,sa,ca,O);X=y(P[m.Vi],X,sa,ca,O);aa={};aa=y(Aa[m.Vi],aa,sa,ca,ha);aa=y(P[m.Vi],aa,sa,ca,ha);ga=M(X,F,D,Oc);d.Va(ga,{windowColor:a(D.windowColor||F.windowColor),windowOpacity:u(d.G2(D.windowOpacity,F.windowOpacity),f.P9,1),cellResolution:Fa},{oq:!0});pf={};P.p=void 0;P[m.VW]=[];}catch(of){S({Y:d.G.kN,Ra:d.qd(of)});return;}Ne=c.dN();da=setTimeout(L,1);return l;};}();f.rkb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};f.qkb={SMALL:.5,MEDIUM:1,LARGE:2};f.P9={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};f.pkb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};f.nkb="NONE";f.okb="RAISED";f.mkb="DEPRESED";f.xya="UNIFORM";f.O9="DROP_SHADOW";f.kkb={x:40,y:19};f.lkb={x:52,y:19};},function(g,f,a){var m;function b(){}function d(a,b){this.Tm=a;void 0!==b?(m(b<=a.Gn,"require remain_sec <= chunk.sec but has "+b+" and "+a.Gn),this.gi=b):this.gi=a.Gn;}function t(a){void 0===a&&(a=[]);this.ei=[];this.Af=this.Ti=0;for(var c in a)this.add(a[c],void 0);}m=a(13).assert;b.prototype=Error();d.prototype.constructor=d;d.prototype.Kp=function(){return new d(this.Tm,this.gi);};t.prototype.constructor=t;t.prototype.add=function(a,b){a=new d(a,b);this.ei.push(a);this.Af+=a.gi;this.Ti+=a.Tm.Bs()*a.gi;};t.prototype.Kp=function(){var a,b;a=new t(void 0);for(b in this.ei)a.add(this.ei[b].Tm,this.ei[b].gi);return a;};t.prototype.uo=function(){try{return this.ei[0];}catch(c){}};t.prototype.Qya=function(a){var c;for(m(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.uo())throw new b();if(a<this.uo().gi){c=this.uo().Tm.Bs()*a;this.uo().gi-=a;this.Af-=a;this.Ti-=c;a=0;}else c=this.ei.shift(),this.Af-=c.gi,this.Ti-=c.Tm.Bs()*c.gi,a-=c.gi;}};t.prototype.plb=function(a){var d;m(0<=a,"unexpected play_y_kb: y="+a);for(var c=0;0<a;){if(void 0===this.uo())throw new b();if(a<this.uo().gi*this.uo().Tm.Bs()){d=a/this.uo().Tm.Bs();this.uo().gi-=d;this.Af-=d;this.Ti-=a;c+=d;a=0;}else d=this.ei.shift(),this.Af-=d.gi,this.Ti-=d.Tm.Bs()*d.gi,c+=d.gi,a-=d.Tm.Bs()*d.gi;}return c;};g.T={eda:t,ZFa:b};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(5);d=a(24);g=function(){function a(a){this.K=new b.Console("ASEJS","media|asejs","("+a+")");this.g0=[];}a.prototype.Rl=function(a){this.g0[a]||(this.g0[a]=d.GD(b,this.K,"["+a+"]"));return this.g0[a];};return a;}();f.nl=new g(0);},function(g,f,a){var c;function b(a,b,f){this.CC=!1===a;this.xI=a||.01;this.KY=void 0===b?25:b;this.mda=void 0===f?1.1:f;this.pg=new c(d);this.reset();}function d(a,c){return a.Ie>c.Ie?1:a.Ie<c.Ie?-1:0;}function t(a,c){return a.iq-c.iq;}function m(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.xI:!1);this.Y5a=this.config.ratio||.9;this.Z5a=this.config.gKb||1E3;this.nU=0;}c=a(724).YPa;b.prototype.reset=function(){this.pg.clear();this.O7=this.n=0;};b.prototype.size=function(){return this.pg.size;};b.prototype.aA=function(a){var c;c=[];a?(this.DO(!0),this.pg.ad(function(a){c.push(a);})):this.pg.ad(function(a){c.push({Ie:a.Ie,n:a.n});});return c;};b.prototype.summary=function(){return[(this.CC?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.wg(0),"Q1  = "+this.wg(.25),"Q2  = "+this.wg(.5),"Q3  = "+this.wg(.75),"max = "+this.wg(1)].join("\n");};b.prototype.push=function(a,c){c=c||1;a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.jka(a[b],c);};b.prototype.A$=function(a){a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.jka(a[c].Ie,a[c].n);};b.prototype.DO=function(a){var c;if(!(this.n===this.O7||!a&&this.mda&&this.mda>this.n/this.O7)){c=0;this.pg.ad(function(a){a.iq=c+a.n/2;c=a.qC=c+a.n;});this.n=this.O7=c;}};b.prototype.Y8a=function(a){var c,b;if(0===this.size())return null;c=this.pg.lowerBound({Ie:a});b=null===c.data()?c.qz():c.data();return b.Ie===a||this.CC?b:(c=c.qz())&&Math.abs(c.Ie-a)<Math.abs(b.Ie-a)?c:b;};b.prototype.BB=function(a,c,b){a={Ie:a,n:c,qC:b};this.pg.Vl(a);this.n+=c;return a;};b.prototype.jO=function(a,c,b){c!==a.Ie&&(a.Ie+=b*(c-a.Ie)/(a.n+b));a.qC+=b;a.iq+=b/2;a.n+=b;this.n+=b;};b.prototype.jka=function(a,c){var b,d,k;b=this.pg.min();d=this.pg.max();k=this.Y8a(a);k&&k.Ie===a?this.jO(k,a,c):k===b?this.BB(a,c,0):k===d?this.BB(a,c,this.n):this.CC?this.BB(a,c,k.qC):(b=k.iq/this.n,Math.floor(4*this.n*this.xI*b*(1-b))-k.n>=c?this.jO(k,a,c):this.BB(a,c,k.qC));this.DO(!1);!this.CC&&this.KY&&this.size()>this.KY/this.xI&&this.hs();};b.prototype.K_a=function(a){var c,b;this.pg.Qj=t;c=this.pg.upperBound({iq:a});this.pg.Qj=d;b=c.qz();a=b&&b.iq===a?b:c.next();return[b,a];};b.prototype.wg=function(a){var c;c=(Array.isArray(a)?a:[a]).map(this.sWa,this);return Array.isArray(a)?c:c[0];};b.prototype.sWa=function(a){var c,b;if(0!==this.size()){this.DO(!0);this.pg.min();this.pg.max();a*=this.n;c=this.K_a(a);b=c[0];c=c[1];return c===b||null===b||null===c?(b||c).Ie:this.CC?a<=b.qC?b.Ie:c.Ie:b.Ie+(a-b.iq)*(c.Ie-b.Ie)/(c.iq-b.iq);}};b.prototype.hs=function(){var a;if(!this.Voa){a=this.aA();this.reset();for(this.Voa=!0;0<a.length;)this.A$(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.DO(!0);this.Voa=!1;}};m.prototype=Object.create(b.prototype);m.prototype.constructor=m;m.prototype.push=function(a){b.prototype.push.call(this,a);this.Y0a();};m.prototype.BB=function(a,c,d){this.nU+=1;b.prototype.BB.call(this,a,c,d);};m.prototype.jO=function(a,c,d){1===a.n&&--this.nU;b.prototype.jO.call(this,a,c,d);};m.prototype.Y0a=function(){!("auto"!==this.mode||this.size()<this.Z5a)&&this.nU/this.size()>this.Y5a&&(this.mode="cont",this.CC=!1,this.xI=this.config.xI||.01,this.hs());};g.T={TDigest:b,Digest:m};},function(g,f,a){(function(){var p93,h,A,B,M,S,Q,l,E,n,R,r,Y,ea,V,N,ca,va,l81;function m(a,c){var o93,b,d,J81,L81;o93=2;while(o93!==12){J81="hist";J81+="_throug";J81+="hput";L81="hi";L81+="s";L81+="t_t";L81+="d";L81+="igest";switch(o93){case 6:a.wg=N.abb(a),d=h.Mb(a.wg)?!0:!1;o93=14;break;case 2:b=new r();b.So=a;a=b.So.Ka||{};b.Wk=a.Ik&&a.im;b.Ul=a.Ik?a.Ik:0;o93=9;break;case 7:o93=(d=h.pa(c.MV)&&0<=c.MV&&100>=c.MV&&!h.R(a)&&!h.Pa(a))?6:14;break;case 14:d?(c=a.wg(c.MV/100)||b.So.ta,b.Fs=c,b.reason=L81):b.So.ta&&(c=b.So.ta,b.Fs=c,b.reason=J81);return b;break;case 9:a=ca(b.Wk,{});o93=7;break;}}}function c(a,c){var R93,b,k,p,q,u,g,w81,Z81,G81,u81,A81;R93=2;while(R93!==8){w81="DelayTar";w81+="ge";w81+="t";Z81="Bit";Z81+="ra";Z81+="t";Z81+="e";G81="V";G81+="M";G81+="A";G81+="F";u81="n";u81+="o_v";u81+="a";u81+="lid";u81+="_";A81="no_suit";A81+="a";A81+="bl";A81+="e_";A81+="stream";switch(R93){case 2:b=a.SD&&a.Kwa,b=b&&c.filter(function(a){var P93;P93=2;while(P93!==1){switch(P93){case 4:return 481<=a.vc||7<=a.vc;break;P93=1;break;case 2:return 110>=a.vc&&0<a.vc;break;}}}).length==c.length,k=null,p=!1,q=!1,u=!1,g=c.length-1;R93=1;break;case 1:R93=0<=g&&(b?c[g].vc>=a.SD:c[g].P>=a.Iv)&&!(p=c[g],k=m(p,a),q=d(p.P,k.Fs,a),u=f(k.Fs,a),k.GJ=q,q=q<u,p=b?p.vc>=a.SD&&p.vc<=a.Kwa:p.P>=a.Iv&&p.P<=a.Sy,u=q&&p)?5:3;break;case 3:h.Pa(k)&&(k=m(c[0],a),k.reason=A81);return k;break;case 5:u=[u81],!p&&b&&u.push(G81),p||b||u.push(Z81),q||u.push(w81),k.reason=u.join("");R93=4;break;case 4:g--;R93=1;break;}}}function y(a,c,b,d){var S93,W81;S93=2;while(S93!==1){W81="p";W81+="l";W81+="ay";W81+="ing";switch(S93){case 2:return W81===a.c2?z(a,c,b,d):p(a,b,d);break;}}}function d(a,c,b){var Y93;Y93=2;while(Y93!==5){switch(Y93){case 2:a=n(b.Mi,a*b.T8);return E(a,c);break;}}}function q(a,b,d){var e93,f,e81,f81;e93=2;while(e93!==7){e81="h";e81+="is";e81+="t_bitrate";f81="v";f81+="b";switch(e93){case 5:return a.qH?c(a,d):k(a,b,d);break;case 2:f=M.storage.get(f81);e93=1;break;case 4:a=new r();e93=3;break;case 3:a.So=Y(d.reverse(),function(a){var z93;z93=2;while(z93!==1){switch(z93){case 4:return a.P>=f;break;z93=1;break;case 2:return a.P<=f;break;}}})||d[0];a.reason=e81;return a;break;case 1:e93=void 0===f?5:4;break;}}}p93=2;function b(a,c){var f93,b,d;f93=2;while(f93!==13){switch(f93){case 1:b=a.bT,d=ea(b,function(a){var v93;v93=2;while(v93!==1){switch(v93){case 4:return c<a.r;break;v93=1;break;case 2:return c<=a.r;break;}}});f93=5;break;case 2:f93=a.bT?1:14;break;case 5:f93=0===d?4:3;break;case 9:return b[b.length-1].d;break;case 4:return b[0].d;break;case 14:return a.fq;break;case 8:p933.y81(1);a=b[p933.M81(d,1)];b=b[d];return Math.floor(a.d+(b.d-a.d)*(c-a.r)/(b.r-a.r));break;case 3:f93=-1===d?9:8;break;}}}while(p93!==4){l81="1";l81+="SIY";l81+="bZrNJCp9";switch(p93){case 2:h=a(6),A=a(11),B=a(44),M=a(5),S=a(377),Q=B.console,l=B.assert,E=B.nib,n=B.a0a,R=B.hC,r=B.np,Y=B.una,ea=B.XB,V=a(74).aba,N=a(357),ca=a(48),va=S.ZQa;g.T={STARTING:function(a,b,d){var r93,r81;r93=2;while(r93!==1){r81="h";r81+="ist";r81+="oric";r81+="a";r81+="l";switch(r93){case 2:return r81===a.c7?q(a,b,d):a.qH?c(a,d):k(a,b,d);break;}}},BUFFERING:y,REBUFFERING:y,PLAYING:z,PAUSED:z};l81;p93=4;break;}}function z(a,c,b,d,k,f){var q93,m,y,t,z,L,B,M,S,E,n,W,R,N,ka,sa,ca,ba,V,ha,O,fa,Aa,C81,U81;q93=2;function g(c,b){var X93;X93=2;while(X93!==1){switch(X93){case 2:return c>a.Oy&&(h.R(this.vv)||this.yT>this.vv||b-this.vv>a.GT&&c>a.o8);break;}}}while(q93!==21){C81="p";C81+="l";C81+="ayer m";C81+="issing streami";C81+="ngIndex";U81="M";U81+="ust have";U81+=" at least one s";U81+="elect";U81+="ed stream";switch(q93){case 19:q93=g.call(this,S,L)?18:16;break;case 8:q93=W==A.tN.$Ra||!k.ta?7:6;break;case 7:return u.call(this,b);break;case 6:k.$&&k.$.length||(k.rba=!0);E=va.from(c.buffer.$);q93=13;break;case 25:sa=!0;q93=16;break;case 24:q93=k.$&&k.$.length?23:16;break;case 17:k=Y(b.slice(d+1,a.gba&&S>=a.uca?b.length:d+2),function(a,c){var h93;h93=2;while(h93!==1){switch(h93){case 2:return q(a,b[d+c],y,ha,O,!1);break;case 4:return q(a,b[d*c],y,ha,O,-2);break;h93=1;break;}}});q93=16;break;case 16:m.So=k||y;m.eI=sa;m.B4a=!ca;return m;break;case 2:l(!h.R(d),U81);l(h.pa(c.jw),C81);q93=5;break;case 20:q93=d+1<b.length?19:25;break;case 5:m=new r(),y=k=b[d],t=c.buffer.U,z=c.buffer.qf,L=c.buffer.cb,B=c.buffer.Qk,M=c.jw,S=B-z,W=this.PO||A.tN.Lh,R=c.state===A.Ma.yd||c.state===A.Ma.ni?c.buffer.Rv:0,N=a.K8,ka=a.Py?a.Py:1E3;ca=p(k,M,a.C6);p933.R81(0);V=p(k,p933.B81(ca,M),a.k8);this.jla||(this.jla=Math.min(k.P,a.$T));q93=8;break;case 13:W=c.buffer.Du;0<a.hq&&(W=Math.min(W,a.hq));n=W-E.aa;q93=10;break;case 18:ha=p(k,M,a.E6),O=p(k,M+ha,a.m8);q93=17;break;case 23:fa=p(k,M,a.D6),Aa=p(k,M+fa,a.l8);q93=22;break;case 10:q93=(ca=q(k,b[Math.max(d-1,0)],k,ca,V,!1))?20:24;break;case 22:(k=Y(b.slice(0,d).reverse(),function(a,c){var B93;B93=2;while(B93!==1){switch(B93){case 2:return q(a,b[Math.max(d-c-2,0)],y,fa,Aa,!0);break;}}}))||(k=b[0],sa=!0);q93=16;break;}}function p(a,c,b){var d93;d93=2;while(d93!==1){switch(d93){case 2:return a.$?a.$.Z2(c,b):0;break;case 4:return a.$?a.$.Z2(c,b):3;break;d93=1;break;}}}function q(b,d,k,p,q,u){var I4r=p933;var Z93,ha,fa,h,O,va,Y,A,ca,V,S,Aa,ea,za,W,r,y,ja,g,sa,g71,F71,E71,t71,O71,c71,H71,h71,o71,N71;Z93=2;while(Z93!==49){g71="Second stre";g71+="am unavail";g71+="able";F71="Seco";F71+="n";F71+="d stream undefine";F71+="d";E71="Fir";E71+="s";E71+="t stream ";E71+="has fai";E71+="led";t71="First strea";t71+="m not i";t71+="n ";t71+="range";O71="Second";O71+=" strea";O71+="m";O71+=" ";O71+="has failed";c71="S";c71+="econd stream ";c71+="not ";c71+="i";c71+="n range";H71="First stream unavaila";H71+="bl";H71+="e";h71="Firs";h71+="t s";h71+="tream un";h71+="def";h71+="ined";switch(Z93){case 4:u||h||(b.rba=!0);Z93=3;break;case 6:Z93=g>=b.P*y?14:13;break;case 52:a:{o71=" >= f";o71+="ragmentsL";o71+="eng";o71+="th";o71+=": ";N71="S";N71+="tr";N71+="eamingIn";N71+="dex";N71+=": ";ha=A.concat(ha);fa=S;I4r.R81(0);h=I4r.M81(ca,d);O=Y;va=a.gU;Y=a.lW;A=ha.ga;ca=Math.min(ha.length,d+ca+V);V=ha.$c;S=ha.sizes;I4r.y81(1);za=I4r.M81(W,fa);W=Infinity;r=ja=0;ha=ha.$c[0];I4r.y81(2);y=I4r.M81(ha,1E3,A,y);I4r.R81(3);ha=I4r.M81(p,u,0,8);I4r.R81(4);u=I4r.B81(p,0,8);I4r.R81(5);p=I4r.M81(A,1E3);d>=ca&&Q.error(N71+d+o71+ca);fa+=ha;0===k&&(fa=0);I4r.R81(5);fa*=I4r.B81(A,1E3);I4r.R81(5);k*=I4r.M81(A,1E3);I4r.R81(5);va*=I4r.B81(A,1E3);I4r.R81(5);O*=I4r.M81(A,1E3);for(za*=A/1E3;d<ca;){Aa=S[d];ea=V[d];if(sa<Aa){for(ja=Math.max(Aa,q);sa<ja;){fa=y;sa+=S[r];++r;ha=V[r];y+=ha;}if(!Y&&(ha=k-fa,ha<va)){q={result:!1,p8:ha/(A/1E3),Vu:!1};break a;}I4r.R81(1);ha=I4r.B81(k,fa);}else if(ha=Math.max(k-fa,0),ha<O&&ha<ja){q={result:!1,p8:Math.min(ha,W)/(A/1E3),Vu:!0};break a;}I4r.R81(6);fa+=I4r.M81(0,u,p,Aa);k+=ea;for(sa-=Aa;y<fa&&r<d;){sa+=S[r];++r;y+=V[r];}++d;if(d>=h&&ha>za)break;ja=ha;W=Math.min(ha,W);}q={result:!0,p8:W/(A/1E3),Vu:!0};}Z93=29;break;case 53:Z93=0<ca||0<V?52:51;break;case 36:Z93=0<ja?54:53;break;case 16:ja=c.ugb;p=b.ta;ha=A.length,O=b.$&&b.$.length,fa=h.$&&h.$.length;a.q8&&(Y=Math.min(Y,W-S));l(b,h71);l(b.hf,H71);Z93=23;break;case 41:Z93=ja?40:50;break;case 5:return!1;break;case 31:Z93=!p||p<b.P*a.B6||!O?30:43;break;case 13:k=!a.S2||b===k||b.Sb===k.Sb&&f?0:(k=b.Ka)&&k.zg&&k.zg.Fa?k.zg.Fa+a.P2*(k.zg.Zg?Math.sqrt(k.zg.Zg):0):0;h=d,A=E,S=z+k-t,y=N,W=B-t;I4r.R81(1);k=I4r.M81(L,t);r=M;Z93=20;break;case 38:O=Math.min(ja,b.$.length-r),ha.push(b.$.HE.subarray(r,r+O)),ja-=O,r+=O,r>=b.$.length&&(r=0);Z93=39;break;case 29:q&&q.result&&(m.QHb=q.p8);ba={D8a:q&&q.result,ta:g,P:b.P};return q&&q.result;break;case 1:Z93=ba&&!ba.D8a&&ba.ta>=g&&ba.P<=b.P?5:4;break;case 30:q=!1;Z93=29;break;case 2:g=b.ta,y=u?a.D4:a.MR,h=b.$&&b.$.length;Z93=1;break;case 40:ja=ca;Z93=39;break;case 9:Z93=h&&!a.lW?8:6;break;case 3:Z93=!u||!h?9:13;break;case 34:l(h.inRange,c71);l(!h.Og,O71);I4r.y81(7);l(I4r.B81(d,ha));Z93=31;break;case 39:Z93=0<ja?38:37;break;case 23:l(b.inRange,t71);l(!b.Og,E71);l(h,F71);l(h.hf,g71);Z93=34;break;case 50:ca=Math.max(0,Math.min(ca,b.$.length-r)),V=Math.max(0,Math.min(V,h.$.length-r-ca)),0<ca&&ha.push(b.$.HE.subarray(r,r+ca)),0<V&&ha.push(h.$.HE.subarray(r+ca,r+ca+V));Z93=53;break;case 20:d=E.length;u=R;sa=n,ca=p,V=q,Y=ka;q=c.x6a;Z93=16;break;case 37:ja=V;Z93=36;break;case 14:return!0;break;case 43:fa||(h=b);ha=[];Z93=41;break;case 8:Z93=g>=Math.max(b.TT,b.P*y)&&!b.TBa?7:13;break;case 54:O=Math.min(ja,h.$.length-r),ha.push(h.$.HE.subarray(r,r+O)),ja-=O,r+=O,r>=h.$.length&&(r=0);Z93=36;break;case 7:return!0;break;case 51:q=p>b.TT?{result:!0,vgb:0,Vu:!0}:{result:!1,vgb:0,Vu:!0};Z93=29;break;}}}}function p(a,c,b){var c93,k,f,p,q,n71,s71;c93=2;while(c93!==7){n71="no";n71+="_feasi";n71+="ble_";n71+="strea";n71+="m";s71="Must ";s71+="hav";s71+="e at least one selected";s71+=" stream";switch(c93){case 9:f!==k&&(c.reason=q,c.Fs=p);c93=8;break;case 2:l(!h.R(b),s71);k=c[b],f=k;k.ta&&(k=Y(c.slice(0,Math.min(b+(a.hZa?2:1),c.length)).reverse(),d),void 0===k&&(k=c[0],q=n71,p=k.ta));c93=4;break;case 4:c=new r();c.So=k;c93=9;break;case 8:return c;break;}}function d(c){var O93,b,D71;O93=2;while(O93!==8){D71="b";D71+="uf";D71+="f_l";D71+="t_";D71+="hist";switch(O93){case 1:O93=!b||(c.P>k.P?a.jub:1)*c.P>b?5:4;break;case 2:b=c.ta;O93=1;break;case 4:q=D71;O93=3;break;case 5:return!1;break;case 3:p=b;return!0;break;}}}}function f(a,c){var n93,b,k71,v71,s93;n93=2;while(n93!==9){k71="l";k71+="o";k71+="g";v71="sigm";v71+="o";v71+="id";switch(n93){case 2:p933.R81(1);s93=p933.B81(2000,1000);a=R(a,0,1E5)/s93;n93=1;break;case 5:b=c.gBa[c.AE];return b&&2==b.length?1E3*(b[0]+b[1]*Math.log(1+a)):c.fq;break;case 3:return 0===c.AE.lastIndexOf(v71,0)?(b=c.gBa[c.AE])&&2==b.length?1E3*(b[0]+b[1]*V(a)):c.fq:c.fq;break;case 1:n93=0===c.AE.lastIndexOf(k71,0)?5:3;break;}}}function k(a,c,k){var C93,f,p;C93=2;while(C93!==3){switch(C93){case 2:f=new r();p=Math.max(a.Iv,a.$T,c.p7?a.Z8:-Infinity);f.So=Y(k.filter(function(c){var L93;L93=2;while(L93!==1){switch(L93){case 4:return c.P>=a.Sy;break;L93=1;break;case 2:return c.P<=a.Sy;break;}}}).reverse(),function(c){var A93,k,q,u,Y71,m71,z71,Q71;A93=2;while(A93!==7){Y71="h";Y71+="ist_";Y71+="bu";Y71+="f";Y71+="ftime";m71="n";m71+="o_historical_";m71+="lt";m71+="e_min";m71+="bitrate";z71="hist";z71+="_tp";z71+="ut_lt_minbitrate";Q71="lt_hi";Q71+="st_lt";Q71+="e";Q71+="_minbitrat";Q71+="e";switch(A93){case 8:q=k.ta,c.P<=q?(f.Fs=q,k&&(f.Ul=k.Ik?k.Ik:0,f.Wk=k.Ik?k.im:void 0),f.reason=Q71,k=!0):q?(f.Fs=q,k&&(f.Ul=k.Ik?k.Ik:0,f.Wk=k.Ik?k.im:void 0),f.reason=z71,k=!1):(f.reason=m71,k=!0);A93=9;break;case 2:k={ta:c.ta,Ik:c.Ka&&c.Ka.Ik,im:c.Ka&&c.Ka.im};A93=1;break;case 1:A93=c.P>p?5:8;break;case 3:u?(q=b(a,c),d(c,u,a)<=q?(f.Fs=u,k&&(f.Ul=k.Ik?k.Ik:0,f.Wk=k.Ik&&k.im),f.reason=Y71,k=!0):k=!1):k=!1;A93=9;break;case 9:return k;break;case 5:c=c.P;u=k.ta;A93=3;break;}}})||k[0];return f;break;}}}function u(a){var N93,c,b;N93=2;while(N93!==3){switch(N93){case 2:c=new r(),b=this.jla;c.So=Y(a,function(a){var m93;m93=2;while(m93!==1){switch(m93){case 2:return a.P>=b;break;case 4:return a.P<b;break;m93=1;break;}}})||a[a.length-1];c.eI=!0;return c;break;}}}}());},function(g){g.T={Kta:function(f){var a;if(f&&0!==f.length){a=[];f.forEach(function(b){var d;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(d=a);});d?d.mL.push(b.dm):a.push({error:b.error,mL:[b.dm]});});return a;}},xsa:function(f){var a;a={freeSize:f.Hi,dailyBytesRemaining:f.uC,bytesWritten:f.Rh,time:f.time,duration:f.duration};f.items&&(a.items=f.items.map(function(a){return{key:a.key,operation:a.jf,itemBytes:a.sT,error:a.error};}));return a;},tq:function(f){return f["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.T={Zfa:{code:-1,description:"MediaCache is not supported."},FBb:{code:100,description:"Resource was not found"},eMa:{code:101,description:"Resource Metadata was not found"},TA:{code:102,description:"Read failed",om:function(f,a){return{code:this.code,description:f,cause:a};}},gO:{code:200,description:"Daily write limit exceeded"},sA:{code:201,description:"Capacity has been exceeded"},fO:{code:202,description:"Write failed, cause unknown",om:function(f,a){return{code:this.code,description:f,cause:a};}},lDb:{code:203,description:"Write failed, cause unknown"},CHa:{code:300,description:"Failed to delete resource",om:function(f,a){return{code:this.code,description:f,cause:a};}},Ft:{code:900,description:"Invalid partition name"},aLa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Ida:{code:701,description:"Failed to initialize underlying disk cache."},dMa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.cna=function(a,b){var d,f,g;d=b.profile;b=b.M;f=a.Wob;g=a.Xob;return a.Vob||Array.isArray(f)&&-1!==f.indexOf(d)||"object"===typeof g&&Array.isArray(g[d])&&-1!==g[d].indexOf(""+b);};f.bta=function(a,b){return void 0!==a.QD?a.QD:b&&void 0!==b.QD?b.QD:100;};},function(g,f,a){var b,d,t;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(54);d=a(209);t=a(156);a=function(a){function c(c,b,d,f,g,m){b=a.call(this,c,b,d,f,g,m)||this;t.zw.call(b,c,f);return b;}b.__extends(c,a);return c;}(d.sF);f.NM=a;g(t.zw.prototype,a.prototype);},function(g,f,a){var b,d,t,m,c,k,q,p,u,z,y,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(25);d=a(54);t=a(5);m=a(24);c=a(32);k=a(369);q=a(368);p=a(373);u=a(126);z=a(372);y=a(93);h=a(367);f.console=new t.Console("MP4","media|asejs");a=function(){function a(a,c,b,d,k){this.stream=a;this.Qo=b;this.WYa=d;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=k||{};this.Ncb=u.H$a();}a.path=function(a,c){return c.reduce(function(a,c){return a&&a.Cc[c]&&a.Cc[c][0];},a);};a.prototype.parse=function(a){var c;c=this.Qob();if(!c.done)return c.wxa?this.emit("requestdata",{type:"requestdata",bytes:c.wxa}):(f.console.error("Scan error: "+c.error),this.emit("error",{type:"error",errormsg:c.error||"unknown mp4 error"})),!1;c=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+c.offset);this.view=new DataView(c);c=this.ikb(a);if(!c.done)return f.console.error("Parse error: "+c.error),this.emit("error",{type:"error",errormsg:c.error||"unknown mp4 error"}),!1;this.J9a(a);return!0;};a.prototype.ttb=function(a){this.trim(a);return this.config.Uba?(a=this.ci.Ta(),m.Um(a)):this.view.buffer;};a.prototype.gy=function(a){return c.Fh.gy(this,a);};a.prototype.hy=function(a){return c.Fh.hy(this,a);};a.prototype.Qob=function(){var c,d;c=new h.hKa(this.Qo,this.WYa?[y.GN,y.FN]:[],this.config&&this.config.fKb||["moof",y.Ega],this.config&&this.config.zya);d=b.__assign({},this.config,{R9:!1});return new p.lX(a.laa,c,this.view,f.console,d).parse();};a.prototype.ikb=function(a){var c,k,q;c=new h.Vda(this.view.byteLength);k=Object.create(z.tK.Cc);this.config&&((this.config.yya||this.config.Uba)&&d(z.tK.jaa,k),this.config.Vba&&d(z.tK.jtb,k),this.config.Uba&&d(z.tK.dtb,k));q=b.__assign({},this.config,{R9:!0});this.ci=new p.lX(k,c,this.view,f.console,q);a=this.ci.parse(a);a.done&&(this.Cc=this.ci.Cc);return a;};a.prototype.J9a=function(c){var b,d,k,f,p,q;b=a.path(this,["moov"]);d=a.path(b,["trak","mdia","minf","stbl","stsd"]);d&&this.config.yya&&this.emit("sampledescriptions",{type:"sampledescriptions",boxes:d.Cc,frameDuration:d.Ha});(d=a.path(d,["encv","sinf","schi"]))&&(d=a.path(d,["tenc"])||a.path(d,[y.Yga]))&&this.emit("keyid",{type:"keyid",keyId:d.uv,offset:d.tva,flipped:!1});k=a.path(b,["trak","mdia","mdhd"]);f=a.path(b,["mvex","trex"]);if(d=a.path(this,["sidx"])){k=k&&k.ga;f=f&&f.cd.$Q;p=a.path(this,[y.GN]);p=p&&p.jhb;q=a.path(this,[y.FN]);this.emit("fragments",{type:"fragments",truncated:!!this.config.truncate,timescale:k,defaultSampleDuration:f,fragments:d.$,movieDataOffsets:p,additionalSAPs:q&&q.og});}(d=this.Cc.vmaf&&this.Cc.vmaf[0])&&this.emit("vmafs",{type:"vmafs",ctxt:c,vmafs:d.Mn});this.emit("done",{type:"done",moovEnd:b&&b.byteOffset+b.byteLength,parsedEnd:this.ci.offset});};a.prototype.trim=function(a){a=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.view=new DataView(a);};a.laa={};return a;}();f.iNa=a;d(g.EventEmitter,a.prototype);a.laa[y.YY]=k["default"];a.laa[y.ZY]=q["default"];},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(125);d=a(206);a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.Pza=function(){15!==this.J.yf(4)||this.J.yf(24);};f.prototype.parse=function(a){if(this.deb(a)&&64===a.hjb)switch(this.Ix=this.Hza(),this.Pza(),this.J.yf(4),this.r8a=5===this.Ix||29===this.Ix?5:-1,0<this.r8a&&(this.Pza(),this.Ix=this.Hza(),22===this.Ix&&this.J.yf(4)),this.Ix){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.Ura=this.J.yf(1),(this.F5a=this.J.yf(1))&&this.J.yf(14),this.J.yf(1),this.eS=3===this.Ix?256:23===this.Ix?this.Ura?480:512:this.Ura?960:1024;}this.skip();return!0;};f.prototype.Hza=function(){var a;a=this.J.yf(5);31===a&&(a=32+this.J.yf(6));return a;};f.prototype.deb=function(a){return a.tag===d.Tda.tag;};f.tag=5;return f;}(g.CX);f.qIa=a;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.hjb=this.J.ee();this.J.ee();this.J.Nf();this.J.ee();this.tn=this.J.wb();this.n_a=this.J.wb();this.Vla();return!0;};d.tag=4;return d;}(a(125).CX);f.Tda=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.J.Nf();a=this.J.ee();this.Arb=!!(a&128);this.bSa=!!(a&64);this.FNa=!!(a&32);this.Arb&&this.J.Nf();this.bSa&&this.J.kV(this.J.ee());this.FNa&&this.J.Nf();this.Vla();return!0;};d.tag=3;return d;}(a(125).CX);f.pea=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});g=a(0);g.__exportStar(a(125),f);g.__exportStar(a(205),f);g.__exportStar(a(204),f);g.__exportStar(a(203),f);g=a(204);b=a(203);a=a(205);f.xC={3:a.pea,4:g.Tda,5:b.qIa};},function(g,f,a){var t,m,c,k;function b(a,c,b){m.call(this,a,c,b);}function d(a,c){m.call(this,a,c,void 0);}a(13);a(24);t=a(93);m=a(758).hNa;c=a(744);a(58);k=a(58).Wja;a(58);b.prototype=Object.create(m.prototype);d.prototype=Object.create(b.prototype);d.prototype.lUa=function(a,b){return"string"===typeof b?c[b]:b?c.reset[a]||c.Zqb[a]:c.Zqb[a];};d.prototype.hAa=function(a,c,b,d){return this.Ta(a,c,!1,b,d);};d.prototype.kAa=function(a,c,b,d){return this.Ta(a,c,!0,b,d);};d.prototype.Ta=function(a,c,b,d,k){var p,q,u,g,m,y,z,h,l,n,r,ea,V,N;function f(a){q=p[a];u=q.Zo("traf");if(void 0===u||void 0===u.Wr)return!1;g=u.Zo("tfdt");if(void 0===g)return!1;m=u.Zo("trun");return void 0===m?!1:!0;}if(!this.parse())return!1;p=this.Cc.moof;if(!p||0===p.length)return!1;if(void 0!==a)for(y=a,a=0;a<p.length;++a){if(!f(a))return!1;if(m.Sd>y||b&&m.Sd===y)break;y-=m.Sd;}else if(a=b?p.length-1:0,!f(a))return!1;if(b&&a<p.length-1){z=p[a+1];this.zj(this.pFb-z.startOffset,z.startOffset);}else!b&&0<a&&this.zj(q.startOffset,0);z=u.Zo("tfhd");if(void 0===z)return!1;g=u.Zo("tfdt");h=m.Sd;l=u.Zo("saiz");n=u.Zo("saio");r=u.Zo(t.Xga);ea=u.Zo("sbgp");if(!(!l&&!n||l&&n))return!1;V=u.Zo("sdtp");if(this.Cc.mdat&&a<this.Cc.mdat.length)N=this.Cc.mdat[a];else if(a!==p.length-1)return!1;void 0===y&&(y=b?m.Sd:0);if(m.Ta(u,z,N||this.ci,c,y,u.Wr,b))m.Hqa&&(!b&&g&&g.Ta(m.Tqb),l&&n&&(l.Ta(m.JE,b),n.Ta(r?0:l.iaa,u.Wr,b)),r&&r.Ta(m.JE,b),V&&V.Ta(m.JE,h,b),ea&&ea.Ta(m.JE,b));else if(!b){if(a===p.length-1)return!1;this.zj(p[a+1].startOffset-q.startOffset,q.startOffset);}else if(0===m.JE)return!1;d&&(c=this.lUa(this.stream.profile,k))&&m.Ynb(u,z,N,b,d,c);b=this.ci.Ta();d=b.reduce(function(a,c){return a+c.byteLength;},0);b={Xf:b,length:d,EK:this.ci.view.byteLength};m.Hqa&&!N&&(b.qE=u.Wr+m.qE,b.Vs=m.Vs);return b;};g.T={DN:d,zgb:function(a){var c,b;c=new ArrayBuffer(8);b=new DataView(c);b.setUint32(0,a+8);b.setUint32(4,k("mdat"));return c;}};},function(g){function f(a){this.e0=a;this.ke=[];this.Nm=!1;this.vx=void 0;this.mh={};}f.prototype.vH=function(a){this.ke.length===this.e0&&this.ke.shift();Array.isArray(a)?this.ke=this.ke.concat(a):this.ke.push(a);this.Nm=!0;};f.prototype.ry=function(){return this.ke.length;};f.prototype.vQ=function(){var a;a=this.ke;return 0<a.length?a.reduce(function(a,d){return a+d;},0)/this.ke.length:void 0;};f.prototype.XH=function(){var a,b;a=this.ke;if(0<a.length){b=this.vQ();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};f.prototype.Gl=function(a){var b,d,f;if(this.Nm||void 0===this.vx)this.vx=this.ke.slice(0).sort(function(a,c){return a-c;}),this.mh={},this.Nm=!1;if(void 0===this.mh[a]){b=this.vx;d=Math.floor(a/100*(b.length-1)+1)-1;f=(a/100*(b.length-1)+1)%1;this.mh[a]=d===b.length-1?b[d]:b[d]+f*(b[d+1]-b[d]);}return this.mh[a];};g.T=f;},function(g,f,a){var b,d,t,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(25);d=a(6);t=g.Jw;m=a(5);c=m.qk;g=a(40);k=a(154);q=a(156);a=function(a){function f(b,d,f,p,u,g){d=a.call(this,d,f)||this;k.yw.call(d,b,p,u,g);q.zw.call(d,b,p);d.iO=b.url||p.url;d.hO=p.responseType;d.tja=p.VV;void 0===d.hO&&(d.hO=c.Qc&&!c.Qc.tE.bx?0:1);d.Rf=new t();d.Rf.on(d,c.wd.Mga,d.eP);d.Rf.on(d,c.wd.Lga,d.zla);d.Rf.on(d,c.wd.Nga,d.Bla);d.Rf.on(d,c.wd.dG,d.dP);d.Rf.on(d,c.wd.Vw,d.YG);d.$A=!1;d.ld=!1;d.Hg=!1;return d;}b.__extends(f,a);Object.defineProperties(f.prototype,{active:{get:function(){return this.ld;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Zza:{get:function(){return this.Hg;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{complete:{get:function(){return!this.$A&&5===this.readyState;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Bl:{get:function(){return this.$A;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{vT:{get:function(){return this.wl;},enumerable:!0,configurable:!0}});f.prototype.yc=function(a,c){k.yw.prototype.yc.call(this,a,c);this.Nb||!a.u.ZP&&this.Vb||(this.Nb=a.kb.Ye,this.active&&(this.Nb.Dz(m.time.now(),{requestId:this.Fm(),Zd:this.Db,type:this.O}),this.Hg&&(this.Nb.X$(m.time.now()),this.connect&&0<this.Dn.length&&this.Nb.Pr(this.Dn[0]))));};f.prototype.By=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};f.prototype.WB=function(a){return this.Ph=a.appendBuffer(this.response,this);};f.prototype.Lua=function(){return this.Bl;};f.prototype.Pv=function(){return c.prototype.open.call(this,this.iO,{start:this.offset,end:this.offset+this.aa-1},this.hO,{},void 0,void 0,this.tja);};f.prototype.abort=function(){var a;if(this.Bl)return!0;a=this.ld;this.Nb&&a&&this.Nb.Fz(m.time.ea(),this.Hg,{requestId:this.Fm(),Zd:this.Db,type:this.O});this.$A=!0;this.Hg=this.ld=!1;c.prototype.abort.call(this);this.bS(this,a);return!0;};f.prototype.Xd=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.K.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Rf&&this.Rf.clear();c.prototype.Xd.call(this);};f.prototype.eP=function(){var a;a=this.qc||this.Xe;this.ld||(this.ld=!0,this.bk=this.track.bk(),this.stream.u.uwa||this.Nb&&this.Nb.Dz(a,{requestId:this.Fm(),Zd:this.Db,type:this.O}),this.ky(this),this.hk=0,this.el=this.qc);};f.prototype.zla=function(){var a,c,b;a=this.qc;c=this.connect;b=this.Dn;this.wl=m.time.ea()-this.qc;this.Hg||(this.Hg=!0,this.stream.u.uwa&&this.Nb&&this.Nb.Dz(a,{requestId:this.Fm(),Zd:this.Db,type:this.O}),this.Nb&&this.Nb.X$(),c&&0<b.length&&this.Nb&&this.Nb.Pr(b[0]),this.jy(this),this.el=a);};f.prototype.Bla=function(){var a,c,b;a=this;c=this.qc;b=this.ne-this.hk;this.wl=m.time.ea()-this.qc;this.Nb&&(this.Nb.Dx(b,this.el,c,{requestId:this.Fm(),Zd:this.Db,type:this.O}),this.Dn&&this.Dn.length&&this.Dn.forEach(function(c){a.Nb.Nr(c);}));this.YC(this);this.el=c;this.hk=this.ne;};f.prototype.dP=function(){var a,c,b;a=this;c=this.qc;b=this.ne-this.hk;this.wl=m.time.ea()-this.qc;this.Nb&&(0<b&&this.Nb.Dx(b,this.el,c,{requestId:this.Fm(),Zd:this.Db,type:this.O}),this.Dn&&this.Dn.length&&this.Dn.forEach(function(c){a.Nb.Nr(c);}),this.Nb.Fz(c,this.Hg,{requestId:this.Fm(),Zd:this.Db,type:this.O}));this.Hg=this.ld=!1;this.Wu(this);this.el=c;this.hk=this.ne;this.Xd();};f.prototype.Fm=function(){var a,c;a=(a=this.stream)?a.toString():this.url;c=this.sQ;c&&(a+=",range "+c.start+"-"+c.end);return a;};f.prototype.YG=function(){var a,c,b,k;this.K.warn("AseMediaRequest._onError:",this.toString());a=this.qc;this.wl=m.time.ea()-this.qc;c=this.status;b=this.Wh;k=this.sj;this.complete?this.K.warn("Error on a done request "+this.toString()+", failurecode: "+b):this.Bl?this.K.warn("Error on an aborted request "+this.toString()+", failurecode: "+b):d.pa(b)?(this.Nb&&this.Sa&&this.Sa.u.T$&&this.Xe&&void 0===c&&this.Nb.Dx(this.hk?this.ne-this.hk:this.ne,this.el?this.el:this.Xe,a,{requestId:this.Fm(),Zd:this.Db,type:this.O}),this.cS(this)):this.K.warn("ignoring undefined request error (nativecode: "+k+")");};return f;}(c);f.sF=a;g.li(k.yw,a,!1);g.li(q.zw,a,!1);},function(g,f,a){var b,d,t,m,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(54);t=a(13);g=a(40);m=a(374);c=a(94);a=function(a){function k(b,d,k,f){k=a.call(this,b,d,k,f)||this;c.pk.call(k,b,d);k.Tb=0;k.Ta||k.Dj();k.Ph=!1;return k;}b.__extends(k,a);Object.defineProperties(k.prototype,{Vb:{get:function(){return!1;},enumerable:!0,configurable:!0}});k.prototype.push=function(c){this.Tb+=c.aa;a.prototype.push.call(this,c);};k.prototype.By=function(){return!this.Ph&&!!this.sa.length&&this.sa.every(function(a){return a.By();});};k.prototype.WB=function(a){t.assert(!this.Ph);return this.Ph=this.sa.every(function(c){return c.By()?c.WB(a,void 0,void 0):!1;});};k.prototype.Jnb=function(){this.sa.forEach(function(a){a.eL();});};k.prototype.Ov=function(a){m.MM.prototype.Ov.call(this,a);};k.prototype.ai=function(a){m.MM.prototype.ai.call(this,a);};k.prototype.ak=function(){return this.sa?this.sa[0].ak()+"-"+this.sa[this.sa.length-1].ak():"empty";};k.prototype.toString=function(){return c.pk.prototype.toString.call(this)+"(aggregate)";};k.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);d(c.pk.prototype.toJSON.call(this),b);return b;};return k;}(m.MM);f.pA=a;g.li(c.pk,a);},function(g,f,a){var b,d,t,m,c,k,q,p,u;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);a(13);g=a(40);d=a(210);t=a(94);m=a(209);c=a(11);k=a(54);q=a(5).qk;p=a(762);a=a(743);u=function(a){var i71;i71=2;function k(c,b,d,k,f,p){var V71,u,d71,T71,q71;V71=2;while(V71!==14){d71="e";d71+="di";d71+="t";T71="c";T71+="a";T71+="c";T71+="h";T71+="e";q71="1SIYbZ";q71+="rNJCp";q71+="9";switch(V71){case 7:t.pk.call(u,c,d);return u;break;case 2:u=this;q71;V71=4;break;case 4:u=[T71,d71].filter(function(a,c){var P71;P71=2;while(P71!==1){switch(P71){case 2:return[f,d.Ta][c];break;case 4:return[f,d.Ta][c];break;P71=1;break;}}});u=u.length?"("+u.join(",")+")":"";void 0===d.responseType&&(d.responseType=d.Ta||q.Qc&&!q.Qc.tE.bx?0:1);u=a.call(this,c,b,u,d,k,p)||this;V71=7;break;}}}while(i71!==3){switch(i71){case 5:k.prototype.toString=function(){var I71;I71=2;while(I71!==1){switch(I71){case 2:return m.sF.prototype.toString.call(this)+":"+t.pk.prototype.toString.call(this);break;}}};return k;break;case 2:b.__extends(k,a);k.create=function(a,b,f,u,g,y,t){var x71,z,h,S71;x71=2;while(x71!==18){S71="su";S71+="breq";S71+="ue";S71+="s";S71+="t";switch(x71){case 4:x71=u.JD&&u.aa>u.JD?3:19;break;case 5:return new p.cFa(a,f,u,g,y,t);break;case 19:return new k(a,f,u,g,y,t);break;case 3:z=Math.ceil(u.aa/u.JD);b=u.offset;y=u.aa;g=new d.pA(a,u,g,t);x71=6;break;case 1:x71=!b.kl&&u.Ta&&a.O===c.L.VIDEO&&q.Qc&&q.Qc.tE.bx?5:4;break;case 20:return g;break;case 2:x71=1;break;case 14:x71=0<y?13:20;break;case 10:g.push(new m.sF(a,f,S71,h,g,t));x71=14;break;case 6:z=Math.ceil(u.aa/z);x71=14;break;case 13:h={offset:b,aa:Math.min(y,z),responseType:u.responseType};b+=h.aa;y-=h.aa;x71=10;break;}}};i71=5;break;}}}(m.sF);f.aX=u;k(a["default"],u.prototype);g.li(t.pk,u,!1);},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});g=a(40);a=a(155);b=function(){function a(a,b){this.Jm=a;this.nB=b.bb;this.jr=b.xb;}Object.defineProperties(a.prototype,{bb:{get:function(){return void 0!==this.nB?this.nB:this.Jm.bb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return void 0!==this.jr?this.jr:this.Jm.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Jm.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oo:{get:function(){return this.Jm.Oo;},enumerable:!0,configurable:!0}});a.prototype.Naa=function(a){this.jr=a;};a.prototype.y2=function(){this.jr=void 0;};return a;}();f.tF=b;g.li(a.OM,b);},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(49);d=a(2);f.w5=function(a){return a===b.pc.Ih.AUDIO?d.G.aga:d.G.bga;};f.FZ=50;f.bQa=1E3;},function(g,f,a){var d,t,m,c,k,q,p,u,z,y,h,A,B;function b(a,b,d,f,p,u,g,m,y,t,z,h,L,A,l){this.j=a;this.fb=b;this.Ay=d;this.Rc=f;this.Lp=p;this.V3=u;this.Wj=g;this.displayName=m;this.Ui=y;this.xz=t;this.profile=z;this.Go=h;this.Lib=L;this.p9a=A;this.QJ=l;this.type=c.ig.tW;this.Yp=!(!z||z!=q.vk.KA&&z!=q.vk.HN);this.bg={bcp47:g,trackId:b,downloadableId:f,isImageBased:this.Yp};this.log=k.Zf(a,"TimedTextTrack");this.state=B.IN;this.request=this.request.bind(this);}Object.defineProperty(f,"__esModule",{value:!0});d=a(0);t=a(69);m=a(12);c=a(75);k=a(4);q=a(66);p=a(14);u=a(343);z=a(16);y=a(660);h=a(15);A=a(2);(function(a){a[a.IN=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.SF=3]="LOAD_FAILED";}(B||(B={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(c,b){function d(){a.j.state.removeListener(d);a.download().then(c)["catch"](b);}a.state=B.LOADING;a.j.state.value!==h.jb.LOADING?a.download().then(c)["catch"](b):a.j.state.addListener(d);});};b.prototype.dd=function(){return this.state;};b.prototype.RJ=function(){return this.Lib;};b.prototype.lT=function(){return this.p9a;};b.prototype.ev=function(a,c){var b;b=[];try{this.Yp?b=this.sf&&this.sf.ev(a,c)||[]:this.entries&&(b=this.entries.filter(function(b){var d;d=P([b.startTime,b.endTime]);b=d.next().value;d=d.next().value;return b>=a&&b<=c||b<=a&&a<=d;}));}catch(W){this.log.error("error in getSubtitles",W,{start:a,end:c,isImageBased:this.Yp});}return b;};b.prototype.Fbb=function(){var a;if(!z.Rb(this.U))try{this.U=this.Yp?(a=this.ev(0,b.YLa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(S){this.log.error("exception in getStartPts",S);}return this.U;};b.prototype.TV=function(a){return this.j.state.value===h.jb.CLOSING||this.j.state.value===h.jb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.uc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(c,b){a.j.state.value==h.jb.Yc?a.Yp?a.Pdb(function(d){d.X?(a.log.info("Loaded image subtitle manager"),c(d)):(a.log.error("Unable to load image subtitles manager",d),a.state=B.SF,b(d));}):a.xqa().then(function(c){return a.tkb(c);}).then(c)["catch"](b):b({X:!1});});};b.prototype.Pdb=function(a){var b,d,f,p,q,u,g,t;function c(f){var y;if(z.Rb(f))if(t||b.TV(b.Rp(b.lo,"","image"))){t=!1;b.Go.url=b.Lp[b.lo];d.url=b.Go.url;g[f]=(g[f]||0)+1;y=new k.nRa(p,d);y.on("ready",function(){b.sf=y;a({X:!0,track:b});});y.on("error",function(d){var k;d=Object.assign({X:!1},d);k=b.Rp(b.lo,b.Go.url,"image");k.details={midxoffset:b.Go.offset,midxsize:b.Go.length};k.errorstring=d.errorString;g[f]<=m.config.RCa?(b.TR(k,!0,"retry with current cdn"),b.P1(g[f]).then(function(a){b.log.trace("retry timed text download after "+a,b.Rp(b.lo,"","image"));c(b.lo);})):(b.lo=q[u++],b.lo?(b.TR(k,!0,"retry with next cdn"),b.P1(g[f]).then(function(a){b.log.trace("retry timed text download after "+a,b.Rp(b.lo,"","image"));c(b.lo);})):(b.TR(k,!1,"all cdns tried"),a({X:!1,pib:"all cdns failed for image subs",track:b})));});y.start();}else a({X:!1,Bl:!0});else a({X:!1,pib:"cdnId is not defined for image subs downloadUrl"}),b.TR(b.Rp(0,"","image"),!1,"cdnId is undefined");}b=this;d={g_a:!1,profile:this.profile,oK:this.Go.offset,ZT:this.Go.length,Fd:this.j.Ob.value||0,bufferSize:m.config.xdb,TJb:{he:this.j.oS()}};f=k.Zf(this.j,"TimedTextTrack");f.warn=f.trace.bind(f);f.info=f.debug.bind(f);p=y.r4a(this.j,f,this.request);q=(this.V3||[]).filter(function(a){return a.id in b.Lp;}).sort(function(a,c){return a.de-c.de;}).map(function(a){return a.id;});u=0;g={};t=!0;this.lo=q[u++];c(this.lo);};b.prototype.TR=function(a,c,b){a=Object.assign({},a,{LKb:c,status:b});this.j.fireEvent(h.S.RE,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,c){var b;b=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,responseType:t.TS,headers:{},Ub:this.m5(this.lo)};this.j.AJ.download(a,function(a){b.log.trace("imgsub: request status "+a.X);a.X?c(null,new Uint8Array(a.content)):c({Y:a.Y,Ec:a.Ec});});};b.prototype.Rp=function(a,c,b){return{currentCdnId:a,url:c,profile:this.profile,dlid:this.Rc,subtitletype:b,bcp47:this.Wj,trackId:this.fb,cdnCount:Object.keys(this.Lp).length,isImageBased:this.Yp};};b.prototype.m5=function(a){return(this.V3||[]).find(function(c){return c.id===a;});};b.prototype.xqa=function(){var k,f;function a(a){return d.__awaiter(k,void 0,void 0,function(){var k,p,q,u,g;function d(){for(;;)switch(k){case 0:q=b();p=u.Rp(a.Ub.id,a.url,"text");p.errorstring=a.reason;if(!q||!u.TV(p)){k=1;break;}k=-1;return{value:u.P1(f[q.id]).then(c),done:!0};case 1:return k=-1,{value:Promise.reject({X:!1,Bl:!0}),done:!0};default:return{value:void 0,done:!0};}}k=0;u=this;g={next:function(){return d();},"throw":function(){return d();},"return":function(){throw Error("Not yet implemented");}};n();g[Symbol.iterator]=function(){return this;};return g;});}function c(){return d.__awaiter(k,void 0,void 0,function(){var d,k,p,q,u;function c(){for(;;)switch(d){case 0:k=(p=b())&&q.Lp[p.id];if(!p||!k){d=1;break;}f[p.id]=(f[p.id]||0)+1;d=-1;return{value:q.n6a(k,p)["catch"](a),done:!0};case 1:return d=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}d=0;q=this;u={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};n();u[Symbol.iterator]=function(){return this;};return u;});}function b(){return(k.V3||[]).find(function(a){return!!((f[a.id]||0)<m.config.RCa&&k.Lp[a.id]);});}k=this;f={};return c();};b.prototype.P1=function(a){return new Promise(function(c){var b;b=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return c(b);},b);});};b.prototype.tkb=function(a){var c,b;c=this;b=this.j.jF;p.Ga(b);return u.skb(a,b.width/b.height,m.config.TCa,m.config.Mba).then(function(a){var b;if(m.config.UCa){b=0;c.entries=a.map(function(a){return Object.assign({},a,{startTime:b,endTime:b+=m.config.UCa});});}else c.entries=a;c.log.trace("Entries parsed",{Length:a.length},c.bg);c.state=B.LOADED;return{X:!0,entries:c.entries,track:c};})["catch"](function(a){c.log.error("Unable to parse timed text track",A.Sn(a),c.bg,{url:a.url});c.state=B.SF;a.reason="parseerror";a.track=c;throw a;});};b.prototype.n6a=function(a,c){var b;b=this;this.log.trace("Downloading",c&&{Ub:c.id},this.Rp(c.id,a,"text"));return new Promise(function(d,k){var f;f={responseType:t.kua,url:a,track:b,Ub:c,AC:"tt-"+b.Wj};b.j.AJ.download(f,function(a){a.X?d(a.content):(a.reason="downloadfailed",a.url=f.url,a.track=b,a.Ub=c,k(a));});});};b.YLa=72E7;b.uia=B;f.qG=b;},function(g,f,a){var d;function b(){}Object.defineProperty(f,"__esModule",{value:!0});d=a(8);b.S5=function(){var a;a=d.br&&d.br.height;return a?1080<=a?1080:720:720;};f.OZ=b;},function(g){g.T=function(f,a){switch(f){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,d){return a.apply(this,arguments);};case 3:return function(b,d,f){return a.apply(this,arguments);};case 4:return function(b,d,f,g){return a.apply(this,arguments);};case 5:return function(b,d,f,g,c){return a.apply(this,arguments);};case 6:return function(b,d,f,g,c,k){return a.apply(this,arguments);};case 7:return function(b,d,f,g,c,k,q){return a.apply(this,arguments);};case 8:return function(b,d,f,g,c,k,q,p){return a.apply(this,arguments);};case 9:return function(b,d,f,g,c,k,q,p,u){return a.apply(this,arguments);};case 10:return function(b,d,f,g,c,k,q,p,u,z){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,f,a){var t,m,c,k;function b(a,c,b){for(var d=b.next();!d.done;){if((c=a["@@transducer/step"](c,d.value))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}d=b.next();}return a["@@transducer/result"](c);}function d(a,b,d,k){return a["@@transducer/result"](d[k](c(a["@@transducer/step"],a),b));}t=a(794);m=a(792);c=a(791);h();h();n();k="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.T=function(a,c,f){"function"===typeof a&&(a=m(a));if(t(f)){for(var p=0,q=f.length;p<q;){if((c=a["@@transducer/step"](c,f[p]))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}p+=1;}return a["@@transducer/result"](c);}if("function"===typeof f["fantasy-land/reduce"])return d(a,c,f,"fantasy-land/reduce");if(null!=f[k])return b(a,c,f[k]());if("function"===typeof f.next)return b(a,c,f);if("function"===typeof f.reduce)return d(a,c,f,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.T=function(f,a){return Object.prototype.hasOwnProperty.call(a,f);};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.VCb=function(){};f.aO="TransportConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.kX="BookmarkSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.yF||(f.yF={});g[g.SNa=0]="PAUSE";g[g.$Pa=1]="RESUME";g[g.Gwb=2]="CAPTIONS_ON";g[g.Fwb=3]="CAPTIONS_OFF";g[g.Hwb=4]="CAPTION_LANGUAGE_CHANGED";g[g.Avb=5]="AUDIO_LANGUAGE_CHANGED";g[g.fAb=6]="NEXT_EP";g[g.mBb=7]="PREV_EP";g[g.$w=8]="SEEK";g[g.wia=9]="STOP";f.oda="CastInteractionTrackerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.Kw||(f.Kw={});g.cSa="unknown";g.Lca="absent";g.Zha="present";g.Error="error";f.wea="ExternalDisplayLogHelperSymbol";},function(g,f,a){var d,t,m;function b(){this.type=d.Aw.Tw;}Object.defineProperty(f,"__esModule",{value:!0});d=a(29);g=a(97);t=a(136);m=new g.cx();b.b3=function(){return{isTypeSupported:function(a){var c;try{if(-1==a.toLowerCase().indexOf("codec"))return J.MSMediaKeys.isTypeSupported(a,"video/mp4");c=a.split("|");return 1===c.length?J.MSMediaKeys.isTypeSupported(t.ib.lp,a):"probably"===b.wba(c[0],c[1]);}catch(q){return!1;}}};};b.PQ=function(a,d,f){d=m.format(b.cF,d);if(0===f.length)return d;f=m.format('features="{0}"',f.join());return m.format("{0}|{1}{2}",a,d,f);};b.wba=function(a,b){var c;try{c=J.MSMediaKeys.isTypeSupportedWithFeatures?J.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(p){c="exception";}return c;};b.cF='video/mp4;codecs="{0},mp4a";';f.Uw=b;},function(g,f,a){var d,t,m,c,k,q;function b(a,d,k,f){var p;p=t.qm.call(this,a,d,k)||this;p.cast=f;p.type=m.Oj.oX;a=b.URa;p.lF[m.kd.bO]=c.Hd.HF+"; "+a;p.lF[m.kd.Xq]=c.Hd.Xq+"; "+a;a=c.Hd.FGa.find(function(a){return p.cs(q(b.cF,a));});p.lF[m.kd.Tq]=a;return p;}Object.defineProperty(f,"__esModule",{value:!0});d=a(66);t=a(128);m=a(29);g=a(97);c=a(129);k=a(411);q=new g.cx().format;aa(b,t.qm);b.b3=function(a,c){return(c=b.DAa(c))?{isTypeSupported:c}:a;};b.DAa=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.Dq=function(a){var d,k;d=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().QDa){k={};if(d)return k[m.Gh.hp]="1.4",k[m.Gh.Nw]="2.2",d().then(function(c){return c===k[a];});d=this.rwa(a);d=q(b.cF,c.Hd.HF)+" hdcp="+d;d=this.cs.bind(this,d);return Promise.resolve(d());}return Promise.resolve(!1);};b.prototype.pS=function(a){return this.lF[a];};b.prototype.fD=function(){var a;a=this;return this.config().QDa?this.Dq(m.Gh.Nw).then(function(c){return c?Promise.resolve(m.Gh.Nw):a.Dq(m.Gh.hp).then(function(a){return a?Promise.resolve(m.Gh.hp):Promise.resolve(void 0);});}).then(function(c){return a.kI(c);}):Promise.resolve(void 0);};b.prototype.Vx=function(){var a,c;a=t.qm.prototype.Vx.call(this);c=b.dua;a[d.ca.VX]=["hev1.2.6.L90.B0",c];a[d.ca.WX]=["hev1.2.6.L93.B0",c];a[d.ca.XX]=["hev1.2.6.L120.B0",c];a[d.ca.YX]=["hev1.2.6.L123.B0",c];a[d.ca.ZX]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[d.ca.aY]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[d.ca.nN]=["hev1.2.6.L90.B0",c];a[d.ca.oN]=["hev1.2.6.L93.B0",c];a[d.ca.pN]=["hev1.2.6.L120.B0",c];a[d.ca.qN]=["hev1.2.6.L123.B0",c];a[d.ca.$X]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[d.ca.bY]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[d.ca.rY]="hev1.1.6.L90.B0";a[d.ca.sY]="hev1.1.6.L93.B0";a[d.ca.tY]="hev1.1.6.L120.B0";a[d.ca.uY]="hev1.1.6.L123.B0";a[d.ca.vY]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[d.ca.wY]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[d.ca.dY]="hev1.2.6.L90.B0";a[d.ca.gY]="hev1.2.6.L93.B0";a[d.ca.jY]="hev1.2.6.L120.B0";a[d.ca.mY]="hev1.2.6.L123.B0";a[d.ca.KF]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[d.ca.LF]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[d.ca.fY]="hev1.2.6.L90.B0";a[d.ca.iY]="hev1.2.6.L93.B0";a[d.ca.lY]="hev1.2.6.L120.B0";a[d.ca.oY]="hev1.2.6.L123.B0";a[d.ca.pY]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[d.ca.qY]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.e7=function(){t.qm.prototype.e7.call(this);!b.DAa(this.cast)&&this.fl.push(k.mi.Xq);};b.dua="eotf=smpte2084";b.VGb="video/mp4;codecs={0}; "+b.dua;b.URa="width=3840; height=2160; ";f.pda=b;f.pX="CastSDKSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Afa="IsTypeSupportedProviderFactorySymbol";f.Fha="PlatformIsTypeSupportedSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Wia="ThroughputTrackerSymbol";f.RZ="ThroughputTrackerFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.rZ="PboPlaydataFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.TZ="TransitionLoggerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.IZ="SegmentManagerFactorySymbol";},function(g,f,a){var d,t,m;function b(a,b,d,f){this.ya=a;this.$r=b;this.kk=d;this.Mk=void 0===f?"General":f;this.J2={};}Object.defineProperty(f,"__esModule",{value:!0});d=a(7);t=a(423);m=a(861);b.prototype.Ema=function(a,b){this.J2[a]=b;};b.prototype.fatal=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.ru(d.Hh.BJa,a,m.cC(this.$r,this.$C(c)));};b.prototype.error=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.ru(d.Hh.ERROR,a,m.cC(this.$r,this.$C(c)));};b.prototype.warn=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.ru(d.Hh.WZ,a,m.cC(this.$r,this.$C(c)));};b.prototype.info=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.ru(d.Hh.EY,a,m.cC(this.$r,this.$C(c)));};b.prototype.trace=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.ru(d.Hh.Sia,a,m.cC(this.$r,this.$C(c)));};b.prototype.debug=function(a,b){for(var c=1;c<arguments.length;++c);};b.prototype.log=function(a,b){for(var c=1;c<arguments.length;++c);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,d){for(var c=[],k=2;k<arguments.length;++k)c[k-2]=arguments[k];this.ru(a,b,m.cC(this.$r,this.$C(c)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Mk};};b.prototype.h3=function(a){return new b(this.ya,this.$r,this.kk,a);};b.prototype.ru=function(a,b,d){a=new t.Qfa(a,this.Mk,this.ya.cc(),b,d);b=P(this.kk.kk);for(d=b.next();!d.done;d=b.next())d=d.value,d(a);};b.prototype.$C=function(a){return 0<Object.keys(this.J2).length?[].concat([this.J2],ga(a)):a;};f.UF=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.NZ="StringUtilsSymbol";},function(g){var q,p,u,z,y,h;function f(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(q===setTimeout)return setTimeout(a,0);if((q===f||!q)&&setTimeout)return q=setTimeout,setTimeout(a,0);try{return q(a,0);}catch(B){try{return q.call(null,a,0);}catch(M){return q.call(this,a,0);}}}function d(c){if(p===clearTimeout)clearTimeout(c);else if(p!==a&&p||!clearTimeout)try{p(c);}catch(B){try{p.call(null,c);}catch(M){p.call(this,c);}}else p=clearTimeout,clearTimeout(c);}function t(){z&&y&&(z=!1,y.length?u=y.concat(u):h=-1,u.length&&m());}function m(){var a;if(!z){a=b(t);z=!0;for(var c=u.length;c;){y=u;for(u=[];++h<c;)y&&y[h].wE();h=-1;c=u.length;}y=null;z=!1;d(a);}}function c(a,c){this.E9a=a;this.Dp=c;}function k(){}g=g.T={};try{q="function"===typeof setTimeout?setTimeout:f;}catch(A){q=f;}try{p="function"===typeof clearTimeout?clearTimeout:a;}catch(A){p=a;}u=[];z=!1;h=-1;g.Cxa=function(a){var d;d=Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)d[k-1]=arguments[k];u.push(new c(a,d));1!==u.length||z||b(m);};c.prototype.wE=function(){this.E9a.apply(null,this.Dp);};g.title="browser";g.sEb=!0;g.Z7a={};g.cEb=[];g.version="";g.FKb={};g.on=k;g.addListener=k;g.once=k;g.rjb=k;g.removeListener=k;g.removeAllListeners=k;g.emit=k;g.lza=k;g.bmb=k;g.listeners=function(){return[];};g.pEb=function(){throw Error("process.binding is not supported");};g.kFb=function(){return"/";};g.MEb=function(){throw Error("process.chdir is not supported");};g.vKb=function(){return 0;};},function(g,f,a){var d,t;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);d={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var c=new Uint8Array(a.length/2),b=0;b<c.length;b++)c[b]=this.bDa(a.substr(2*b,2));return c;};b.prototype.encode=function(a){for(var c="",b=a.length,d=0;d<b;d++)var f=a[d],c=c+("0123456789ABCDEF"[f>>>4]+"0123456789ABCDEF"[f&15]);return c;};b.prototype.eJ=function(a,c){var b;b="";for(c<<=1;c--;)b=("0123456789ABCDEF"[a&15]||"0")+b,a>>>=4;return b;};b.prototype.bDa=function(a){var c;c=a.length;if(7<c)throw Error("hex to long");for(var b=0,f=0;f<c;f++)b=16*b+d[a[f]];return b;};t=b;t=g.__decorate([a.N()],t);f.gX=t;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.pl='video/mp4; codecs="avc1.640028"';f.Pw='audio/mp4; codecs="mp4a.40.5"';f.NIa="DrmTraitsSymbol";},function(g,f,a){var b,d;b=a(445);d=a(980);f.Gv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.MD(d.qdb,null,a);};},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this);this.value=b;this.ka=c;this.ur=!0;c&&(this.ur=!1);}b(d,a);d.create=function(a,c){return new d(a,c);};d.zb=function(a){var c,b;c=a.value;b=a.zf;a.done?b.complete():(b.next(c),b.closed||(a.done=!0,this.Jb(a)));};d.prototype.Tf=function(a){var c,b;c=this.value;b=this.ka;if(b)return b.Jb(d.zb,0,{done:!1,value:c,zf:a});a.next(c);a.closed||a.complete();};return d;}(a(10).Da);f.HZ=g;},function(g,f,a){a(10);g=function(){function a(a,b,f){this.kind=a;this.value=b;this.error=f;this.vo="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.BI=function(a,b,f){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return f&&f();}};a.prototype.accept=function(a,b,f){return a&&"function"===typeof a.next?this.observe(a):this.BI(a,b,f);};a.f3=function(b){return"undefined"!==typeof b?new a("N",b):a.Ctb;};a.lpa=function(b){return new a("E",void 0,b);};a.a3=function(){return a.F1a;};a.F1a=new a("C");a.Ctb=new a("N",void 0);return a;}();f.Notification=g;},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.apply(this,arguments);this.Uj=[];this.active=!1;}b(d,a);d.prototype.flush=function(a){var c,b;c=this.Uj;if(this.active)c.push(a);else{this.active=!0;do if(b=a.Ue(a.state,a.Cd))break;while(a=c.shift());this.active=!1;if(b){for(;a=c.shift();)a.unsubscribe();throw b;}}};return d;}(a(995).MQa);f.dX=g;},function(g,f,a){var b,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(80);g=function(a){function f(c,b){a.call(this,c,b);this.ka=c;this.HK=!1;this.GM=b;}b(f,a);f.prototype.Jb=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.HK=!0;a=this.id;c=this.ka;null!=a&&(this.id=this.pV(c,a,b));this.Cd=b;this.id=this.id||this.vV(c,this.id,b);return this;};f.prototype.vV=function(a,b,f){void 0===f&&(f=0);return d.root.setInterval(a.flush.bind(a,this),f);};f.prototype.pV=function(a,b,f){void 0===f&&(f=0);return null!==f&&this.Cd===f&&!1===this.HK?b:(d.root.clearInterval(b),void 0);};f.prototype.Ue=function(a,b){if(this.closed)return Error("executing a cancelled action");this.HK=!1;if(a=this.JO(a,b))return a;!1===this.HK&&null!=this.id&&(this.id=this.pV(this.ka,this.id,null));};f.prototype.JO=function(a){var c,b;c=!1;b=void 0;try{this.GM(a);}catch(p){c=!0;b=!!p&&p||Error(p);}if(c)return this.unsubscribe(),b;};f.prototype.Ir=function(){var a,b,d,f;a=this.id;b=this.ka;d=b.Uj;f=d.indexOf(this);this.state=this.GM=null;this.HK=!1;this.ka=null;-1!==f&&d.splice(f,1);null!=a&&(this.id=this.pV(b,a,null));this.Cd=null;};return f;}(a(997).REa);f.cX=g;},function(g,f,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}g=a(80);f.SGb=b;f.observable=b(g.root);f.rvb=f.observable;},function(g,f,a){g=a(80).root.Symbol;f.Kz="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";f.svb=f.Kz;},function(g,f){f.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.nX="CachedDrmDataSymbol";},function(g,f,a){var t;function b(){}function d(a){a?(this.active=!1,this.c5(a)):this.active=!0;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);d.prototype.c5=function(a){this.profileId=a.profileId;this.ic=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,xv:a.licenseContextId,zD:a.licenseId};}):[];this.oa=a.xid;this.M=a.movieId;};d.prototype.Fq=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.ic?this.ic.map(function(a){return{id:a.id,licenseContextId:a.xv,licenseId:a.zD};}):[],xid:this.oa,movieId:this.M}));};f.FX=d;b.prototype.create=function(){return new d();};b.prototype.load=function(a){return new d(a);};t=b;t=g.__decorate([a.N()],t);f.JIa=t;},function(g,f,a){var b,d,t,m,c,k,q,p,u;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(119);d=a(467);t=a(244);m=a(243);c=a(1022);k=a(1021);q=a(118);p=a(135);u=a(1020);f.eme=new g.Yb(function(a){a(d.aea).to(t.JIa).Z();a(m.nX).to(c.CGa).Z();a(b.fN).jM(k.xmb);a(q.Sw).bA(function(a){f.HI.parent=a.bc;return f.HI.get(q.Sw);});a(p.ZF).Qf(function(){return function(){return new u.PMa();};});});f.HI=new g.zF({gw:!0});},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(65);d=a(1023);f.SB=new g.Yb(function(a){a(b.Rq).jM(d.wmb);});f.e1=new g.zF({gw:!0});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.vfa="Injector";f.Ow=145152E5;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(249);a(470);g=function(){function a(a){this.Fb=a;}a.prototype.EM=function(){this.Fb.kC=function(a){return null!==a.target&&!a.target.r7()&&!a.target.u7();};return new b.iX(this.Fb);};return a;}();f.jX=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(248);g=function(){function a(a){this.Fb=a;}a.prototype.nq=function(a){this.Fb.nq=a;return new b.jX(this.Fb);};return a;}();f.iX=g;},function(g){var f;f=function(){return this;}();try{f=f||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof J&&(f=J);}g.T=f;},function(g,f,a){var m;function b(a,b,d,f,u,g,m){this.xM=f;this.qEa=a;this.Dxa=b;this.e9=d;this.Jeb=g;this.cw=m;this.split=u;}function d(){this.H={};this.H["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new b("7","8","7","10","1.5",0,0);this.H["7"]=new b("15","16","15","9","4.5",0,0);this.H["15"]=new b("31","32","31","2","5.5",0,0);this.H["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new b("123","124","123","0","0",1,.207298);this.H["124"]=new b("123","124","123","0","0",1,.49076);this.H["64"]=new b("125","126","125","4","40.5",0,0);this.H["125"]=new b("125","126","125","0","0",1,-.00157835);this.H["126"]=new b("125","126","125","0","0",1,.934205);this.H["32"]=new b("65","66","65","135","5.5",0,0);this.H["65"]=new b("127","128","128","4","1272.5",0,0);this.H["127"]=new b("127","128","128","0","0",1,-.510333);this.H["128"]=new b("127","128","128","0","0",1,.18363);this.H["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new b("129","130","129","0","0",1,-.0464542);this.H["130"]=new b("129","130","129","0","0",1,.458833);this.H["16"]=new b("33","34","34","10","2.00001",0,0);this.H["33"]=new b("67","68","67","0","29.5",0,0);this.H["67"]=new b("131","132","131","2","39.5",0,0);this.H["131"]=new b("131","132","131","0","0",1,-.37577);this.H["132"]=new b("131","132","131","0","0",1,.512087);this.H["68"]=new b("133","134","134","140","1.5",0,0);this.H["133"]=new b("133","134","134","0","0",1,.321272);this.H["134"]=new b("133","134","134","0","0",1,-.675396);this.H["34"]=new b("69","70","70","2","24.5",0,0);this.H["69"]=new b("135","136","136","9","28.5",0,0);this.H["135"]=new b("135","136","136","0","0",1,-.0573845);this.H["136"]=new b("135","136","136","0","0",1,-.507455);this.H["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new b("137","138","137","0","0",1,-.503909);this.H["138"]=new b("137","138","137","0","0",1,.450886);this.H["8"]=new b("17","18","17","4","44189.5",0,0);this.H["17"]=new b("35","36","35","2","21.5",0,0);this.H["35"]=new b("71","72","72","0","19.5",0,0);this.H["71"]=new b("139","140","140","9","2.5",0,0);this.H["139"]=new b("139","140","140","0","0",1,.00403497);this.H["140"]=new b("139","140","140","0","0",1,-.312656);this.H["72"]=new b("141","142","141","135","96",0,0);this.H["141"]=new b("141","142","141","0","0",1,-.465786);this.H["142"]=new b("141","142","141","0","0",1,.159633);this.H["36"]=new b("73","74","73","130","89.5",0,0);this.H["73"]=new b("143","144","144","10","4.5",0,0);this.H["143"]=new b("143","144","144","0","0",1,-.76265);this.H["144"]=new b("143","144","144","0","0",1,-.580804);this.H["74"]=new b("145","146","146","10","16.5",0,0);this.H["145"]=new b("145","146","146","0","0",1,.296357);this.H["146"]=new b("145","146","146","0","0",1,-.691659);this.H["18"]=new b("37","38","38","9","1.5",0,0);this.H["37"]=new b("37","38","38","0","0",1,.993951);this.H["38"]=new b("75","76","75","0","19",0,0);this.H["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new b("147","148","147","0","0",1,-.346535);this.H["148"]=new b("147","148","147","0","0",1,-.995745);this.H["76"]=new b("147","148","147","0","0",1,-.99978);this.H["4"]=new b("9","10","9","5","4.5",0,0);this.H["9"]=new b("19","20","19","2","4.5",0,0);this.H["19"]=new b("39","40","39","140","7.5",0,0);this.H["39"]=new b("77","78","78","134","6.5",0,0);this.H["77"]=new b("149","150","150","7","11.5",0,0);this.H["149"]=new b("149","150","150","0","0",1,.729843);this.H["150"]=new b("149","150","150","0","0",1,.383857);this.H["78"]=new b("151","152","151","133","4.5",0,0);this.H["151"]=new b("151","152","151","0","0",1,.39017);this.H["152"]=new b("151","152","151","0","0",1,.0434342);this.H["40"]=new b("79","80","79","133","3.5",0,0);this.H["79"]=new b("153","154","154","8","4.5",0,0);this.H["153"]=new b("153","154","154","0","0",1,-.99536);this.H["154"]=new b("153","154","154","0","0",1,-.00943396);this.H["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new b("155","156","155","0","0",1,.266272);this.H["156"]=new b("155","156","155","0","0",1,.959904);this.H["20"]=new b("41","42","42","10","65.5",0,0);this.H["41"]=new b("81","82","82","7","10.5",0,0);this.H["81"]=new b("157","158","158","2","37.5",0,0);this.H["157"]=new b("157","158","158","0","0",1,-.701873);this.H["158"]=new b("157","158","158","0","0",1,.224649);this.H["82"]=new b("159","160","159","133","9.5",0,0);this.H["159"]=new b("159","160","159","0","0",1,.0955181);this.H["160"]=new b("159","160","159","0","0",1,-.58962);this.H["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new b("161","162","161","135","31",0,0);this.H["161"]=new b("161","162","161","0","0",1,-.229692);this.H["162"]=new b("161","162","161","0","0",1,.88595);this.H["84"]=new b("163","164","164","1","13.5",0,0);this.H["163"]=new b("163","164","164","0","0",1,-.992157);this.H["164"]=new b("163","164","164","0","0",1,.922159);this.H["10"]=new b("21","22","22","4","486",0,0);this.H["21"]=new b("43","44","44","133","4.5",0,0);this.H["43"]=new b("85","86","86","10","4.5",0,0);this.H["85"]=new b("165","166","166","4","158.5",0,0);this.H["165"]=new b("165","166","166","0","0",1,-.127778);this.H["166"]=new b("165","166","166","0","0",1,.955189);this.H["86"]=new b("165","166","166","0","0",1,-.994012);this.H["44"]=new b("87","88","88","1","3.5",0,0);this.H["87"]=new b("167","168","168","135","7",0,0);this.H["167"]=new b("167","168","168","0","0",1,-.997015);this.H["168"]=new b("167","168","168","0","0",1,.400821);this.H["88"]=new b("169","170","169","130","36",0,0);this.H["169"]=new b("169","170","169","0","0",1,-.898638);this.H["170"]=new b("169","170","169","0","0",1,.56129);this.H["22"]=new b("45","46","45","9","2.5",0,0);this.H["45"]=new b("89","90","90","9","1.5",0,0);this.H["89"]=new b("171","172","171","10","10.5",0,0);this.H["171"]=new b("171","172","171","0","0",1,.573986);this.H["172"]=new b("171","172","171","0","0",1,-.627266);this.H["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new b("173","174","173","0","0",1,.925273);this.H["174"]=new b("173","174","173","0","0",1,-.994805);this.H["46"]=new b("91","92","91","136","5.5",0,0);this.H["91"]=new b("175","176","175","10","10.5",0,0);this.H["175"]=new b("175","176","175","0","0",1,.548352);this.H["176"]=new b("175","176","175","0","0",1,-.879195);this.H["92"]=new b("177","178","178","8","14.5",0,0);this.H["177"]=new b("177","178","178","0","0",1,.457305);this.H["178"]=new b("177","178","178","0","0",1,-.998992);this.H["2"]=new b("5","6","5","10","2.5",0,0);this.H["5"]=new b("11","12","11","9","4.5",0,0);this.H["11"]=new b("23","24","24","10","4.00001",0,0);this.H["23"]=new b("47","48","48","133","5.5",0,0);this.H["47"]=new b("93","94","93","3","13.5",0,0);this.H["93"]=new b("179","180","179","138","15.5",0,0);this.H["179"]=new b("179","180","179","0","0",1,.658398);this.H["180"]=new b("179","180","179","0","0",1,-.927007);this.H["94"]=new b("181","182","182","3","15.5",0,0);this.H["181"]=new b("181","182","182","0","0",1,-.111351);this.H["182"]=new b("181","182","182","0","0",1,-.99827);this.H["48"]=new b("95","96","95","7","167",0,0);this.H["95"]=new b("183","184","183","132","36.5",0,0);this.H["183"]=new b("183","184","183","0","0",1,.895161);this.H["184"]=new b("183","184","183","0","0",1,-.765217);this.H["96"]=new b("185","186","186","137","6.00001",0,0);this.H["185"]=new b("185","186","186","0","0",1,-.851095);this.H["186"]=new b("185","186","186","0","0",1,.674286);this.H["24"]=new b("49","50","49","137","5.5",0,0);this.H["49"]=new b("97","98","97","5","23.5",0,0);this.H["97"]=new b("187","188","187","3","28.5",0,0);this.H["187"]=new b("187","188","187","0","0",1,.951654);this.H["188"]=new b("187","188","187","0","0",1,-.993808);this.H["98"]=new b("187","188","187","0","0",1,-.99705);this.H["50"]=new b("187","188","187","0","0",1,-.997525);this.H["12"]=new b("25","26","25","8","8.5",0,0);this.H["25"]=new b("51","52","52","10","4.00001",0,0);this.H["51"]=new b("99","100","100","133","5.5",0,0);this.H["99"]=new b("189","190","190","7","40.5",0,0);this.H["189"]=new b("189","190","190","0","0",1,.151839);this.H["190"]=new b("189","190","190","0","0",1,-.855517);this.H["100"]=new b("191","192","192","133","14.5",0,0);this.H["191"]=new b("191","192","192","0","0",1,.86223);this.H["192"]=new b("191","192","192","0","0",1,.544394);this.H["52"]=new b("101","102","101","135","47.5",0,0);this.H["101"]=new b("193","194","194","4","24.5",0,0);this.H["193"]=new b("193","194","194","0","0",1,.946185);this.H["194"]=new b("193","194","194","0","0",1,.811859);this.H["102"]=new b("193","194","194","0","0",1,-.991561);this.H["26"]=new b("53","54","54","132","6.5",0,0);this.H["53"]=new b("103","104","103","131","85",0,0);this.H["103"]=new b("195","196","196","134","16.5",0,0);this.H["195"]=new b("195","196","196","0","0",1,.0473538);this.H["196"]=new b("195","196","196","0","0",1,-.999401);this.H["104"]=new b("197","198","198","8","15.5",0,0);this.H["197"]=new b("197","198","198","0","0",1,.816129);this.H["198"]=new b("197","198","198","0","0",1,-.99322);this.H["54"]=new b("105","106","105","133","3.5",0,0);this.H["105"]=new b("105","106","105","0","0",1,-.998783);this.H["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new b("199","200","199","0","0",1,.528588);this.H["200"]=new b("199","200","199","0","0",1,-.998599);this.H["6"]=new b("13","14","14","10","7.5",0,0);this.H["13"]=new b("27","28","28","133","7.5",0,0);this.H["27"]=new b("55","56","56","10","4.5",0,0);this.H["55"]=new b("107","108","107","3","3.5",0,0);this.H["107"]=new b("201","202","201","4","17.5",0,0);this.H["201"]=new b("201","202","201","0","0",1,-.379512);this.H["202"]=new b("201","202","201","0","0",1,.15165);this.H["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new b("203","204","203","0","0",1,-.884606);this.H["204"]=new b("203","204","203","0","0",1,.265406);this.H["56"]=new b("109","110","109","136","6.5",0,0);this.H["109"]=new b("205","206","205","4","157.5",0,0);this.H["205"]=new b("205","206","205","0","0",1,-.0142737);this.H["206"]=new b("205","206","205","0","0",1,.691279);this.H["110"]=new b("205","206","205","0","0",1,-.998086);this.H["28"]=new b("57","58","58","138","11.5",0,0);this.H["57"]=new b("111","112","112","2","6.5",0,0);this.H["111"]=new b("207","208","208","7","67.5",0,0);this.H["207"]=new b("207","208","208","0","0",1,.763925);this.H["208"]=new b("207","208","208","0","0",1,-.309645);this.H["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new b("209","210","209","0","0",1,-.306635);this.H["210"]=new b("209","210","209","0","0",1,.556696);this.H["58"]=new b("113","114","113","138","50.5",0,0);this.H["113"]=new b("211","212","212","8","25.5",0,0);this.H["211"]=new b("211","212","212","0","0",1,.508234);this.H["212"]=new b("211","212","212","0","0",1,.793551);this.H["114"]=new b("211","212","212","0","0",1,-.998438);this.H["14"]=new b("29","30","29","134","27.5",0,0);this.H["29"]=new b("59","60","60","7","17.5",0,0);this.H["59"]=new b("115","116","115","135","5.5",0,0);this.H["115"]=new b("213","214","214","137","5.5",0,0);this.H["213"]=new b("213","214","214","0","0",1,.401747);this.H["214"]=new b("213","214","214","0","0",1,.0367503);this.H["116"]=new b("215","216","216","8","5.5",0,0);this.H["215"]=new b("215","216","216","0","0",1,-.0241984);this.H["216"]=new b("215","216","216","0","0",1,-.999046);this.H["60"]=new b("117","118","117","0","12.5",0,0);this.H["117"]=new b("217","218","218","132","5.5",0,0);this.H["217"]=new b("217","218","218","0","0",1,-.997294);this.H["218"]=new b("217","218","218","0","0",1,.210398);this.H["118"]=new b("219","220","219","137","1.5",0,0);this.H["219"]=new b("219","220","219","0","0",1,-.55763);this.H["220"]=new b("219","220","219","0","0",1,.074493);this.H["30"]=new b("61","62","62","133","42.5",0,0);this.H["61"]=new b("119","120","119","135","5.5",0,0);this.H["119"]=new b("221","222","222","4","473.5",0,0);this.H["221"]=new b("221","222","222","0","0",1,-.920213);this.H["222"]=new b("221","222","222","0","0",1,-.17615);this.H["120"]=new b("223","224","224","5","144",0,0);this.H["223"]=new b("223","224","224","0","0",1,-.954295);this.H["224"]=new b("223","224","224","0","0",1,-.382538);this.H["62"]=new b("121","122","121","133","50",0,0);this.H["121"]=new b("225","226","226","10","18.5",0,0);this.H["225"]=new b("225","226","226","0","0",1,-.0731343);this.H["226"]=new b("225","226","226","0","0",1,.755454);this.H["122"]=new b("227","228","228","0","30",0,0);this.H["227"]=new b("227","228","228","0","0",1,.25);this.H["228"]=new b("227","228","228","0","0",1,-.997101);}function t(a,b,d,f,u,g){this.CV=u;this.FQ=g;}f=a(279);m=a(170);a={};a.RZa=new function(){this.aUa=m();this.o=0;this.update=function(){this.o=m()-this.aUa;};this.getValue=function(){return this.o;};this.type="num";}();a.qfb=new function(){this.getValue=function(a,b,d){return this.o="becauseYouAdded"===d.Ca[a].context||null;};this.type="cat";}();a.rfb=new function(){this.getValue=function(a,b,d){return this.o="becauseYouLiked"===d.Ca[a].context||null;};this.type="cat";}();a.tfb=new function(){this.getValue=function(a,b,d){return this.o="billboard"===d.Ca[a].context||null;};this.type="cat";}();a.ufb=new function(){this.getValue=function(a,b,d){return this.o="continueWatching"===d.Ca[a].context||null;};this.type="cat";}();a.sfb=new function(){this.getValue=function(a,b,d){return this.o="bigRow"===d.Ca[a].context||null;};this.type="cat";}();a.vfb=new function(){this.getValue=function(a,b,d){return this.o="genre"===d.Ca[a].context||null;};this.type="cat";}();a.wfb=new function(){this.getValue=function(a,b,d){return this.o="netflixOriginals"===d.Ca[a].context||null;};this.type="cat";}();a.xfb=new function(){this.getValue=function(a,b,d){return this.o="newRelease"===d.Ca[a].context||null;};this.type="cat";}();a.yfb=new function(){this.getValue=function(a,b,d){return this.o="popularTitles"===d.Ca[a].context||null;};this.type="cat";}();a.zfb=new function(){this.getValue=function(a,b,d){return this.o="queue"===d.Ca[a].context||null;};this.type="cat";}();a.Afb=new function(){this.getValue=function(a,b,d){return this.o="recentlyAdded"===d.Ca[a].context||null;};this.type="cat";}();a.Bfb=new function(){this.getValue=function(a,b,d){return this.o="similars"===d.Ca[a].context||null;};this.type="cat";}();a.Dfb=new function(){this.getValue=function(a,b,d){return this.o="trendingNow"===d.Ca[a].context||null;};this.type="cat";}();a.Efb=new function(){this.getValue=function(a,b,d){return this.o="ultraHD"===d.Ca[a].context||null;};this.type="cat";}();a.Ffb=new function(){this.getValue=function(a,b,d){return this.o="watchAgain"===d.Ca[a].context||null;};this.type="cat";}();a.Cfb=new function(){this.getValue=function(a,b,d){return this.o="topTen"===d.Ca[a].context||null;};this.type="cat";}();a.y_a=new function(){this.update=function(a){for(var c in a.Ca)if("becauseYouAdded"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.z_a=new function(){this.update=function(a){for(var c in a.Ca)if("becauseYouLiked"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.C_a=new function(){this.update=function(a){for(var c in a.Ca)if("billboard"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Z1a=new function(){this.update=function(a){for(var c in a.Ca)if("continueWatching"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.B_a=new function(){this.update=function(a){for(var c in a.Ca)if("bigRow"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.L9a=new function(){this.update=function(a){for(var c in a.Ca)if("genre"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Bib=new function(){this.update=function(a){for(var c in a.Ca)if("netflixOriginals"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Fib=new function(){this.update=function(a){for(var c in a.Ca)if("newRelease"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Glb=new function(){this.update=function(a){for(var c in a.Ca)if("popularTitles"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ei=new function(){this.update=function(a){for(var c in a.Ca)if("queue"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.fnb=new function(){this.update=function(a){for(var c in a.Ca)if("recentlyAdded"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Pqb=new function(){this.update=function(a){for(var c in a.Ca)if("similars"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.mtb=new function(){this.update=function(a){for(var c in a.Ca)if("trendingNow"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Atb=new function(){this.update=function(a){for(var c in a.Ca)if("ultraHD"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Wub=new function(){this.update=function(a){for(var c in a.Ca)if("watchAgain"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Qsb=new function(){this.update=function(a){for(var c in a.Ca)if("topTen"===a.Ca[c].context){this.o=Math.max(a.Ca[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.k2a=new function(){this.getValue=function(a,b,d){return this.o="AR"===d.Ea||null;};this.type="cat";}();a.l2a=new function(){this.getValue=function(a,b,d){return this.o="AT"===d.Ea||null;};this.type="cat";}();a.m2a=new function(){this.getValue=function(a,b,d){return this.o="AU"===d.Ea||null;};this.type="cat";}();a.n2a=new function(){this.getValue=function(a,b,d){return this.o="AZ"===d.Ea||null;};this.type="cat";}();a.o2a=new function(){this.getValue=function(a,b,d){return this.o="BB"===d.Ea||null;};this.type="cat";}();a.p2a=new function(){this.getValue=function(a,b,d){return this.o="BE"===d.Ea||null;};this.type="cat";}();a.q2a=new function(){this.getValue=function(a,b,d){return this.o="BO"===d.Ea||null;};this.type="cat";}();a.r2a=new function(){this.getValue=function(a,b,d){return this.o="BR"===d.Ea||null;};this.type="cat";}();a.s2a=new function(){this.getValue=function(a,b,d){return this.o="BS"===d.Ea||null;};this.type="cat";}();a.t2a=new function(){this.getValue=function(a,b,d){return this.o="CA"===d.Ea||null;};this.type="cat";}();a.u2a=new function(){this.getValue=function(a,b,d){return this.o="CH"===d.Ea||null;};this.type="cat";}();a.v2a=new function(){this.getValue=function(a,b,d){return this.o="CL"===d.Ea||null;};this.type="cat";}();a.w2a=new function(){this.getValue=function(a,b,d){return this.o="CO"===d.Ea||null;};this.type="cat";}();a.x2a=new function(){this.getValue=function(a,b,d){return this.o="CR"===d.Ea||null;};this.type="cat";}();a.y2a=new function(){this.getValue=function(a,b,d){return this.o="CW"===d.Ea||null;};this.type="cat";}();a.z2a=new function(){this.getValue=function(a,b,d){return this.o="DE"===d.Ea||null;};this.type="cat";}();a.A2a=new function(){this.getValue=function(a,b,d){return this.o="DK"===d.Ea||null;};this.type="cat";}();a.B2a=new function(){this.getValue=function(a,b,d){return this.o="DM"===d.Ea||null;};this.type="cat";}();a.C2a=new function(){this.getValue=function(a,b,d){return this.o="DO"===d.Ea||null;};this.type="cat";}();a.D2a=new function(){this.getValue=function(a,b,d){return this.o="EC"===d.Ea||null;};this.type="cat";}();a.E2a=new function(){this.getValue=function(a,b,d){return this.o="EE"===d.Ea||null;};this.type="cat";}();a.F2a=new function(){this.getValue=function(a,b,d){return this.o="EG"===d.Ea||null;};this.type="cat";}();a.G2a=new function(){this.getValue=function(a,b,d){return this.o="ES"===d.Ea||null;};this.type="cat";}();a.H2a=new function(){this.getValue=function(a,b,d){return this.o="FI"===d.Ea||null;};this.type="cat";}();a.I2a=new function(){this.getValue=function(a,b,d){return this.o="FR"===d.Ea||null;};this.type="cat";}();a.J2a=new function(){this.getValue=function(a,b,d){return this.o="GB"===d.Ea||null;};this.type="cat";}();a.K2a=new function(){this.getValue=function(a,b,d){return this.o="GF"===d.Ea||null;};this.type="cat";}();a.L2a=new function(){this.getValue=function(a,b,d){return this.o="GP"===d.Ea||null;};this.type="cat";}();a.M2a=new function(){this.getValue=function(a,b,d){return this.o="GT"===d.Ea||null;};this.type="cat";}();a.N2a=new function(){this.getValue=function(a,b,d){return this.o="HK"===d.Ea||null;};this.type="cat";}();a.O2a=new function(){this.getValue=function(a,b,d){return this.o="HN"===d.Ea||null;};this.type="cat";}();a.P2a=new function(){this.getValue=function(a,b,d){return this.o="HR"===d.Ea||null;};this.type="cat";}();a.Q2a=new function(){this.getValue=function(a,b,d){return this.o="HU"===d.Ea||null;};this.type="cat";}();a.R2a=new function(){this.getValue=function(a,b,d){return this.o="ID"===d.Ea||null;};this.type="cat";}();a.S2a=new function(){this.getValue=function(a,b,d){return this.o="IE"===d.Ea||null;};this.type="cat";}();a.T2a=new function(){this.getValue=function(a,b,d){return this.o="IL"===d.Ea||null;};this.type="cat";}();a.U2a=new function(){this.getValue=function(a,b,d){return this.o="IN"===d.Ea||null;};this.type="cat";}();a.V2a=new function(){this.getValue=function(a,b,d){return this.o="IT"===d.Ea||null;};this.type="cat";}();a.W2a=new function(){this.getValue=function(a,b,d){return this.o="JE"===d.Ea||null;};this.type="cat";}();a.X2a=new function(){this.getValue=function(a,b,d){return this.o="JM"===d.Ea||null;};this.type="cat";}();a.Y2a=new function(){this.getValue=function(a,b,d){return this.o="JP"===d.Ea||null;};this.type="cat";}();a.Z2a=new function(){this.getValue=function(a,b,d){return this.o="KE"===d.Ea||null;};this.type="cat";}();a.$2a=new function(){this.getValue=function(a,b,d){return this.o="KN"===d.Ea||null;};this.type="cat";}();a.a3a=new function(){this.getValue=function(a,b,d){return this.o="KR"===d.Ea||null;};this.type="cat";}();a.b3a=new function(){this.getValue=function(a,b,d){return this.o="LU"===d.Ea||null;};this.type="cat";}();a.c3a=new function(){this.getValue=function(a,b,d){return this.o="MK"===d.Ea||null;};this.type="cat";}();a.d3a=new function(){this.getValue=function(a,b,d){return this.o="MU"===d.Ea||null;};this.type="cat";}();a.e3a=new function(){this.getValue=function(a,b,d){return this.o="MX"===d.Ea||null;};this.type="cat";}();a.f3a=new function(){this.getValue=function(a,b,d){return this.o="MY"===d.Ea||null;};this.type="cat";}();a.g3a=new function(){this.getValue=function(a,b,d){return this.o="NI"===d.Ea||null;};this.type="cat";}();a.h3a=new function(){this.getValue=function(a,b,d){return this.o="NL"===d.Ea||null;};this.type="cat";}();a.i3a=new function(){this.getValue=function(a,b,d){return this.o="NO"===d.Ea||null;};this.type="cat";}();a.j3a=new function(){this.getValue=function(a,b,d){return this.o="NZ"===d.Ea||null;};this.type="cat";}();a.k3a=new function(){this.getValue=function(a,b,d){return this.o="OM"===d.Ea||null;};this.type="cat";}();a.l3a=new function(){this.getValue=function(a,b,d){return this.o="PA"===d.Ea||null;};this.type="cat";}();a.m3a=new function(){this.getValue=function(a,b,d){return this.o="PE"===d.Ea||null;};this.type="cat";}();a.n3a=new function(){this.getValue=function(a,b,d){return this.o="PF"===d.Ea||null;};this.type="cat";}();a.o3a=new function(){this.getValue=function(a,b,d){return this.o="PH"===d.Ea||null;};this.type="cat";}();a.p3a=new function(){this.getValue=function(a,b,d){return this.o="PK"===d.Ea||null;};this.type="cat";}();a.q3a=new function(){this.getValue=function(a,b,d){return this.o="PL"===d.Ea||null;};this.type="cat";}();a.r3a=new function(){this.getValue=function(a,b,d){return this.o="PT"===d.Ea||null;};this.type="cat";}();a.s3a=new function(){this.getValue=function(a,b,d){return this.o="PY"===d.Ea||null;};this.type="cat";}();a.t3a=new function(){this.getValue=function(a,b,d){return this.o="QA"===d.Ea||null;};this.type="cat";}();a.u3a=new function(){this.getValue=function(a,b,d){return this.o="RO"===d.Ea||null;};this.type="cat";}();a.v3a=new function(){this.getValue=function(a,b,d){return this.o="RS"===d.Ea||null;};this.type="cat";}();a.w3a=new function(){this.getValue=function(a,b,d){return this.o="RU"===d.Ea||null;};this.type="cat";}();a.x3a=new function(){this.getValue=function(a,b,d){return this.o="SA"===d.Ea||null;};this.type="cat";}();a.y3a=new function(){this.getValue=function(a,b,d){return this.o="SE"===d.Ea||null;};this.type="cat";}();a.z3a=new function(){this.getValue=function(a,b,d){return this.o="SG"===d.Ea||null;};this.type="cat";}();a.A3a=new function(){this.getValue=function(a,b,d){return this.o="SV"===d.Ea||null;};this.type="cat";}();a.B3a=new function(){this.getValue=function(a,b,d){return this.o="SX"===d.Ea||null;};this.type="cat";}();a.C3a=new function(){this.getValue=function(a,b,d){return this.o="TH"===d.Ea||null;};this.type="cat";}();a.D3a=new function(){this.getValue=function(a,b,d){return this.o="TR"===d.Ea||null;};this.type="cat";}();a.E3a=new function(){this.getValue=function(a,b,d){return this.o="TT"===d.Ea||null;};this.type="cat";}();a.F3a=new function(){this.getValue=function(a,b,d){return this.o="TW"===d.Ea||null;};this.type="cat";}();a.G3a=new function(){this.getValue=function(a,b,d){return this.o="US"===d.Ea||null;};this.type="cat";}();a.H3a=new function(){this.getValue=function(a,b,d){return this.o="UY"===d.Ea||null;};this.type="cat";}();a.I3a=new function(){this.getValue=function(a,b,d){return this.o="VE"===d.Ea||null;};this.type="cat";}();a.J3a=new function(){this.getValue=function(a,b,d){return this.o="ZA"===d.Ea||null;};this.type="cat";}();a.hnb=new function(){this.getValue=function(a,b,d){return this.o=1===d.cg||null;};this.type="cat";}();a.inb=new function(){this.getValue=function(a,b,d){return this.o=10===d.cg||null;};this.type="cat";}();a.jnb=new function(){this.getValue=function(a,b,d){return this.o=11===d.cg||null;};this.type="cat";}();a.knb=new function(){this.getValue=function(a,b,d){return this.o=12===d.cg||null;};this.type="cat";}();a.lnb=new function(){this.getValue=function(a,b,d){return this.o=13===d.cg||null;};this.type="cat";}();a.mnb=new function(){this.getValue=function(a,b,d){return this.o=14===d.cg||null;};this.type="cat";}();a.nnb=new function(){this.getValue=function(a,b,d){return this.o=15===d.cg||null;};this.type="cat";}();a.onb=new function(){this.getValue=function(a,b,d){return this.o=16===d.cg||null;};this.type="cat";}();a.pnb=new function(){this.getValue=function(a,b,d){return this.o=17===d.cg||null;};this.type="cat";}();a.qnb=new function(){this.getValue=function(a,b,d){return this.o=18===d.cg||null;};this.type="cat";}();a.rnb=new function(){this.getValue=function(a,b,d){return this.o=19===d.cg||null;};this.type="cat";}();a.snb=new function(){this.getValue=function(a,b,d){return this.o=2===d.cg||null;};this.type="cat";}();a.tnb=new function(){this.getValue=function(a,b,d){return this.o=20===d.cg||null;};this.type="cat";}();a.unb=new function(){this.getValue=function(a,b,d){return this.o=21===d.cg||null;};this.type="cat";}();a.vnb=new function(){this.getValue=function(a,b,d){return this.o=22===d.cg||null;};this.type="cat";}();a.wnb=new function(){this.getValue=function(a,b,d){return this.o=23===d.cg||null;};this.type="cat";}();a.xnb=new function(){this.getValue=function(a,b,d){return this.o=3===d.cg||null;};this.type="cat";}();a.ynb=new function(){this.getValue=function(a,b,d){return this.o=4===d.cg||null;};this.type="cat";}();a.znb=new function(){this.getValue=function(a,b,d){return this.o=5===d.cg||null;};this.type="cat";}();a.Anb=new function(){this.getValue=function(a,b,d){return this.o=6===d.cg||null;};this.type="cat";}();a.Bnb=new function(){this.getValue=function(a,b,d){return this.o=7===d.cg||null;};this.type="cat";}();a.Cnb=new function(){this.getValue=function(a,b,d){return this.o=8===d.cg||null;};this.type="cat";}();a.Dnb=new function(){this.getValue=function(a,b,d){return this.o=9===d.cg||null;};this.type="cat";}();a.Trb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Vrb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Urb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Wrb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ehb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.hhb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.H2);};this.getValue=function(){return this.o;};this.type="num";}();a.ohb=new function(){this.GG=this.o=0;this.update=function(a){this.GG++;this.o=1*(this.o+a.rowIndex)/this.GG;};this.getValue=function(){return this.o;};this.type="num";}();a.phb=new function(){this.GG=this.o=0;this.update=function(a){this.GG++;return this.o=1*(this.o+a.H2)/this.GG;};this.getValue=function(){return this.o;};this.type="num";}();a.dmb=new function(){this.getValue=function(a,b,d){return this.o=d.H2+b;};this.type="num";}();a.emb=new function(){this.getValue=function(a,b,d){return this.o=d.rowIndex+a;};this.type="num";}();d.prototype.cw=function(a){return this.dma(this.H["0"].ZAa(a),a);};d.prototype.dma=function(a,b){return"string"==typeof a?this.dma(this.H[a].ZAa(b),b):a;};b.prototype.ZAa=function(a){switch(this.Jeb){case 0:switch(a.bd[this.xM].type){case"cat":return null===a.bd[this.xM].value?this.Dxa:"missing"==a.bd[this.xM].value?this.e9:this.qEa;case"num":return null===a.bd[this.xM].value?this.e9:a.bd[this.xM].value<this.split?this.qEa:this.Dxa;default:return this.e9;}case 1:return this.cw;default:return this.cw;}};f.declare({rK:["modelSelector","modelone"],u1a:["colEpisodeList",5],ddb:["holdDuration",15E3],KAa:["rowFirst",2],Moa:["colFirst",5],MAa:["rowScroll",2],Noa:["colScroll",6],Dob:["rowScrollHorizontal",6],Zob:["searchTop",3],Hpa:["cwFirst",2],yJ:["horizontalItemsFocusedMode",3],Keb:["itemsPerRank",1],ahb:["maxNumberPayloadsStored",10],Fwa:["maxNumberTitlesScheduled",5],TFb:["enableDetailedLogging",!0],CJb:["rowStep",20],SEb:["colStep",15],KIb:["pageRows",100],JIb:["pageColumns",75],A8:["maskParamsList",new function(){var a,b;this.A8=[];this.Pi={};this.CV=20;this.FQ=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.CV)+"_"+Math.floor(b/this.FQ)in this.Pi||(this.Pi[Math.floor(a/this.CV)+"_"+Math.floor(b/this.FQ)]=1,this.A8.push(new t(0,0,0,0,Math.floor(a/this.CV),Math.floor(b/this.FQ))));}().A8],H:["nodes",new d().H],mapping:["mapping",{hhb:"0",phb:"1",ehb:"2",ohb:"3",RZa:"4",Wrb:"5",Urb:"6",Vrb:"7",Trb:"8",emb:"9",dmb:"10",qfb:"11",rfb:"12",tfb:"13",ufb:"14",sfb:"15",vfb:"16",wfb:"17",xfb:"18",yfb:"19",zfb:"20",Afb:"21",Bfb:"22",Cfb:"23",Dfb:"24",Efb:"25",Ffb:"26",hnb:"27",inb:"28",jnb:"29",knb:"30",lnb:"31",mnb:"32",nnb:"33",onb:"34",pnb:"35",qnb:"36",rnb:"37",snb:"38",tnb:"39",unb:"40",vnb:"41",wnb:"42",xnb:"43",ynb:"44",znb:"45",Anb:"46",Bnb:"47",Cnb:"48",Dnb:"49",k2a:"50",l2a:"51",m2a:"52",n2a:"53",o2a:"54",p2a:"55",q2a:"56",r2a:"57",s2a:"58",t2a:"59",u2a:"60",v2a:"61",w2a:"62",x2a:"63",y2a:"64",z2a:"65",A2a:"66",B2a:"67",C2a:"68",D2a:"69",E2a:"70",F2a:"71",G2a:"72",H2a:"73",I2a:"74",J2a:"75",K2a:"76",L2a:"77",M2a:"78",N2a:"79",O2a:"80",P2a:"81",Q2a:"82",R2a:"83",S2a:"84",T2a:"85",U2a:"86",V2a:"87",W2a:"88",X2a:"89",Y2a:"90",Z2a:"91",$2a:"92",a3a:"93",b3a:"94",c3a:"95",d3a:"96",e3a:"97",f3a:"98",g3a:"99",h3a:"100",i3a:"101",j3a:"102",k3a:"103",l3a:"104",m3a:"105",n3a:"106",o3a:"107",p3a:"108",q3a:"109",r3a:"110",s3a:"111",t3a:"112",u3a:"113",v3a:"114",w3a:"115",x3a:"116",y3a:"117",z3a:"118",A3a:"119",B3a:"120",C3a:"121",D3a:"122",E3a:"123",F3a:"124",G3a:"125",H3a:"126",I3a:"127",J3a:"128",Wub:"129",fnb:"130",Pqb:"131",ei:"132",Z1a:"133",L9a:"134",mtb:"135",Qsb:"136",C_a:"137",Fib:"138",Atb:"139",Glb:"140",y_a:"141",B_a:"142",z_a:"143",Bib:"144"}],bd:["features",a],KDb:["_modelName","tree"],CDb:["_format","xgboost"],JDb:["_itemsToKeep",5],IDb:["_itemsThreshold",null],BEb:["cacheLimit",20]});g.T={config:f,XHb:t,lFb:b};},function(g,f,a){var d;function b(a){for(var b="",c=0;c<a.length;c++)b+=a[c].Ic+"|";return b;}d=a(169);g.T={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},lHb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},t$a:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===d.RF.xGa){b=a[c].list;break;}return b;},e$a:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===d.RF.rFa){b=a[c].list;break;}return b;},S5a:function(a,d){for(var c=0,f,q,p,u=0,g=a.length-1;u<g;u++){f=b(a[u].list||[]);p=!1;for(var m=0,t=d.length;m<t;m++)if(q=b(d[m].list||[]),q==f){p=!0;break;}if(!1===p){c=u;break;}}return c;},qjb:function(a,b,c){for(var d=[],f,p=0;p<Math.min(b,a.length);p++)f=a[p].list||[],d=d.concat(f.slice(0,c));return d;},pjb:function(a,b){for(var c=[],d,f=0;f<a.length&&(d=a[f].list||[],d=d.slice(0,Math.min(d.length,b)),b-=d.length,c=c.concat(d),0!==b);f++);return c;},ojb:function(a,b,c){var d;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(d=a[c]));return d;},zra:function(a){for(var b={},c=a.length,f,q=0;q<c;q++){f=a[q].list||[];for(var p=0;p<f.length;p++)if(f[p].property===d.EA.fG||f[p].property===d.EA.Eda){b.zh=q;b.kj=p;break;}}void 0===b.zh&&void 0===b.kj&&(b.zh=0,b.kj=0);return b;}};},function(g,f,a){var b,d,t,m,c,k,q,p,u,z,y,h,A;Object.defineProperty(f,"__esModule",{value:!0});b=a(69);d=a(9);t=a(12);m=a(28);c=a(26);k=a(33);q=a(4);p=a(2);u=a(18);z=a(114);y=a(8);h=a(85);A=a(20);f.Usb=function(){var g,L,l,n;function a(a){var b,c,d;b="info";c="";d=q.W.get(z.ex).Xsa();a.X||(b="error",c+="&errorcode="+(a.errorCode||""),c+="&errorsubcode="+(a.Y||""));c="type=startup&sev="+b+c+"&"+m.zK(u.Va({},d,{prefix:"m_"}));f("startup",c,g);}function f(a,f,k){k&&L&&t.config.gDa[a]&&(a=l+"&jsoffms="+c.Vf()+"&do="+y.sk.onLine+"&"+f+"&"+m.zK(u.Va({},n.zc,{prefix:"im_"})),b.Ed.download({url:k,k$:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},AC:"track"},d.je));}l="cat=cadplayback&dev="+encodeURIComponent(k.FHa)+"&ep="+encodeURIComponent(k.Eg.JX)+"&ver="+encodeURIComponent("6.0018.593.011")+"&jssid="+c.Cfa;q.Jf("TrackingLog");n=q.W.get(A.De);l=l+("&browserua="+y.Nj);n.register(p.I.jfa,function(b){var c,f;g=q.W.get(h.qt).host+t.config.Tba;if(L=t.config.fDa&&!!t.config.Tba){t.config.hv&&(l+="&groupname="+encodeURIComponent(t.config.hv));t.config.gA&&(l+="&uigroupname="+encodeURIComponent(t.config.gA));c=l;f="";k.Vn&&(f=u.Va({},k.Vn,{prefix:"pi_"}),f="&"+m.zK(f));l=c+f;n.$J(a);}b(d.wc);});return f;}();},function(g,f,a){var m;function b(a,b,f){b=b||0;f=f||a.length;for(var c,k=b,q,g,m,t={};k<b+f;){c=a[k];q=c&7;g=c>>3;m=d(a,k);if(!m.count)throw Error("Parsing error. bytes length is 0 for the tag "+c);k+=m.count+1;2==q&&(k+=m.value);t[g]={kGb:g,MKb:q,value:m.value,count:m.count,start:m.start};}return t;}function d(a,b){var c,d,f,k,g,t,h,B;c=b+1;d=a.length;f=c;k=0;g={};t=[];B=0;if(c>=d)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+d);for(;f<d;){k++;c=a[f];h=c&127;t.push(h);if(!(c&128))break;f++;}m.Ga(t.length);for(a=t.length-1;0<=a;a--)B<<=7,B|=t[a];g.count=k;g.value=B;g.start=b+k+1;return g;}function t(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(f,"__esModule",{value:!0});m=a(14);f.ueb=function(a){a=b(a);if(1==t(a,1)&&a[5]&&a[5].value)return!0;};f.BHb=function(a){var c;c=b(a);if(2==t(c,1)&&(a=b(a,c[2].start,c[2].value),t(a,5)))return!0;};f.jGb=b;f.KGb=d;f.LGb=t;},function(g){function f(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}g.T=function(a){var m,c,k;function b(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function d(a,d,f){var k;k=c[a];"undefined"!==typeof k?k(d)||b(a,d,f):a!==typeof d&&b(a,d,f);}function g(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===k.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===k.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var f;f=c[b];if("string"===typeof a)d(a,f,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){d(a[b],f[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}m="number boolean string object function symbol".split(" ");c={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!f(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof c[b]||-1<m.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);c[b]=a[b];});}k=Object.keys(c).concat(m);return g(["array","function"],g);};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.MJa=function(a){var f,g,c,k;function b(){if(c)for(var a;a=f.pop();)a(k);}function d(a){c=!0;k=a;b();}f=[];return function(c){f.push(c);g||(g=!0,a(d));b();};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Uha="PlaylistMapTranslatorSymbol";},function(g,f,a){var d;function b(a,b,c,f,q){var k;k=this;this.dl=f;this.Oi=q;this.addEventListener=function(a,b,c){return k.Oi.addListener(a,k.Spa(a,b),c);};this.removeEventListener=function(a,b){return k.Oi.removeListener(a,k.Spa(a,b));};this.getReady=function(){return k.Oi.yS();};this.getXid=function(){return k.hb().m6();};this.getMovieId=function(){return k.hb().Nab();};this.getElement=function(){return k.hb().oy();};this.isPlaying=function(){return k.hb().Ey();};this.isPaused=function(){return k.hb().oeb();};this.isMuted=function(){return k.hb().neb();};this.isReady=function(){return k.hb().isReady();};this.isBackground=function(){return k.hb().aeb();};this.setBackground=function(a){return k.hb().wBa(a);};this.startInactivityMonitor=function(){return k.hb().LL();};this.setTransitionTime=function(a){return k.hb().MBa(a);};this.getDiagnostics=function(){return k.hb().G$a();};this.getTextTrackList=function(a){return k.hb().Cta(a);};this.getTextTrack=function(){return k.hb().Bta();};this.setTextTrack=function(a){return k.hb().KBa(a);};this.getVolume=function(){return k.hb().jcb();};this.isEnded=function(){return k.hb().eeb();};this.getBusy=function(){return k.hb().nj();};this.getError=function(){return k.hb().getError();};this.getCurrentTime=function(){return k.hb().j.Ob.value;};this.getBufferedTime=function(){return k.hb().g$a();};this.getSegmentTime=function(){return k.hb().s5();};this.getDuration=function(){return k.hb().r5();};this.getVideoSize=function(){return k.hb().hcb();};this.getAudioTrackList=function(){return k.hb().U9a();};this.getAudioTrack=function(){return k.hb().T9a();};this.getTimedTextTrackList=function(a){return k.hb().Cta(a);};this.getTimedTextTrack=function(){return k.hb().Bta();};this.getAdditionalLogInfo=function(){return k.hb().O9a();};this.getTrickPlayFrame=function(a){return k.hb().Ybb(a);};this.getSessionSummary=function(){return k.hb().uta();};this.getTimedTextSettings=function(){return k.hb().DS();};this.setMuted=function(a){return k.hb().bqb(a);};this.setVolume=function(a){return k.hb().qqb(a);};this.setPlaybackRate=function(a){return k.hb().fqb(a);};this.setAudioTrack=function(a){return k.hb().Opb(a);};this.setTimedTextTrack=function(a){return k.hb().KBa(a);};this.setTimedTextSettings=function(a){return k.hb().DL(a);};this.prepare=function(){return k.hb().Xv();};this.load=function(){return k.hb().load();};this.close=function(a){return k.ona(k.Oi.close(),a);};this.play=function(){return k.hb().play();};this.pause=function(){return k.hb().pause();};this.seek=function(a){return k.hb().seek(a);};this.engage=function(a,b){return k.ona(k.hb().NI(a),b);};this.induceError=function(a){return k.hb().Gdb(a);};this.loadCustomTimedTextTrack=function(a,b,c){return k.hb().Jfb(a,b,c);};this.tryRecoverFromStall=function(){return k.hb().oM();};this.addEpisode=function(a){var b;k.log.info("Next episode added",a);b=k.swa(a.playbackParams);return k.Oi.l1({M:a.movieId,U:"startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.U,ba:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.ba,ab:b,LT:a.manifestData,dl:k.dl});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=k.swa(a);k.log.info("Playing the next episode",a);return k.Oi.transition(a);};this.playSegment=function(a){return k.hb().olb(a);};this.queueSegment=function(a){return k.hb().Mmb(a);};this.updateNextSegmentWeights=function(a,b){return k.hb().Iq(a,b);};this.getCropAspectRatio=function(){return k.hb().v$a();};this.getCurrentSegmentId=function(){return k.Oi.Csa();};this.getPlaylistMap=function(){return k.Oi.Q5();};this.setNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return k.Oi.Raa.apply(k.Oi,[].concat(ga(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return k.Oi.l1a.apply(k.Oi,[].concat(ga(b)));};this.updatePlaylistMap=function(a){return k.Oi.kca(a);};this.goToNextSegment=function(a,b){return k.Oi.Jta(a,b);};this.getPlaying=function(){return k.isPlaying();};this.getPaused=function(){return k.isPaused();};this.getMuted=function(){return k.isMuted();};this.getEnded=function(){return k.isEnded();};this.getTimedTextVisibility=function(){return k.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!k.hb().DS().visibility;};this.setTimedTextVisibility=function(a){return k.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return k.hb().DL({size:a});};this.setTimedTextBounds=function(a){return k.hb().DL({bounds:a});};this.setTimedTextMargins=function(a){return k.hb().DL({margins:a});};this.setTimedTextVisible=function(a){return k.hb().DL({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.s4=new Map();this.log=d.Jf("VideoPlayer");this.addEpisode({movieId:a,playbackParams:b,manifestData:c});Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(f,"__esModule",{value:!0});d=a(4);a(84);b.prototype.hb=function(){return this.Oi.Sl();};b.prototype.Spa=function(a,b){var c;this.s4.has(a)||this.s4.set(a,new Map());c=this.s4.get(a);c.has(b)||c.set(b,this.p5a(a,b));return c.get(b);};b.prototype.p5a=function(a,b){var c;c=this;return function(d){return b(Object.assign({},d,{type:a,target:c}));};};b.prototype.ona=function(a,b){return b?a.then(b)["catch"](b):a;};b.prototype.swa=function(a){a=void 0===a?{}:a;return{Xg:a.trackingId,IH:a.authParams,fm:a.sessionParams,pe:a.uiLabel,Q3:a.disableTrackStickiness,yW:a.uiPlayStartTime,ZR:a.forceAudioTrackId,$R:a.forceTimedTextTrackId,$f:a.isBranching,tca:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,LC:a.enableTrickPlay,A6:a.heartbeatCooldown,qT:a.isPlaylist,ET:a.loadImmediately||!1,da:a.manifestIndex||0,Y9:a.pin,QK:a.preciseSeeking,U:a.startPts,ba:a.endPts,xn:a.packageId,sV:a.renderTimedText,gra:a.extraManifestParams};};f.iSa=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Tha="PlaylistConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Wha="PlaylistVideoPlayerFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Vha={nzb:"lazy",Kyb:"immediate",Dda:"delayedSeamless",Uga:"pauseAtStart",RAb:"pauseAtEnd"};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.zZ="PlaylistManagerFactorySymbol";},function(g,f,a){var d,t,m,c,k,q;function b(a,b,c){this.Ze=a;this.yb=b;this.j=c;this.VJ=[];}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(2);t=a(1);m=a(16);c=a(19);k=a(4);q=a(15);b.prototype.I4=function(){this.VJ.forEach(function(a){return a();});};b.prototype.pd=function(a,b,c){this.j.pd(this.Ze(a,b,c));};b.prototype.IS=function(a){this.j.fireEvent(q.S.k9,{Ip:a});};b.prototype.HYa=function(a){-1===this.VJ.indexOf(a)&&this.VJ.push(a);};b.prototype.Mnb=function(a){a=this.VJ.indexOf(a);0<=a&&this.VJ.splice(a,1);};b.prototype.Gta=function(a){var b,f;b={};m.Rb(a.code)?b.Y=d.uea(a.code):b.Y=d.G.$g;try{f=a.message.match(/\((\d*)\)/)[1];b.Ec=k.Nna(f,4);}catch(y){}b.Ra=c.qd(a);return b;};a=b;a=g.__decorate([t.N()],a);f.RM=a;},function(g,f,a){var b,d,t,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(12);d=a(53);t=a(18);m=a(2);c=a(61);k=a(4);q=a(15);f.xJa=function(a,f,g){function p(d){var f,p;f=d.error||d;p=t.qd(f);g.error("uncaught exception",f,p);(f=(f=f&&f.stack)&&b.config.uDa&&b.config.Etb?0<=f.indexOf(b.config.uDa):void 0)&&(d&&d.stopImmediatePropagation&&d.stopImmediatePropagation(),d=k.W.get(c.ql),a.pd(d(m.I.ZRa)));}function u(){d.Ae.removeListener(d.o6,p);a.removeEventListener(q.S.Ge,u);a.removeEventListener(q.S.yh,u);}try{d.Ae.addListener(d.o6,p);a.addEventListener(q.S.Ge,u);b.config.wdb&&a.addEventListener(q.S.yh,u);}catch(A){g.error("exception in exception handler ",A);}};},function(g,f,a){var b,d,t,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});b=a(12);d=a(9);t=a(26);g=a(2);m=a(8);c=a(16);k=a(4);a=a(20);k.W.get(a.De).register(g.I.dfa,function(a){var q,g,y,h,A;function k(){var a;a=m.Rw(t.Vf()/y);if(a!=A){for(var b=m.Un(a-A,30);b--;)h.push(0);(b=m.um(h.length-31,0))&&h.splice(0,b);A=a;}h[h.length-1]++;}q=b.config.xgb;g=-6/(q-2-2);y=d.Mj;h=[];A=m.Rw(t.Vf()/y);c.bva(q)&&(setInterval(k,1E3/q),f.kwa={kab:function(){var c;for(var a=[],b=h.length-1;b--;){c=h[b];a.unshift(0>=c?9:1>=c?8:c>=q-1?0:m.Jh((c-2)*g+7));}return a;}});a(d.wc);});},function(g,f,a){var b,d,t,m,c,k,q,p,u,z,y,h,A,B,M,S,l;Object.defineProperty(f,"__esModule",{value:!0});b=a(49);d=a(104);t=a(265);m=a(56);c=a(53);k=a(19);q=a(105);p=a(4);u=a(113);z=a(175);y=a(18);h=a(8);A=a(16);B=a(15);M=a(106);S=a(3);l=a(96);f.uPa=function(a){var ca,va,za,O,ha,fa,Aa,sa,ja,Fa,F,D,J,Sa,P;function f(){if(!ha){ja=setInterval(W,1E3);a.Ug.appendChild(va);for(var b=fa.length;b--;)fa[b].addListener(r);for(b=Aa.length;b--;)a.addEventListener(Aa[b],r);ha=!0;}n();}function g(){if(ha){clearInterval(ja);F=Fa=void 0;a.Ug.removeChild(va);for(var b=fa.length;b--;)fa[b].removeListener(r);for(b=Aa.length;b--;)a.removeEventListener(Aa[b],r);ca.Jb();ha=!1;}}function L(){ha?g():f();}function Q(){var c,f,k,g,L,B,M,l,Q,n,E,W,R,N,ka,r,ca,ba,V,Y,ja,ha,O,fa,va;c=[];c.push({Version:"6.0018.593.011",Esn:d.th?d.th.Mg:"UNKNOWN",PBCID:a.nC,UserAgent:h.Nj});try{k={MovieId:a.M,TrackingId:a.Xg,Xid:a.oa+" ("+m.fr.map(function(a){return a.oa;}).join(", ")+")",Position:q.bh(a.Ob.value),Duration:q.bh(a.Tx.fa(S.ma)),Volume:h.Jh(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};if(a.Xa.$f||a.Xa.qT)k["Segment Position"]=q.bh(a.py()),k.Segment=a.P5();c.push(k);}catch(fc){}try{g=a.dk?a.dk.fdb():void 0;c.push({"Player state":D[a.state.value],"Buffering state":J[a.Pm.value]+(A.pa(g)?", ETA:"+q.bh(g):""),"Rendering state":Sa[a.jc.value]});}catch(fc){}try{L=a.rca()+a.H1();B=a.xf.value;M=B&&B.stream;l=a.Je.value;Q=l&&l.stream;n=Q?Q.vc:"";E=a.re.value?a.re.value.vc:"";W=a.ij.value?a.ij.value.P:"";R=a.re.value?a.re.value.P:"";N=a.Ub[b.pc.L.VIDEO].value;ka=a.Ub[b.pc.L.AUDIO].value;c.push({"Playing bitrate (a/v)":M&&Q?M.P+" / "+Q.P+" ("+Q.width+"x"+Q.height+")":"?","Playing/Buffering vmaf":n+"/"+E,"Buffering bitrate (a/v)":W+" / "+R,"Buffer size in Bytes (a/v)":a.H1()+" / "+a.rca(),"Buffer size in Bytes":""+L,"Buffer size in Seconds (a/v)":q.bh(a.DH())+" / "+q.bh(a.AM()),"Current CDN (a/v)":(ka?ka.name+", Id: "+ka.id:"")+" / "+(N?N.name+", Id: "+N.id:"")});}catch(fc){}try{if(a.xf.value&&a.Je.value){r=a.xf.value.stream.track;ca=a.Je.value.stream;ba=a.Ci.value;V=a.Bf.value?a.Bf.value.mc:[];Y=p.W.get(u.VA);ja=Y.mI(V);ha=Y.gI(r.mc);O=ca.df;fa=/hevc/.test(O)?"hevc":/vp9/.test(O)?"vp9":/h264hpl/.test(O)?"avchigh":"avc";/hdr/.test(O)&&(fa+=", hdr");/dv/.test(O)&&(fa+=", dv");/prk/.test(O)&&(fa+=", prk");c.push({"Audio Track":r.Wj+", Id: "+r.fb+", Channels: "+r.Nk+", Codec: "+ha,"Video Track":"Codec: "+ja+" ("+fa+")","Timed Text Track":ba?ba.Wj+", Profile: "+ba.profile+", Id: "+ba.fb:"none"});}}catch(fc){}try{va=a.vg;c.push({Framerate:(a.re.value?a.re.value.fS:0).toFixed(3),"Current Dropped Frames":A.pa(Fa)?Fa:"","Total Frames":va.uS(),"Total Dropped Frames":va.ny(),"Total Corrupted Frames":va.hJ(),"Total Frame Delay":va.vS(),"Main Thread stall/sec":t.kwa?t.kwa.kab().join(" "):"DISABLED",VideoDiag:z.lwa(a.GS())});}catch(fc){}try{c.push({Throughput:a.ta+" kbps"});}catch(fc){}try{y.Sc(sa,function(a,b){f=f||{};f[a]=JSON.stringify(b);});f&&c.push(f);}catch(fc){}return c;}function n(){var a;if(za.selectionStart==za.selectionEnd){a="";Q().forEach(function(b){a=a?a+"\n":"";y.Sc(b,function(c){a+=c+": "+b[c]+"\n";});});za.style.fontSize=q.cr(h.Rw(va.clientHeight/60),8,18)+"px";za.value=a;}}function W(){var b;if(a.vg){b=a.vg.ny();b&&(Fa=b-F,F=b,r());}}function r(){ca.Jb(n);}function N(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==M.Zq.gHa||a.keyCode==M.Zq.Q)&&L();}ca=p.W.get(l.WA)(S.Ag(1));va=k.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});za=k.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");O=k.createElement("DIV","position:absolute;top:2px;right:2px");Aa=[B.S.WT,B.S.w_a];sa={};fa=[a.Ob,a.Ub[b.pc.L.AUDIO],a.Ub[b.pc.L.VIDEO],a.xf,a.Je,a.ij,a.re,a.Ci,a.state,a.Pm,a.jc,a.volume,a.muted];this.Spb=function(a){sa.DFR=a;};D={};D[B.jb.MA]="Not Loaded";D[B.jb.LOADING]="Loading";D[B.jb.Yc]="Normal";D[B.jb.CLOSING]="Closing";D[B.jb.CLOSED]="Closed";J={};J[B.lf.Yc]="Normal";J[B.lf.Hj]="Pre-buffering";J[B.lf.ria]="Network stalled";Sa={};Sa[B.nb.ng]="Waiting for decoder";Sa[B.nb.yd]="Playing";Sa[B.nb.ni]="Paused";Sa[B.nb.Vq]="Media ended";za.setAttribute("readonly","readonly");va.appendChild(za);va.appendChild(O);P=k.createElement("BUTTON",null,"X");P.addEventListener("click",g,!1);O.appendChild(P);c.Ae.addListener(c.vy,N);a.addEventListener(B.S.Ge,function(){c.Ae.removeListener(c.vy,N);g();});y.Va(this,{toggle:L,show:f,lD:g,eab:Q});};},function(g,f,a){var d,t,m,c,k,q,p,u,z,y,h,A,B,M,S,l,n,E,ka,R,r,Y,ea,V;function b(a){var b;b=this;this.j=a;this.yb=this.j.yb;this.gb=h.Zf(this.j,"MediaPresenterASE");this.pla=this.hka=this.yl=0;this.od=this.yb.La;this.Jla=this.Gla=this.N0=this.s0=this.SP=this.oO=this.u0=!1;this.sl={type:z.ig.audio,wC:[],Fo:[]};this.ao={type:z.ig.video,wC:[],Fo:[]};this.zx={};this.kla=k.config.Yhb;this.Dla=k.L1a(!!this.j.Xa.$f).K9;this.d0=k.config.NT;this.EXa=h.W.get(ea.WA)(Y.Cb(R.FZ));this.cf={};this.hla={};this.KG={};this.j.jj=!1;this.zx[d.pc.Ih.AUDIO]=this.sl;this.zx[d.pc.Ih.VIDEO]=this.ao;M.Ga(this.d0>this.kla,"bad config");M.Ga(this.d0>this.Dla,"bad config");this.yb.addEventListener(r.Kh.bCa,function(){b.gb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.AUa();}catch(va){b.gb.error("Exception while initializing",va);b.vl(A.I.jOa);}});}Object.defineProperty(f,"__esModule",{value:!0});d=a(49);t=a(140);m=a(61);c=a(9);k=a(12);q=a(56);p=a(53);u=a(28);z=a(75);y=a(26);h=a(4);a(84);A=a(2);B=a(432);M=a(14);S=a(105);l=a(19);n=a(45);E=a(15);ka=a(16);R=a(213);r=a(174);Y=a(3);ea=a(96);V=a(130);b.prototype.Ksa=function(){return this.yb.my(!1);};b.prototype.uS=function(){return this.yb.uS();};b.prototype.ny=function(){return this.yb.ny();};b.prototype.hJ=function(){return this.yb.hJ();};b.prototype.vS=function(){return this.yb.vS();};b.prototype.AUa=function(){var a;a=this;this.gb.trace("Video element initializing");this.yb.sourceBuffers.forEach(function(b){return a.jXa(b);});a.BUa(a.j.rv);};b.prototype.BUa=function(a){var f;function b(){function a(){var a,b;b=f.j.ob&&f.j.ob.kv();f.j.jc.value==E.nb.ng&&f.j.state.value==E.jb.Yc&&f.j.Pm.value==E.lf.Yc&&f.j.Fj.value==E.lf.Yc&&!f.j.jj&&b?(f.w_.ss(),a="ensureTimer"):(f.w_.Vg(),a="stopTimer");f.gb.trace("Timer update: "+a,{presentingState:f.j.jc.value,playbackState:f.j.state.value,avBufferingState:f.j.Pm.value,textBufferingState:f.j.Fj.value,autoplayWasBlocked:f.j.jj,hasLicense:b});}k.config.Rpa&&(M.Ga(!f.w_),f.w_=h.W.get(V.XA)(k.config.Rpa,function(){var a;a=h.W.get(B.Uda).W5a(f.j);f.vl(a.code,a);}),f.j.jc.addListener(a),f.j.Pm.addListener(a),f.j.Fj.addListener(a),f.j.state.addListener(a),f.j.addEventListener(E.S.Eva,a),f.j.addEventListener(E.S.jj,a),f.j.addEventListener(E.S.N1,a),a());}function d(){f.xO||(d=M.qFa,f.yb.addEventListener(r.Kh.rL,f.cf[r.Kh.rL]=function(){return f.n0();}),f.yb.addEventListener(r.Kh.Ym,f.cf[r.Kh.Ym]=function(){return f.cWa();}),f.od.addEventListener("ended",f.cf.ended=function(){return f.dWa();}),f.od.addEventListener("play",f.cf.play=function(){return f.hWa();}),f.od.addEventListener("pause",f.cf.pause=function(){return f.gWa();}),f.od.addEventListener("playing",f.cf.playing=function(){return f.iWa();}),f.PG=!0,0===f.j.da&&(f.MP(),f.gb.trace("Video element initialization complete"),f.j.Nc("vi"),k.config.bqa?setTimeout(function(){f.m0=!0;f.gj();},k.config.bqa):f.m0=!0,b(),n.zb(function(){return f.gj();})));}f=this;a?this.gb.trace("Waiting for needkey"):this.gb.warn("Movie is not DRM protected",{MovieId:this.j.M});this.gb.trace("Waiting for loadedmetadata");a?this.yb.addEventListener(r.Kh.Jva,function(){f.j.Nc("ld");f.j.ob.sR(""+f.j.M);f.j.fireEvent(E.S.Eva);}):this.j.ob.sR(""+this.j.M);u.RYa(this.od,function(){f.gb.trace("Video element event: loadedmetadata");f.j.Nc("md");});p.Ae.addListener(p.Vk,this.KG[p.Vk]=function(){return f.Tja();},c.PA);this.j.addEventListener(E.S.Ge,function(){return f.Tja();},c.PA);this.j.addEventListener(E.S.PAa,function(){return f.D0();});this.j.addEventListener(E.S.rn,function(){return f.eWa();});this.j.paused.addListener(function(){return f.gj();});this.j.muted.addListener(function(){return f.X0();});this.j.volume.addListener(function(){return f.X0();});this.j.playbackRate.addListener(function(){return f.WXa();});this.j.Pm.addListener(function(){return f.gj();});this.j.Fj.addListener(function(){return f.gj();});this.X0();this.sl.lk.xBa(function(){return f.bP();});this.ao.lk.xBa(function(){return f.bP();});this.bP();n.zb(function(){d();});};b.prototype.cQ=function(a){var b,c;b=this;c=this.zx[a.O];c?c.Fo.push(a):M.Ga(!1);this.kTa(a).then(function(){b.bP();b.j.fireEvent(E.S.WT);})["catch"](function(a){b.vl(A.I.oOa,{Ra:l.qd(a)});});};b.prototype.x1=function(a,b,c){c=void 0===c?{}:c;b={O:a.type,Cy:!1,response:b,ak:function(){return"header";},get Vb(){return!this.Cy;},profile:c.profile};(c=this.zx[a.type])?c.Fo.push(b):M.Ga(!1);this.Gla||a.type!==d.pc.Ih.VIDEO||(this.xi||this.seek(this.j.U,E.jg.PF),this.Gla=!0);};b.prototype.jXa=function(a){var b;b=this.zx[a.type];if(b)try{b.lk=a;}catch(va){this.vl(A.I.mZ,{Y:R.w5(a.type),Ra:l.qd(va)});}};b.prototype.bP=function(){this.PG?this.gj():k.config.mZa&&this.MP();};b.prototype.$ib=function(){var a;a=this.j.py()||0;this.j.Xa.$f?k.config.N_a&&(a=Math.max(a-(this.yb.uaa+1)-k.config.taa,this.j.ob.T5().Mc)):(a-=k.config.gpb,a=Math.max(a,this.Zka));this.seek(a,E.jg.WN);};b.prototype.xK=function(a){var b;b=this;a.mediaType===d.pc.Ih.AUDIO?this.oO=!0:a.mediaType===d.pc.Ih.VIDEO&&(this.SP=!0);n.zb(function(){return b.gj();});};b.prototype.rab=function(){return{o5a:this.hka,Dib:this.pla};};b.prototype.D3=function(){return this.kka(this.sl,this.C3())&&this.kka(this.ao,this.C3());};b.prototype.kTa=function(a){var b;b=this.yb&&this.yb.Zsa();return void 0===this.r0&&b&&a.Lf&&a.Lf.Pb&&a.Lf.Pb.xa&&Infinity!=a.Lf.Pb.xa.ba&&(a=a.Lf.Pb.xa.ba+a.bm,a>this.j.UU.XU(Y.ma)&&(this.j.UU=Y.Cb(a)),a>b.XU(Y.ma))?(this.r0=b.scale(2),this.EWa()):Promise.resolve();};b.prototype.EWa=function(){var a;a=this;return new Promise(function(b,c){function d(){return f().then(function(a){if(!1===a)return d();});}function f(){return new Promise(function(b){setTimeout(function(){if(!a.sl.lk.nj()&&!a.ao.lk.nj())try{a.yb.aqb(a.r0);a.N0=!1;a.r0=void 0;b(!0);}catch(fa){b(!1);}b(!1);},0);});}a.N0=!0;d().then(function(){b();})["catch"](function(b){a.gb.error("Unable to change the duration",b);c(b);});});};b.prototype.Vkb=function(){var a;a=this;return this.xi&&this.d2()&&this.D3()?(this.yb.seek(this.yl),this.xi=!1,t.BN||this.A0(),n.zb(function(){return a.gj();}),!0):!1;};b.prototype.Ptb=function(a){var b;if(a<this.yl){b=this.yl-a;k.config.Wkb&&a&&b>R.FZ&&(a={ElementTime:S.bh(a),MediaTime:S.bh(this.yl)},b>R.bQa?(this.gb.error("VIDEO.currentTime became much smaller",a),this.vl(A.I.zOa)):this.gb.warn("VIDEO.currentTime became smaller",a));}else this.yl=S.cr(a,0,this.j.UU.fa(Y.ma));};b.prototype.C3=function(){return this.j.jc.value===E.nb.ng?this.Dla:this.kla;};b.prototype.d2=function(){return this.j.Pm.value===E.lf.Yc&&this.j.Fj.value===E.lf.Yc;};b.prototype.gj=function(){var a,b,c;this.j.aM=y.Vf();if(!this.we()&&this.PG){a=this.yb.wbb();a||this.MP();t.BN||this.MP();this.j.paused.value||!this.D3()||!this.d2()||a||this.xi?this.C0():this.u0||this.D0();if(!(a||this.xi&&this.Vkb()||this.we())){a=this.yb.my(!0);b=this.j.jc.value;c=this.J1a();c===E.nb.Vq?(this.yl=this.j.UU.fa(Y.ma),this.C0()):c!==E.nb.ng&&this.Ptb(a);this.vma();this.uO();this.j.jc.set(c);c!==E.nb.ng||b!==E.nb.yd&&b!==E.nb.ni||this.Kjb();}}};b.prototype.J1a=function(){var a,b,c;a=this;b=this.j.jc.value;c=b;this.xi?c=E.nb.ng:this.od&&this.od.ended?b===E.nb.yd&&(c=E.nb.Vq):this.d2()&&this.D3()?this.yb.X5a()?c=this.od&&this.od.paused?E.nb.ni:E.nb.yd:this.EXa.Jb(function(){return a.DXa();}):c=E.nb.ng;return c;};b.prototype.Kjb=function(){var a;if(this.j.jc.value===E.nb.ng){a=this.KXa()>this.C3();this.j.Fj.value!==E.lf.Yc?this.j.Ci.value?(this.j.fireEvent(E.S.eo,{cause:q.pPa}),this.gb.warn("rebuffer due to timed text",this.j.Ci.value.bg)):this.j.fireEvent(E.S.WE):a?(this.hka++,this.j.fireEvent(E.S.eo,{cause:q.Hha})):(this.pla++,this.j.fireEvent(E.S.eo,{cause:q.Iha}));}};b.prototype.KXa=function(){var a,b;a=this.ao.Fo.filter(function(a){return!a.Vb;}).reduce(function(a,b){return a+b.ps;},0);b=this.sl.Fo.filter(function(a){return!a.Vb;}).reduce(function(a,b){return a+b.ps;},0);return Math.min(a,b);};b.prototype.DXa=function(){this.we()||(k.config.ajb&&(this.sl.lk.nj()||this.sl.lk.mna(new Uint8Array([0,0,0,8,102,114,101,101]))),this.gj());};b.prototype.kka=function(a,b){var c;c=a.XQ;c=c&&c.kK;return 0===a.Fo.length&&(a.type===z.ig.audio&&this.oO||a.type===z.ig.video&&this.SP)?!0:c&&c.mE-this.yl>=b||!1;};b.prototype.n0=function(){this.gj();};b.prototype.cWa=function(){this.gj();this.j.fireEvent(E.S.Ym);};b.prototype.dWa=function(){this.gb.trace("Video element event: ended");this.gj();};b.prototype.hWa=function(){this.gb.trace("Video element event: play");this.gj();};b.prototype.gWa=function(){this.gb.trace("Video element event: pause");this.gj();};b.prototype.iWa=function(){this.gb.trace("Video element event: playing");this.gj();};b.prototype.X0=function(){this.we()||(this.od&&this.od.volume!==this.j.volume.value&&(this.od.volume=this.j.volume.value),this.od&&this.od.muted!==this.j.muted.value&&(this.od.muted=this.j.muted.value));};b.prototype.WXa=function(){!this.we()&&this.od&&(this.od.playbackRate=this.j.playbackRate.value);};b.prototype.MP=function(){this.N0||(this.rma(this.sl),this.rma(this.ao));this.we()||!this.oO&&!this.SP||this.sl.lk.nj()||this.ao.lk.nj()||this.E_||(this.E_=!0,this.yb.endOfStream());};b.prototype.rma=function(a){var b,c,d;if(!this.we()&&a.lk){b=a.lk;c=a.wC;!b.nj()&&0<c.length&&(a.XQ=c[c.length-1]);if(a.Xaa){if(b.nj())return;a.Xaa=!1;d=this.yb.Zsa().XU(Y.xm);0<d&&b.remove(0,d);}for(d=a.Fo[0];d&&d.response&&(d.Vb||d.Us-this.yl<=this.d0);)if(this.E_=!1,this.QXa(d))a.Fo.shift(),d=a.Fo[0];else break;!b.nj()&&0<c.length&&(a.XQ=c[c.length-1]);}};b.prototype.QXa=function(a){var b,c,d;M.Ga(a&&a.response);b=a.response;c=a.O;d=this.zx[c];if(!this.we()&&d.lk&&!d.lk.nj()){try{a.Vb&&a.profile&&d.lk.Q0a(a.profile);this.gb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});d.lk.mna(b,a);a.Vb||d.wC.push(this.sTa(a));k.config.e6a&&!a.Vb&&(this.xi&&!t.BN||a.Coa());}catch(O){"QuotaExceededError"!=O.name?(this.gb.error("Exception while appending media",a,O),this.vl(A.I.xOa,R.w5(c))):this.j.YQ=this.j.YQ?this.j.YQ+1:1;return;}return!0;}};b.prototype.rTa=function(a){var b;b=this.j.Icb(a.Db);b||(this.gb.error("Could not find CDN",{cdnId:a.Db}),b={id:a.Db,V7:a.location});return b;};b.prototype.xTa=function(a){var b,c;c=a.za;a.O===d.pc.Ih.AUDIO?b=this.j.Sta(c):a.O===d.pc.Ih.VIDEO&&(b=this.j.Zta(c));b||this.gb.error("Could not find stream",{stream:c});return b;};b.prototype.sTa=function(a){var b;b=this.xTa(a);return{kK:a,stream:b,Tm:{startTime:Math.floor(a.Us),endTime:Math.floor(a.mE)},Ub:this.rTa(a)};};b.prototype.D0=function(){var a;a=this;this.we()||!ka.Rb(this.od)||this.od.ended||!this.m0||!this.PB&&void 0!==this.PB||(this.gb.trace("Calling play on element"),Promise.resolve(this.od.play()).then(function(){a.PB=!1;a.u0=!1;a.od.style.display=null;a.j.jj=!1;a.j.fireEvent(E.S.N1,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.gb.warn("Playback is blocked by the browser settings",b),a.j.jj=!0,a.u0=!0,a.od.style.display="none",a.j.fireEvent(E.S.jj,{player:{play:function(){return a.D0();}}})):(a.PB=!1,a.Jla||(a.Jla=!0,a.gb.error("Play promise rejected",b)));}));};b.prototype.eWa=function(){this.Zka=this.j.py()||0;};b.prototype.C0=function(){this.we()||!ka.Rb(this.od)||this.od.ended||!this.m0||this.PB&&void 0!==this.PB||(this.gb.trace("Calling pause on element"),this.od.pause(),this.PB=!0);};b.prototype.uO=function(a){if(ka.Rb(a)){for(var b=this.zx[a],c=b.wC,f,k=!1;(f=c[0])&&f.kK.Us<=this.yl;)if(this.yl<f.kK.mE){a=a===d.pc.Ih.AUDIO?this.j.xf:this.j.Je;u.Qoa(f,a.value)||(k=!0,a.set(f));break;}else c.shift();!k&&!this.s0||this.E_||(f=f&&f.kK.Us-f.kK.ps-1,0<f&&((b=b.lk)&&!b.nj()?(b.remove(0,f/l.Mj),this.s0=!1):this.s0=!0));}else this.uO(d.pc.Ih.AUDIO),this.uO(d.pc.Ih.VIDEO);};b.prototype.vma=function(a){this.j.Ob.set(this.yl);a&&this.j.h9a();};b.prototype.eC=function(a,b){return b===E.jg.UA||this.j.Xa.$f&&this.xi?!1:(b=this.j.ob)&&b.eC(a)||!1;};b.prototype.t0a=function(a,b,c){a=this.JUa()||c?Math.round(b):this.mUa(b,a);k.config.taa&&(a+=k.config.taa);return a;};b.prototype.h1a=function(a,b){a=this.j.hn(a).Tx.fa(Y.ma)-k.config.fvb;return S.cr(b,0,a);};b.prototype.seek=function(a,b,c,d){var f,k,p,q,u;b=void 0===b?E.jg.$w:b;c=void 0===c?this.j.da:c;d=void 0===d?!1:d;if(!this.we()&&this.j.ob){f=b===E.jg.UA;k=this.t0a(c,f?a:this.h1a(c,a),d);f?(p=k,d=this.j.ob.Ux(c,k)):(p=this.j.ob.V2(c,k),d=k);b===E.jg.PF&&(this.j.Wna=d);q=this.eC(p,b);u=(b===E.jg.$w||b===E.jg.WN)&&0<c;f=f||q||u?p:d;this.uO();p=this.yl;this.gb.info("Seeking",{Requested:S.bh(a),Actual:S.bh(k),Cause:b,Skip:q});this.j.fireEvent(E.S.Cz,{yU:p,p9:f,cause:b,skip:q});this.j.jc.set(E.nb.ng);b!==E.jg.PF&&(this.A0(),this.sl.Xaa=!0,this.ao.Xaa=!0);this.yl=f;this.Zka=d;a=this.j.xf.value;k=this.j.Je.value;this.j.xf.set(null);this.j.Je.set(null);this.vma(!0);this.j.fireEvent(E.S.Bn,{yU:p,p9:f,Vm:d,cause:b,skip:q,xf:a,Je:k,da:c});this.xi=!0;this.gj();}};b.prototype.JUa=function(){return this.j.Xa.$f?!0:"boolean"===typeof this.j.Xa.QK?this.j.Xa.QK:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?k.config.QK&&k.config.Plb:k.config.QK;};b.prototype.A0=function(){this.sl.wC=[];this.sl.XQ=void 0;this.sl.Fo=[];this.ao.wC=[];this.ao.XQ=void 0;this.ao.Fo=[];this.SP=this.oO=!1;this.j.fireEvent(E.S.WT);};b.prototype.mUa=function(a,b){return this.j.ob.w0a(a,b,this.j.Xa.$f?k.config.Gqa:k.config.qs);};b.prototype.vl=function(a,b,c){var d;if(!this.xO){d=h.W.get(m.ql);this.j.pd(d(a,b,c));}};b.prototype.Tja=function(){if(!this.xO){this.gb.info("Closing.");this.yb.removeEventListener(r.Kh.rL,this.hla[r.Kh.rL]);this.yb.removeEventListener(r.Kh.Ym,this.hla[r.Kh.Ym]);this.od.removeEventListener("ended",this.cf.ended);this.od.removeEventListener("play",this.cf.play);this.od.removeEventListener("pause",this.cf.pause);this.od.removeEventListener("playing",this.cf.playing);p.Ae.removeListener(p.Vk,this.KG[p.Vk]);this.xO=!0;try{k.config.uib&&(this.od.volume=0,this.od.muted=!0);this.C0();this.yb.close();}catch(N){}this.od=void 0;this.A0();}};b.prototype.we=function(){return this.xO?!0:ka.Rb(this.od)?!1:(this.gb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};f.QMa=b;},function(g,f,a){var b,d,t,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(9);d=a(12);t=a(26);m=a(105);c=a(8);k=a(45);q=a(16);p=a(15);f.rPa=function(a){var h,B,M,S,l,n;function f(){return a.state.value===p.jb.LOADING||a.state.value===p.jb.Yc&&a.jc.value===p.nb.ng;}function u(){f()?n||(n=setInterval(g,100)):n&&(clearInterval(n),n=void 0,k.zb(g));}function g(){var b,k,u,g,y,z,L,A;b=t.Vf();k=h.value;u=k?k.Qi:0;y=a.state.value==p.jb.LOADING||f()&&b-B>d.config.$_a;y&&a.state.value==p.jb.Yc?(a.qQ.value===p.lf.ria?(L=u,z=!0):(g=b+(a.dk&&a.dk.fdb()||0),M=M||b,S=S||M+d.config.Thb+1,q.pa(g)&&(g=c.um(g,S),L=a.dk?a.dk.DGb():.99,L=c.Jh(1E3*m.cr((b-M)/(g-M),0,L))/1E3)),L<u&&(u-L<d.config.tmb/100?(L=u,l=void 0):l?b-l>d.config.smb?(A=!0,l=void 0):L=u:(l=b,L=u))):l=S=M=void 0;b=y?{dW:z,Qi:L,umb:A}:null;(!b||!h||!k||q.pa(b.Qi)&&!q.pa(k.Qi)||q.pa(b.Qi)&&q.pa(k.Qi)&&.01<c.XF(b.Qi-k.Qi)||b.dW!==k.dW)&&h.set(b);}h=a.f2;B=0;a.state.addListener(function(){u();g();},b.fZ);a.jc.addListener(function(a){if(a.oldValue!==p.nb.ng||a.newValue!==p.nb.ng)B=t.Vf();u();});a.qQ.addListener(function(){u();});a.Pm.addListener(function(){u();});a.Fj.addListener(function(){u();});n||(n=setInterval(g,100));};},function(g,f,a){var k,q,p,u;function b(a,b,c,d,f){var k;k={};"right"==a.horizontalAlignment?k.right=100*(c-b.left-b.width-f)/c+"%":k.left=100*(b.left-f)/c+"%";"bottom"==a.verticalAlignment?k.bottom=100*(d-b.top-b.height-f)/d+"%":k.top=100*(b.top-f)/d+"%";return k;}function d(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function t(a,b,c,d,f){var k,q;k=a.style;q=p.L6(a.text);for(a=a.lineBreaks;a--;)q="<br />"+q;return m(q,k,b,c,d,f);}function m(a,b,f,p,g,m){var y;y=b.characterStyle;g=g[y];p=b.characterSize*p.height/((0<=y.indexOf("MONOSPACE")?d(g,b.cellResolution)||g.lineHeight:g.lineHeight)||1);p=0<m?u.Rw(p*m):u.Jh(p);m={"font-size":p+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(m["font-style"]="italic");b.characterUnderline&&(m["text-decoration"]="underline");b.characterColor&&(m.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(m["background-color"]=c(b.backgroundColor,b.backgroundOpacity));p=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case q.O9:m["text-shadow"]=p+" 0px 0px 7px";break;case q.xya:m["text-shadow"]="-1px 0px "+p+",0px 1px "+p+",1px 0px "+p+",0px -1px "+p;break;case q.okb:m["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case q.mkb:m["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}m=k.hI(m);(f=f[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(m+=";"+f);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+m+'">'+a+"</span>";}function c(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(f,"__esModule",{value:!0});k=a(28);q=a(193);p=a(18);u=a(8);f.$qa=function(a,b,c,d,f){var k;k="";a.textNodes.forEach(function(a){k+=t(a,c,b,d,f);});return k;};f.Y7a=function(a,c,d,f,k){var q,g,y,t,z;q="";g=k.width;k=k.height;for(var m=c.length;m--;){y=c[m];t=a[m];t=t&&t.region;z="position:absolute;background:"+f+";width:"+u.Jh(y.width+2*d)+"px;height:"+u.Jh(y.height+2*d)+"px;";p.Sc(b(t,y,g,k,d),function(a,b){z+=a+":"+b+";";});q+='<div style="'+z+'"></div>';}return q;};f.X7a=b;f.XFb=d;f.ZFb=t;f.WFb=m;f.YFb=c;f.W7a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return k.hI(b);};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(8);f.Btb=function(a,f){function d(a,d,f){var m,t,h,l;if(a&&1<a.length){for(var k=[],p=[],q=0;q<a.length;q++)k[q]=0,p[q]=0;for(var u=!1,q=0;q<a.length;q++)for(var g=q+1;g<a.length;g++){t=a[q];h=a[g];if(0>t.width||0>h.width||h.left>t.left+t.width||h.left+h.width<t.left||h.top>t.top+t.height?0:h.top+h.height>=t.top){m=b.um(t.left,h.left);l=b.um(t.top,h.top);m={width:b.um(b.Un(t.left+t.width,h.left+h.width)-m,0),height:b.um(b.Un(t.top+t.height,h.top+h.height)-l,0),x:m,y:l};}else m=void 0;if(m&&1<m.width&&1<m.height)if(l=m.width<=m.height,t=c(a[q]),h=c(a[g]),l&&d||!l&&!d)m=b.um(m.width/2,.25),t.x<=h.x?(p[q]-=m,p[g]+=m):(p[g]-=m,p[q]+=m);else if(l&&!d||!l&&d)t=b.um(m.height/2,.25),k[q]-=t,k[g]+=t;}for(q=0;q<a.length;q++){if(-.25>p[q]&&0<=a[q].left+p[q]||.25<p[q]&&a[q].left+a[q].width+p[q]<=f.width)a[q].left+=p[q],u=!0;if(-.25>k[q]&&0<=a[q].top+k[q]||.25<k[q]&&a[q].top+a[q].height+k[q]<=f.height)a[q].top+=k[q],u=!0;}return u;}}function c(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,c){a.forEach(function(a){0>a.left&&a.left+a.width<c.width?a.left+=b.Un(-a.left,c.width-(a.left+a.width)):a.left+a.width>c.width&&0<a.left&&(a.left-=b.Un(a.left+a.width-c.width,a.left));0>a.top&&a.top+a.height<c.height?a.top+=b.Un(-a.top,c.height-(a.top+a.height)):a.top+a.height>c.height&&0<a.top&&(a.top-=b.Un(a.top+a.height-c.height,a.top));});}(a,f));for(var k=0;50>k&&d(a,!0,f);k++);for(k=0;50>k&&d(a,!1,f);k++);return a;};},function(g,f,a){var d,t,m,c,k;function b(a,b){this.R4=a;this.ay={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=d.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.ABa(b);this.Jra=this.bab(this.R4);}Object.defineProperty(f,"__esModule",{value:!0});d=a(19);t=a(270);m=a(269);c=a(8);k=a(18);b.prototype.oy=function(){return this.element;};b.prototype.Npb=function(a){this.G1=a;};b.prototype.Vpb=function(a){this.$d=a;this.fL();};b.prototype.Ypb=function(a){this.ABa(a);this.fL();};b.prototype.fL=function(){var a,c,f,k,g,h,A,B,M,l,Q,E,ka,R;a=this;c=this.oy();f=c.parentElement;k=f&&f.clientWidth||0;g=f&&f.clientHeight||0;h=f=0;A={width:k,height:g};if(0<k&&0<g&&this.$d){this.G1&&(A=d.XR(k,g,this.G1),f=Math.round((k-A.width)/2),h=Math.round((g-A.height)/2));B=this.u0a(A);l=d.XR(B.width,B.height,this.G1);B=(M=this.$d.blocks)&&M.map(function(c){var f;f=m.$qa(c,l,a.R4,a.Jra);c=m.W7a(c)+";position:absolute";return d.createElement("div",c,f,b.vX);});}Object.assign(this.ay,{left:f+"px",right:f+"px",top:h+"px",bottom:h+"px"});c.style.display="none";c.style.direction=this.ay.direction;c.innerHTML="";if(B&&B.length){k=A.width;f=A.height;Q=A;this.RH&&(Q=this.qYa(A,this.RH,g,h));this.ay.margin=this.sn?this.uQ(A,"top")+"px "+this.uQ(A,"right")+"px "+this.uQ(A,"bottom")+"px "+this.uQ(A,"left")+"px ":void 0;B.forEach(function(a){return c.appendChild(a);});g=d.hI(this.ay);c.style.cssText=g+";visibility:hidden;z-index:-1";for(var h=[],n=B.length-1;0<=n;n--){E=B[n];ka=M[n];R=this.Fxa(E,ka,k,f);R.width>k&&(E.innerHTML=m.$qa(ka,A,this.R4,this.Jra,k/R.width),R=this.Fxa(E,ka,k,f));h[n]=R;}h=t.Btb(h,Q);if(n=M&&M[0]&&M[0].textNodes&&M[0].textNodes[0]&&M[0].textNodes[0].style)Q=n.windowColor,n=n.windowOpacity,Q&&0<n&&(A=m.Y7a(M,h,Math.round(f/50),Q,A),A=d.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+n,A,b.vX),c.insertBefore(A,c.firstChild));c.style.display="none";for(A=h.length-1;0<=A;A--)Q=B[A].style,n=m.X7a(M[A].region,h[A],k,f,0),Object.assign(Q,n);c.style.cssText=g;}};b.prototype.Taa=function(a){this.RH=a;this.fL();};b.prototype.h6=function(){return this.RH;};b.prototype.Uaa=function(a){this.sn=a;this.fL();};b.prototype.i6=function(){return this.sn;};b.prototype.j6=function(){return"block"===this.ay.display;};b.prototype.Vaa=function(a){a=a?"block":"none";this.element.style.display=a;this.ay.display=a;};b.prototype.bab=function(a){var b,c;b=this;c={};k.Sc(a,function(a,d){c[a]=b.qhb(d);});return c;};b.prototype.ABa=function(a){this.ay.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.uQ=function(a,b){if(this.sn){if("left"===b||"right"===b)return a.width*(this.sn[b]||0);if("top"===b||"bottom"===b)return a.height*(this.sn[b]||0);}return 0;};b.prototype.u0a=function(a){return this.sn?{height:a.height*(1-(this.sn.top||0)-(this.sn.bottom||0)),width:a.width*(1-(this.sn.left||0)-(this.sn.right||0))}:a;};b.prototype.qhb=function(a){var f;a=d.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.vX);c.Jd.body.appendChild(a);f={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};c.Jd.body.removeChild(a);return f;};b.prototype.Fxa=function(a,b,c,d){var f,k,p,g,q;f=b.region;k=(f.marginTop||0)*d;p=(f.marginBottom||0)*d;g=(f.marginLeft||0)*c;q=(f.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(f.verticalAlignment){case"top":d=k;break;case"center":d=(k+d-p-a)/2;break;default:d=d-p-a;}switch(f.horizontalAlignment){case"left":c=g;break;case"right":c=c-q-b;break;default:c=(g+c-q-b)/2;}return{top:d,left:c,width:b,height:a};};b.prototype.qYa=function(a,b,c,d){return{height:c-Math.max(d,b.bottom|0)-Math.max(d,b.top|0),width:a.width};};b.vX={"class":"player-timedtext-text-container"};f.CRa=b;},function(g,f,a){var b,d,t,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(49);d=a(53);t=a(19);m=a(18);c=a(4);k=a(51);q=a(106);p=a(15);f.yPa=function(a){var ka,R,r,Y,ea,V,N,ca,va,za;function f(){N||(M(),a.Ug.appendChild(ka),N=!0);}function g(){N&&(a.Ug.removeChild(ka),N=!1);}function u(){N?g():f();}function h(){var d,f,k;function b(a,b,c){var d,f,k;k=[];b.filter(function(b){return b.df===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===d?d=a.P:f=a.P,void 0===f&&(f=a.P)):void 0!==d&&void 0!==f&&(k.push({min:d,max:f}),d=f=void 0);});void 0!==d&&void 0!==f&&(k.push({min:d,max:f}),d=f=void 0);return k;}function c(a,b,c){var d;d=[];b.filter(function(b){return b.df===a;}).forEach(function(a){-1===c.indexOf(a)&&d.push({stream:{bitrate:a.P},disallowedBy:["manual"]});});return d;}d=a.jo();f=a.uy().sort(function(a,b){return a.P-b.P;});k=f.reduce(function(a,b){0>a.indexOf(b.df)&&a.push(b.df);return a;},[]).map(function(a){return{profile:a,ranges:b(a,f,d),disallowed:c(a,f,d)};});a.ob.SV(k,a.da);}function B(){return a.uy().filter(function(a){return ca[a.P];});}function M(){var c,d,f;c=a.Lc.value;d=a.Bf.value;f=a.Di;c&&(f=f.slice(),f.sort(function(a,b){return a.de-b.de;}),n(Y,c.mc.map(function(b){return{value:b.P,caption:b.P,selected:b==a.ij.value};})));d&&(n(ea,d.mc.map(function(b){var c,d;c=a.lK.ct(b);b=b.P;d=""+b;c&&(d+=" ("+c.join("|")+")");return{value:b,caption:d,selected:a.jo!=B?!c:ca[b]};})),ea.removeAttribute("disabled"));f&&(n(V,f.map(function(c){return{value:c.id,caption:"["+c.id+"] "+c.name,selected:c==a.Ub[b.pc.L.VIDEO].value};})),V.removeAttribute("disabled"));}function l(){N&&M();}function Q(a){var b,c;b=t.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=t.createElement("DIV",void 0,a);c=t.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);R.appendChild(b);return c;}function n(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=t.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});}function E(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==q.Zq.nQa&&va.v7&&u();}ka=t.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});R=t.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");r=t.createElement("DIV","width:100%;text-align:center");Y=Q("Audio Bitrate");ea=Q("Video Bitrate");V=Q("CDN");ca={};va=c.W.get(k.rm);ka.appendChild(R);R.appendChild(r);za=t.createElement("BUTTON",void 0,"Override");za.addEventListener("click",function(){var f,k,c,d;ca={};for(var c=ea.options,d=c.length;d--;){f=c[d];f.selected&&(ca[f.value]=1);}a.jo=B;h();if(c=a.Di){k=V.value;c=c.filter(function(a){return a.id==k;})[0];d=a.Ub[b.pc.L.VIDEO].value;c&&c!=d&&(c.IEb={testreason:"streammanager",selreason:"userselection"},a.Ub[b.pc.L.VIDEO].set(c));}g();},!1);r.appendChild(za);za=t.createElement("BUTTON",void 0,"Reset");za.addEventListener("click",function(){delete a.jo;h();g();},!1);r.appendChild(za);d.Ae.addListener(d.vy,E);a.addEventListener(p.S.rn,function(){ca={};});a.addEventListener(p.S.Ge,function(){d.Ae.removeListener(d.vy,E);});a.Ub.forEach(function(a){a.addListener(l);});a.Lc.addListener(l);a.Bf.addListener(l);m.Va(this,{toggle:u,show:f,lD:g});};},function(g,f,a){var b,d,t,m,c,k,q,p,u;Object.defineProperty(f,"__esModule",{value:!0});b=a(12);d=a(26);t=a(2);m=a(173);c=a(8);k=a(16);q=a(15);p=a(4);u=a(130);f.hLa=function(a){var g,h,z,M;function f(){a.state.value!==q.jb.Yc||a.jc.value!==q.nb.ni&&a.jc.value!==q.nb.Vq?h.Vg():h.ss();}g=b.config.Jkb;if(!a.tD()&&g){h=p.W.get(u.XA)(g,function(){a.fireEvent(q.S.nD,t.I.LN);});a.jc.addListener(f);a.state.addListener(f);if(b.config.U6){M=d.Vf();z=new m.kia(b.config.U6,function(){var f,k;f=d.Vf();k=f-M;k>g&&(a.fireEvent(q.S.nD,t.I.wN),z.A2());k>2*b.config.U6&&(a.V6=c.um(k,a.V6||0));M=f;});z.Waa();}a.addEventListener(q.S.Ge,function(){h.Vg();k.Rb(z)&&z.A2();});}};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(15);d=a(69);f.kKa=function(a){function f(c){a.fireEvent(b.S.Nu,{response:c});}return{download:function(b,k){b.j=a;b=d.Ed.download(b,k);b.Cma(f);return b;}};};},function(g,f,a){var d;function b(a,b){var c;c=this;this.$sa=a;this.Zxa=b;this.Nba=!1;this.Os=function(){c.ml=void 0;c.update();};}Object.defineProperty(f,"__esModule",{value:!0});d=a(19);b.prototype.update=function(a){var b,c,f;b=this.$sa();if(this.KDa!==b){d.Rb(b)&&d.Rb(this.duration)&&b<this.duration&&this.entries&&(f=this.Bxa||this.entries[Math.floor(b*this.Esb)]||this.entries[0]);if(f){for(;f&&f.endTime<b;)f=f.next;for(;f&&f.previous&&f.previous.endTime>=b;)f=f.previous;}f&&(f.startTime<=b&&b<=f.endTime?(c=f,this.FDa(f.endTime-b)):this.FDa(f.startTime-b));this.Bxa=f;this.KDa=b;this.h1!==c&&(this.h1=c,!a&&this.Zxa&&this.Zxa());}};b.prototype.start=function(){this.Nba=!0;this.update();};b.prototype.BBa=function(a){this.Bxa=this.h1=this.KDa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(ga(a.map(function(a){return a.endTime;}))))||0;this.Esb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.Nba=!1;this.Vg();};b.prototype.M9a=function(){this.update(!0);return this.h1;};b.prototype.FDa=function(a){this.Vg();this.Nba&&0<a&&(this.ml=setTimeout(this.Os,a+b.qNa));};b.prototype.Vg=function(){this.ml&&(clearTimeout(this.ml),this.ml=void 0);};b.qNa=10;f.HRa=b;},function(g,f,a){var b,d,t;Object.defineProperty(f,"__esModule",{value:!0});a(69);b=a(68);a(26);d=a(14);t=a(45);a(16);a(15);f.BPa=function(){var f,g,p,u,h;function a(){h=!1;for(var a=f.length,b;a--;)b=f[a],u[b]&&(u[b]=!1,p.Ib(b+"changed",{getModel:g[b]}));}function c(b){u[b]=!0;h||(h=!0,t.zb(a));}f=[];g={};p=new b.Kj();u={};h=!1;return{register:function(a,b){d.Ga(!(0<=f.indexOf(a)),"panel already registered");g[a]=b;f.push(a);},xIb:c,GGb:function(a){return(a=g[a])?a():void 0;},addEventListener:function(a,b){p.addListener(a,b);g[a]&&c(a);},removeEventListener:function(a,b){p.removeListener(a,b);}};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Kfa="LicenseBrokerFactorySymbol";},function(g,f,a){var b,d,t,m,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(9);d=a(12);g=a(2);t=a(4);m=a(19);c=a(8);a=a(20);t.W.get(a.De).register(g.I.Zea,function(a){var p,g,h;function k(){h&&clearTimeout(h);a(b.wc);k=m.je;}p=t.Jf("BatteryManager");f.Yr={gGa:"chargingchange",Usa:function(){return g?g.level:null;},o5:function(){return g?g.charging:null;},addEventListener:function(a,b){g&&g.addEventListener(a,b);},removeEventListener:function(a,b){g&&g.removeEventListener(a,b);}};if(d.config.ZH){h=setTimeout(k,d.config.c$a);try{c.sk.getBattery().then(function(a){g=a;k();})["catch"](function(a){p.error("getBattery promise rejected",a);k();});}catch(y){p.error("exception on getBattery api call",y);k();}}else k();});},function(g,f,a){var q,p,u,h,y,L,A,B;function b(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function d(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function t(a,c,f){var k;if("string"===typeof a)return t.call(this,b(a),c,f);k=0;Object.keys(a).forEach(function(b){var p,g,u;p=y[b];g=a[b];if(p){if(u=L[b]||B[typeof q[p]])try{g=u(g);}catch(Y){f&&f.error("Failed to convert value '"+g+"' for config '"+b+"' : "+Y.toString());return;}u=h[p];this[p]=g;h[p]!==u&&(f&&f.debug("Config changed for '"+b+"' from "+d(u)+" ("+typeof u+") to "+d(g)+" ("+typeof g+")"),++k);}else c?(p=(p=A[b])?p.filter(function(a){return a[0]!==this;},this):[],p.push([this,g]),A[b]=p):f&&f.error("Attempt to change undeclared config option '"+b+"'");},this);k&&h.emit("changed");return k;}function m(){return Object.keys(y).reduce(function(a,b){var c,d;c=y[b];d=a[c];d?(d.push(b),a[c]=d.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function c(a,b){return a.hasOwnProperty(b)?d(a[b]):void 0;}function k(a,b){return"undefined"===typeof a?b:a;}f=a(48);a=a(25).EventEmitter;q={};p=Object.create(q);u=Object.create(p);h=Object.create(u);y={};L={};A={};h.declare=function(a){Object.keys(a).forEach(function(b){var c,d,f,k;c=a[b];d=c[0];f=c[1];k=c[2];if(q.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof d&&(d=[d]);d.forEach(function(a){var c;if(y.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");q.hasOwnProperty(b)||("function"===typeof f&&(f=f()),q[b]=f);y[a]=b;"function"===typeof k&&(L[a]=k);if(c=A[a])c.forEach(function(b){var c,d;c=b[0];d={};d[a]=b[1];t.call(c,d,!1);}),delete A[a];});});return h;};B={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};h.set=t.bind(p);h.ZD=t.bind(u);h.dump=function(a,b){var g,t,z,L;function f(){L&&a&&a.log("===========================================");}g=Object.keys(A).sort();t={};z=m();b=k(b,!0);Object.keys(y).sort().forEach(function(g){var m,A,B;g=y[g];!t[g]&&(t[g]=!0,A=c(p,g),B=c(u,g),b||"undefined"!==typeof A||"undefined"!==typeof B)&&(m=z[g].join(","),m+=" = "+d(h[g])+" ("+typeof h[g]+") [",m+=k(B,"<unset>")+",",m+=k(A,"<unset>")+",",m+=c(q,g)+"]",L||(L=!0,a&&a.log("Current config values"),f()),a&&a.log(m));});(b||g.length)&&a&&a.log("<undeclared> :",g);f();};h.Kp=function(a){var b,c;b={};c={};Object.keys(y).forEach(function(a){a=y[a];c[a]||(c[a]=!0,b[a]=h[a]);});a&&t.call(b,a);return b;};h.Iya=function(){var a;a=m();return Object.getOwnPropertyNames(p).reduce(function(b,c){b[a[c][0]]=p[c];return b;},{});};h.reset=function(){Object.keys(p).forEach(function(a){delete p[a];});};h.xl={};f(a,h);g.T=Object.freeze(h);},function(g,f,a){var d,t,m,c,k;function b(a){var b,f;b=c.platform;d.Jf("MediaSourceASE").trace("Inside MediaSourceASE");f=a.M5();this.readyState=k.Zb.CLOSED;this.sourceBuffers=f.sourceBuffers;this.addSourceBuffer=function(a){return f.addSourceBuffer(a);};this.m1=function(a){return f.m1(a);};this.removeSourceBuffer=function(a){return f.removeSourceBuffer(a);};this.$m=function(a){return f.$m(a);};this.sourceId=b.nJ();b.FJ();this.duration=void 0;f.Mpb(this.sourceId);this.readyState=k.Zb.OPEN;this.Qc=t.W.get(m.af).fk(k.Qc,{});}Object.defineProperty(f,"__esModule",{value:!0});d=a(4);t=a(4);m=a(22);c=a(49);Object.defineProperty(b.prototype,"duration",{get:function(){return this.Dm;},set:function(a){var b;this.Dm=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.Dm=b;});}});k={Zb:{CLOSED:0,OPEN:1,Vq:2,name:["CLOSED","OPEN","ENDED"]},Qc:{Joa:!0}};f.TMa=Object.assign(b,k);},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.xha="PboPairCommandSymbol";},function(g,f,a){var b,d,t,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(4);d=a(338);t=a(21);m=a(19);c=a(178);k=a(281);q=a(91);p=a(2);f.$Ga=function(a){var l,Q,n,E,ka;function f(a,b,c){return new Promise(function(d,f){l.send(a,b,!1,void 0).then(function(a){c?d(c(a)):d({X:!0});})["catch"](function(c){var d,k;try{d=JSON.stringify(c.us);}catch(za){}k={method:a.method,success:c.X};Q.Kl(d)&&(k.errorData=d);Q.Kl(c.Y)&&(k.errorSubCode=c.Y);Q.Kl(c.Ec)&&(k.errorExternalCode=c.Ec);Q.Kl(c.Ra)&&(k.errorDetails=c.Ra);Q.Kl(c.cn)&&(k.errorDisplayMessage=c.cn);b.log.error("Processing EDGE response failed",k);c.__logs&&b.log.error(c.__logs);f(c);});});}function g(b){return ka.Owa?n.Ue(a,b.profile,{},b).then(function(a){return{C4a:a.customerGUID,X:!0};}):f({method:"bind",isExclusive:!0},b,function(a){return{C4a:a.customerGUID,X:!0};});}function u(b,c){var d;d={method:"pair",targetuuid:b.DCa,cticket:b.A4a,nonce:b.Kib,controlleruuid:b.fpa,pairdatahmac:b.LIb};return ka.O8?E.Ue(a,c.profile,d).then(function(a){return{X:!0,ncb:{nonce:a.nonce,controlleruuid:b.fpa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.DCa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},ocb:a.grantDataHmac};})["catch"](function(a){var b;switch(a&&a.$x){case"MDX_CONTROLLER_CTICKET_INVALID":b=p.TY.QNa;break;default:b=p.TY.RNa;}return{X:!1,SI:b,cn:a.data};}):f(d,c,function(a){return{X:!0,ncb:{nonce:a.nonce,controlleruuid:b.fpa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.DCa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},ocb:a.grantDataHmac};});}function h(a,b){g(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function B(b,c,d){u(b,c).then(function(a){d(a);})["catch"](function(b){var c,f;if(!ka.O8){f="";if(b.us)try{c=JSON.parse(b.us);c.error_message?f=c.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):c.implementingClass&&(f=c.implementingClass);}catch(ca){a.error("Failed to parse Pairing errorData",{us:c});}m.Va(b,M(f));}d(b);});}function M(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{FR:5,SI:21,IR:void 0,cn:void 0,GR:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{FR:2,SI:20,IR:void 0,cn:void 0,GR:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{FR:2,SI:10,IR:void 0,cn:void 0,GR:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{FR:2,SI:13,IR:void 0,cn:void 0,GR:void 0};default:return{FR:4,SI:30,IR:void 0,cn:void 0,GR:void 0};}}l=b.W.get(d.Bga);Q=b.W.get(t.se);n=b.W.get(c.oZ);E=b.W.get(k.xha);ka=b.W.get(q.Ww);m.Va(this,{V1:g,LFb:function(a,b){a=Object.assign({},a);a.profile=void 0;h(a,b);},dz:h,tJb:function(a,b,c,d){h(Object.assign({dz:b,KV:c},a),d);},sJb:function(a,b,c,d){h(Object.assign({uR:b,password:c},a),d);},ZHb:B,$Hb:function(a,c,d){var p;function f(b){B(a,c,function(a){a.X?(a.dz=b.dz,a.KV=b.KV,a.zib=b.zib,a.apb=b.apb,d(a)):d(b);});}function k(a){g(p).then(function(a){a&&a.X?f(a):d(a);})["catch"](function(b){a?k(!1):d(b);});}p=Object.assign({Pwa:a.A4a,mhb:a.Y9,lhb:a.Kib,khb:a.gFb,nhb:b.Kk(a.uJb)},c);k(!0);},aKb:function(a,b,c,d){Q.oH(c)&&!m.Rb(d)&&(d=c,c=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){h(Object.assign({rhb:"GOOGLE_JWT",cDa:b,tz:c},a),d);});}});};},function(g,f,a){var b,d,t,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(284);d=a(4);t=a(403);m=a(22);f.wrb=function(a){a({X:!0,storage:new b.Jfa(d.W.get(t.Lfa),d.W.get(m.af))});};},function(g,f){function a(a,d){this.Cp=a;this.Td=d;}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.load=function(b,d){var f;f=this;this.Cp.load(b).then(function(b){d&&d(a.uCa(b));})["catch"](function(a){d&&d(f.RC(b,a));});};a.prototype.save=function(b,d,f,g){var c;c=this;this.Cp.save(b,d,f).then(function(){g&&g(a.uCa({key:b,value:d}));})["catch"](function(a){g&&g(c.RC(b,a));});};a.prototype.remove=function(a,d){var b;b=this;this.Cp.remove(a).then(function(){d&&d({X:!0,jW:a});})["catch"](function(f){d&&d(b.RC(a,f));});};a.uCa=function(a){return{X:!0,data:a.value,jW:a.key};};a.prototype.RC=function(a,d){return{X:!1,jW:a,Y:d.Y,Ra:d.cause?this.Td.qd(d.cause):void 0};};f.Jfa=a;},function(g,f,a){var b,d,t,m,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(4);d=a(63);t=a(22);m=a(284);c=a(401);f.vrb=function(a){b.W.get(d.ep).create().then(function(d){a({X:!0,storage:new m.Jfa(d,b.W.get(t.af)),mo:b.W.get(c.Yda)});})["catch"](function(b){a(b);});};},function(g,f,a){var b,d,t;Object.defineProperty(f,"__esModule",{value:!0});b=a(9);d=a(4);t=a(2);a(18);f.xrb=function(a){var c;d.Jf("Storage");c={};a({X:!0,storage:{load:function(a,b){c.hasOwnProperty(a)?b({X:!0,data:c[a],jW:a}):b({Y:t.G.mp});},save:function(a,b,d,f){d&&c.hasOwnProperty(a)?f({X:!1}):(c[a]=b,f&&f({X:!0,jW:a}));},remove:function(a,d){delete c[a];d&&d(b.wc);}}});};},function(g,f,a){var d,t,m,c,k,q,p,u,h,y,L,A,B,M,l,Q,n,E,ka,R,r,Y,ea,V,N,ca,va,za,O,ha,fa,Aa,sa,ja,Fa,F,D,qb,Sa,P,Jb,T,Qa,ec,ra,X,rc,aa,sc,gb,xd,Ke,Ya,ga,da,la,ia,ma,qa,na;function b(a,b,c,f){var q,t,h,z;function k(a){a.newValue!==ra.nb.ng&&a.newValue!==ra.nb.ni&&(q.jc.removeListener(k),q.pD=q.Qa.Kaa,q.Hb.Ib(ra.S.yh));}function g(a){a.newValue!==ra.nb.ng&&(q.jc.removeListener(g),q.Uya=q.Qa.Te.fa(N.ma));}q=this;this.mv=f;this.Uv=[];this.Ju=0;this.Lc=new A.Jc(null);this.Bf=new A.Jc(null);this.uc=new A.Jc(null);this.Ci=new A.Jc(null);this.Eq=new A.Jc(void 0);this.re=new A.Jc(null);this.ij=new A.Jc(null);this.Ob=new A.Jc(void 0);this.dca=function(a){return q.Lc.set(a.newValue);};this.bub=function(a){return q.Bf.set(a.newValue);};this.Ztb=function(a){return q.uc.set(a.newValue);};this.Itb=function(a){return q.Ci.set(a.newValue);};this.Ytb=function(a){return q.Eq.set(a.newValue);};this.aub=function(a){return q.re.set(a.newValue);};this.Jtb=function(a){return q.ij.set(a.newValue);};this.Ttb=function(a){return q.Je.set(a.newValue);};this.Stb=function(a){return q.xf.set(a.newValue);};this.Otb=function(a){return q.Ob.set(a.newValue);};this.CD={};this.caa=this.Rba=0;this.Hb=new M.Kj();this.BM={};this.ila=0;this.fQ=void 0;this.Ggb=ea.W.get(ma.kga);this.cwa=ea.W.get(qb.Ufa);this.Hc=ea.W.get(na.YA);this.Ze=ea.W.get(u.ql);this.gW=!1;this.state=new A.Jc(ra.jb.MA);this.qq=new A.Jc(!1);this.paused=new A.Jc(!1);this.muted=new A.Jc(!1);this.volume=new A.Jc(B.config.v5a/100);this.playbackRate=new A.Jc(1);this.jc=new A.Jc(ra.nb.ng);this.qQ=new A.Jc(ra.lf.Hj);this.Pm=new A.Jc(ra.lf.Hj);this.Fj=new A.Jc(ra.lf.Hj);this.xf=new A.Jc(null);this.Je=new A.Jc(null);this.f2=new A.Jc(null);this.AJ=y.kKa(this);this.VT=[];this.Ub=[];this.T1={};this.yQ=0<=sa.Hda.indexOf("cast")?ea.W.get(V.oda):void 0;this.vR=this.Mqa=!1;this.Erb=this.ta=this.zg=-1;this.Z5=function(a,b){a=void 0===a?null:a;return Fa.pa(a)?q.ob?q.ob.Ux(b,a):a:null;};this.$xa=function(){q.kba();};this.Hmb=this.mv.oC();this.addEventListener=this.Hb.addListener;this.removeEventListener=this.Hb.removeListener;this.fireEvent=this.Hb.Ib;f=B.config.An&&this.Hc()?this.Hc().m6(a):void 0;this.Qma(a,c||{},f,b);this.iQ=ea.W.get(qa.De);this.log=ea.Zf(this);this.ya=ea.W.get(Ke.Me);this.Qa=ea.W.get(Qa.Jj);this.v_a=ea.W.get(Y.$ca)(this);this.Ug=Jb.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.M});this.Kdb();t=ea.W.get(ga.WA)(N.Ag(1));this.YUa=ea.W.get(X.jga);this.Nd=this.log.h3("Playback");this.llb=m.lPa(this);this.M3=p.BPa();n.lG.mib=this;n.lG.O4||(n.lG.O4=this);this.Nd.info("Playback created",this.bg);this.d8?this.Nd.info("Playback selected for trace playback info logging"):this.Nd.trace("Playback not selected for trace playback info logging");B.config.An&&this.Hc()&&(this.Hc().Ccb(this.M),this.addEventListener(ra.S.yh,function(){q.Hc().Dcb(q.M);q.uc.addListener(function(){q.Hc().Ota();});q.Lc.addListener(function(){q.Hc().Ota();});}),this.addEventListener(ra.S.Ge,function(){q.Hc().Bcb(q.M);}));this.state.addListener(function(a){q.Nd.info("Playback state changed",{From:a.oldValue,To:a.newValue});ha.Ga(a.newValue>a.oldValue);});Q.Ae.addListener(Q.Vk,this.$xa,L.fZ);this.Ob.addListener(function(){t.Jb(function(){return q.Cra();});});z=!1;this.paused.addListener(function(a){var b;b=q.ob;!a.w9&&b&&(!0===a.newValue?b.paused&&b.paused():b.zW&&b.zW());a.newValue||(z=!1);q.Nd.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:fa.bh(q.Ob.value)});});this.addEventListener(ra.S.Cz,function(a){q.ha.cl.Yib(a.yU,a.p9);});this.jc.addListener(function(a){q.Nd.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:fa.bh(q.Ob.value)},q.KD());});this.jc.addListener(function(){q.qq.set(q.jc.value===ra.nb.yd);});this.qQ.addListener(function(a){q.Nd.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:fa.bh(q.Ob.value)},q.KD());});this.Pm.addListener(function(a){q.Nd.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:fa.bh(q.Ob.value)},q.KD());});this.Fj.addListener(function(a){q.Nd.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:fa.bh(q.Ob.value)},q.KD());});this.Lc.addListener(function(a){ha.Ga(a.newValue);q.Nd.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Wj,To:a.newValue.fb},a.oldValue&&{FromBcp47:a.oldValue.Wj,From:a.oldValue.fb},{MediaTime:fa.bh(q.Ob.value)});});this.Bf.addListener(function(){for(var a=q.uy(),b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].Ycb=a[c+1];});this.uc.addListener(function(a){q.Nd.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Wj,To:a.newValue.fb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Wj,From:a.oldValue.fb}:{From:"none"},{MediaTime:fa.bh(q.Ob.value)});});this.Ub[d.pc.L.AUDIO]=new A.Jc(null);this.Ub[d.pc.L.VIDEO]=new A.Jc(null);this.jc.addListener(g,L.PA);this.jc.addListener(k);this.addEventListener(ra.S.yh,function(){var a,b,c,d;q.gW=!0;q.Nc("start");a=q.Je.value;b=J._cad_global.prefetchEvents;if(b){c=N.Cb(q.Tl?q.Tl.audio:0);d=N.Cb(q.Tl?q.Tl.video:0);b.gk(q.M,q.oa,"notcached"!==q.Bu,"notcached"!==q.Px,!!q.Tl,c,d);}q.eT=a.stream.P;});r.rPa(this);n.fr.push(this);B.config.gL&&(this.RU=new T.uPa(this),this.wlb=new ka.yPa(this));n.Mha.forEach(function(a){a(q);});this.QYa=function(a){q.addEventListener(ra.S.Cz,function(b){b=b.cause;b!==ra.jg.PF&&b!==ra.jg.UA&&a.stop();});q.addEventListener(ra.S.Bn,function(b){var c,d,f,k,p;c=b.cause;d=b.skip;f=b.p9;k=b.yU;p=b.da;b=b.Vm;if(c!==ra.jg.UA&&(B.config.f9a&&c===ra.jg.WN&&q.ll.h2(),c!==ra.jg.PF))if(d)if(a.eC(f)){q.Nd.trace("Repositioned. Skipping from "+k+" to "+f);try{a.Ri(f);a.play();}catch(tc){q.log.error("streamingSession.skipped threw an exception",tc);c=Ya.Oc.gS(ca.I.BEa,tc);q.am(c.code,c);}}else q.log.error("can skip returned false");else{q.Nd.trace("Repositioned. Seeking from "+k+" to "+f);try{a.zE(b,p);}catch(tc){q.log.error("streamingSession.seekByContentPts threw an exception",tc);c=Ya.Oc.gS(ca.I.zEa,tc);q.am(c.code,c);}}});a.addEventListener("segmentStarting",function(a){q.fireEvent(ra.S.mpb,a);});a.addEventListener("lastSegmentPts",function(a){q.fireEvent(ra.S.jpb,a);});a.addEventListener("segmentPresenting",function(a){q.fireEvent(ra.S.uL,a);});a.addEventListener("segmentAborted",function(a){q.fireEvent(ra.S.hpb,a);});a.addEventListener("manifestPresenting",function(a){q.qwa({index:a.index,$U:a.previousIndex,qD:!1});});a.addEventListener("skip",function(a){q.fireEvent(ra.S.Ri,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(q.Nd.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),q.Nd.trace("StreamingFailure, buffer status:"+JSON.stringify(q.KD())),B.config.z8a&&!q.gW&&ja.zb(function(){q.pd(q.Ze(ca.I.AEa,{Y:a.nativeCode,Ra:a.errormsg,Vh:a.httpCode,pU:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){q.VT.push(a);});a.addEventListener("bufferingStarted",function(){q.Pm.set(ra.lf.Hj);});a.addEventListener("locationSelected",function(a){q.fireEvent(ra.S.$p,a);});a.addEventListener("serverSwitch",function(a){var b;q.fireEvent(ra.S.FE,a);"video"===a.mediatype?b=d.pc.L.VIDEO:"audio"===a.mediatype&&(b=d.pc.L.AUDIO);Fa.Rb(b)&&q.Qpb(a.server,b);});a.addEventListener("bufferingComplete",function(b){q.Nd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},q.KD());q.Sm=b;q.Pm.set(ra.lf.Yc);h||(h=!0,q.Nc("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.wjb();B.config.Hkb&&!q.paused.value&&(z=!0,q.paused.set(!0,{w9:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){q.paused.value&&z&&(z=!1,q.paused.set(!1,{w9:!0}));q.vg.$ib();});a.addEventListener("endOfStream",function(a){q.vg.xK(a);});a.addEventListener("asereportenabled",function(){q.vR=!0;});a.addEventListener("asereport",function(a){q.fireEvent(ra.S.ZB,a);});a.addEventListener("aseexception",function(a){q.fireEvent(ra.S.YB,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=Fa.pa(q.Xe)?0:q.Xe;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});q.G6={cob:c,gdb:a.hptwbr,oua:a.htwbr,NU:a.pbtwbr};a.rr&&(q.G6.NAa=a.rr);a.ra&&(q.G6.Pmb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;q.ta=a.location.bandwidth;q.zg=a.location.httpResponseTime;q.Erb=a.stat.streamingBitrate;b&&(void 0===q.Nx&&(q.Nx={interval:B.config.bC,startTime:b.startTime,Tr:[],pt:[]}),q.Nx.Tr=q.Nx.Tr.concat(b.Tr),q.Nx.pt=q.Nx.pt.concat(b.pt));a.psdConservCount&&(q.yza=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+q.M&&(q.Tl=a);});a.addEventListener("startEvent",function(a){J._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&J._cad_global.prefetchEvents.WH(va.ue.Wi.MEDIA,q.M);});a.addEventListener("requestComplete",function(a){(a=(a=a&&a.mediaRequest)&&a.jC&&a.jC.cadmiumResponse)&&q.fireEvent(ra.S.Nu,{response:a});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===d.pc.L.VIDEO?(c=q.Zta(a.streamId),b=q.re):a.mediaType===d.pc.L.AUDIO&&(c=q.Sta(a.streamId),b=q.ij);c&&b?b.set(c,{Boa:a.movieTime,r_a:a.bandwidth}):q.Nd.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=q.CD[a.target];c=Fa.pa(q.Xe)?q.Xe:0;b||(b=q.CD[a.target]={});Object.keys(a.fields).forEach(function(d){var f,k,p,q;f=a.fields[d];if("object"!==typeof f||null===f)b[d]=f;else{k=f.type;if("count"===k)void 0===b[d]&&(b[d]=0),++b[d];else if(void 0!==f.value)if("array"===k){k=b[d];p=f.adjust;q=f.value;k||(k=b[d]=[]);p&&0<p.length&&p.forEach(function(a){q[a]-=c||0;});k.push(q);}else"sum"===k?(void 0===b[d]&&(b[d]=0),b[d]+=f.value):b[d]=f.value;else b[d]=f;}});}});};this.Lc.addListener(function(a){var b;if(q.ob)if(a.Ku&&a.Ku.reset)q.Nd.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;q.ob.gsb({$B:b.Ay,toJSON:function(){return b.bg;}})?q.Nd.trace("ASE accepted the audio track switch"):(q.Nd.trace("ASE rejected the audio track switch"),a.oldValue.Ay!==b.Ay&&q.Lc.set(a.oldValue,{reset:!0}));}});this.addEventListener(ra.S.eo,function(a){a.cause==n.Iha&&(q.qQ.set(ra.lf.Hj),q.ob.Dtb(q.vg.Ksa()));});}Object.defineProperty(f,"__esModule",{value:!0});d=a(49);t=a(182);m=a(181);c=a(122);k=a(278);q=a(566);p=a(276);u=a(61);h=a(565);y=a(274);L=a(9);A=a(176);B=a(12);M=a(68);l=a(273);Q=a(53);n=a(56);E=a(89);ka=a(272);R=a(562);r=a(268);Y=a(288);ea=a(4);V=a(221);N=a(3);ca=a(2);va=a(112);za=a(22);O=a(220);ha=a(14);fa=a(105);Aa=a(18);sa=a(33);ja=a(45);Fa=a(16);F=a(104);D=a(267);qb=a(324);Sa=a(127);P=a(174);Jb=a(19);T=a(266);Qa=a(42);ec=a(39);ra=a(15);X=a(397);rc=a(177);aa=a(189);sc=a(60);gb=a(123);xd=a(290);Ke=a(23);Ya=a(55);ga=a(96);da=a(90);la=a(180);ia=a(264);a(84);ma=a(383);qa=a(20);na=a(107);b.prototype.Nc=function(a){this.ha.Nc(a);};b.prototype.nv=function(a){this.ha.nv(a);};b.prototype.Kdb=function(){var a;a=this;this.Lc.addListener(function(b){return a.ha.Lc.set(b.newValue);});this.Bf.addListener(function(b){return a.ha.Bf.set(b.newValue);});this.uc.addListener(function(b){return a.ha.uc.set(b.newValue);});this.Ci.addListener(function(b){return a.ha.Ci.set(b.newValue);});this.Eq.addListener(function(b){return a.ha.Eq.set(b.newValue);});this.re.addListener(function(b){return a.ha.re.set(b.newValue);});this.ij.addListener(function(b){return a.ha.ij.set(b.newValue);});this.Je.addListener(function(b){return a.ha.Je.set(b.newValue);});this.xf.addListener(function(b){return a.ha.xf.set(b.newValue);});this.Ob.addListener(function(b){return a.ha.Ob.set(b.newValue);});this.JAa();};b.prototype.JAa=function(){this.ha!==this.yaa&&(this.ha.Ob.set(this.Ob.value),this.Lq(function(a){return a.Lc;},this.dca),this.Lq(function(a){return a.Bf;},this.bub),this.Lq(function(a){return a.Eq;},this.Ytb),this.Lq(function(a){return a.uc;},this.Ztb),this.Lq(function(a){return a.Ci;},this.Itb),this.Lq(function(a){return a.re;},this.aub),this.Lq(function(a){return a.ij;},this.Jtb),this.Lq(function(a){return a.xf;},this.Stb),this.Lq(function(a){return a.Je;},this.Ttb),this.Lq(function(a){return a.Ob;},this.Otb),this.uc.set(this.ha.uc.value),this.Lc.set(this.ha.Lc.value),this.Bf.set(this.ha.Bf.value),this.Ci.set(this.ha.Ci.value),this.Eq.set(this.ha.Eq.value),this.re.set(this.ha.re.value),this.ij.set(this.ha.ij.value),this.yaa=this.ha);};b.prototype.Lq=function(a,b){this.yaa&&a(this.yaa).removeListener(b);a(this.ha).addListener(b);};b.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.Zya=a;if(this.state.value==ra.jb.MA){this.Nd.info("Playback loading",this);this.Uib();this.Nc("asl_load_start");a=this.iQ;c=a.endTime;Fa.Rb(a.startTime)?Fa.Rb(c)?this.Nc("asl_ended"):this.Nc("asl_in_progress"):this.Nc("asl_not_started");this.iQ.$J(function(a){b.Nc("asl_load_complete");a.X?b.S3a():b.am(a.errorCode||ca.I.Wea,a);});}};b.prototype.Hlb=function(){var a;try{if(this.state.value===ra.jb.LOADING){this.UU=N.Cb(this.Ia.duration);a={width:1,height:1};this.uy().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.jF=a;this.Mx=ea.W.get(O.kX).Zma({iA:N.Cb(this.U),M:this.M,LK:this.Tx,Xa:this.Xa}).fa(N.ma);this.sna();this.x4a();}}catch(sf){this.am(ca.I.QKa,{Y:ca.G.$g,Ra:Aa.qd(sf)});}};b.prototype.Qma=function(a,b,c,d){var f,k;c=void 0===c?this.mv.oC():c;d=void 0===d?this.ya.cc():d;f=!!B.config.YDa&&!(c%B.config.YDa);k=this.Uv.length;a=ea.W.get(rc.wZ)(n.lG.index++,k,a,b,c,d,f,this.ha,this.Z5);this.Uv.push(a);0!==a.da&&(a.aq=this.cwa.create(this,a,!1));a.lK=new E.WMa(this,a);return k;};b.prototype.hn=function(a){return this.Uv[a];};b.prototype.ebb=function(a){return this.Uv.find(function(b){b=b.ef;return!!b&&!!b.uva&&b.uva.sessionId===a;})||this;};b.prototype.Kmb=function(a,b){var c,d;b=void 0===b?!0:b;c=this;d=this.hn(a);return this.jBa(d).then(function(f){var k;if(!c.ob)throw new Ya.Oc(ca.I.MN,ca.G.yca);c.sza(f,d);f=[d.Wb.Tpa,d.Wb.Ypa];k=!1;try{k=!!c.ob.tH(d.Ia,{Ssb:f,replace:!1,U:d.Xa.U,ba:d.Xa.ba,h$:!0,gs:!d.rv,Jx:b,Zr:c.k3(a)});}catch(Bb){throw Ya.Oc.gS(ca.I.MN,Bb);}if(!k)throw new Ya.Oc(ca.I.MN,ca.G.rEa);return c.yb.qj.rAa(d).then(function(){if(!c.ob)throw new Ya.Oc(ca.I.MN,ca.G.yca);c.ob.sR(""+d.M);});})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.Ze(a.code,a);});};b.prototype.W9a=function(){if(Fa.pa(this.zc.ats)&&Fa.pa(this.zc.at))return this.zc.at-this.zc.ats;};b.prototype.qsa=function(){var a,b;a=this.AM();b=this.DH();return Math.min(a,b);};b.prototype.qab=function(){if(Fa.pa(this.zc.shs)&&Fa.pa(this.zc.sh))return this.zc.sh-this.zc.shs;};b.prototype.LL=function(){this.background||(this.Nd.info("Starting inactivity monitor for movie "+this.M),new l.hLa(this));};b.prototype.close=function(a){a&&(this.state.value==ra.jb.CLOSED?a():this.addEventListener(ra.S.closed,function(){a();}));this.kba();};b.prototype.pd=function(a,b){var c,d,f;c=this;if(this.state.value==ra.jb.MA)this.Xh||(this.Xh=a,this.load());else{b&&(this.state.value==ra.jb.CLOSED?b():this.addEventListener(ra.S.closed,function(){b();}));d=function(){c.kba(a);};f=B.config.aqa&&a&&B.config.aqa[a.errorCode];Fa.Hy(f)&&(f=Aa.Qd(f));this.Nd.error("Fatal playback error",{Error:""+a,HandleDelay:""+f});0<=f?setTimeout(d,f):d();}};b.prototype.oM=function(){this.Hb.Ib(ra.S.oM);};b.prototype.h9a=function(){this.Cra();};b.prototype.P5=function(){var a;a=this.ob;return a&&(a=a.va.wj.xa.id,void 0!==a)?a:null;};b.prototype.py=function(){return void 0!==this.ha.KQ&&void 0===this.ob?this.ha.KQ:this.Z5(this.Ob.value);};b.prototype.O5=function(){var a;a=this.Z5(this.vg.Ksa());return null===a||0>a||a>this.Tx.fa(N.ma)?null:a;};b.prototype.oS=function(){var a;a=this.Ia.choiceMap;if(a)return a.segments;};b.prototype.Rtb=function(a){this.Xa=Sa.Bhb(function(a,b){return void 0!==b?b:a;},this.Xa,a);this.sna();};b.prototype.uy=function(a){a=void 0===a?this.da:a;return(a=this.hn(a).Bf)&&a.value?a.value.mc:[];};b.prototype.Icb=function(a){var c;for(var b=0;b<this.Uv.length;b++){c=this.hn(b).Di;if(c=c&&c.find(function(b){return b.id===a;}))return c;}};b.prototype.Sta=function(a){var c;for(var b=0;b<this.Uv.length;b++){c=this.hn(b).Lc.value;if(c=c&&c.mc.find(function(b){return b.Rc===a;}))return c;}};b.prototype.Zta=function(a){var c;for(var b=0;b<this.Uv.length;b++){c=this.hn(b).Bf.value;if(c=c&&c.mc.find(function(b){return b.Rc===a;}))return c;}};b.prototype.jo=function(a){var b,c;b=this.mpa(a);if(this.ob&&void 0!==a){c=this.k3(a,b);this.ob.SV(c,a);}return b.Xb;};b.prototype.Beb=function(){return"trailer"===this.pe;};b.prototype.Nua=function(){return!!this.pe&&0<=this.pe.indexOf("billboard");};b.prototype.Heb=function(){return!!this.pe&&0<=this.pe.indexOf("video-merch");};b.prototype.tD=function(){return this.Beb()||this.Nua()||this.Heb();};b.prototype.tbb=function(){return{tr:this.Rba,rt:this.caa};};b.prototype.zs=function(a){return this.CD[a];};b.prototype.l0a=function(){return this.Yo?this.ya.cc().fa(N.ma)-this.Yo:this.Qa.Te.fa(N.ma)-this.kS();};b.prototype.noa=function(){var a;if(this.Yo)return this.ya.cc().fa(N.ma)-this.Yo;a=ea.W.get(Ke.Me).Ky;return this.Uya-(this.dl.fa(N.ma)+a.fa(N.ma));};b.prototype.r0a=function(){return this.Yo?this.ya.cc().fa(N.ma)-this.Yo:this.Uya-this.kS();};b.prototype.Oib=function(a){var b,c;b=this.Xe;c={};Aa.Sc(a,function(a,d){c[a]=d.map(function(a){return a-b;});});return c;};b.prototype.d$a=function(){var a,b;a=this.Xe;b={};Aa.Sc(this.T1,function(c,d){b[c]=d.map(function(b){return b-a;});});return k.Yr?{level:k.Yr.Usa(),charging:k.Yr.o5(),statuses:b}:null;};b.prototype.GS=function(){this.Bra();return this.BM;};b.prototype.kS=function(){var a;a=this.Xa.yW;a=Fa.pa(a)?a:this.dl.fa(N.ma)+this.ya.Ky.fa(N.ma);ha.Ga(Fa.qv(a));return a;};b.prototype.V5=function(){return this.ya.cc().fa(N.ma)-this.dl.fa(N.ma);};b.prototype.nqb=function(){this.BM.HasRA=!0;};b.prototype.Tub=function(){this.Kqb=!0;};b.prototype.wU=function(){this.dAa();};b.prototype.AM=function(){var a;a=this.hQ();return a&&a.vbuflmsec||0;};b.prototype.DH=function(){var a;a=this.hQ();return a&&a.abuflmsec||0;};b.prototype.rca=function(){var a;a=this.hQ();return a&&a.vbuflbytes||0;};b.prototype.H1=function(){var a;a=this.hQ();return a&&a.abuflbytes||0;};b.prototype.jBa=function(a){var b,c;a=void 0===a?this:a;b=ea.W.get(aa.RY);c=B.config.gV.enabled?sc.Xc.Wn.eia:this.tD()?sc.Xc.Wn.Bia:sc.Xc.Wn.wm;a={oa:a.oa,Xa:a.Xa,Ic:a.M,aJ:c};c=ea.W.get(gb.iG)();return b.dD(a,c);};b.prototype.sza=function(a,b){b=void 0===b?this:b;b.Ia=a;a=this.YUa.create(this).xkb(a);b.Wb=a;b.Bf.set(a.I3);b.Lc.set(a.E3);b.uc.set(a.H3);};b.prototype.lcb=function(a){this.qwa({index:this.Ju+1,$U:this.Ju,qD:!0});this.pd(a);};b.prototype.qwa=function(a){var b,c;b=a.index;0<b&&(this.fireEvent(ra.S.KT,{index:this.Ju}),this.Ju=b,a.qD||this.JAa(),this.pD=this.Qa.Kaa);b="boolean"===typeof this.Xa.LC?this.Xa.LC:B.config.LC;c=ea.W.get(xd.aja);b&&!a.qD&&c.LC(this);this.fireEvent(ra.S.rn,a);};b.prototype.S3a=function(){try{this.profile=da.hj.profile;this.Wm=new la.aHa(this);this.aq=this.cwa.create(this,this.ha,!0);B.config.F0a&&new ia.xJa(this,ea.W.get(ec.Lj),this.log);B.config.ZH&&this.ZH(this);this.Cub();}catch(Pc){this.am(ca.I.PKa,{Y:ca.G.$g,Ra:Aa.qd(Pc)});}};b.prototype.Cub=function(){this.Xh?this.pd(this.Xh):Fa.bva(this.M)?this.X0a():this.am(ca.I.FKa,{Ra:""+this.M});};b.prototype.X0a=function(){var a;a=t.OE.vBa;a?a.X?this.F2():this.am(ca.I.rfa,a):(ha.Ga(!B.config.DR),this.f1());};b.prototype.F2=function(){var a;a=this;!this.background&&B.config.F2?n.Lha(function(){a.f1();},this):this.f1();};b.prototype.f1=function(){var a;a=this;this.state.value==ra.jb.LOADING&&(B.config.p4&&!this.tD()?t.OE.Cx(n.qPa,function(b){b.X?(a.HT=b.HT,B.config.NV?a.KH():a.Faa()):a.am(ca.I.qfa);},!0):B.config.NV?this.KH():this.Faa());};b.prototype.Faa=function(){var a;a=this;this.state.value==ra.jb.LOADING&&(this.Nc("ic"),this.llb.spb(function(b){b.error&&a.log.error("Error sending persisted playdata",ca.Sn(b));try{a.KH();}catch(Qc){a.log.error("playback.authorize threw an exception",Qc);a.am(ca.I.LEa,{Y:ca.G.$g,Ra:Aa.qd(Qc)});}}));};b.prototype.KH=function(){var a,b;a=this;if(this.state.value==ra.jb.LOADING){this.log.info("Authorizing",this);b=this.ya.cc().fa(N.ma);this.Nc("ats");this.Wm.KH(function(c){var d;if(a.state.value==ra.jb.LOADING){a.Nc("at");d=a.Ia;a.nv({pr_ats:d&&Fa.Rb(d.Gz)?d.Gz:b,pr_at:d&&Fa.Rb(d.rE)?d.rE:a.ya.cc().fa(N.ma)});c.X?0<a.Wb.Di.length&&a.Wb.E3&&a.Wb.I3&&a.Wb.H3?a.pmb():a.am(ca.I.XLa,a.Ggb(a.Wb)):a.am(ca.I.MANIFEST,c);}});}};b.prototype.pmb=function(){var a;a=this;this.Zya?(this.log.info("Processing post-authorize",this),this.Zya(this,function(b){b.X?a.ADa():a.am(ca.I.UKa,b);})):this.ADa();};b.prototype.ADa=function(){var b,f,k,p;b=this;if(this.state.value==ra.jb.LOADING){f={};this.ll=c.Jk;B.config.e9a&&this.ll.h2();c.Vj.set(a(150)(B.config),!0,ea.Jf("ASE"));c.Vj.set({maxNumberTitlesScheduled:B.config.cza?B.config.cza.maxNumberTitlesScheduled:1},!0,this.Nd);B.config.i2a&&3E5>this.Ia.duration?c.Vj.ZD({expandDownloadTime:!1},!0,this.Nd):c.Vj.ZD({expandDownloadTime:c.Vj.Iya().expandDownloadTime},!0,this.Nd);this.background||B.config.Ilb&&"postplay"===this.pe?c.Vj.ZD({initBitrateSelectorAlgorithm:"historical"},!0,this.Nd):c.Vj.ZD({initBitrateSelectorAlgorithm:c.Vj.Iya().initBitrateSelectorAlgorithm},!0,this.Nd);p=this.Bf&&this.Bf.value&&this.Bf.value.mc;p&&p.length&&(k=p[0].df);c.Vj.ZD(B.Zoa(this.Xa.$f,this.Xa.qT,k),!0,this.Nd);f=ea.W.get(za.af).fk(f,B.$oa(this.pe));this.Frb=c.Vj.Kp(f);d.platform.events.emit("networkchange",this.Wb.Lpb);this.ll.GDa({jo:function(a){return b.jo(a);},nJ:function(){return b.nJ();},FJ:function(){return b.FJ();}});this.Hlb();}};b.prototype.x4a=function(){var a,b,c,d;a=this;try{this.yb=new q.MMa(this);this.yb.open();b=new Promise(function(b){a.yb.addEventListener(P.Kh.cCa,b);});this.vg=new D.QMa(this);c={tg:!1,gF:B.config.gF,FW:B.config.xR,i8:!1,gs:!this.rv,h$:!!this.Xa.qT,ba:this.Xa.ba};d={nz:this.log,dk:this.dk,sessionId:this.M+"-"+this.oa,oa:this.oa,MU:this.nC,Mg:F.th?F.th.Mg:void 0,oR:0===B.config.CI||0!==this.oa%B.config.CI?!1:!0};this.Mqa=d.oR;this.ob=this.ll.js(this.Ia,[this.Wb.Tpa,this.Wb.Ypa],this.U,c,d,void 0,{gf:function(){return a.Ob.value;},M5:function(){return a.yb;}},this.Frb,this.k3(this.da));this.QYa(this.ob);b.then(function(){a.state.value!==ra.jb.CLOSING&&a.state.value!==ra.jb.CLOSED&&a.ob.open();});this.Ob.set(this.U);this.Ln=new h.DRa(this);if("boolean"===typeof this.Xa.sV?this.Xa.sV:B.config.sV)this.hM=new R.ERa(this);this.LL();n.Nha.forEach(function(b){b(a);});this.Tib();}catch(tf){this.am(ca.I.RKa,{Y:ca.G.$g,Ra:Aa.qd(tf)});}};b.prototype.Uib=function(){ha.Ga(this.state.value==ra.jb.MA);this.Xe=this.ya.cc().fa(N.ma);this.state.set(ra.jb.LOADING);J._cad_global.prefetchEvents&&J._cad_global.prefetchEvents.tlb(this.M);};b.prototype.am=function(a,b){this.done||(this.done=!0,b instanceof Ya.Oc?this.pd(this.Ze(b.code,b)):this.pd(this.Ze(a,b)));};b.prototype.ZH=function(a){var c,d;function b(){var b,d;b=k.Yr.o5()+"";d=a.T1[b];d||(d=a.T1[b]=[]);d.push(c.ya.cc().fa(N.ma));c.log.trace("charging change event",{level:k.Yr.Usa(),charging:k.Yr.o5()});}c=this;d=k.Yr.gGa;k.Yr.addEventListener(d,b);a.addEventListener(ra.S.Ge,function(){k.Yr.removeEventListener(d,b);});};b.prototype.kba=function(a){var b;b=this;if(this.state.value==ra.jb.MA||this.state.value==ra.jb.LOADING||this.state.value==ra.jb.Yc){this.Nd.info("Playback closing",this,a?{ErrorCode:a.kR}:void 0);Q.Ae.removeListener(Q.Vk,this.$xa);this.Xh=a;this.Bra();this.ob&&this.ob.flush();try{this.Hb.Ib(ra.S.Ge,{manifestIndex:this.Ju});}catch(Qc){this.Nd.error("Unable to fire playback closing event",Qc);}this.state.set(ra.jb.CLOSING);this.ha.KQ=this.py();this.wEa();this.Kqb||ja.zb(function(){return b.dAa();});}};b.prototype.Cra=function(){var a;a=this.Ob.value;this.gfb!=a&&(this.gfb=a,this.Hb.Ib(ra.S.Fba));};b.prototype.dAa=function(){var a,b;a=this;ha.Ga(this.state.value==ra.jb.CLOSING);b=this.HT;this.HT=void 0;b?t.OE.release(b,function(b){ha.Ga(b.X);a.L2();}):this.L2();};b.prototype.wEa=function(){this.ob&&(this.ob.close(),this.ob.Xd());this.ll&&this.Xh&&this.ll.h2();delete this.ob;delete this.ll;};b.prototype.L2=function(){var a;this.L2=L.je;ha.Ga(this.state.value==ra.jb.CLOSING);a=n.fr.indexOf(this);ha.Ga(0<=a);n.fr.splice(a,1);this.state.set(ra.jb.CLOSED);this.Hb.Ib(ra.S.closed,void 0,!0);this.Hb.EC();delete this.ef;this.ha.wU();};b.prototype.sna=function(){this.Xa.playbackState&&("number"===typeof this.Xa.playbackState.volume&&this.volume.set(this.Xa.playbackState.volume),"boolean"===typeof this.Xa.playbackState.muted&&this.muted.set(this.Xa.playbackState.muted));};b.prototype.Bra=function(){this.Hb.Ib(ra.S.RBa,{BM:this.BM});};b.prototype.Qpb=function(a,b){var c;c=this.Di.filter(function(b){return b.id===a;})[0];c&&this.Ub[b].set(c);};b.prototype.KD=function(){return{AudioBufferLength:this.DH(),VideoBufferLength:this.AM()};};b.prototype.hQ=function(){if(this.ob)return this.ob.i7(!1);};b.prototype.nJ=function(){return this.ila;};b.prototype.FJ=function(){this.ila++;};b.prototype.Tib=function(){this.state.value==ra.jb.LOADING&&this.state.set(ra.jb.Yc);};b.prototype.mpa=function(a){var b,c;a=void 0===a?this.da:a;b=void 0;c=this.hn(a);a=this.uy(a).filter(function(a){var d;d=c.lK.ct(a);d&&(b=b||[],b.push({stream:a,BC:d}));return!d;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var d=0;d<a.length;d++)a[d].lower=a[d-1],a[d].Ycb=a[d+1];return{Xb:a,c6a:b};};b.prototype.k3=function(a,b){var c,d,f,k,p,q;b=void 0===b?this.mpa(a):b;c=b.Xb;d=b.c6a;f=[];this.uy(a).forEach(function(a){-1==f.indexOf(a.df)&&f.push(a.df);});k=null;p=null;c.forEach(function(a){null===k?p=k=a.P:p<a.P?p=a.P:k>a.P&&(k=a.P);});q=[];f.forEach(function(a){var b;b={ranges:[],profile:a};k&&p&&(b.ranges.push({min:k,max:p}),d&&(b.disallowed=d.filter(function(b){return b.stream.df===a;})),q.push(b));});return q;};oa.Object.defineProperties(b.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){return this.Uv[this.Ju];}},U:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.Mx?this.Mx:this.hn(0).Xa.U||0;}},Wb:{configurable:!0,enumerable:!0,get:function(){return this.ha.Wb;},set:function(a){this.ha.Wb=a;}},profile:{configurable:!0,enumerable:!0,get:function(){return this.ha.profile;},set:function(a){this.ha.profile=a;}},ZR:{configurable:!0,enumerable:!0,get:function(){return this.ha.Xa.ZR;}},$R:{configurable:!0,enumerable:!0,get:function(){return this.ha.Xa.$R;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},ef:{configurable:!0,enumerable:!0,get:function(){return this.ha.ef;},set:function(a){this.ha.ef=a;}},Yo:{configurable:!0,enumerable:!0,get:function(){return this.ha.Yo;},set:function(a){this.ha.Yo=a;}},Bu:{configurable:!0,enumerable:!0,get:function(){return this.ha.Bu;},set:function(a){this.ha.Bu=a;}},Px:{configurable:!0,enumerable:!0,get:function(){return this.ha.Px;},set:function(a){this.ha.Px=a;}},eT:{configurable:!0,enumerable:!0,get:function(){return this.ha.eT;},set:function(a){this.ha.eT=a;}},Ia:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ia;},set:function(a){this.ha.Ia=a;}},Mx:{configurable:!0,enumerable:!0,get:function(){return this.ha.Mx;},set:function(a){this.ha.Mx=a;}},aM:{configurable:!0,enumerable:!0,get:function(){return this.ha.aM;},set:function(a){this.ha.aM=a;}},Xa:{configurable:!0,enumerable:!0,get:function(){return this.ha.Xa;},set:function(a){this.ha.Xa=a;}},da:{configurable:!0,enumerable:!0,get:function(){return this.ha.da;}},aq:{configurable:!0,enumerable:!0,get:function(){return this.ha.aq;},set:function(a){this.ha.aq=a;}},cl:{configurable:!0,enumerable:!0,get:function(){return this.ha.cl;}},M:{configurable:!0,enumerable:!0,get:function(){return this.ha.M;}},pe:{configurable:!0,enumerable:!0,get:function(){return this.ha.pe;}},Om:{configurable:!0,enumerable:!0,get:function(){return this.ha.Om;}},Kq:{configurable:!0,enumerable:!0,get:function(){return this.ha.Kq;}},ot:{configurable:!0,enumerable:!0,get:function(){return this.ha.ot;}},Gj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Gj;}},Mf:{configurable:!0,enumerable:!0,get:function(){return this.ha.Mf;}},rv:{configurable:!0,enumerable:!0,get:function(){return this.ha.rv;}},No:{configurable:!0,enumerable:!0,get:function(){return this.ha.No;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Yj;}},Di:{configurable:!0,enumerable:!0,get:function(){return this.ha.Di;}},YU:{configurable:!0,enumerable:!0,get:function(){return this.ha.YU;}},Tx:{configurable:!0,enumerable:!0,get:function(){return this.ha.Tx;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ha.oa;}},Xg:{configurable:!0,enumerable:!0,get:function(){return this.ha.Xg;}},dl:{configurable:!0,enumerable:!0,get:function(){return this.ha.dl;}},pD:{configurable:!0,enumerable:!0,get:function(){return this.ha.pD;},set:function(a){this.ha.pD=a;}},nC:{configurable:!0,enumerable:!0,get:function(){return this.ha.nC;}},Oz:{configurable:!0,enumerable:!0,get:function(){return this.ha.Oz;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(a){this.ha.background=a;}},p3:{configurable:!0,enumerable:!0,get:function(){return this.ha.p3;}},zc:{configurable:!0,enumerable:!0,get:function(){return this.ha.zc;}},Rm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rm;}},a4:{configurable:!0,enumerable:!0,get:function(){return this.ha.a4;}},lK:{configurable:!0,enumerable:!0,get:function(){return this.ha.lK;}},bg:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.M,TrackingId:this.Xg,Xid:this.oa};}}});f.tPa=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.$ca="BandwidthMeterFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.zm||(f.zm={});g[g.IN=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.SF=3]="LOAD_FAILED";g[g.Tga=4]="PARSE_FAILED";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.aja="TrickPlayManagerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.vZ="PlaybackMilestoneStoreSymbol";},function(g,f,a){var q,p;function b(a){return!(!a||!a.lz&&!a.pboc||!a.code&&!a.code);}function d(a){return!(!a||!a.Gc);}function t(a){return!!(a instanceof Error);}function m(a){switch(a){case"ACCOUNT_ON_HOLD":return p.G.TNa;case"STREAM_QUOTA_EXCEEDED":return p.G.XNa;case"INSUFFICICENT_MATURITY":return p.G.ZNa;case"TITLE_OUT_OF_WINDOW":return p.G.eOa;case"CHOICE_MAP_ERROR":return p.G.WNa;case"BadRequest":return p.G.aOa;case"Invalid_SemVer_Format":return p.G.$Na;case"RESTRICTED_TO_TESTERS":return p.G.dOa;case"AGE_VERIFICATION_REQUIRED":return p.G.UNa;case"BLACKLISTED_IP":return p.G.VNa;case"DEVICE_EOL_WARNING":return p.G.iZ;case"DEVICE_EOL_FINAL":return p.G.Vga;case"INCORRECT_PIN":return p.G.Wga;case"MOBILE_ONLY":return p.G.cOa;case"MDX_CONTROLLER_CTICKET_INVALID":return p.G.bOa;default:return p.G.Hea;}}function c(a,b){return new q.Oc(a,m(b.code),"BadRequest"===b.code?p.DY.HFa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert);}function k(a,b){return new q.Oc(a,b.Gc,b.sg,void 0,b.kq,b.message,b.yC,b.data);}Object.defineProperty(f,"__esModule",{value:!0});q=a(55);p=a(2);f.peb=b;f.sHb=d;f.n7=t;f.sGb=m;f.gn=function(a,f){return d(f)?k(a,f):b(f)?c(a,f):t(f)?q.Oc.gS(a,f):new q.Oc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,f);};f.tGb=c;f.rGb=k;f.Y_a=function(a,b,c){var d,f,k;a=a.Wqa;d=b.tBa[c];if(void 0===d)throw{lz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};f=d.version;if(void 0===f)throw{lz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};k=b.Dy&&d.serviceNonMember?d.serviceNonMember:d.service;if(void 0===k)throw{lz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};d=d.orgOverride;if(void 0===d&&(d=b.mya,void 0===d))throw{lz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return a+"/"+d+"/"+k+"/"+f+"/router";};f.yEb=function(){return{"Content-Type":"text/plain"};};f.X_a=function(a,b,c,d,f){return{version:c.version,url:b,id:a,languages:c.languages,params:d,echo:f};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Zia="TransportFactorySymbol";f.Cga="MslTransportSymbol";f.Fia="SslTransportSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.qha="PboDispatcherSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.rga="MediaRequestConstructorFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Rga="OpenConnectSideChannelSymbol";f.sga="MediaRequestDownloaderSymbol";},function(g,f,a){var y,L,A;function b(a,b,c){this.type=a;this.size=b;this.Iu=c;}function d(a){var c,d,f,k,p;a:{c=a.position;if(8<=a.oj()){d=a.Na();f=a.wq(4);if(!L.test(f))throw a.seek(c),Error("mp4-badtype");if(1==d){if(8>a.oj()){a.seek(c);c=void 0;break a;}d=a.Of();}if(!(8<=d))throw a.seek(c),Error("mp4-badsize");if("uuid"==f){if(16>a.oj()){a.seek(c);c=void 0;break a;}f=a.Zv();}c={type:f,offset:c,size:d,Iu:c+d-a.position};}else c=void 0;}if(c&&c.Iu<=a.oj()){k=c.type;d=c.size;p=c.Iu;f=new b(k,d,p);k=A[k];if(a.oj()<p)throw Error("mp4-shortcontent");k?(p=new y(a.rd(p)),k(f,p)):a.skip(p);a.seek(c.offset);f.raw=a.rd(d);return f;}}function t(a,b){for(var c=[],f={},k,p;0<b.oj();){k=d(b);if(!k)throw Error("mp4-badchildren");p=k.type;c.push(k);f[p]||(f[p]=k);}a.children=c;a.L4=f;}function m(a,b){a.version=b.kc(1);a.He=b.kc(3);}function c(a,b){b.skip(6);a.E4a=b.Ab();b.skip(8);a.channelCount=b.Ab();a.Lz=b.Ab();b.skip(4);a.sampleRate=b.Ab();b.skip(2);t(a,b);}function k(a,b){var c;b.skip(6);a.E4a=b.Ab();b.skip(16);a.width=b.Ab();a.height=b.Ab();a.XGb=b.Na();a.GKb=b.Na();b.skip(4);a.u9a=b.Ab();c=b.fe();a.I1a=b.wq(c);b.skip(31-c);a.depth=b.Ab();b.skip(2);t(a,b);}function q(a,b){m(a,b);a.GFb=b.kc(3);a.HFb=b.fe();a.uv=b.rd(16);}function p(a,b){for(var c=[],d;b--;)d=a.Ab(),c.push(a.rd(d));return c;}function u(a){var b;b=a.rd(2);a={NJb:b[1]>>1&7,MJb:!!(b[1]&1),GJb:a.Ab()};h(a,(b[0]<<8|b[1])>>4);return a;}function h(a,b){a.HJb=b>>4&3;a.LJb=b>>2&3;a.JJb=b&3;return a;}y=a(585);L=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.$u=function(a){var b,c,d,f,k;b=this;a=a.split("/");for(f=0;f<a.length&&b;f++){d=a[f].split("|");c=void 0;for(k=0;k<d.length&&!c;k++)c=d[k],c=b.L4&&b.L4[c];b=c;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};A={ftyp:function(a,b){a.SHb=b.wq(4);a.lIb=b.Na();for(a.A1a=[];4<=b.oj();)a.A1a.push(b.wq(4));},moov:t,sidx:function(a,b){m(a,b);a.qJb=b.Na();a.Jba=b.Na();a.d4=1<=a.version?b.Of():b.Na();a.N4=1<=a.version?b.Of():b.Na();b.skip(2);for(var c=b.Ab(),d=[],f,k;c--;){f=b.Na();k=f>>31;if(0!==k)throw Error("mp4-badsdix");f&=2147483647;k=b.Na();b.skip(4);d.push({size:f,duration:k});}a.rJb=d;},moof:t,mvhd:function(a,b){var c;m(a,b);c=1<=a.version?8:4;a.Jg=b.kc(c);a.modificationTime=b.kc(c);a.Jba=b.Na();a.duration=b.kc(c);a.mJb=b.aL();a.volume=b.lV();b.skip(70);a.uIb=b.Na();},pssh:function(a,b){var c;m(a,b);a.C6a=b.Zv();c=b.Na();a.data=b.rd(c);},trak:t,mdia:t,minf:t,stbl:t,stsd:function(a,b){m(a,b);b.Na();t(a,b);},encv:k,avc1:k,hvcC:k,hev1:k,mp4a:c,enca:c,"ec-3":c,avcC:function(a,b){a.version=b.fe();a.iEb=b.fe();a.iJb=b.fe();a.hEb=b.fe();a.JHb=(b.fe()&3)+1;a.VJb=p(b,b.fe()&31);a.VIb=p(b,b.fe());},pasp:function(a,b){a.UGb=b.Na();a.EKb=b.Na();},sinf:t,frma:function(a,b){a.oFb=b.wq(4);},schm:function(a,b){m(a,b);a.Sob=b.wq(4);a.QJb=b.Na();a.He&1&&(a.PJb=b.H$());},schi:t,tenc:q,mvex:t,trex:function(a,b){m(a,b);a.fb=b.Na();a.t5a=b.Na();a.$Q=b.Na();a.Wpa=b.Na();a.Vpa=u(b);},traf:t,tfhd:function(a,b){var c;m(a,b);a.fb=b.Na();c=a.He;c&1&&(a.mEb=b.Of());c&2&&(a.IJb=b.Na());c&8&&(a.$Q=b.Na());c&16&&(a.Wpa=b.Na());c&32&&(a.Vpa=u(b));},saio:function(a,b){m(a,b);a.He&1&&(a.i_a=b.Na(),a.j_a=b.Na());for(var c=1<=a.version?8:4,d=b.Na(),f=[];d--;)f.push(b.kc(c));a.QAa=f;},mdat:function(a,b){a.data=b.rd(b.oj());},tkhd:function(a,b){var c;m(a,b);c=1<=a.version?8:4;a.Jg=b.kc(c);a.modificationTime=b.kc(c);a.fb=b.Na();b.skip(4);a.duration=b.kc(c);b.skip(8);a.jfb=b.Ab();a.iZa=b.Ab();a.volume=b.lV();b.skip(2);b.skip(36);a.width=b.aL();a.height=b.aL();},mdhd:function(a,b){var c;m(a,b);c=1<=a.version?8:4;a.Jg=b.kc(c);a.modificationTime=b.kc(c);a.Jba=b.Na();a.duration=b.kc(c);c=b.Ab();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){m(a,b);a.UJb=b.Na();},tfdt:function(a,b){m(a,b);a.OH=b.kc(1<=a.version?8:4);8==b.oj()&&b.skip(8);},saiz:function(a,b){m(a,b);a.He&1&&(a.i_a=b.Na(),a.j_a=b.Na());for(var c=b.fe(),d=b.Na(),f=[];d--;)f.push(c||b.fe());a.KJb=f;},trun:function(a,b){var c,d;m(a,b);c=b.Na();d=a.He;d&1&&(a.qFb=b.Na());d&4&&(a.mGb=u(b));for(var f=[],k;c--;)k={},d&256&&(k.duration=b.Na()),d&512&&(k.size=b.Na()),d&1024&&(k.He=b.Na()),d&2048&&(k.UEb=b.Na()),f.push(k);a.Fn=f;},sdtp:function(a,b){m(a,b);for(var c=[];0<b.oj();)c.push(h({},b.fe()));a.Fn=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){m(a,b);a.fileSize=b.Of();a.Jba=b.Of();a.duration=b.Of();a.Xxa=b.Of();a.YJb=b.Of();1<=a.version&&(a.qIb=b.Of(),a.rIb=b.Na(),a.Yxa=b.Of(),a.Era=b.Na(),a.pra=b.Zv());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){m(a,b);a.He&1&&(a.ZDb=b.kc(3),a.DHb=b.fe(),a.Seb=b.Zv());a.FJb=b.Na();a.h_a=b.rd(b.oj());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){m(a,b);a.xU=b.Na();a.yI=b.Ab();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":q,"636F6D2E-6E65-7466-6C69-782E6974726B":t,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){m(a,b);a.zna=b.Zv();a.Jg=b.Of();a.M=b.Of();a.xn=b.Of();a.AV=b.Ab();a.BV=b.Ab();a.Ueb=b.rd(16);a.Rrb=b.rd(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){m(a,b);a.zEb=b.rd(b.oj());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;m(a,b);a.lpb=b.Of();c=b.Na();a.he=[];for(var d=0;d<c;d++)a.he.push({duration:b.Na(),size:b.Ab()});},"636F6D2E-6E65-7466-6C69-782E69736567":t,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;m(a,b);a.zna=b.Zv();a.duration=b.Na();c=b.Na();a.Fn=[];for(var d=0;d<c;d++)a.Fn.push({Ei:b.Na(),duration:b.Na(),EU:b.Ab(),FU:b.Ab(),aW:b.Ab(),bW:b.Ab(),Vp:b.Of(),mD:b.Na()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,d,k,p;m(a,b);c=b.Na();d=b.fe();a.Fn=[];for(var f=0;f<c;f++){k=b.fe();p=k>>6;k=k&63;0!=p&&0===k&&(k=d);a.Fn.push({Tqa:p,tv:b.rd(k)});}}};g.T={oJb:function(a,b){a=new y(a);b&&a.seek(b);return d(a);},F$:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new y(a);c=[];for(b&&a.seek(b);b=d(a);)c.push(b);return c;}};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.rda="ChunkMediaSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.qga="MediaHttpSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Xha="PrefetchEventsConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.rja="WindowUtilsSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Jga="NfCryptoSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Pfa="LogDisplayConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.gea="DxManagerSymbol";f.fea="DxManagerProviderSymbol";},function(g,f,a){var d,t,m,c,k;function b(a,b,d){this.oc=a;this.is=b;this.prefix=d;this.SK=this.Xl=!1;this.eoa=new c.PRa(b);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);t=a(22);m=a(21);c=a(608);k=a(8);f.zGa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";f.AGa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";f.BGa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";f.xF="";b.prototype.show=function(){this.Xl||(this.R1a(),this.mC&&k.Jd.body.appendChild(this.mC),this.Ug&&k.Jd.body.appendChild(this.Ug),this.QH&&k.Jd.body.appendChild(this.QH),this.Sz&&k.Jd.getElementsByTagName("head")[0].appendChild(this.Sz),this.Xl=!0,this.refresh());};b.prototype.lD=function(){this.Xl&&(this.Ug&&k.Jd.body.removeChild(this.Ug),this.QH&&k.Jd.body.removeChild(this.QH),this.mC&&k.Jd.body.removeChild(this.mC),this.Sz&&k.Jd.getElementsByTagName("head")[0].removeChild(this.Sz),this.Sz=this.cM=this.mC=this.QH=this.Ug=void 0,this.Xl=!1);};b.prototype.toggle=function(){this.Xl?this.lD():this.show();};b.prototype.Psb=function(){(this.SK=!this.SK)||this.refresh();};b.prototype.j$a=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.R1a=function(){var a;a=this;this.Sz=k.Jd.createElement("style");this.Sz.type="text/css";this.Sz.innerHTML=this.j$a(this.prefix);this.QH=this.oc.createElement("div",f.zGa,void 0,{"class":this.prefix+"-display-blur"});this.Ug=this.oc.createElement("div",f.AGa,void 0,{"class":this.prefix+"-display"});this.mC=this.oc.createElement("div",f.BGa,void 0,{"class":this.prefix+"-display"});this.Asa().forEach(function(b){return a.mC.appendChild(b);});};b.prototype.S1a=function(a){a=this.oc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(A){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.Xl||this.SK?Promise.resolve():this.bAa().then(function(b){if(b&&(b=a.S1a(b),a.Ug)){a.cM&&(a.Ug.removeChild(a.cM),a.cM=void 0);a.cM=b;a.Ug.appendChild(a.cM);b=a.Ug.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.LAa);(b=a.Ug.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(t.af)),g.__param(1,d.l(m.se)),g.__param(2,d.Yg())],a);f.XN=a;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.eea="DxDisplaySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.pZ={SJ:"keepAlive",splice:"splice"};f.rha="PboEventSenderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Rha="PlaydataConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.pha="PboCachedPlaydataSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.tha="PboLicenseResponseTransformerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.sha="PboLicenseRequestTransformerSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Cha="PboReleaseLicenseCommandSymbol";},function(g,f,a){var c,k,q,p,u,h;function b(a){var b;a=new q.uA(a);if(1481462272!=a.Na())throw Error("Invalid header");b={XMR:{Version:a.Na(),RightsID:a.$e(16)}};d(a,b.XMR,a.buffer.length);return b;}function d(a,b,c){var f,k,p,q,g;for(;a.position<c;){f=a.Ab();k=a.Na();k=k-8;switch(f){case 1:p="OuterContainer";break;case 2:p="GlobalPolicy";break;case 3:p="MinimumEnvironment";break;case 4:p="PlaybackPolicy";break;case 5:p="OutputProtection";break;case 6:p="UplinkKID";break;case 7:p="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:p="AnalogVideoOutputConfiguration";break;case 9:p="KeyMaterial";break;case 10:p="ContentKey";break;case 11:p="Signature";break;case 12:p="DeviceIdentification";break;case 13:p="Settings";break;case 18:p="ExpirationRestriction";break;case 42:p="ECCKey";break;case 48:p="ExpirationAfterFirstPlayRestriction";break;case 50:p="PlayReadyRevocationInformationVersion";break;case 51:p="EmbeddedLicenseSettings";break;case 52:p="SecurityLevel";break;case 54:p="PlayEnabler";break;case 57:p="PlayEnablerType";break;case 85:p="RealTimeExpirationRestriction";break;default:p="Other";}q={Type:t(f)};g=b[p];g?h.isArray(g)?g.push(q):(b[p]=[],b[p].push(g),b[p].push(q)):b[p]=q;switch(f){case 1:case 2:case 4:case 7:case 9:case 54:d(a,q,a.position+k);break;case 5:q.Reserved1=a.Ab();q.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Ab();q.MinimumAnalogVideoOutputProtectionLevel=a.Ab();q.Reserved2=a.Ab();q.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Ab();break;case 10:q.Reserved=a.$e(16);q.SymmetricCipherType=a.Ab();q.AsymmetricCipherType=a.Ab();k=a.Ab();q.EncryptedKeyLength=k;f=a.$e(k);q.EncryptedKeyData=10>=k?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 11:q.SignatureType=a.$e(2);k=a.Ab();f=a.$e(k);q.SignatureData=10>=k?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 13:q.Reserved=a.Ab();break;case 18:q.BeginDate=a.Na();q.EndDate=a.Na();break;case 42:q.CurveType=a.$e(2);k=a.Ab();f=a.$e(k);q.Key=10>=k?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 48:q.ExpireAfterFirstPlay=a.Na();break;case 50:q.Sequence=a.Na();break;case 51:q.LicenseProcessingIndicator=a.Ab();break;case 52:q.MinimumSecurityLevel=a.Ab();break;case 57:q.PlayEnablerType=m(a.$e(16));break;case 85:break;default:q.OtherData=a.$e(k);}}}function t(a){return"0x"+a.toString(16);}function m(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(f,"__esModule",{value:!0});c=a(9);k=a(4);q=a(131);p=a(124);u=a(192);h=a(16);f.BFb=function(a,d,f){switch(d){case c.GX:a&&(a=k.x_a(a),u.pEa(a,function(a){a.X&&(a=a.object)&&(a=p.F$a(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=p.Ckb(a))&&(a=k.Kk(a))&&(a=b(a))&&f(a);}));}};f.CFb=b;f.DFb=d;f.FFb=t;f.EFb=m;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.nha="PboAcquireLicenseCommandSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.wha="PboManifestCommandSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Rea="HttpRequesterSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Dea="FtlDataParserSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Iga="NetworkMonitorSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.sja="XhrFactorySymbol";},function(g,f,a){var d,h,m,c,k,q,p,u,z;function b(a){this.config=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(148);h=a(75);m=a(18);c=a(2);k=a(14);q=a(8);p=a(16);u=a(1);a=a(17);b.prototype.construct=function(a,b){var c,d,f;c=this;d={};a.forEach(function(a){var b;b=a.url;d[b]||(d[b]=[]);d[b].push(a);});f=[];m.Sc(d,function(a,d){f.push(c.ecb(d,b));});return{urls:f};};b.prototype.ecb=function(a,b){var c,d,f,k;c=this;d=a[0];f={url:d.url,bitrate:d.P,cdnid:p.Ve(d.Ub)?d.Ub.id:d.Ub,dltype:d.j6a,id:d.Rc};k={};a.forEach(function(a){var b;b=c.feb(a)?"fail":"success";k[b]||(k[b]=[]);k[b].push(a);});m.Sc(k,function(a,d){"fail"===a?f.failures=c.Z$a(d,b):"success"===a&&(f.downloads=c.P$a(d,b));});return f;};b.prototype.P$a=function(a,b){var c,d,f;c=this;d={};a.forEach(function(a){var b;b=a.o1a;d[b]||(d[b]=[]);d[b].push(a);});f=[];m.Sc(d,function(a,d){var k;k=[];d.forEach(function(d){k.push(d);c.$db(d)&&(f.push(c.Fsa(k,b,a)),k=[]);});0<k.length&&f.push(c.Fsa(k,b,a));});return f;};b.prototype.Fsa=function(a,b,c){var g;for(var d=a.sort(function(a,b){return a.rj.dg<b.rj.dg?-1:a.rj.dg>b.rj.dg?1:0;}),f=d[0].rj,k=f.requestTime,p=f.dg,f=f.il,q=1;q<a.length;q++){g=a[q].rj;g.requestTime<k&&(k=g.requestTime);g.dg<p&&(p=g.dg);g.il>f&&(f=g.il);}q=this.kbb(d);g=d[d.length-1];b={time:k-b,tcpid:c?parseInt(c):-1,tresp:p-k,first:q,ranges:this.lbb(d,q),dur:f-p,trace:this.Xbb(a),status:this.zS(g)};this.config().DI&&this.config().DI.length&&(b.servertcp=this.Bbb(a));return b;};b.prototype.Bbb=function(a){var b;b=this.config().DI||[];return a.reduce(function(a,c){var d,f;d=[];if(c.ECa){f={};c.ECa.split(";").forEach(function(a){a=a.split("=");2==a.length&&(f[a[0]]=a[1]);});b.forEach(function(a){d.push(f[a]);});}a.push(d);return a;},[]);};b.prototype.kbb=function(a){var b;b=0;a.forEach(function(a){a.vq&&(b=q.Un(b,a.vq[0]));});return b;};b.prototype.lbb=function(a,b){var c;c=[];a.forEach(function(a){a.vq?c.push([a.vq[0]-b,a.vq[1]-b]):c.push([0,-1]);});return c;};b.prototype.Xbb=function(a){var b,c;b=[];a.forEach(function(a){var d;a=a.rj;if(c){d=a.requestTime-c.il;0<d&&b.push([d,-2]);d=q.um(c.il,a.requestTime);d=a.dg-d;0<d&&b.push([d,-3]);}b.push([a.il-a.dg,a.Iu||0]);c=a;});return b;};b.prototype.$db=function(a){if(a.Y===c.G.Dt||a.Y===c.G.Lw)return!0;};b.prototype.zS=function(a){if(a.X)return"complete";if(a.Y===c.G.Dt)return"abort";if(a.Y===c.G.Lw)return"stall";k.Ga(!1,"download status should never be: other");return"other";};b.prototype.Z$a=function(a,b){var c,f;c=this;f=[];a.forEach(function(a){var k;k=a.rj;a={time:k.dg-b,tresp:k.dg-k.requestTime,dur:k.il-k.dg,range:a.vq,reason:c.mbb(a),httpcode:a.Vh,nwerr:d.fta(a.Y)};f.push(a);});return f;};b.prototype.mbb=function(a){return a.Vh||a.Y===c.G.NF?"http":a.Y===c.G.OF?"timeout":"network";};b.prototype.feb=function(a){return a.X||void 0===a.X||a.Y===c.G.Dt||a.Y===c.G.Lw?!1:!0;};b.prototype.e2a=function(a){var b,c,d,f,k,p;b=a.request;c=b.stream;d=b.track;f=b.url;k=this.M$a(d,f);switch(k){case h.ig.audio:case h.ig.video:p=b.stream.Rc;break;case h.ig.tW:case h.ig.Yba:p=d.Rc;}a={P:c&&c.P,j6a:k,Rc:p,rj:a.rj,Ub:b.Ub,url:f,Ec:a.Ec,Vh:a.Vh,Y:a.Y,X:a.X,ECa:a.headers&&(a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]),o1a:this.s8a(a)};void 0!==b.offset&&void 0!=b.length&&(a.vq=[b.offset,b.offset+b.length-1]);return a;};b.prototype.M$a=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.s8a=function(a){if(a.headers&&(a=a.headers["X-Session-Info"]||a.headers["x-session-info"]))return a=(a?a.split(";"):[]).filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0],m.Qd(a);};z=b;z=g.__decorate([u.N(),g.__param(0,u.l(a.gd))],z);f.EIa=z;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Zda="DownloadReportBuilderSymbol";},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(35);f.EX=function(a,f){this.q6a=a;this.size=f.Xua()?b.Cf:f;};},function(g,f,a){var d,h,m,c,k,q,p,u,z,y,L,A,B,M,l,n,W,E,r,R,ba,Y,ea,V;function b(a,b,c,d,f,g,t,y,S,Q,R,ka,ba,F,D,P,Jb,T){var N;N=this;this.j=a;this.dw=b;this.NCa=d;this.zQ=f;this.xh=g;this.R8=t;this.y4=y;this.bl=S;this.Td=Q;this.pR=R;this.Ed=ka;this.config=ba;this.Hc=F;this.Qa=D;this.ya=P;this.platform=Jb;this.bK=T;this.gM=[];this.Nhb=this.iT=this.pAa=0;this.GC=[];this.rn=function(a){a.index===N.da&&(N.gCa(),void 0===a.$U||a.qD||N.yh());};this.KT=function(a){a.index===N.da&&N.s1a();};this.S7=function(a){return function(b){var c;c=b.manifestIndex;if("number"!==typeof c)throw"Event "+JSON.stringify(b)+" does not have manifestIndex property";c===N.da&&a(b);};};this.WE=function(){N.tc(Y.Ee.FRa,!1,V.ah|V.hg,{track:N.j.uc.value.bg});};this.VCa=function(a){a.newValue&&N.gk&&(a={track:a.newValue.bg},N.wy(a,N.j.Je.value&&N.j.Je.value.stream,N.j.xf.value&&N.j.xf.value.stream),N.tc(Y.Ee.GRa,!1,V.ah|V.hg,a));};this.Rm=function(a){N.tc(Y.Ee.NFa,!1,V.ah|V.hg,a.newValue);};this.mqa=function(){var a,b,c;if(N.j.Di)try{a=!1;N.oa%N.config().CI&&!N.j.vR&&(a=!0,N.GC=N.GC.filter(function(a){return!a.X;}));if(0<N.GC.length){b=N.pR.construct(N.GC,N.j.dl.fa(z.ma));N.GC=[];b.erroronly=a;N.config().DI.length&&(b.tcpinfo=N.config().DI.join(","));c={};u.Sc(b,function(a,b){c[a]=JSON.stringify(b);});N.tc(Y.Ee.BIa,!1,V.hg,c);}}catch(rc){N.log.error("Exception in dlreport.",rc);}};this.bxa=function(){var a,b;if(N.j.state.value==r.jb.Yc){a=N.Tya();N.config().U$&&(a.avtp=N.Yz.Uk().Xz,N.j.ll&&N.YS(a));a.midplayseq=N.Nhb++;b=N.j.jc.value;a.prstate=b===r.nb.yd?"playing":b===r.nb.ni?"paused":b===r.nb.Vq?"ended":"waiting";N.config().ypb&&N.sCa("midplay");N.config().An&&N.Hc()&&N.a7(a);N.Y6(a);N.Z6(a);N.tc(Y.Ee.cNa,!1,V.ah|V.hg|V.tt|V.RN,a);}};this.oja=/-?l(\d\d)/i;this.wqa=function(a){N.GC.push(N.pR.e2a(a.response));};this.nqa=function(a){var b,c,d,f,p,q;a=a.response;b=a.request;c=a.request.Eo;d=b.track;if(d){f=!a.X&&a.Y!=L.G.Dt;p=d.type;q=a.rj;if(f||N.j.d8){c={dltype:p,url1:b.url,url2:a.url||"",cdnid:b.Ub&&b.Ub.id,tresp:u.Ql(q.dg-q.requestTime),brecv:u.q9a(q.Iu),trecv:u.Ql(q.il-q.dg),sbr:c&&c.P};a.vq&&(c.range=a.vq);switch(p){case k.ig.audio:c.adlid=b.stream.Rc;break;case k.ig.video:c.vdlid=b.stream.Rc;break;case k.ig.tW:c.ttdlid=d.Rc;}(b=ea.fta(a.Y))&&(c.nwerr=b);a.Vh&&(c.httperr=a.Vh);N.tc(Y.Ee.CIa,f,V.hg,c);}}};this.jj=function(){N.tc(Y.Ee.OFa,!1,V.ah|V.tt,{browserua:W.Nj});};this.Ooa=function(a){var b,c,d;a=a.response;b=a.rj;c=z.Cb(b.dg);d=z.Cb(b.il);b=B.aa(b.Iu||0);b.mva()||b.Xua()||(c=new M.jia(c,d),N.Yz.YP(new l.EX(c,b)),a&&a.request&&a.request.Eo&&a.request.Eo.Db&&N.zQ.YP(new n.IGa(c,b,a.request.Eo.Db)));};this.Dya=function(a){var b;b=a.newValue;a.Ku&&a.Ku.w9&&b||b==N.I7||(N.jrb(N.I7,b),N.I7=b);};this.eo=function(a){function b(a){var b;if(N.j.yb&&N.j.yb.sourceBuffers){b=N.j.yb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.nj(),updating:b.updating(),ranges:b.nS()};}}N.vE="rebuffer";a={cause:a.cause};a.cause&&a.cause===m.Hha&&(a.mediaTime=N.j.Ob.value,a.buf_audio=b(h.OY),a.buf_video=b(h.VF));N.Wdb(N.gM[r.nb.yd]||0,N.gM[r.nb.ni]||0,a);N.oF=N.getTime();E.zb(N.BQ);};this.eDa=function(a){var b;a=a.oldValue;b=N.getTime();a===r.nb.ng?N.gM=[]:N.gM[a]=(N.gM[a]||0)+(b-N.dfb);N.dfb=b;};this.Bn=function(a){switch(a.cause){case r.jg.$w:case r.jg.WN:N.vE&&N.oF?N.qlb(N.getTime()-N.oF,N.vE):N.gk||N.Rya(),N.vE="repos",N.dob(a.yU,a.xf,a.Je),N.oF=N.getTime(),E.zb(N.BQ);}};this.BQ=function(){var a;if(N.oF&&N.j.jc.value!==r.nb.ng){a=N.getTime()-N.oF;N.yob(a,N.Ri);N.D7&&N.D7!=N.j.Lc.value&&N.WZa();N.oF=void 0;N.vE=void 0;N.Ri=void 0;}};this.HH=function(a){N.Yeb=N.getTime();N.D7=a.oldValue;};this.yh=function(){N.gk||(p.Ga(!N.gk),N.gk=!0,N.lCa(!1),N.Jdb(),N.config().Eua&&(N.dT=J.setTimeout(function(){N.xh.flush(!1)["catch"](function(){return N.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});N.dT=void 0;},N.config().Eua)));};this.Ge=function(){N.dT&&(J.clearTimeout(N.dT),N.dT=void 0);if(N.config().CI||N.config().AH)N.W3&&(J.clearInterval(N.W3),N.W3=void 0),N.mqa();N.wDa&&N.wDa();N.gk?N.U7a(!!N.j.Xh):N.j.Xh?N.lCa(!0):N.Rya();N.cpb||(N.tc=h.je);};this.bEa=function(a){a.oldValue&&a.Ku&&a.Ku.Boa&&N.$0a(a.oldValue,a.newValue,a.Ku.Boa,a.Ku.r_a);};this.mza=function(a){var b;if(a.newValue){b=a.newValue.stream;N.J7!=b&&(N.J7&&N.Tnb(N.J7,b,a.newValue.Tm.startTime),N.J7=b);}};this.$p=function(a){function b(a,b){var c;if(!a||a.Y7!==b.location){c={Y7:b.location,Vva:b.locationlv,Jpb:b.serverid,Nz:b.servername};N.N0a(a,b);return c;}}if("audio"===a.mediaType){if(a=b(N.Xeb,a))N.Xeb=a;}else if(a=b(N.TJ,a))N.TJ=a;};this.FE=function(a){var b,c;b=a.mediatype;c=a.reason;"video"===b?"serverswitchaway"===c?(N.Wg.summary.fEa++,N.Wg.zT=N.Qa.Te.fa(z.ma)):"serverswitchback"===c&&(N.Wg.summary.gEa++,N.Wg.zT&&(N.Wg.summary.hEa.push(N.Qa.Te.fa(z.ma)-N.Wg.zT),N.Wg.zT=void 0)):"audio"===b&&("serverswitchaway"===c?(N.Wg.summary.vna++,N.Wg.uT=N.Qa.Te.fa(z.ma)):"serverswitchback"===c&&(N.Wg.summary.wna++,N.Wg.uT&&(N.Wg.summary.xna.push(N.Qa.Te.fa(z.ma)-N.Wg.uT),N.Wg.uT=void 0)));N.tc(Y.Ee.WQa,!1,V.ah|V.hg,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});};this.ZB=function(a){N.tc(Y.Ee.yEa,!1,V.hg,{strmsel:a.strmsel});};this.YB=function(a){N.tc(Y.Ee.xEa,!1,V.hg,{msg:a.msg});};this.RE=function(a){a=A.EL(a);a.details&&(a.details=JSON.stringify(a.details));N.tc(Y.Ee.mRa,!0,V.ah|V.RA|V.VM,a);};this.Gjb=function(){N.xh.flush(!0)["catch"](function(){return N.log.warn("failed to flush logbatcher on midplay interval");});};this.Yz=d();this.log=q.Zf(a,"LogblobBuilder");this.I7=a.paused.value;this.da=b.da;this.oa=this.dw.oa;this.Wg={summary:{fEa:0,gEa:0,hEa:[],vna:0,wna:0,xna:[]},zT:void 0,uT:void 0};this.yc();c&&this.gCa();}Object.defineProperty(f,"__esModule",{value:!0});d=a(49);h=a(9);m=a(56);c=a(28);k=a(75);q=a(4);p=a(14);u=a(18);z=a(3);y=a(60);L=a(2);A=a(19);B=a(35);M=a(336);l=a(322);n=a(641);W=a(8);E=a(45);r=a(15);R=a(16);ba=a(640);Y=a(639);ea=a(148);b.prototype.yc=function(){this.j.addEventListener(r.S.rn,this.rn);this.j.addEventListener(r.S.KT,this.KT);this.j.addEventListener(r.S.$p,this.S7(this.$p));this.j.addEventListener(r.S.FE,this.S7(this.FE));this.j.addEventListener(r.S.Ge,this.S7(this.Ge));};b.prototype.gCa=function(){var a;a=this;if(!this.kxa){this.j.Ci.addListener(this.VCa);this.j.Lc.addListener(this.HH);this.j.paused.addListener(this.Dya);this.j.Je.addListener(this.mza);this.j.jc.addListener(this.BQ);this.j.jc.addListener(this.eDa);this.j.re.addListener(this.bEa);this.j.addEventListener(r.S.Nu,this.nqa,h.fZ);this.j.addEventListener(r.S.jj,this.jj);this.j.addEventListener(r.S.YB,this.YB);this.j.addEventListener(r.S.ZB,this.ZB);this.j.addEventListener(r.S.RE,this.RE);this.j.addEventListener(r.S.eo,this.eo);this.j.addEventListener(r.S.yh,this.yh);this.j.addEventListener(r.S.Bn,this.Bn);this.j.addEventListener(r.S.WE,this.WE);this.j.addEventListener(r.S.Ri,function(){a.Ri=!0;});this.dw.Rm&&this.dw.Rm.addListener(this.Rm);this.config().hi&&(this.cpb=!0);if(this.config().CI||this.config().AH)this.j.addEventListener(r.S.Nu,this.wqa),this.W3=J.setInterval(this.mqa,this.config().p6a);this.config().U$&&this.j.addEventListener(r.S.Nu,this.Ooa);this.kxa=!0;}};b.prototype.s1a=function(){this.Ge();this.kxa&&(this.j.removeEventListener(r.S.$p,this.$p),this.j.removeEventListener(r.S.FE,this.FE),this.j.Ci.removeListener(this.VCa),this.j.Lc.removeListener(this.HH),this.j.paused.removeListener(this.Dya),this.j.Je.removeListener(this.mza),this.j.jc.removeListener(this.BQ),this.j.jc.removeListener(this.eDa),this.j.re.removeListener(this.bEa),this.j.removeEventListener(r.S.Nu,this.nqa),this.j.removeEventListener(r.S.Ge,this.Ge),this.j.removeEventListener(r.S.jj,this.jj),this.j.removeEventListener(r.S.YB,this.YB),this.j.removeEventListener(r.S.ZB,this.ZB),this.j.removeEventListener(r.S.RE,this.RE),this.j.removeEventListener(r.S.eo,this.eo),this.j.removeEventListener(r.S.yh,this.yh),this.j.removeEventListener(r.S.Bn,this.Bn),this.j.removeEventListener(r.S.WE,this.WE),this.dw.Rm&&this.dw.Rm.removeListener(this.Rm),this.j.removeEventListener(r.S.Nu,this.wqa),this.j.removeEventListener(r.S.Nu,this.Ooa));};b.prototype.lCa=function(a){var b,d,g,m,h,t,A,L,B,M,l,S,n,Q,E,N,ka,ea,F,D,gb,P,T;b={};try{b={browserua:W.Nj,browserhref:location.href,playdelaysdk:u.Ql(this.j.noa()),applicationPlaydelay:u.Ql(this.j.l0a()),playdelay:u.Ql(this.j.r0a()),trackid:this.j.Xg,bookmark:u.Ql(this.j.Mx||0),pbnum:this.j.index,endianness:c.U$a()};this.config().n7a&&(b.transitiontime=this.j.Yo,b.uiplaystarttime=this.j.Xa.yW,b.playbackrequestedat=this.j.dl.fa(z.ma),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Qa.Te.fa(z.ma),b.clockgetpreciseappepoch=this.ya.Ky.fa(z.ma),b.absolutestarttime=this.j.kS(),b.relativetime=this.j.V5());this.f5(b,"startplay");}catch(Ya){this.log.error("error in startplay log fields",Ya);}this.j.jj&&(b.blocked=this.j.jj);this.config().endpoint||(b.configendpoint="error");this.j.Mf&&(b.playbackcontextid=this.j.Mf);this.vua(b);if(this.config().QW&&this.j.Xa.tca){for(var f={},k=Object.keys(this.j.Xa.tca),p,q=k.length;q--;)p=k[q],f[p.toLowerCase()]=this.j.Xa.tca[p];b.vui=f;}R.pa(this.j.Wna)&&(b.bookmarkact=u.Ql(this.j.Wna));(f=this.j.zc.at&&this.j.zc.ats?this.j.zc.at-this.j.zc.ats:void 0)&&(b.nccpat=f);(f=this.j.zc.lr&&this.j.zc.lc?this.j.zc.lr-this.j.zc.lc:void 0)&&(b.nccplt=f);(f=this.u6a())&&(b.downloadables=f);J._cad_global.device&&R.Rb(J._cad_global.device.SC)&&(b.esnSource=J._cad_global.device.SC);(f=J._cad_global.platformExtraInfo)&&u.Va(b,f,{prefix:"pi_"});(f=W.sk&&W.sk.connection&&W.sk.connection.type)&&(b.nettype=f);this.j.Sm&&this.j.Sm.initBitrate&&(b.initvbitrate=this.j.Sm.initBitrate);this.j.Sm&&this.j.Sm.selector&&(b.selector=this.j.Sm.selector);b.fullDlreports=this.j.Mqa;if(this.j.state.value>=r.jb.Yc)try{g=this.j.jo();g&&(this.tn=c.Pca(g.map(function(a){return a.P;})),this.Iwa=c.Pca(g.map(function(a){return a.height;})),d=0<g.length?ba.Qgb(g,function(a){return a.P;}):void 0,b.maxbitrate=this.tn,b.maxresheight=this.Iwa);}catch(Ya){this.log.error("Exception computing max bitrate",Ya);}try{m=c.xS();m&&(b.pdltime=m);}catch(Ya){}try{u.Va(b,this.j.zc,{prefix:"sm_"});u.Va(b,this.j.GS(),{prefix:"vd_"});}catch(Ya){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.No&&(b.pssh=this.j.No);this.j.ef&&this.j.ef.ek&&this.j.ef.ek.keySystem&&(b.keysys=this.j.ef.ek.keySystem);if(this.config().An&&this.Hc())try{g={};h=this.Hc().getStats(void 0,void 0,this.j.M);t=this.j.kS();A=h.qw.H1a;g.attempts=h.iza||0;g.num_completed_tasks=A.length;L=this.Td.J8a;m={};B=y.Xc.te.Aia;M=y.Xc.te.Bt;l=y.Xc.te.UM;S=y.Xc.te.vF;n=y.Xc.te.TM;h.Gi&&(m.scheduled=h.Gi-t);Q=this.j.Ia;Q&&R.Rb(Q.Gz)&&(m.preauthsent=Q.Gz-this.j.Xe,m.preauthreceived=Q.rE-this.j.Xe);E=A.filter(L("type","manifest"));g.mf_succ=E.filter(L("status",B)).length;g.mf_fail=E.filter(L("status",M)).length;N=this.j.zc;R.Rb(N.lg)&&0>N.lg&&this.j.Xe&&(m.ldlsent=N.lc,m.ldlreceived=N.lr);ka=A.filter(L("type","ldl"));g.ldl_succ=ka.filter(L("status",B)).length;g.ldl_fail=ka.filter(L("status",M)).length;h=!0;if(!m.preauthreceived||0<=m.preauthreceived)h=!1;this.config().l4||(h=!1);ea=ka.filter(L("status",l)).length;F=ka.filter(L("status",S)).length;D=ka.filter(L("status",n)).length;this.config().l4&&0===ea+F+D&&(!m.ldlreceived||0<=m.ldlreceived)&&(h=!1);if(this.config().xR){gb=this.j.Tl&&this.j.Tl.stats;if(gb){if(gb.WR&&(m.headersent=gb.WR-this.j.Xe),gb.BT&&(m.headerreceived=gb.BT-this.j.Xe),gb.iE&&(m.prebuffstarted=gb.iE-this.j.Xe),gb.WU&&(m.prebuffcomplete=gb.WU-this.j.Xe),!m.prebuffcomplete||0<=m.prebuffcomplete)h=!1;}else h=!1;}P=A.filter(L("type","getHeadersAndMedia"));g.hm_succ=P.filter(L("status",B)).length;g.hm_fail=P.filter(L("status",M)).length;u.Va(b,g,{prefix:"pr_"});b.eventlist=JSON.stringify(m);b.prefetchCompleted=h;this.a7(b);}catch(Ya){this.log.warn("error in collecting video prepare data",Ya);}b.avtp=this.Yz.Uk().Xz;this.j.ll&&this.YS(b);if(this.j.uc.value)try{b.ttTrackFields=this.j.uc.value.bg;}catch(Ya){}if(A=this.j.Lc&&this.j.Lc.value&&this.j.Lc.value.mc){T={};A.forEach(function(a){T[a.df]=void 0;});b.audioProfiles=Object.keys(T);}this.b7(b);this.j.Ia&&"boolean"===typeof this.j.Ia.isSupplemental&&(b.isSupplemental=this.j.Ia.isSupplemental);b.headerCacheHit=!!this.j.Tl;this.j.Tl&&(b.headerCacheDataAudio=this.j.Tl.audio,b.headerCacheDataAudioFromMediaCache=this.j.Tl.audioFromMediaCache,b.headerCacheDataVideo=this.j.Tl.video,b.headerCacheDataVideoFromMediaCache=this.j.Tl.videoFromMediaCache);this.j.Ia&&(b.packageId=this.j.Ia.packageId);this.j.Ia&&this.j.Ia.choiceMap&&(b.hasChoiceMap=!0);this.config().Mra&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.bl.Dy;this.Reb(d);this.Qeb();this.tua(this.j,b);this.uua(this.j,b);this.yy(this.j,b);this.xy(this.j,b);this.Y6(b);this.Z6(b);this.yua(b);this.sua(b);this.zua(b);this.tc(Y.Ee.eRa,a,V.ah|V.RA|V.hg|V.RN|V.tt|V.VM|V.NX,b);};b.prototype.yob=function(a,b){b={playdelay:u.Ql(a),reason:this.vE,intrplayseq:this.iT-1,skipped:b};this.yy(this.j,b);this.tc(Y.Ee.mQa,!1,V.ah|V.RA|V.hg,b);"rebuffer"==this.vE&&this.j.cl.FYa(Number(u.Ql(a)));};b.prototype.$0a=function(a,b,c,d){a={moff:u.iy(c),vbitrate:b.P,vbitrateold:a.P,vdlid:b.Rc,vdlidold:a.Rc,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:d};this.yy(this.j,a);this.xy(this.j,a);this.tc(Y.Ee.MGa,!1,V.hg,a);};b.prototype.Tnb=function(a,b,c){a={moff:u.iy(c),vdlidold:a.Rc,vbitrateold:a.P};this.yy(this.j,a);this.xy(this.j,a);this.wy(a,b,this.j.xf.value&&this.j.xf.value.stream);this.tc(Y.Ee.eQa,!1,V.hg,a);};b.prototype.Rya=function(){var a,b;a={waittime:u.Ql(this.j.V5()),abortedevent:"startplay",browserua:W.Nj,browserhref:location.href,trackid:this.j.Xg};this.j.Mf&&(a.playbackcontextid=this.j.Mf);this.j.Sm&&this.j.Sm.initBitrate&&(a.initvbitrate=this.j.Sm.initBitrate);try{b=c.xS();b&&(a.pdltime=b);u.Va(a,this.j.zc,{prefix:"sm_"});}catch(va){}this.W6(a,!0);this.zua(a);this.b7(a);this.wua(a);this.wy(a,this.j.re.value,this.j.ij.value);this.tc(Y.Ee.Pha,!1,V.ah|V.hg|V.tt,a);};b.prototype.qlb=function(a,b){a={waittime:u.Ql(a),abortedevent:"resumeplay",browserua:W.Nj,resumeplayreason:b};this.j.Mf&&(a.playbackcontextid=this.j.Mf);this.j.Sm&&this.j.Sm.initBitrate&&(a.initvbitrate=this.j.Sm.initBitrate);this.wy(a,this.j.re.value,this.j.ij.value);this.tc(Y.Ee.Pha,!1,V.ah|V.hg,a);};b.prototype.jrb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.yy(this.j,a);this.xy(this.j,a);this.wy(a,this.j.Je.value&&this.j.Je.value.stream,this.j.xf.value&&this.j.xf.value.stream);this.tc(Y.Ee.fRa,!1,V.ah|V.hg,a);};b.prototype.Wdb=function(a,b,c){a=u.Va({vdlid:this.j.re.value.Rc,playingms:a,pausedms:b,intrplayseq:this.iT++},c);this.f5(a,"intrplay");b=this.j.Ub[d.pc.L.VIDEO].value;c=this.j.Ub[d.pc.L.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=c&&c.id;a.locid=this.TJ&&this.TJ.Y7;a.loclv=this.TJ&&this.TJ.Vva;a.avtp=this.Yz.Uk().Xz;this.j.ll&&(this.W6(a,!0),this.YS(a),this.xua(a));try{u.Va(a,this.j.GS(),{prefix:"vd_"});}catch(za){}this.yy(this.j,a);this.xy(this.j,a);this.wy(a,this.j.Je.value&&this.j.Je.value.stream,this.j.xf.value&&this.j.xf.value.stream);this.tc(Y.Ee.pLa,!1,V.ah|V.hg,a);};b.prototype.dob=function(a,b,c){a={moffold:u.iy(a),reposseq:this.pAa++};this.xy(this.j,a);this.wy(a,c&&c.stream,b&&b.stream);this.tc(Y.Ee.iQa,!1,V.ah|V.hg,a);};b.prototype.WZa=function(){this.tc(Y.Ee.oFa,!1,V.ah|V.hg,{switchdelay:u.Ql(this.getTime()-this.Yeb),newtrackinfo:this.j.Lc.value.fb,oldtrackinfo:this.D7.fb});};b.prototype.N0a=function(a,b){var c,d,f,k;c=b.serverid;d=b.serverrtt;f=b.serverbw;k={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};k.mediatype=b.mediatype;k.selcdnrtt=d;k.selcdnbw=f;k.selreason=b.selreason||"unknown";k.testreason=b.testreason;k.fastselthreshold=b.fastselthreshold;k.seldetail=b.seldetail;k.cdnbwdata=JSON.stringify([{id:c,rtt:d,bw:f}]);a&&(k.oldlocid=a.Y7,k.oldloclv=a.Vva,k.oldocaid=a.Jpb,k.oldocaname=a.Nz);this.tc(Y.Ee.KGa,!1,V.VM,k);};b.prototype.sCa=function(a){var b,c;b={};b.trigger=a;try{c=this.j.O5();b.subtitleqoescore=this.j.Ln.Lbb(c);b.metrics=JSON.stringify(this.j.Ln.e6(c));}catch(za){this.log.error("error getting subtitle qoe data",za);}this.tc(Y.Ee.oRa,!1,V.ah|V.tt|V.RA,b,"info");};b.prototype.transition=function(a){this.tc(Y.Ee.MRa,!1,0,a);};b.prototype.zbb=function(a,b){if(a=a.oS())if(b=a[b])return b.hm;};b.prototype.tua=function(a,b){a.Xa.$f&&(b.isBranching=!0);};b.prototype.uua=function(a,b){b.cachedManifest=a.Bu;b.cachedLicense=a.Px;};b.prototype.yy=function(a,b){var c,d;if(this.config().Ddb){c=a.P5();if(c){b.segment=c;d=a.py();b.segmenttime=d;a=this.zbb(a,c);null!==d&&void 0!==a&&(b.segmentoffset=d-a);}}};b.prototype.xy=function(a,b){b.pxid=a.Hmb;};b.prototype.xua=function(a){var b,c;b=this.j.G6;c=b&&b.cob;b&&b.oua&&(a.htwbr=b.oua,a.pbtwbr=b.NU,a.hptwbr=b.gdb);b&&b.NAa&&(a.rr=b.NAa,a.ra=b.Pmb);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));};b.prototype.b7=function(a){var b,c,d,f,k;b=this;c=this.j.Bf&&this.j.Bf.value&&this.j.Bf.value.mc;if(c){d=new Set();f=new Set();k=new Set();c.forEach(function(a){a=a.df;d.add(a);f.add(a.replace(b.oja,""));(a=a.match(b.oja))&&0<a.length&&k.add(a[1]);});a.videoProfiles=[].concat(ga(d));a.videoProfile=0===f.size?"none":[].concat(ga(f))[0];a.videoProfileLevels=[].concat(ga(k));}};b.prototype.wua=function(a){var b,c,d;try{b=this.Td.createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){d=c.getExtension("WEBGL_debug_renderer_info");d&&(a.WebGLRenderer=c.getParameter(d.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(d.UNMASKED_VENDOR_WEBGL));}}catch(O){}};b.prototype.Edb=function(a){a.switchAwaySummary={vsa:this.Wg.summary.fEa,vsb:this.Wg.summary.gEa,vsbt:this.Wg.summary.hEa,asa:this.Wg.summary.vna,asb:this.Wg.summary.wna,asbt:this.Wg.summary.xna};};b.prototype.U7a=function(a){var b,c,d,f,y;b=this;c=this.Tya();this.f5(c,"endplay");c.browserua=W.Nj;this.j.mt&&"downloaded"===this.j.mt.zS()&&(c.trickplay_ms=this.j.nM.offset,c.trickplay_res=this.j.nM.vAa);this.config().UDa&&(c.rtinfo=this.j.tbb());if(this.config().U$){d=this.Yz.Uk().Xz;void 0!==c.avtp?c.avtp_retired=d:c.avtp=d;c.cdnavtp=this.zQ.o$a().map(function(a){return{cdnid:a.Eu,avtp:a.Xz,tm:a.X3};});this.j.ll&&this.YS(c);}this.vua(c);c.endreason=a?"error":this.j.jc.value===r.nb.Vq?"ended":"stopped";d=J._cad_global.platformExtraInfo;this.ydb(d);d&&u.Va(c,d,{prefix:"pi_"});d=this.j.Xh;a&&d&&L.qJa(d.errorCode)&&(f="info");try{u.Va(c,this.j.zc,{prefix:"sm_"});}catch(qb){}this.j.V6&&(c.inactivityTime=this.j.V6);this.W6(c,"info"!==f&&a);this.xua(c);if(this.j.Nx){for(var d=this.j.Nx,k=this.config().bC,p=this.j.Xe,q={iv:k,seg:[]},g=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},m=d.Tr.map(g),g=d.pt.map(g),h,t=0;t<m.length;t++){if(m[t]||g[t])h?(h.ams.push(m[t]),h.vms.push(g[t])):h={ams:[d.Tr[t]],vms:[d.pt[t]],soffms:d.startTime+t*k-p};t!==m.length-1&&m[t]&&g[t]||!h||(q.seg.push(h),h=void 0);}c.bt=JSON.stringify(q);}if(this.j.VT&&0<this.j.VT.length){y=[];this.j.VT.forEach(function(a){y.push({soffms:a.time-b.j.Xe,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=y;}this.j.yza&&(c.psdConservCount=this.j.yza);a&&this.wua(c);this.sCa("endplay");this.config().An&&this.Hc()&&this.a7(c);c.isNonMember=this.bl.Dy;this.b7(c);this.tua(this.j,c);this.uua(this.j,c);this.yy(this.j,c);this.xy(this.j,c);this.Y6(c);this.Z6(c);this.yua(c);this.zdb(c);this.sua(c);this.Bdb(c);this.Adb(c);this.Edb(c);this.tc(Y.Ee.nJa,a,V.ah|V.RA|V.hg|V.tt|V.RN|V.NX,c,f);};b.prototype.WTa=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};b.prototype.u6a=function(){var a,b;a=this;if(this.j.Kq&&this.j.Om){b=[];this.j.Kq.concat(this.j.Om).forEach(function(c){c.mc.forEach(function(c){b.push({dlid:c.Rc,type:c.type,bitrate:c.P,vmaf:c.vc,cdn_ids:a.WTa(c.Lp)});});});return JSON.stringify(b);}};b.prototype.L0a=function(){var b,c,d;function a(a,b){var f,k,q;f=a.cdnId;k=d[f];q=a.vmaf;k||(k={cdnid:f,dls:[]},d[f]=k,c.push(k));p.qI(a.bitrate);p.qI(a.duration);f={bitrate:a.bitrate,tm:W.Jh(a.duration)};q&&(p.qI(a.vmaf),f.vf=q);f[b]=u.Qd(a.downloadableId);k.dls.push(f);}b=this.j.cl.V9a();c=[];d={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};b.prototype.Tya=function(){var a,b,c,d,f,k,q,g,t,y;a=this.j.cl;b={totaltime:u.iy(a.qJ()),cdndldist:this.L0a(),reposcount:this.pAa,intrplaycount:this.iT};try{c={numskip:0,numlowqual:0};d=this.j.vg;f=d.uS();R.pa(f)&&(b.totfr=f,c.numren=f);f=d.ny();R.pa(f)&&(b.totdfr=f,c.numrendrop=f);f=d.hJ();R.pa(f)&&(b.totcfr=f,c.numrenerr=f);f=d.vS();R.pa(f)&&(b.totfdl=f);b.playqualvideo=JSON.stringify(c);b.videofr=this.j.re.value.fS.toFixed(3);k=a.msa();k&&(b.abrdel=k);q=a.Pcb()&&a.Z9a();q&&(b.tw_vmaf=q);g=a.Y9a();g&&u.Va(b,g);b.rbfrs=this.iT;b.maxbitrate=this.tn;b.maxresheight=this.Iwa;for(var m=this.j.uy(),h,a=0;a<m.length;a++){t=m[a];y=this.dw.lK.ct(t);if(y){p.Ga(h);b.maxbitrate=h?h.P:0;b.maxresheight=h?h.height:0;b.bitratefilters=y.join("|");break;}h=t;}this.j.mt&&(b.trickplay=this.j.mt.zS());null!==this.j.Ln.Lna&&(b.avg_subt_delay=this.j.Ln.Lna);}catch(lb){this.log.error("Exception reading some of the endplay fields",lb);}u.Va(b,this.j.GS(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.ya.cc().fa(z.ma);};b.prototype.LV=function(a){a.browserua=W.Nj;this.tc(Y.Ee.QQa,!a.success,V.ah|V.tt,a);this.tc=h.je;};b.prototype.Jdb=function(){var a,b,c,d;a=this;c=[];if(this.config().Lhb){d={Xwa:function(){},pBa:function(){a.bxa();}};this.xh.addListener(d);this.config().Mhb.forEach(function(b){c.push(J.setTimeout(a.bxa,b));});this.config().cxa&&(b=J.setInterval(this.Gjb,this.config().cxa));this.wDa=function(){a.xh.removeListener(d);c.forEach(function(a){J.clearTimeout(a);});b&&J.clearInterval(b);};}};b.prototype.a7=function(a){var b;try{b=this.Hc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Zra);}catch(va){}};b.prototype.Y6=function(a){this.log.debug("httpstats",this.Ed.Kb);u.Va(a,this.Ed.Kb,{prefix:"http_"});};b.prototype.W6=function(a,b){this.config().Lpa&&!(this.oa%this.config().Lpa)&&this.j.ob&&this.j.ob.i7&&(a.ASEstats=JSON.stringify(this.j.ob.i7(b)));};b.prototype.YS=function(a){Object.assign(a,this.j.ll.Ye.Tbb());};b.prototype.Z6=function(a){var b;try{b=W.ar.memory;R.Geb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(va){}};b.prototype.yua=function(a){var b;b=this.j.ef;this.config().E0a&&b&&!this.config().bp&&(a.keystatuses=this.j.Oib(b.BGb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.sua=function(a){try{this.config().ZH&&(a.battery=this.j.d$a(),this.log.trace("batterystatuses",a.battery));}catch(ca){}};b.prototype.zdb=function(a){this.j.YQ&&(a.dqec=this.j.YQ);};b.prototype.ydb=function(a){this.j.yQ&&u.Va(a,{cast_interaction_counts:this.j.yQ.Q0});};b.prototype.zua=function(a){var b;b=this.j.Xa.fm;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.Adb=function(a){this.x4&&(a.externaldisplay=this.x4.VI);};b.prototype.Bdb=function(a){this.ww&&this.ww.Qc&&(a.media_capabilities_smooth=this.ww.Qc.Wqb,a.media_capabilities_efficient=this.ww.Qc.Jlb,a.media_capabilities_bitrate=this.ww.Qc.P,a.media_capabilities_height=this.ww.Qc.height,a.media_capabilities_width=this.ww.Qc.width);};b.prototype.wy=function(a,b,c){c&&(a.adlid=c.Rc,a.abitrate=c.P);b&&(a.vdlid=b.Rc,a.vbitrate=b.P);};b.prototype.vua=function(a){var b,c;if(this.j.fI){b=this.j.fI;b.LQ&&(a.controllerESN=b.LQ);b.a2a&&(a.controllerUiVer=b.a2a);if(b.$1a)try{c=JSON.parse(b.$1a);a.controllerGroupNames=c;}catch(za){this.log.error("Exception parsing controller group names",za);}}};b.prototype.Qeb=function(){void 0===this.x4&&(this.x4=this.y4.F8a());};b.prototype.Reb=function(a){void 0===this.ww&&void 0!==a&&(this.ww=this.R8.E4(a));};b.prototype.f5=function(a,b){var c;c=this.j.zs(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});};b.prototype.tc=function(a,b,c,d,f){this.yYa(d,this.j,b,c);a=this.bK.Jl(a,f||(b?"error":"info"),d,this.dw);this.xh.tc(a);};b.prototype.yYa=function(a,b,c,f){var k,q,g,m,h;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.nC&&(a.pbcid=b.nC);f&V.ah&&(p.Ga(!a||void 0===a.moff),0<=b.Ob.value&&(a.moff=u.iy(b.Ob.value)));if(f&V.RA){k=b.Ub[d.pc.L.VIDEO].value;q=b.Ub[d.pc.L.AUDIO].value;g=b.xf.value;m=b.Je.value;k&&(a.cdnid=k.id,a.cdnname=k.name);q&&(a.acdnid=q.id,a.acdnname=q.name);g&&(a.adlid=g.stream.Rc,a.abitrate=g.stream.P);m&&(a.vdlid=m.stream.Rc,a.vbitrate=m.stream.P,a.vheight=m.stream.height,a.vwidth=m.stream.width);}f&V.hg&&b.ob&&(a.abuflbytes=b.H1(),a.abuflmsec=b.DH(),a.vbuflbytes=b.rca(),a.vbuflmsec=b.AM());if(f&V.RN){Object.assign(a,ea.sta());try{h=b.Ug.getBoundingClientRect();a.rendersize=h.width+"x"+h.height;a.renderpos=h.left+"x"+h.top;}catch(ja){}}f&V.tt&&(k=W.sk.hardwareConcurrency,0<=k&&(a.numcores=k),k=this.dw.a4)&&(q=k.$9a(),a.droppedFrames=JSON.stringify(q),k=k.oJ(this.config().L6a),u.Sc(k,function(b,c){a["droppedFramesP"+b]=JSON.stringify(c);}));if(f&V.VM)try{b.Di&&(a.cdninfo=JSON.stringify(b.Di.map(function(a){return{id:a.id,nm:a.name,rk:a.de,wt:a.location.weight,lv:a.location.level};})));}catch(ja){}c&&f&V.NX&&(p.Ga(b.Xh),(c=b.Xh)?a=Object.assign(a,ea.kta(this.platform.QC,c)):a.errorcode=L.I.bj,a.errorcode===this.platform.QC+L.I.aha&&(a.lastSyncWithVideoElement=this.getTime()-b.aM));};f.RLa=b;(function(a){a[a.ah=1]="MOFF";a[a.RA=2]="PRESENTEDSTREAMS";a[a.hg=4]="BUFFER";a[a.RN=8]="SCREEN";a[a.tt=16]="CPU";a[a.VM=32]="CDN";a[a.NX=64]="FATALERROR";}(V||(V={})));},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Ufa="LogblobBuilderFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Nca="AppLogSinkSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.fja="UuidProviderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.vha="PboLogblobCommandSymbol";},function(g,f,a){var d;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Wf=function(a,b){var c;c=this;return a.map(function(a){return b.call(c,a);});};b.prototype.MC=function(a,b){var c,d;c={};for(d in a)c[d]=b.call(this,a[d]);return c;};d=b;d=g.__decorate([a.N()],d);f.hN=d;},function(g,f,a){var c,k,q;function b(){this.Qu=new c.MLa();}function d(a){var c;c=k.hN.call(this)||this;c.jq=a;c.Qu=new b();return c;}function h(a,b){this.jq=a;this.profile=b;this.VP=this.profile.SB.id;this.ND={};}function m(a){this.jq=a;this.IE=q.aa(0);this.ND=[];}Object.defineProperty(f,"__esModule",{value:!0});c=a(648);k=a(328);q=a(35);m.prototype.Or=function(a){this.IE=this.IE.add(this.jq.measure([a.message]));this.ND.push(a);};m.prototype.zz=function(a){var b,c;b=this;this.IE=q.aa(0);c=[];this.ND.forEach(function(d){0>a.indexOf(d.id)&&(b.IE=b.IE.add(b.jq.measure([d.message])),c.push(d));});this.ND=c;};oa.Object.defineProperties(m.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.IE;}},ae:{configurable:!0,enumerable:!0,get:function(){return this.ND;}}});h.prototype.Or=function(a,b,c,d){var f;f=this.ae[a];f||(f=new m(this.jq),this.ae[a]=f);f.Or({id:b,url:c,message:d});};h.prototype.zz=function(a){var c;for(var b in this.ae){c=this.ae[b];c&&(c.zz(a),0===c.ae.length&&delete this.ae[b]);}};oa.Object.defineProperties(h.prototype,{ae:{configurable:!0,enumerable:!0,get:function(){return this.ND;}}});f.$Ma=h;aa(d,k.hN);d.prototype.encode=function(a){return{accountId:a.VP,messages:this.B7a(a.ae)};};d.prototype.decode=function(a){return{VP:a.accountId,ae:this.Y4a(a.messages)};};d.prototype.B7a=function(a){var b,c,d,f;b=this;c={};d={};for(f in a)d.BR=[],a[f].ae.forEach(function(a){return function(c){0<c.id&&a.BR.push(b.Qu.encode(c));};}(d)),c[f]=d.BR,d={BR:d.BR};return c;};d.prototype.Y4a=function(a){var b,c,d,f;b=this;c={};d={};for(f in a)d.dV=new m(this.jq),a[f].forEach(function(a){return function(c){a.dV.Or(b.Qu.decode(c));};}(d)),c[f]=d.dV,d={dV:d.dV};return c;};f.ZMa=d;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.Qu.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.Qu.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.vga="MessageQueueSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Vfa="LogblobSenderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.oha="PboBindDeviceCommandSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Bda="CryptoKeysSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Ada="CryptoDeviceIdSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Xda="DeviceProviderSymbol";},function(g,f){function a(b,d,f){if(null!=f){if(0<f(b,d))throw a.tpa(b,d);}else if(b.Pk&&0<b.Pk(d))throw a.tpa(b,d);this.start=b;this.end=d;}Object.defineProperty(f,"__esModule",{value:!0});a.tpa=function(a,d){return new RangeError("end ["+d+"] must be >= start ["+a+"]");};f.jia=a;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Wda="DeviceIdGeneratorSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Bga="MslDispatcherSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Aga="MslClientSendStrategySymbol";},function(g,f,a){var b,d,h,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(9);d=a(18);h=a(16);m=a(75);f.DGa=function(a,b,f,p,g,m,t,L,A,B){var c,k;c=this;k={Type:b,Bitrate:p,DownloadableId:f};d.Va(c,{track:a,type:b,Rc:f,P:p,vc:g,df:L,size:m,Lp:t,Up:null,rqb:function(a,b){if(h.Rb(a)||h.Rb(b))c.width=a,c.height=b,k.Resolution=(c.width||"")+":"+(c.height||"");},Rpb:function(a,b,d,f){h.Rb(a)&&h.Rb(b)&&h.Rb(d)&&h.Rb(f)&&(c.y4a=a,c.zpa=b,c.ypa=d,c.xpa=f);},fS:A,nn:B,bg:k,toJSON:function(){return k;}});};f.Kwb=function(a,d,f,p,g){if(a==b.OY||a===m.ig.audio)return d;if(a==b.VF||a===m.ig.video)return f;if(a==m.ig.tW)return p;if(a==m.ig.Yba)return g;};},function(g,f,a){var d;function b(a){var g,c,k,q,p,u,h;k={};k[d.WW]=a.localName;q={};k[d.Vi]=q;p=[];k[d.VW]=p;u=a.attributes;g=u.length;for(c=0;c<g;c++){h=u[c];q[h.localName]=h.value;}a=a.childNodes;g=a.length;q={};for(c=0;c<g;c++)switch(u=a[c],u.nodeType){case f.nvb:u=b(u);h=u[d.WW];u[d.oEa]=k;p.push(u);k[h]?q[h][d.qF]=u:k[h]=u;q[h]=u;break;case f.ovb:case f.lvb:u=u.text||u.nodeValue,p.push(u),k[d.Pq]||(k[d.Pq]=u);}return k;}Object.defineProperty(f,"__esModule",{value:!0});d=a(124);f.kvb=function(a){return b(a.nodeType==f.mvb?a.documentElement:a);};f.OKb=b;f.nvb=1;f.NKb=2;f.ovb=3;f.lvb=4;f.mvb=9;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(4);d=a(16);f.jvb=function(a){var f,c;if(d.Hy(a)){f=new DOMParser().parseFromString(a,"text/xml");c=f.getElementsByTagName("parsererror");if(c&&c[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(c[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(k){}throw Error("xml parser error");}return f;}throw Error("bad xml text");};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(193);d=a(192);f.skb=function(a,f,c,k){return new Promise(function(q,p){d.pEa(a,function(a){a.X?b.jkb(a.object,f,c,k,function(a){a.X?q(a.entries):p(a);}):p(a);});});};},function(g){(function(){var a71,B71;a71=2;function f(){var K71;K71=2;while(K71!==5){switch(K71){case 2:this.ku=this.Tb=0;this.Oa=this.le=void 0;K71=5;break;}}}while(a71!==8){B71="1SIY";B71+="b";B71+="Z";B71+="rNJC";B71+="p9";switch(a71){case 1:f.prototype.stop=function(a){var p71;p71=2;while(p71!==1){switch(p71){case 2:this.Oa&&a>this.Oa&&(this.ku+=a-this.Oa,this.Oa=a);p71=1;break;}}};f.prototype.add=function(a,b,d){var j71;j71=2;while(j71!==4){switch(j71){case 2:this.start(b);this.stop(d);this.Tb+=a;j71=4;break;}}};f.prototype.get=function(){var b71;b71=2;while(b71!==1){switch(b71){case 2:return{Fa:this.ku?Math.floor(8*this.Tb/this.ku):null,R3:this.ku?this.ku:0};break;}}};g.T=f;a71=9;break;case 2:f.prototype.start=function(a){var X71;X71=2;while(X71!==1){switch(X71){case 2:this.le?a<this.le?(this.ku+=this.le-a,this.le=a):a>this.Oa&&(this.Oa=this.le=a):this.Oa=this.le=a;X71=1;break;}}};a71=1;break;case 9:B71;a71=8;break;}}}());},function(g,f,a){var d,h;function b(a){this.u={fK:a.maxc||25,N2:a.c||.5,avb:a.w||15E3,Lk:a.b||5E3};d.call(this,this.u.avb,this.u.Lk);this.gH();}d=a(152);h=a(196).TDigest;b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var a;a=this.aE(0);d.prototype.shift.call(this);null!==a&&(this.Vd.push(a,1),this.Nm=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.Vd.push(a,1);this.Nm=!0;d.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.Ata();};b.prototype.zs=function(){var a;a=this.Ata();return{min:a.min,p10:a.M9,p25:a.tj,p50:a.bi,p75:a.uj,p90:a.N9,max:a.max,centroidSize:a.O0a,sampleSize:a.Lz,centroids:a.pg};};b.prototype.Ata=function(){var a;if(0===this.Vd.size())return null;a=this.Vd.wg([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Nm||!this.Ud)this.Nm=!1,this.Ud={min:a[0],M9:a[1],tj:a[2],bi:a[3],uj:a[4],N9:a[5],max:a[6],wg:this.Vd.wg.bind(this.Vd),O0a:this.Vd.size(),Lz:this.Vd.n,pg:this.p$a(),zs:this.zs.bind(this)};return this.Ud;};b.prototype.p$a=function(){var a;if(0===this.Vd.size())return null;if(!this.Nm&&this.Ud)return this.Ud.centroids;a=this.Vd.wg([.25,.75]);if(a[0]===a[1])return null;this.Vd.size()>this.u.fK&&this.Vd.hs();a=this.Vd.aA(!1).map(function(a){return{mean:a.Ie,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.Vd.size();};b.prototype.toString=function(){return"btdtput("+this.QB+","+this.xc+","+this.ph+"): "+this.Vd.summary();};b.prototype.gH=function(){this.Vd=new h(this.u.N2,this.u.fK);};g.T=b;},function(g,f,a){var d,h;function b(a,b,f,q){d.call(this,f,q);this.vp=new h(a);this.fVa=b;}d=a(152);h=a(208);b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var a;a=this.aE(0);d.prototype.shift.call(this);null!==a&&this.vp.vH(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.vp.vH(a);d.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.oJ();return{Lz:this.ry(),OU:a,wK:a.bi?(a.uj-a.tj)/a.bi:void 0};};b.prototype.ry=function(){return this.vp.ry();};b.prototype.oJ=function(){return this.vp.ry()<this.fVa?{tj:void 0,bi:void 0,uj:void 0,Lz:void 0,wg:void 0}:{tj:this.vp.Gl(25),bi:this.vp.Gl(50),uj:this.vp.Gl(75),Lz:this.vp.ry(),wg:this.vp.Gl.bind(this.vp)};};b.prototype.toString=function(){return"biqr("+this.QB+","+this.xc+","+this.ph+")";};g.T=b;},function(g,f,a){var h;function b(a){this.Bx=a;this.reset();}function d(a){this.ph=new b(a);this.zd=0;this.Lb=null;}h=a(6);b.prototype.lP=function(a,b){this.Oa+=a;this.Dm+=a;this.Tb+=b;this.Gg.push({d:a,O1:b});};b.prototype.bH=function(){var a;for(;this.Dm>this.Bx;){a=this.Gg.shift();this.Tb-=a.O1;this.Dm-=a.d;}};b.prototype.reset=function(){this.Gg=[];this.Oa=null;this.Dm=this.Tb=0;};b.prototype.setInterval=function(a){this.Bx=a;this.bH();};b.prototype.start=function(a){h.Pa(this.Oa)&&(this.Oa=a);};b.prototype.add=function(a,b,d){h.Pa(this.Oa)&&(this.Oa=b);b>this.Oa&&this.lP(b-this.Oa,0);this.lP(d>this.Oa?d-this.Oa:0,a);this.bH();};b.prototype.get=function(){return{Fa:Math.floor(8*this.Tb/this.Dm),Zg:0};};d.prototype.reset=function(){this.ph.reset();this.zd=0;this.Lb=null;};d.prototype.add=function(a,b,d){!h.Pa(this.Lb)&&d>this.Lb&&(b>this.Lb&&(this.zd+=b-this.Lb),this.Lb=null);this.ph.add(a,b-this.zd,d-this.zd);};d.prototype.start=function(a){!h.Pa(this.Lb)&&a>this.Lb&&(this.zd+=a-this.Lb,this.Lb=null);this.ph.start(a-this.zd);};d.prototype.stop=function(a){this.Lb=h.Pa(this.Lb)?a:Math.min(a,this.Lb);};d.prototype.get=function(){return this.ph.get();};d.prototype.setInterval=function(a){this.ph.setInterval(a);};g.T={Twb:b,yIa:d};},function(g,f,a){var m;function b(a){this.reset();this.dqb(a);}function d(a){this.setInterval(a);this.reset();}function h(a){this.bu=new d(a);this.zd=0;this.Lb=null;}m=a(6);b.prototype.dqb=function(a){this.cB=Math.pow(.5,1/a);this.MG=a;};b.prototype.reset=function(a){a&&a.Fa&&m.pa(a.Fa)?a.Zg&&m.pa(a.Zg)?(this.pp=this.CUa,this.tl=a.Fa,this.Tt=a.Zg+a.Fa*a.Fa):(this.pp=this.CUa,this.tl=a.Fa,this.Tt=a.Fa*a.Fa):this.Tt=this.tl=this.pp=0;};b.prototype.add=function(a){var b;if(m.pa(a)){this.pp++;b=this.cB;this.tl=b*this.tl+(1-b)*a;this.Tt=b*this.Tt+(1-b)*a*a;}};b.prototype.get=function(){var a,b,d;if(0===this.pp)return{Fa:0,Zg:0};a=this.tl;b=this.Tt;d=1-Math.pow(this.cB,this.pp);a=a/d;b=b/d;d=a*a;return{Fa:Math.floor(a),Zg:Math.floor(b>d?b-d:0)};};b.prototype.dd=function(){return 0===this.pp?null:{a:Math.round(this.tl),s:Math.round(this.Tt),n:this.pp};};b.prototype.Gd=function(a){if(m.Pa(a)||!m.has(a,"a")||!m.has(a,"s")||!m.isFinite(a.a)||!m.isFinite(a.s))return this.Tt=this.tl=this.pp=0,!1;this.tl=a.a;this.Tt=a.s;m.has(a,"n")&&m.pa(a.n)?this.pp=a.n:this.pp=16*this.MG;return!0;};d.prototype.setInterval=function(a){this.MG=a;this.cB=-Math.log(.5)/a;};d.prototype.reset=function(a){this.Oa=this.le=null;a&&m.isFinite(a.Fa)?this.tl=a.Fa:this.tl=0;};d.prototype.start=function(a){m.Pa(this.le)&&(this.Oa=this.le=a);};d.prototype.add=function(a,b,d){var c,f;m.Pa(this.le)&&(this.Oa=this.le=b);this.le=Math.min(this.le,b);b=Math.max(d-b,1);c=this.cB;f=d>this.Oa?d:this.Oa;this.tl=this.tl*(f>this.Oa?Math.exp(-c*(f-this.Oa)):1)+8*a/b*(1-Math.exp(-c*b))*(d>f?Math.exp(-c*(f-d)):1);this.Oa=f;};d.prototype.get=function(a){var b;a=Math.max(a,this.Oa);b=this.tl*Math.exp(-this.cB*(a-this.Oa));a=1-Math.exp(-this.cB*(a-this.le));0<a&&(b/=a);return{Fa:Math.floor(b)};};d.prototype.toString=function(){return"ewmav("+this.MG+")";};h.prototype.setInterval=function(a){this.bu.setInterval(a);};h.prototype.reset=function(a){this.bu.reset(a);this.zd=0;this.Lb=null;};h.prototype.start=function(a){!m.Pa(this.Lb)&&a>this.Lb&&(this.zd+=a-this.Lb,this.Lb=null);this.bu.start(a-this.zd);};h.prototype.add=function(a,b,d){!m.Pa(this.Lb)&&d>this.Lb&&(this.zd+=b>this.Lb?b-this.Lb:0,this.Lb=null);this.bu.add(a,b-this.zd,d-this.zd);};h.prototype.stop=function(a){this.Lb=Math.max(m.Pa(this.bu.Oa)?0:this.bu.Oa+this.zd,m.Pa(this.Lb)?a:Math.min(this.Lb,a));};h.prototype.get=function(a){return this.bu.get((m.Pa(this.Lb)?a:this.Lb)-this.zd);};h.prototype.toString=function(){return this.bu.toString();};g.T={zIa:b,Uwb:d,xIa:h};},function(g,f,a){g.T={dGb:a(348),ZJb:a(347),ywb:a(674),xwb:a(346),zwb:a(345),Bea:a(671)};},function(g,f,a){var c,k,q,p,u,z;function b(a){var b;b=a.I_;this.u=a;this.dh=k.xd.HAVE_NOTHING;this.rB=a.rB;a=new u(this.rB);this.lH=a.create("throughput-location-history",b);this.Cr=a.create("respconn-location-history",b);this.sr=a.create("respconn-location-history",b);this.GP=a.create("throughput-tdigest-history",b);this.SO=a.create("throughput-iqr-history",b);this.Oa=null;}function d(a,c,d,f,k){this.pr=new b(k);this.Lm=[];this.eVa=q.time.ea()-Date.now()%864E5;this.nr=null;this.u=k;for(a=0;a<f;++a)this.Lm.push(new b(k));}function h(a,b,d){return c.has(a,b)?a[b]:a[b]=d;}function m(a,c){var d;this.u=a;this.IP=c;this.$7a();this.LG=new b(this.u);this.SG();d=a.v3;d&&(d={Dc:k.xd.IF,ta:{Fa:parseInt(d,10),Zg:0},zg:{Fa:0,Zg:0},xo:{Fa:0,Zg:0}},this.get=function(){return d;});}c=a(6);k=a(11);f=a(24);q=a(5);p=f.NJa;u=a(349).Bea;new q.Console("ASEJS_LOCATION_HISTORY","media|asejs");z={Dc:k.xd.HAVE_NOTHING};b.prototype.Ex=function(a,b){this.dh=b;this.lH.add(a);this.GP.add(a);this.Oa=q.time.ea();};b.prototype.jA=function(a,b){this.SO.set(a,b);};b.prototype.Pr=function(a){this.Cr.add(a);};b.prototype.Nr=function(a){this.sr.add(a);};b.prototype.dd=function(){var a,b,d,f,k,p;a=this.lH.dd();b=this.Cr.dd();d=this.sr.dd();f=this.SO.dd();k=this.GP.dd();if(c.Pa(a)&&c.Pa(b)&&c.Pa(d))return null;p={c:this.dh,t:q.time.g9(this.Oa)};c.Pa(a)||(p.tp=a);c.Pa(b)||(p.rt=b);c.Pa(d)||(p.hrt=d);c.Pa(f)||(p.iqr=f);c.Pa(k)||(p.td=k);return p;};b.prototype.Gd=function(a){var b;b=q.time.now();if(!(a&&c.has(a,"c")&&c.has(a,"t")&&c.has(a,"tp")&&c.isFinite(a.c)&&c.isFinite(a.t))||0>a.c||a.c>k.xd.IF||a.t>b||!this.lH.Gd(a.tp))return this.dh=k.xd.HAVE_NOTHING,this.nr=this.Oa=null,this.lH.Gd(null),this.Cr.Gd(null),this.sr.Gd(null),!1;this.dh=a.c;this.Oa=q.time.B9(a.t);this.Cr.Gd(c.has(a,"rt")?a.rt:null);this.sr.Gd(c.has(a,"hrt")?a.hrt:null);c.has(a,"iqr")&&this.SO.Gd(a.iqr);c.has(a,"td")&&this.GP.Gd(a.td);return!0;};b.prototype.get=function(){var a,b,d,f,g,u;a=this.u;if(c.Pa(this.Oa))return z;b=(q.time.ea()-this.Oa)/1E3;b>a.yUa?this.dh=k.xd.HAVE_NOTHING:b>a.YTa&&(this.dh=Math.min(this.dh,k.xd.Ct));a=this.lH.get();d=this.Cr.get();f=this.sr.get();g=this.SO.get();u=this.GP.get();b={Ik:b,Dc:this.dh,ta:a,zg:d,xo:f,zo:g,im:u};a&&(b.hKb=p.prototype.l$.bind(a));d&&(b.BJb=p.prototype.l$.bind(d));f&&(b.gHb=p.prototype.l$.bind(f));return b;};b.prototype.time=function(){return this.Oa;};b.prototype.Zt=function(){this.get();q.time.ea();};d.prototype.vi=function(){return((q.time.ea()-this.eVa)/1E3/3600/(24/this.Lm.length)|0)%this.Lm.length;};d.prototype.dd=function(){var a;a={g:this.pr.dd(),h:this.Lm.map(function(a){return a.dd();})};c.Pa(this.nr)||(a.f=q.time.g9(this.nr));return a;};d.prototype.Gd=function(a){var b,d;if(!this.pr.Gd(a.g))return!1;b=this.Lm.length;d=!1;this.Lm.forEach(function(c,f){d=!c.Gd(a.h[f*a.h.length/b|0])||d;});this.nr=c.has(a,"f")?q.time.B9(a.f):null;return d;};d.prototype.Ex=function(a,b){this.pr.Ex(a,b);this.Lm[this.vi()].Ex(a,b);this.nr=null;};d.prototype.jA=function(a,b){this.pr.jA(a,b);this.Lm[this.vi()].jA(a,b);};d.prototype.Pr=function(a){this.pr.Pr(a);this.Lm[this.vi()].Pr(a);};d.prototype.Nr=function(a){this.pr.Nr(a);this.Lm[this.vi()].Nr(a);};d.prototype.fail=function(a){this.nr=a;};d.prototype.get=function(){var a,b;if(!c.Pa(this.nr)){if((q.time.ea()-this.nr)/1E3<this.u.XTa)return{Dc:k.xd.HAVE_NOTHING,ey:!0};this.nr=null;}a=this.Lm[this.vi()].get();b=this.pr.get();a=a.Dc>=b.Dc?a:b;a.ey=!1;return a;};d.prototype.time=function(){return this.pr.time();};d.prototype.Zt=function(a){this.pr.Zt(a+": global");this.Lm.forEach(function(b,d,f){c.Pa(b.time())||(d=24*d/f.length,b.Zt(a+":  "+((10>d?"0":"")+d+"00")+"h"));});};m.prototype.Hka=function(a,b){var c;c=this.u;a=h(this.vB,a,{});return h(a,b,new d(0,0,0,c.Hla||4,c));};m.prototype.SG=function(){var a,b;a=q.storage.get("lh");b=q.storage.get("gh");a&&this.J0(a);b&&this.hXa(b);};m.prototype.L_=function(){var a;a={};c.ad(this.vB,function(b,d){c.ad(b,function(b,c){h(a,d,{})[c]=b.dd();},this);},this);return a;};m.prototype.hXa=function(a){this.LG.Gd(a);};m.prototype.J0=function(a){var b,f;b=null;f=this.u;c.ad(a,function(a,k){c.ad(a,function(a,p){var g;g=new d(0,0,0,f.Hla||4,f);g.Gd(a)?(h(this.vB,k,{})[p]=g,b=!0):c.Pa(b)&&(b=!1);},this);},this);return c.Pa(b)?!0:b;};m.prototype.save=function(){var a;a=this.L_();q.storage.set("lh",a);q.storage.set("gh",this.LG.dd());this.IP&&this.IP.Paa(this.LG.dd());};m.prototype.$7a=function(){this.vB={};this.pB=this.bka="";this.fh=null;};m.prototype.RV=function(a){this.bka=a;this.fh=null;};m.prototype.QV=function(a){this.pB=a;this.fh=null;};m.prototype.MO=function(){c.Pa(this.fh)&&(this.fh=this.Hka(this.bka,this.pB));return this.fh;};m.prototype.Ex=function(a,b){this.MO().Ex(a,b);this.LG.Ex(a,b);};m.prototype.jA=function(a,b){a&&a.tj&&a.bi&&a.uj&&(this.MO().jA(a,b),this.LG.jA(a,b));};m.prototype.Pr=function(a){this.MO().Pr(a);};m.prototype.Nr=function(a){this.MO().Nr(a);};m.prototype.fail=function(a,b){this.Hka(a,this.pB).fail(b);};m.prototype.get=function(a,b){var d,f,p,g;a=(a=this.vB[a])?a[this.pB]:null;d=null;if(a&&(d=a.get(),d.Dc>k.xd.HAVE_NOTHING))return d;if(!1===b)return z;f=d=null;p=!1;g=null;c.ad(this.vB,function(a){c.ad(a,function(a,b){var c;if(!p||b==this.pB){c=a.get();c&&(!f||f<=c.Dc)&&(!g||f<c.Dc||g<a.time())&&(f=c.Dc,p=b==this.pB,g=a.time(),d=c);}},this);},this);return d?d:z;};m.prototype.Zt=function(){c.ad(this.vB,function(a,b){c.ad(a,function(a,c){a.Zt(b+":"+c);});});};g.T=m;},function(g,f,a){var d,h,m,c,k,q;function b(a){return a.ie(c.dc.y9a(Math.floor(a.wf)));}Object.defineProperty(f,"__esModule",{value:!0});g=a(25);d=a(6);g=g.EventEmitter;h=a(11);m=a(54);c=a(59);k=a(5);q=a(685);f.oxa=b;a=function(){function a(a,b,c,d,f,k,p){this.V=a;this.K=b;this.Rj=c;this.Pe=d;this.Kc=f;this.sp=k;this.u=p;this.Zc=this.K.error.bind(this.K);this.Ja=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.reset();}Object.defineProperties(a.prototype,{oQ:{get:function(){return this.Kc?this.Kc.oQ:-1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Uub:{get:function(){return this.zi.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Web:{get:function(){return this.fu;},enumerable:!0,configurable:!0}});a.prototype.reset=function(a){this.zr=!1;a||(this.zi=[]);this.YO=this.fu=this.K_=this.V_=void 0;this.aH=c.dc.Cf;this.px=void 0;this.$Aa=new q.PQa(this.u,this.K);this.D_=!1;this.K0(c.dc.Cf);};a.prototype.l9a=function(){this.K_=!0;};a.prototype.pause=function(){this.zr=!0;};a.prototype.resume=function(){this.zr=!1;this.ix();};a.prototype.yab=function(){return this.fu&&this.fu.Re;};a.prototype.zab=function(){return this.fu&&this.fu.ce;};a.prototype.C0a=function(a,b){var d;for(var c=0;c<this.zi.length;c++){d=this.zi[c];d.Lf.Pb.xa.id===a&&d.Mc>=b&&(d.abort(),this.zi.splice(c,1),c--);}};a.prototype.PZa=function(a){var b;if(this.u.JI){b=a.Lf.Pb;if(a.Mc>=b.ba)return;a.bm!==b.Pc&&a.HBa(new c.dc(b.Pc,1E3));}this.zi.push(a);this.ix();};a.prototype.ap=function(){this.ix();};a.prototype.uV=function(a){a=this.zi.indexOf(a);-1!==a&&this.zi.splice(a,1);};a.prototype.Rib=function(){this.ix();};a.prototype.xK=function(){this.D_||(this.D_=!0,this.ix(),this.Kc.endOfStream());};a.prototype.K0=function(a){this.JXa=a;this.Kc.mqb(a.vd,a.ga);};a.prototype.ix=function(){var a,b,c,f,p,g,q;b=this.u;c=Object.getOwnPropertyNames(this.sp);b.w1&&d.R(this.V_)&&1===c.length&&(a=this.sp[c[0]],a.complete&&!d.R(a.za)&&this.Dja(a));if(this.zi.length)if(this.Kc)if(c=this.zi[0],this.zr)this.EB("@"+k.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.Lua())this.Ja("aborted MediaRequest should not appear in the toAppend list"),this.EB("@"+k.time.ea()+", append: removing aborted request from toAppend: "+c.toString()),this.zi.shift();else{f=c.za;if((a=this.sp[f])&&a.data)if(this.K_||f!==this.V_)this.K_=!1,this.Dja(a);else if(a=this.V.rh,a=this.V.ja.kv(a.Ya.M)||a.gs,!b.RW||a){a=c.Lf;p=c.Fc-this.V.ja.gf();if(!(this.Rj===h.L.AUDIO&&c.Zp&&c.Ta&&!b.Cn&&!this.D_&&1===this.zi.length&&p>b.c9)){if(b.JI||b.Nqa)if(f=a.Pb.co){g=a.Pb.qg;q=c.Re>=f;p=p>b.c9;if(f<a.Pb.ba&&q&&p&&!g)return;}b.Ikb&&(b=this.V.gc(a.Pb.da))&&!b.Gx?this.pause():(this.zi.shift(),this.GSa(c));}}}else this.EB("@"+k.time.ea()+", append: not appending, sourceBuffer not ready");};a.prototype.CSa=function(a){this.u.Hx&&this.u.bn&&a.stream.xj&&(this.aH=a.stream.xj);};a.prototype.Dja=function(a){if(this.Kc.appendBuffer(a.data,{Vb:!0,profile:a.stream.profile}))this.EB("@"+k.time.ea()+", header appended, streamId: "+a.za),this.V_=a.za,this.PWa(a.da||0,a.za),this.CSa(a),this.ix();else throw this.Ja("appendHeader error: "+this.Kc.error),this.EB("@"+k.time.ea()+", appendHeader error: "+this.Kc.error),Error("appendHeaderError");};a.prototype.GSa=function(a){var b,d;b=a.Cmb||c.dc.Cf;d=a.Lf.Pb.xa;d.ba&&Infinity!==d.ba&&(d=new c.dc(d.ba,1E3).add(b).Ag,Infinity===this.Pe.duration||this.Pe.duration<d)&&(this.Pe.duration=d);if(void 0===this.YO||b&&!b.equal(this.YO))d=this.aH.add(this.$Aa.St).add(b),this.K0(d),this.YO=b;b=this.$Aa.oaa(this.Rj,a,this.px,this.aH,this.YO,this.fu,this.MUa,this.K0.bind(this),this.RWa.bind(this));d=b.YZa;if(a.WB(this.Kc,this.fu,this.zi[0],b.oaa,b.E6a))void 0===this.px||this.Rj!==h.L.AUDIO||a.f$.equal(this.px.add(d))||(this.KWa(a,this.px.add(d)),this.px=void 0),this.EB("@"+k.time.ea()+", request appended, type: "+a.O+", streamId: "+a.za+", pts: "+a.Fc+"-"+a.ce),this.fu=a,a.Zp?(this.px=a.zlb,this.MUa=this.aTa(a,this.JXa||c.dc.Cf)):this.px=void 0,this.QWa(a),this.ix();else{if(void 0!==this.Kc.error){if("done"===this.Kc.error)return;this.Zc("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Kc.error);throw this.Kc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Kc.error);this.Zc(a.message);throw a;}};a.prototype.aTa=function(a,c){var d,f;d=a.stream.Ha;f=a.U1a;this.u.bo&&a.stream.xj&&(f=f.ie(a.stream.xj));return b(f.ie(d)).add(b(d)).add(b(c));};a.prototype.PWa=function(a,b){a={type:"headerAppended",mediaType:this.Rj,manifestIndex:a,streamId:b};this.na(a.type,a);};a.prototype.QWa=function(a){a={type:"requestAppended",mediaType:this.Rj,request:a};this.na(a.type,a);};a.prototype.EB=function(a){a={type:"managerdebugevent",message:a};this.na(a.type,a);};a.prototype.KWa=function(a,b){var c;c=a.Mc;a=a.f$.ie(b).wf;c={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[c,a]}}};this.na(c.type,c);};a.prototype.RWa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.wf,minavsyncerror:b.wf}};this.na(a.type,a);};return a;}();f.YFa=a;m(g,a.prototype);},function(g,f,a){var m;function b(){}function d(a,b,d){void 0===d&&(d=!1);m(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8<h(a),"bitrate zero, won't be able to send anything.");this.vu=a;this.Dqa=b;this.repeat=d;this.lj=this.Rk=0;}function h(a){return a.reduce(function(a,b){return a+b;},0);}m=a(13).assert;b.prototype=Error();d.prototype.constructor=d;d.prototype.Kp=function(){var a;a=new d(this.vu,this.Dqa,this.repeat);a.Rk=this.Rk;a.lj=this.lj;return a;};d.prototype.n6=function(){return this.vu[this.Rk%this.vu.length];};d.prototype.gv=function(){return this.Dqa[this.Rk%this.vu.length];};d.prototype.s6a=function(a){m(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.Rk&&this.Rk<this.vu.length))throw new b();m(this.lj<this.gv(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c;;){c=this.gv()-this.lj;c=a<c?a:c;a-=c;this.lj+=c;if(this.lj<this.gv())break;this.lj-=this.gv();this.Rk+=1;if(!this.repeat&&this.Rk>=this.vu.length){if(0<a)throw new b();break;}}};d.prototype.Cya=function(a){this.s6a(a);};d.prototype.t6a=function(a){m(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.Rk&&this.Rk<this.vu.length))throw new b();m(this.lj<this.gv(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c,d=0;;){c=this.gv()-this.lj;c=a<c*this.n6()?a/this.n6():c;a-=this.n6()*c;d+=c;this.lj+=c;if(this.lj<this.gv())return d;this.lj-=this.gv();this.Rk+=1;if(!this.repeat&&this.Rk>=this.vu.length){if(0<a)throw new b();return d;}}};g.T={zRa:d,ARa:b};},function(g,f,a){var h;function b(a,b,d){this.aa=a;this.Gn=b;this.VK=d;}function d(a,b){this.v8=b;void 0===b&&(this.v8=!0);this.Sh=a;this.KSa();}h=a(13).assert;b.prototype.constructor=b;b.prototype.Bs=function(){return 8*this.aa/1E3/this.Gn;};d.prototype.constructor=d;d.prototype.Kp=function(a,b,f,g,p){void 0===b&&(b=0);void 0===f&&(f=a.jD());void 0===g&&(g=0);void 0===p&&(p=a.Sh.length);for(var c=[],k,q=g;q<p;q++){g=[];for(var h=b;h<f;h++)k=a.Sh[q][h],g.push(k);c.push(g);}return new d(c,a.v8);};d.prototype.KSa=function(){var a,b;a=this.Sh[0].length;for(b in this.Sh.slice(1))h(this.Sh[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Sh[b].length+" and "+a);this.v8&&this.LSa();this.MSa();};d.prototype.jD=function(){return this.Sh[0].length;};d.prototype.LSa=function(){for(var a=0;a<this.Sh.length-1;a++)for(var b=0;b<this.jD();b++)h(this.Sh[a][b].aa<=this.Sh[a+1][b].aa,"Chunk size for epoch "+b+" is not monotonic");};d.prototype.MSa=function(){for(var a=0;a<this.Sh.length-1;a++)for(var b=0;b<this.jD();b++)h(1E-8>Math.abs(this.Sh[a][b].Gn-this.Sh[a+1][b].Gn),"Chunk duration for epoch "+b+" is not consistent");};d.prototype.kcb=function(){var a;a=[];this.Sh[0].forEach(function(b){a.push(b.Gn);});return a;};g.T={PGa:b,QGa:d};},function(g,f,a){var m,c,k;function b(a,b,c){this.zn=b;this.Fl=c;this.et=this.HJ=this.NU=this.Fya=this.Eya=this.VD=this.Xb=this.ylb=this.Fl=this.Cg=this.cb=this.U=this.yM=this.zM=this.$=this.Gua=this.tu=void 0;}function d(a,b,c){this.ba=b;this.eva=c;this.tna=this.eEa=this.d1=this.zM=this.gq=this.Zj=void 0;}function h(a,c,d,f,g,h){var p;p=new b(0,c,a.Fl);a.forEach(function(a){var b,d;b=a.buffer;d=b.$;a.O===m.L.AUDIO?p.tu=d.length?d[0].P:void 0:a.O===m.L.VIDEO&&(p.Gua=d.length?d[0].P:void 0,p.$=d,p.zM=b.Qk-b.qf,p.yM=b.km,p.U=b.qf,p.cb=b.cb,p.Cg=a.jw,p.Fl=a.Fl,p.ylb=c-a.Fl,p.Xb=a.Xb.filter(function(a){return k(a);}),p.VD=d.filter(function(a){return p.U<=a.mE;}).length);});this.Bg=p;this.Sk=void 0;this.Mpa=f;this.X1=g;this.K$=this.oV=this.hya=this.Vo=this.VB=this.rra=this.nk=this.Xb=this.Sk=void 0;this.eZa=h;}m=a(11);f=a(44);c=f.assert;k=f.Gy;b.prototype.constructor=b;d.prototype.constructor=d;h.prototype.constructor=h;h.prototype.fy=function(a,b){var c,f,k,p,g,q,h,t,l,n,E,r,R,ba,Y,ea,N,ca,va,za,O,ha;c=this.Bg;f=[];p=a[m.L.VIDEO];g=a[m.L.AUDIO];if(void 0===p||void 0===g)return!1;q=p.buffer;h=g.buffer;t=p.headers;l=c.Xb.filter(function(a){return t&&t[a.id]&&t[a.id].$;});if(void 0===q||void 0===h||void 0===t||void 0===l||0===l.length)return!1;k=new d(0,p.qf,b===m.Ma.Nt);n=0;E=0;r=0;R=0;Y=c.U;a=a[m.L.VIDEO].qf;ea=c.$;ba=c.VD;for(var V=0;V<ba;V++){N=ea[V];ca=N.offset;va=N.offset+N.aa-1;O=N.ps;za=N.Us;ha=za+O;N&&za<=a&&ha>Y&&(O=N.ps,za=Math.min(O,Math.min(a,ha)-Math.max(za,Y)+1),R+=za,n+=za/O*(va-ca+1),E+=N.P*za,r+=N.vc*za);}c.Eya=n;c.Fya=R;c.NU=0<R?E/R:0;c.Qkb=0<R?r/R:0;c.HJ||(c.HJ=0,l.some(function(a,b){if(a.P===c.Gua)return c.HJ=b,!0;}));l.forEach(function(a){var b,d;a=t[a.id].$;b=[];c.et||(c.et=a.Fi(c.U,void 0,!0));k.Zj||(k.Zj=a.Fi(k.ba,void 0,!0),k.gq=a.length-1);c.Cg!==c.et+c.VD&&(c.Cg=c.et+c.VD);ba=Math.min(k.gq,k.Zj+1);for(var p=c.et;p<=ba;p++)d=a.get(p),b[p]=d;f.push(b);});b===m.Ma.Nt&&(k.zM=q.Qk-q.qf,k.d1=h.Qk-h.qf,k.eEa=p.Tza,k.tna=g.Tza);this.Sk=k;this.Xb=l;this.nk=f;return this.rra=!0;};h.prototype.zs=function(){var a,b,d,f,k,g,h,m,t,l,n,E,r,R;if(this.CD)return this.CD;b=this.Vo;a=this.Bg;f=this.Sk;k=this.Xb;g=this.hya;n=this.eZa;c(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)f.eva?(t=!1,h=!0):f.Zj-a.et+1<=a.VD?h=t=!0:(t=!0,h=!1),m=!0;if(g){l=g.Wp;for(var W=0;W<n.length;W++)d=n[W],(b=g[d])&&b.Nv&&(h=!0);}a={bst:a.Fl,pst:a.zn,s:a.et,e:f.Zj,prebuf:a.VD,brsi:a.Cg,pbdlbytes:a.Eya,pbdur:a.Fya,pbtwbr:a.NU,pbvmaf:a.Qkb};m&&(a.nt=m);h&&(a.nd=h);l&&(a.invalid=l);this.K$&&(a.rr=this.K$);this.oV&&(a.ra=this.oV);if(!h&&!l&&this.Mpa){a.bitrate=k.map(function(a){return a.P;});b=this.Vo;d=b.trace;E=[];r=0;d.forEach(function(a){a=Number(a).toFixed(0);E.push(a-r);r=a;});a.tput={ts:b.timestamp,trace:E,bkms:b.Lk};}if(h||m||l)a.feasible=t;else for(a.sols={},W=0;W<n.length;W++){d=n[W];b=g[d];h={};if(b&&b.Cq&&(h.f=b&&b.Ji||!1,h.dltwbr=b.i6a,h.dlvmaf=b.oqa,h.dlvdur=b.U3,h.dlvbytes=b.T3,h.dlabytes=b.S3,this.Mpa)){r=0;R=[];b.Cq.filter(function(a){return a;}).map(function(a){return a.sd;}).forEach(function(a){R.push(a-r);r=a;});h.strmsel=R;}a.sols[d]=h;}return this.CD=a;};g.T=h;},function(g,f,a){var h,m,c,k,q,p;function b(a,b,c,d){k(!h.R(d),"Must have at least one selected stream");return new p(d);}function d(a,b,c,d){k(!h.R(d),"Must have at least one selected stream");return new p(d);}h=a(6);f=a(44);m=f.console;c=f.debug;k=f.assert;q=f.Gy;p=f.np;g.T={STARTING:function(a,b,d){var k,g,u,h;function f(d,f){var k,p,g,q;k=d.id;p=d.P;g=d.ta||0;q=!!g;c&&m.log("Checking feasibility of ["+f+"] "+k+" ("+p+" Kbps)");if(!d.hf)return c&&m.log("  Not available"),!1;if(!d.inRange)return c&&m.log("  Not in range"),!1;if(d.Og)return c&&m.log("  Failed"),!1;if(p>a.eK)return c&&m.log("  Above maxInitAudioBitrate ("+a.eK+" Kbps)"),!1;if(!(p*a.fU/8<b.buffer.Du))return c&&m.log("  audio buffer too small to handle this stream"),!1;if(q){c&&m.log("  Have throughput history = "+q+" : available throughput = "+g+" Kbps");if(p<g/u)return c&&m.log(" +FEASIBLE: bitrate less than available throughput"),!0;c&&m.log(" bitrate requires more than available throughput");return!1;}d=a.qK;b.p7&&(d=Math.max(d,a.pK));if(p<=d)return c&&m.log("  Bitrate is less than max of minInitAudioBitrate ("+a.qK+" Kbps) "+(b.p7?" and also minHCInitAudioBitrate ("+a.pK+" Kbps)":"")),c&&m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;c&&m.log("  No throughput history");return!1;}k=new p();u=a.eEb||1;for(h=d.length-1;0<=h;--h){g=d[h];if(f(g,h)){k.sd=h;break;}q(g)&&(k.sd=h);}return k;},BUFFERING:b,REBUFFERING:b,PLAYING:d,PAUSED:d};},function(g){function f(){}function a(a){this.oma=a;this.rl=[];this.Oe=null;}f.prototype.clear=function(){this.Ad=null;this.size=0;};f.prototype.find=function(a){var f;for(var b=this.Ad;null!==b;){f=this.Qj(a,b.data);if(0===f)return b.data;b=b.rf(0<f);}return null;};f.prototype.lowerBound=function(a){var c;for(var b=this.Ad,f=this.iterator(),g=this.Qj;null!==b;){c=g(a,b.data);if(0===c)return f.Oe=b,f;f.rl.push(b);b=b.rf(0<c);}for(c=f.rl.length-1;0<=c;--c)if(b=f.rl[c],0>g(a,b.data))return f.Oe=b,f.rl.length=c,f;f.rl.length=0;return f;};f.prototype.upperBound=function(a){for(var b=this.lowerBound(a),f=this.Qj;null!==b.data()&&0===f(b.data(),a);)b.next();return b;};f.prototype.min=function(){var a;a=this.Ad;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};f.prototype.max=function(){var a;a=this.Ad;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};f.prototype.iterator=function(){return new a(this);};f.prototype.ad=function(a){for(var b=this.iterator(),f;null!==(f=b.next());)a(f);};a.prototype.data=function(){return null!==this.Oe?this.Oe.data:null;};a.prototype.next=function(){var a;if(null===this.Oe){a=this.oma.Ad;null!==a&&this.lla(a);}else if(null===this.Oe.right){do if(a=this.Oe,this.rl.length)this.Oe=this.rl.pop();else{this.Oe=null;break;}while(this.Oe.right===a);}else this.rl.push(this.Oe),this.lla(this.Oe.right);return null!==this.Oe?this.Oe.data:null;};a.prototype.qz=function(){var a;if(null===this.Oe){a=this.oma.Ad;null!==a&&this.gla(a);}else if(null===this.Oe.left){do if(a=this.Oe,this.rl.length)this.Oe=this.rl.pop();else{this.Oe=null;break;}while(this.Oe.left===a);}else this.rl.push(this.Oe),this.gla(this.Oe.left);return null!==this.Oe?this.Oe.data:null;};a.prototype.lla=function(a){for(;null!==a.left;)this.rl.push(a),a=a.left;this.Oe=a;};a.prototype.gla=function(a){for(;null!==a.right;)this.rl.push(a),a=a.right;this.Oe=a;};g.T=f;},function(g,f,a){var d,h;function b(a){this.u={fK:a.maxc||25,N2:a.c||.5,enb:a.rc||"none",rcb:a.hl||7200};this.gH();this.IWa=this.u.enb;this.MG=this.u.rcb;this.f_=Math.exp(Math.log(2)/this.MG);this.f_=Math.max(this.f_,1);this.CO=1;}d=a(6);h=a(196).TDigest;new(a(5)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.dd=function(){var a;if(0===this.Vd.size())return null;a=this.Vd.wg([.25,.75]);if(a[0]===a[1])return null;this.Vd.size()>this.u.fK&&this.Vd.hs();a=this.Vd.aA(!1).reduce(function(a,b){d.pa(b.Ie)&&d.pa(b.n)&&a.push({mean:b.Ie,n:b.n/this.CO});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Gd=function(a){var b;if(d.Pa(a)||!d.has(a,"tdigest")||!d.Od(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(k){return!1;}b.forEach(function(a){d.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{Ie:a.mean,n:a.n};});this.CO=1;this.Vd.A$(a);void 0===this.Vd.wg(0)&&this.gH();};b.prototype.get=function(){var a,b;a=this.Vd;b=a.wg([0,.1,.25,.5,.75,.9,1]);return{min:b[0],M9:b[1],tj:b[2],bi:b[3],uj:b[4],N9:b[5],max:b[6],pg:a.aA(!1)};};b.abb=function(a){var c;c=new b({});d.Pa(a)||d.R(a)||!d.isArray(a.pg)||(c.Vd.A$(a.pg),void 0===c.Vd.wg(0)&&c.gH());a=c.Vd.wg([.25,.75]);return a[0]===a[1]?null:function(a){return c.Vd.wg(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.IWa&&(this.CO=b=this.CO*this.f_);this.Vd.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.Vd.summary()+")";};b.prototype.gH=function(){this.Vd=new h(this.u.N2,this.u.fK);};g.T=b;},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});a(0).__exportStar(a(728),f);},function(g,f,a){(function(){var M71,k,q,p,u,z,y,L,D1p,A1p,h1p;function f(a,b){var A71;A71=2;while(A71!==9){switch(A71){case 3:this.eza=function(a,b){var G71;G71=2;while(G71!==1){switch(G71){case 2:return this.Mla(a,b);break;case 4:return this.Mla(a,b);break;G71=1;break;}}}.bind(this);A71=9;break;case 2:this.AG=null;this.u=a;this.cla=b;this.dza=function(a,b){var u71;u71=2;while(u71!==1){switch(u71){case 2:return this.Lla(a,b);break;case 4:return this.Lla(a,b);break;u71=1;break;}}}.bind(this);A71=3;break;}}}function h(a,b){var Z71;Z71=2;while(Z71!==1){switch(Z71){case 4:f.call(this,a,b);Z71=8;break;Z71=1;break;case 2:f.call(this,a,b);Z71=1;break;}}}M71=2;function b(a,b,c){var y71,d,f,k;y71=2;while(y71!==3){switch(y71){case 4:return d;break;case 2:y71=1;break;case 9:a.some(function(a){var L71;L71=2;while(L71!==5){switch(L71){case 2:d=a.m;return b<=a.b;break;case 3:d=a.m;return b<a.b;break;L71=5;break;}}});y71=4;break;case 1:y71=c?5:9;break;case 5:a.some(function(a){var R71,c;R71=2;while(R71!==6){switch(R71){case 3:return d=k&&c!==f?k+(a-k)/(c-f)*(b-f):a,!0;break;case 4:R71=b<=c?3:9;break;case 2:c=a.b;a=a.m;R71=4;break;case 9:f=c;d=k=a;return!1;break;}}});y71=4;break;}}}while(M71!==23){D1p="1S";D1p+="IYbZ";D1p+="r";D1p+="NJC";D1p+="p9";A1p="m";A1p+="edia|as";A1p+="e";A1p+="js";h1p="A";h1p+="SE";h1p+="JS_PR";h1p+="EDICTOR";switch(M71){case 12:f.prototype.fca=function(a){var f71;f71=2;while(f71!==1){switch(f71){case 4:this.u=a;f71=3;break;f71=1;break;case 2:this.u=a;f71=1;break;}}};f.prototype.y_=function(a){var e71,b,c;e71=2;while(e71!==9){switch(e71){case 2:b=this.u;k.Pa(this.AG)?c=a*(100-b.rW)/100:(c=this.AG,c=a<2*c?a/2:a-c);b.R7&&this.cla?(b=this.cla,a=Math.max(a<2*b?a/2:a-b,c)):a=c;e71=3;break;case 3:return a;break;}}};h.prototype=Object.create(f.prototype);h.prototype.cUa=function(a,c){var r71,d,f;r71=2;while(r71!==8){switch(r71){case 3:k.isArray(c)&&(f=b(c,a.Qk-a.qf,d.R1));return f;break;case 2:d=this.u;f=c?d.Q2:d.Q1;c=c?d.R2:d.S1;r71=3;break;}}};h.prototype.Lla=function(a,b){var l71;l71=2;while(l71!==1){switch(l71){case 2:return d(this.u,a,b);break;case 4:return d(this.u,a,b);break;l71=1;break;}}};h.prototype.Mla=function(a,b){var U71,c;U71=2;while(U71!==3){switch(U71){case 2:c=this.oXa(a,this.u);a=a.ta?a.ta.Fa*(100-this.cUa(b,c))/100|0:0;return this.y_(a);break;}}};M71=17;break;case 17:h.prototype.oXa=function(a,b){var C71,c,d;C71=2;while(C71!==9){switch(C71){case 3:return c;break;case 2:c=!1;d=b.dI;a.Ao?c=!0:b.zba&&a.ta&&a.ta.Fa<d&&(c=!0);C71=3;break;}}};Object.create(h.prototype);c.prototype=Object.create(f.prototype);c.prototype.Lla=function(a,b){var N31;N31=2;while(N31!==1){switch(N31){case 2:return d(this.u,a,b);break;case 4:return d(this.u,a,b);break;N31=1;break;}}};c.prototype.Mla=function(a,b){var o31,c,d,f;o31=2;while(o31!==13){switch(o31){case 4:f=b.Qk-b.qf;o31=3;break;case 8:this.dka?d*=z(this.dka,f,d):this.pXa?(b=z(this.fka,f,1),f=z(this.eka,f,1),d=b*d+f*(1-d)):d=z(L(this.fka,this.eka,d),f,1);a=this.k0&&a[this.k0]&&a[this.k0].wK;void 0!==a&&(a=y(this.vVa,a),d=Math.min(d*a,1));p933.T1p(0);return this.y_(p933.d1p(1,d,c));break;case 2:c=a.ta&&a.ta.Fa||0;d=Math.pow(Math.max(1-(a[this.ska]&&a[this.ska].Fa||c)/this.QSa,0),this.PSa);o31=4;break;case 3:o31=a.Nlb?9:8;break;case 9:return this.y_((1-a.Nlb)*c);break;}}};M71=25;break;case 3:q=a(74);p=q.hC;u=q.g1a;z=q.e8a;y=q.f8a;L=q.Pob;f.prototype.GE=function(a){var W71;W71=2;while(W71!==1){switch(W71){case 4:this.AG=a;W71=2;break;W71=1;break;case 2:this.AG=a;W71=1;break;}}};M71=12;break;case 2:k=a(6);a(11);new(a(5)).Console(h1p,A1p);M71=3;break;case 25:g.T=function(a,b){var h31,H31,J1p;h31=2;while(h31!==5){J1p="mani";J1p+="fo";J1p+="ld";switch(h31){case 1:return new c(a,b);break;case 2:H31=a.x8;h31=H31===J1p?1:4;break;case 4:return new h(a,b);break;case 14:return new h(a,b);break;h31=5;break;}}};M71=24;break;case 24:D1p;M71=23;break;}}function c(a,b){var w71;w71=2;while(w71!==7){switch(w71){case 2:f.call(this,a,b);Array.isArray(a.Qm.curves)?(this.fka=u(a.Qm.curves[0],0,0,1),this.eka=u(a.Qm.curves[1],0,0,1)):this.dka=u(a.Qm.curves,0,0,1);this.QSa=p(a.Qm.threshold||6E3,1,1E5);w71=4;break;case 4:this.PSa=p(a.Qm.gamma||1,.1,10);this.ska=a.Qm.filter;w71=9;break;case 9:this.pXa=!!a.Qm.simpleScaling;a.Qm.niqrfilter&&a.Qm.niqrcurve&&(this.k0=a.Qm.niqrfilter,this.vVa=u(a.Qm.niqrcurve,1,0,4));w71=7;break;}}}function d(a,b,c){var J71;J71=2;while(J71!==5){switch(J71){case 2:b=b.ta?b.ta.Fa:0;return a.u_a?(a=z(a.t_a,c.Qk-c.qf,1),b*(1-a)):b*a.rW/100;break;}}}}());},function(g,f,a){var m,c;function b(a,b,c,d,f,g){return new h(a,b,c,d,f,g);}function d(a){return a&&0<=a.indexOf(".__metadata__");}function h(a,b,c,d,f,g){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=d;this.creationTime=f;this.lastRefresh=g;return this.dDa();}m=a(6);c=a(109);a(108);new c.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=c.time.now();return this.dDa();};h.prototype.JBa=function(a){this.size=a;};h.prototype.Woa=function(){var a;a=c.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};h.prototype.dDa=function(){this.lastMetadataUpdate=c.time.now();return this;};h.prototype.constructor=h;g.T={create:b,b5:function(a){var c;c=a;"string"===typeof a&&(c=JSON.parse(a));if(c&&c.partition&&!m.R(c.lifespan)&&c.resourceIndex&&c.creationTime&&c.lastRefresh)return a=b(c.partition,c.resourceIndex,c.lifespan,-1,c.creationTime,c.lastRefresh),c.lastMetadataUpdate&&(a.lastMetadataUpdate=c.lastMetadataUpdate),!m.R(c.size)&&0<=c.size&&a.JBa(c.size),a.Woa(),a.convertToBinaryData=c.convertToBinaryData,a;},d3:function(a){return a+".__metadata__";},KR:function(a){return d(a)?a.slice(0,a.length-13):a;},rD:d};},function(g,f,a){var L,A,B,l,S,n,W,E,r,R,ba,Y,ea;function b(){}function d(a,c){var d,f,k,p;d=L.Mb(c)?c:b;this.u=a||{};(function(a,b,c){this.kh[a].md[b]=c;}.bind(this));(function(a,b){return this.kh[a].md?this.kh[a].md[b]:void 0;}.bind(this));this.on=this.addEventListener=Y.addEventListener;this.removeEventListener=Y.removeEventListener;this.emit=this.na=a.UFb?Y.na:b;f=l.W3a(a);k=this.u.dailyDiskCacheWriteLimit;if(f){this.qp=f;p=u(a.P8||ea,l.I$a());this.Kr=function(a){return L.R(p)||null===p||void 0===this.kh[a]?!1:!L.R(p[a]);};p?(this.kh={},c=A.Promise.all(Object.keys(p).map(function(b){return new A.Promise(function(c,d){var g;g=p[b];g.SDa=a.SDa;new S(b,f,g,function(a,b){a?d(a):c(b);},k);});})).then(function(a){a.map(function(a){var b;b=a.hu;this.kh[b]=a;p[b].v9a=p[b].Du-a.Jr;this.kh[b].on(S.wd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.na("mediacache",a);}.bind(this));this.kh[b].on(S.wd.pja,function(a){a=a||{};a.partition=b;a.type="save";this.na("mediacache",a);}.bind(this));this.kh[b].on(S.wd.ERROR,function(a){a=a||{};a.partition=b;a.type=S.wd.ERROR;this.na("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){q(f,A.storage.NA,Object.keys(p));return a;}.bind(this)).then(function(a){Object.keys(a.kh).map(function(b){a.kh[b].y5().map(function(c){a["delete"](b,c);});});a.ln=!0;d(null,a);}.bind(this))["catch"](function(a){B.error("Failed to initialize media cache ",a);this.zy=R.Ida;d(this.zy,this);}.bind(this)),ba.tq(c)):(this.zy=R.aLa,d(this.zy,this));}else this.zy=R.Ida,d(this.zy,this);}function h(a,b,c,d,f,k){var p;p=k?"mediacache-error":"mediacache";b={partition:c,type:b,resource:d,time:A.time.now()};k&&(b.error=k);f&&(L.pa(f.duration)&&(b.duration=f.duration),L.pa(f.as)&&(b.bytesRead=f.as));try{a.na(p,b);}catch(fa){B.warn("caught exception while emitting basic event",fa);}}function m(a,b,c,d,f){var k;k=f?"mediacache-error":"mediacache";b={partition:c,type:b,resources:d,time:A.time.now()};f&&(b.error=f);try{a.na(k,b);}catch(ha){B.warn("caught exception while emitting basic event",ha);}}function c(a){return!L.R(a)&&!L.Pa(a)&&L.pa(a.lifespan);}function k(a){return!n.rD(a)&&!E.keb(a);}function q(a,c,d){a.query(c,"",function(f,k){f||Object.keys(k).filter(function(a){return 0>d.indexOf(a.slice(0,a.indexOf(".")));}).map(function(d){a.remove(c,d,b);});});}function p(a,b,c){var f,k;function d(b){a["delete"](f,function(d){d?c(d):(delete a.md[k],d=Object.keys(b.resourceIndex),d=A.Promise.all(d.map(function(b){return new A.Promise(function(c,d){a["delete"](b,function(a){a?d(a):c(b);});});})).then(function(){c();},function(a){c(a);}),ba.tq(d));});}n.rD(b)?(f=b,k=n.KR(b)):(f=n.d3(b),k=b);(b=a.md[k])?d(b):a.read(f,function(a,b){a?c(a):d(b);});}function u(a,b){var c,d,f;c={};d=a.partitions.reduce(function(a,b){return a+b.capacity;},0);f=b/d;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Du=Math.floor(f*a.capacity);c[b].D4a=a.dailyWriteFactor||1;c[b].IIb=a.owner;c[b].i8a=a.evictionPolicy;});return c;}function z(a,b,c){if(c)return E.f6a(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function y(a,b,c,d,f,k,p,g,q,u,h){return function(m,t){m?L.isArray(m)?(t=m.map(function(a){return a.error;}),t.some(function(a){return a.code===R.sA.code;})&&!t.some(function(a){return a.code===R.gO.code;})?h(u,m,function(){q.save(b,c,d,f,k,p);}):(u["delete"](g),delete u.md[c],k({error:m[0].error,Qs:m[0].Qs,type:m[0].type,ana:m}))):k({error:m,Qs:b,type:"save"}):(m=t.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.sT;},0),u.md[c].JBa(m),m={v9a:t.Hi,mFb:t.uC,Rh:0,items:t},0<t.Rh&&(m.Rh=t.Rh),0<t.duration&&(m.duration=t.duration),k(null,m));};}L=a(6);A=a(109);B=new A.Console("MEDIACACHE","media|asejs");l=a(738);S=a(737);n=a(360);W=a(108);E=a(732);r=a(731);R=a(199);ba=a(198);Y=a(25).EventEmitter;ea={RIb:[]};d.prototype.vz=function(a,c,d){var f;f=L.Mb(d)?d:b;this.Kr(a)?this.kh[a].query(c,function(a,b){a?(B.error("Failed to query resources",a),f([])):f(b.filter(k));}):f([]);};d.prototype.read=function(a,c,d){var f,k,p,g;f=L.Mb(d)?d:b;if(this.Kr(a)){k=this.kh[a];p=k.md[c];if(!n.rD(c)&&this.u.thb){g=function(b){k.mV(Object.keys(b),function(b,d,k){b?f(R.TA.om("Failed to read "+c,b)):(h(this,"read",a,c,k),f(null,E.Sdb(d)));}.bind(this),b);}.bind(this);p?g(p.resourceIndex):this.Vmb(a,c,function(a,b){a?f(R.TA.om("Failed to read "+c,a)):g(b.resourceIndex);});}else k.read(c,function(b,d,k){b?f(R.TA.om("Failed to read "+c,b)):(p&&p.convertToBinaryData&&(d=r.b2a(d)),h(this,"read",a,c,k),f(null,d));}.bind(this));}else f(R.Ft);};d.prototype.mV=function(a,c,d){var f,k;f=L.Mb(d)?d:b;if(this.Kr(a)){k={};c=A.Promise.all(c.map(function(b){return new A.Promise(function(c,d){this.read(a,b,function(a,f){a?(f={},f[b]=a,d(f)):(k[b]=f,c());});}.bind(this));}.bind(this))).then(function(){f(null,k);},function(a){f(a);});ba.tq(c);}else f(R.Ft);};d.prototype.UAa=function(a,c,d){var f;f=L.Mb(d)?d:b;this.Kr(a)?"[object Object]"!==Object.prototype.toString.call(c)?f(R.fO.om("items must be a map of keys to objects")):(d=new A.Promise(function(b){var d,f;d=this.kh[a].y5();f=Object.keys(c);(d=d.filter(function(a){return-1===f.indexOf(a);}))&&0<d.length?this.dqa(a,d,function(){b();}):b();}.bind(this)).then(function(){return A.Promise.all(Object.keys(c).map(function(b){return new A.Promise(function(d,f){this.save(a,b,c[b].dm,c[b].fd,function(a,c){a?(B.error("Received an error saving",b,a),f(a)):d(c);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var d,k,p;try{d=Number.MAX_VALUE;k=Number.MAX_VALUE;p=b.reduce(function(a,b){b.Hi&&b.Hi<d&&(d=b.Hi);b.uC&&b.uC<k&&(k=b.uC);d<Number.MAX_VALUE&&(a.freeSize=d);k<Number.MAX_VALUE&&(a.dailyBytesRemaining=k);L.pa(b.Rh)&&(a.bytesWritten+=b.Rh);L.pa(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(c),time:A.time.now(),bytesWritten:0,duration:0});this.na("mediacache",p);f(null,p);}catch(Aa){f(err);}}.bind(this),function(b){L.isArray(b.ana)?b.ana.forEach(function(b){this.na("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.mL});}.bind(this)):this.na("mediacache-error",{partition:a,type:"saveMultiple",error:b});f(b);}.bind(this)),ba.tq(d)):(L.Mb(d)?d:b)(R.Ft);};d.prototype.save=function(a,d,f,k,p,g){var q,u,t,l,M,S,Q,E,ka;q=L.Mb(p)?p:b;if(this.Kr(a)){u=this.kh[a];t=n.d3(d);p=u.y5();p=p.filter(function(a){return a!==d;});if(c(k)){l=z(d,f,this.u.thb);M=u.md[d]||{};S=M.resourceIndex;S&&Object.keys(S).map(function(a){L.R(l[a])&&u["delete"](a);});k.convertToBinaryData&&(f=r.c2a(l),l=z(d,f,!1));S=A.time.now();Q={};Q.partition=a;Q.resourceIndex=Object.keys(l).reduce(function(a,b){a[b]=W.l6(l[b]);return a;},{});Q.creationTime=M.creationTime||S;Q.lastRefresh=S;Q.lifespan=k.lifespan;Q.lastMetadataUpdate=S;Q.size=M.size;Q.convertToBinaryData=k.convertToBinaryData;E=function(a,b,c){a.E5a(function(f,k){f&&B.error("Evicting","Failed to delete some orphaned records",f);k.O$?c():(f=a.W$a())?this["delete"](a.getName(),f,function(f){f?(g||(L.isArray(b)?b.forEach(function(b){m(this,"save",a.getName,b.mL,b.error);}.bind(this)):h(this,"save",a.getName(),d,void 0,b)),q(b)):c();}.bind(this)):q(R.sA);}.bind(this));}.bind(this);ka=function(){var a,b,c;a=this.kh;b=0;c=A.time.now();if(!L.R(a))for(var d in a)b+=a[d].i$a(c);return b;}.bind(this);this.dqa(a,p,function(){u.replace(t,Q,function(b,c){c?(u.md[d]=n.b5(Q),u.Xnb(l,y(l,a,d,f,k,q,g,t,this,u,E),g,ka)):b.code===R.sA.code?E(u,b,function(){this.save(a,d,f,k,q,g);}.bind(this)):q(b);}.bind(this),g,ka);}.bind(this));}else q(R.dMa);}else q(R.Ft);};d.prototype["delete"]=function(a,c,d){var f;f=L.Mb(d)?d:b;this.Kr(a)?p(this.kh[a],c,function(b){h(this,"delete",a,c,void 0,b);f(b);}.bind(this)):f(R.Ft);};d.prototype.dqa=function(a,c,d){var f,k;f=L.Mb(d)?d:b;if(this.Kr(a)){k=this.kh[a];d=A.Promise.all(c.map(function(a){return new A.Promise(function(b){p(k,a,function(c){b({X:L.R(c),error:c,dm:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var g,q;for(var c=[],d=[],k=[],p=0;p<b.length;p++){g=b[p];g.X?c.push(g.dm):g.error&&d.push(g);}0<c.length&&m(this,"delete",a,c);0<d.length&&(k=d.map(function(a){return a.dm;}),b=ba.Kta(d),q=b[0],b.forEach(function(b){B.error("Failed to delete resources ",b.error,b.mL);m(this,"delete",a,b.mL,b.error);}.bind(this)));b={};b.zJb=c;0<k.length&&(b.AJb=k);q?f(q,b):f(void 0,b);}.bind(this),function(b){m(this,"delete",a,c,b);f(b);}.bind(this));ba.tq(d);}else f(R.Ft);};d.prototype.clear=function(a,c){var d;d=L.Mb(c)?c:b;this.Kr(a)?this.kh[a].clear(function(a){d(a.filter(k));}):d(R.Ft);};d.prototype.Vmb=function(a,c,d){var f,k;f=L.Mb(d)?d:b;if(this.Kr(a)){d=n.d3(c);k=this.kh[a];k.read(d,function(a,b){var d;if(a)f(R.eMa);else{d=n.b5(b)||{};k.jta(Object.keys(d.baa),function(a){d.size=a;(a=k.md[c])&&(d.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=d.lastMetadataUpdate?k.md[c]=d:a.lastMetadataUpdate&&(a.lastMetadataUpdate>d.lastMetadataUpdate||L.R(d.lastMetadataUpdate))&&(d=a));f(null,d);});}});}else f(R.Ft);};d.prototype.GDa=function(a){A.EJ(a);};d.prototype.constructor=d;g.T=d;},function(g,f,a){f=a(741);g.T=f;},function(g,f,a){var b,d,h,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(11);d=a(5);h=a(742);m=d.vA;g=function(){function a(){this.Xo=[];this.console=new d.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(a,{ov:{get:function(){void 0===a.Ska&&(a.Ska=new a());return a.Ska;},enumerable:!0,configurable:!0}});a.prototype.QQ=function(a,b,c,d,f,g){var k,p,q;p=g.yqb?this.R8a(c,b,a):-1;if(-1===p){k={track:this.Y3a(c,d,a,f,g),qq:c,M:b,Dza:a,oE:[],ko:!1,hqa:!1};this.Xo.push(k);q=function(){k.ko=!0;k.track.removeListener("created",q);};k.track.on("created",q);k.track.yc&&k.track.yc();}else k=this.Xo[p];a=new h.lQa(k.track,k.ko);k.oE.push(a);return a;};a.prototype.L3=function(a){var b,c;a.$m();b=this.SR(function(b){return b.track===a.track;});if(-1!==b)if(b=this.Xo[b],1===b.oE.length)b.track.$m(),b.hqa=!0;else{c=b.oE.indexOf(a);0<=c&&b.oE.splice(c,1);}else a.track.$m();};a.prototype.Ue=function(){a.uja.Ue();};a.prototype.Y3a=function(c,d,f,g,h){var k,p;k=this;c?1===f?(c=!1,d=1,h.yn?(c=!0,d=h.HD):h.cq&&2<h.cq&&(c=!0,d=h.cq),h={type:m.VIDEO,openRange:!c,pipeline:c,connections:d,socketBufferSize:h.kF,minRequestSize:h.RD}):0===f?(c=h.yn&&d&&h.qub,h={type:m.AUDIO,openRange:!c,pipeline:c,connections:1,socketBufferSize:h.lQ,minRequestSize:h.RD}):h={type:m.YJa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:h.z6,minRequestSize:h.RD}:h={type:0===f?b.L.AUDIO:b.L.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===f?h.lQ:h.kF,minRequestSize:h.RD};p=new a.uja(h,g);p.on("transportreport",function(a){var b;b=k.SR(function(a){return a.track===p;});-1!==b&&(b=k.Xo[b],b.oE.length&&b.oE[0].emit("transportreport",a));});p.on("destroyed",function(){var a;a=k.SR(function(a){return a.track===p;});-1!==a&&k.Xo.splice(a,1);p.removeAllListeners();});return p;};a.prototype.R8a=function(a,b,c){return this.SR(function(d){return!d.hqa&&(a?d.qq&&d.M===b&&d.Dza===c:!d.qq&&d.Dza===c);});};a.prototype.SR=function(a){for(var b=0;b<this.Xo.length;++b)if(a(this.Xo[b]))return b;return-1;};a.uja=m;return a;}();f.vt=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.cpa=function(a,b){var d;if(!Array.isArray(a.bpa))return a;d=Object.create(a);a.bpa.forEach(function(a){if(void 0!==a.eib&&b.duration>=a.eib&&a.config)for(var f in a.config)d[f]=a.config[f];});return d;};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(13);g=function(a){function f(b,d,f){b=a.call(this,b,d)||this;b.xk=d.Es;b.S0=!!d.eA;b.qka=d.Ml;b.K=f;return b;}b.__extends(f,a);Object.defineProperties(f.prototype,{Vb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{data:{get:function(){return this.xk;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Es:{get:function(){return this.xk;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return this.stream.$;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Mn:{get:function(){return this.$&&this.$.Mn;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{eA:{get:function(){return this.S0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ml:{get:function(){return this.qka;},enumerable:!0,configurable:!0}});f.prototype.cZa=function(a){d.assert(this.Bc.za===a.za);!a.ed&&this.Bc.ed&&a.NQ(this.Bc);!a.location&&this.Bc.location&&(a.location=this.Bc.location,a.Sb=this.Bc.Sb,a.Nz=this.Bc.Nz,a.url=this.Bc.url,a.Ka=this.Bc.Ka);this.Bc=a;};f.prototype.toJSON=function(){return b.__assign({},a.prototype.toJSON.call(this),{isHeader:!0,fragments:this.$});};return f;}(a(156).zw);f.bX=g;},function(g,f,a){var b,d,h,m,c,k,q,p,u;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(11);h=a(5);m=a(374);c=a(365);k=a(201);g=a(25);q=a(202);p=a(24);a=a(40);u=h.MediaSource;h=function(a){function f(b,d,f,k,p,g,q){p=a.call(this,b,k,p,q)||this;c.bX.call(p,b,k,q);p.u=d;p.HO=f;p.bUa=!!k.ws;p.KTa=!!k.Zx;p.JL=!!k.JL;p.nWa=k.aa;p.T_=(g?"(cache)":"")+p.za+" header";p.JB(b.url||k.url,k.offset,k.aa);return p;}b.__extends(f,a);Object.defineProperties(f.prototype,{Vb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{track:{get:function(){return this.HO;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ws:{get:function(){return this.bUa;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Zx:{get:function(){return this.KTa;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Zjb:{get:function(){return this.nWa;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{parseError:{get:function(){return this.MDb;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{GK:{get:function(){return this.qWa;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{config:{get:function(){return this.u;},enumerable:!0,configurable:!0}});f.prototype.Xd=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.Xd.call(this);};f.prototype.Unb=function(){if(!this.S0)return!0;this.S0=!1;return this.Fla();};f.prototype.ai=function(b){this.xk=this.xk?p.Um(this.xk,b.response):b.response;b.eL();this.Fla()?a.prototype.ai.call(this,b):this.Cja?(this.JB(b.url,b.offset+b.aa,this.Cja),a.prototype.ai.call(this,b)):this.cS(this);};f.prototype.pVa=function(a,b){a.LU=!1;a.parseError=b.errormsg;};f.prototype.sVa=function(a,b){a.LU=!1;a.XYa=b.bytes;};f.prototype.qVa=function(a,b){a.$=b.fragments;a.Kv=b.movieDataOffsets;a.og=b.additionalSAPs;a.eA=b.truncated;a.$Q=b.defaultSampleDuration;a.ga=b.timescale;};f.prototype.uVa=function(a,b){this.u.IK.enabled&&(a.Mn=b.vmafs);};f.prototype.tVa=function(a,b){b.frameDuration&&(a.Ha=b.frameDuration);};f.prototype.rVa=function(a,b){a.CR={aFb:b.keyId,tva:b.offset,GHb:b.flipped};};f.prototype.oVa=function(a,b){a.LU=!0;a.lib=b.moovEnd;a.GK=b.parsedEnd;};f.prototype.JB=function(a,b,c){a=new k.NM(this.stream,this.HO,this.T_+" ("+this.sa.length+")",{offset:b,aa:c,url:a,location:this.location,Db:this.Db,responseType:0},this,this.K);this.push(a);this.Tb=this.sa.reduce(function(a,b){return a+b.aa;},0);};f.prototype.Fla=function(){var a,b,c;b=this.u.Kub;c=this.u.SZa;this.O===d.L.VIDEO&&b&&!this.u.qs?a=b:this.O===d.L.AUDIO&&c&&(a=c);a=new q.iNa(this.stream,this.xk,["sidx"],this.O===d.L.VIDEO&&this.u.qs||this.O===d.L.AUDIO&&this.u.bn,{truncate:this.eA,XJb:this.stream.track.Z3,XV:a,yya:void 0===this.Ha,Uba:!u.Qc||!u.Qc.Joa,Vba:this.u.Vba,bo:this.u.bo&&this.u.bn,kA:this.u.kA,Ly:this.u.Ly,M8:this.u.M8});b={};a.addEventListener("error",this.pVa.bind(this,b));a.addEventListener("requestdata",this.sVa.bind(this,b));a.addEventListener("fragments",this.qVa.bind(this,b));a.addEventListener("vmafs",this.uVa.bind(this,b));a.addEventListener("sampledescriptions",this.tVa.bind(this,b));a.addEventListener("keyid",this.rVa.bind(this,b));a.addEventListener("done",this.oVa.bind(this,b));a.parse({Ha:this.Ha});this.wub=this.u.kA&&a.Ncb;b.LU?(this.xk=a.ttb(b.lib||b.GK),this.qWa=b.GK,this.qka=!!b.CR,void 0===this.Ha&&void 0===b.Ha&&this.K.error("No frame duration available for "+this.za),void 0===this.Ha&&void 0===b.Ha&&this.K.error("No frame duration available for "+this.za),this.stream.zU(b.ga,b.Ha||this.Ha,b.$,b.Kv,b.og,b.Mn)):this.Cja=b.XYa||0;return!!b.LU;};return f;}(m.MM);f.Sca=h;a.li(c.bX,h,!1);a.li(g.EventEmitter,h);},function(g,f,a){var d;function b(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(f,"__esModule",{value:!0});d=a(93);g=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.Ora=function(){return this.done;};a.prototype.tqa=function(a,b,d){return this.done=b+d>=this.endOffset;};return a;}();f.Vda=g;g=function(){function a(a,b,d,f){void 0===b&&(b=[]);void 0===d&&(d=[]);void 0===f&&(f=!1);this.Qo=a;this.fR=b;this.FCa=d;this.zya=f;this.done=!1;this.Pi={};}a.prototype.Ora=function(b,c,d){-1!==a.Scb.indexOf(b)&&(this.Pi[b]={offset:c,size:d});if(-1!==this.FCa.indexOf(b))if(this.Pi[b]={offset:c,size:d},this.zya)this.endOffset=c+d;else return this.endOffset=c,this.done=!0;else this.Qo&&-1!==this.Qo.indexOf(b)?(b=1<this.Qo.length?4096:0,this.endOffset=Math.max(c+d+b,this.endOffset||0)):-1!==this.fR.indexOf(b)&&(b=this.Qo?4096:0,this.endOffset=Math.max(c+d+b,this.endOffset||0));return this.done;};a.prototype.tqa=function(a,c,f,g){var k;k=this;if(-1!==this.FCa.indexOf(a))return this.done=!0;a===d.YY&&this.GBa(g.Pi);a===d.ZY&&this.GBa(g.Pi);this.Qo&&b(a,this.Qo);b(a,this.fR);return this.Qo&&0===this.Qo.length&&!this.fR.some(function(a){return k.Pi[a];})?this.done=!0:this.done;};a.prototype.GBa=function(a){var b;b=this;this.Pi=a;this.endOffset=(this.Qo||[]).concat(this.fR).reduce(function(a,c){return b.Pi[c]?(c=b.Pi[c],Math.max(c.offset+(c.size||4096),a)):a;},this.endOffset||0);};a.Scb=["moov","sidx"];return a;}();f.hKa=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(93);a=a(32);d=g.ZY;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a,f,g;this.kf();1<=this.version&&(this.pra=this.J.nV());a=this.J.wb();this.Pi={};for(var b=this.startOffset+this.length,d=0;d<a;++d){f=this.J.$K();"uuid"===f&&(f=this.J.nV());g=this.J.fi();this.Pi[f]={offset:b,size:g};b+=g;}return!0;};f.Xj=d;f.Qb=!1;return f;}(a.Fh);f["default"]=a;},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(93);g=a(32);h=d.YY;g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.kf();this.fileSize=this.J.fi();this.ga=this.J.fi();this.duration=this.J.fi(!1,!0);this.Xxa=this.J.fi();this.J.fi();this.ujb=this.J.fi();this.Jib=this.J.wb();this.Yxa=this.J.fi();this.Era=this.J.wb();this.pra=this.J.nV();this.Pi={moof:{offset:this.Xxa},sidx:{offset:this.Yxa,size:this.Era}};this.Pi[d.Ega]={offset:this.ujb,size:this.Jib};this.J.offset-this.startOffset<=this.length-24&&(this.tjb=this.J.fi(),this.Aib=this.J.wb(),this.sjb=this.J.fi(),this.yib=this.J.wb(),this.Pi[d.GN]={offset:this.tjb,size:this.Aib},this.Pi[d.FN]={offset:this.sjb,size:this.yib});return!0;};c.Xj=h;c.Qb=!1;return c;}(g.Fh);f["default"]=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(32);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.J.offset+=8;this.R0a=this.J.Nf();this.Job=this.J.Nf();this.J.offset+=4;this.SAa=this.J.Nf();this.J.offset+=2;d.uX&&this.J.console.trace("MP4AudioSampleEntry: channelcount: "+this.R0a+", samplesize: "+this.Job+", samplerate: "+this.SAa);return b;};return f;}(a(371)["default"]);f["default"]=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.J.offset+=6;this.J.Nf();return!0;};d.Qb=!1;return d;}(a(32).Fh);f["default"]=g;},function(g,f,a){var O,ha,fa,Aa,sa,ja,Fa,F,D,J,Sa,P,T,X,Qa,aa,ra,ga,rc,da;function b(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function d(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function h(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function m(a,b,c,d,f){ja.call(this,a,b,c,d,f);this.XV=a.config.XV;this.$c=this.sizes=void 0;}function c(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function k(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function q(a,b,c,d){X.call(this,a,b,c,d);}function p(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function u(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function z(a,b,c,d,f){T.call(this,a,b,c,d,f);}function y(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function L(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function A(){for(var a=new DataView(this),b="",c,d=0;d<this.byteLength;d++)c=a.getUint8(d),b+=("00"+c.toString(16)).slice(-2);return b;}function B(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function l(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function n(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function Q(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function W(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function E(a){function b(b,c,d,f,k){ja.call(this,b,c,d,f,k);this.Axa=a;}b.Qb=!1;b.prototype=new ja();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Kda:{get:function(){return this.Axa;}}});b.prototype.parse=function(){this.J.console.trace("renaming '"+this.type+"' to draft type '"+this.Axa+"'");this.J.offset=this.startOffset+4;this.Ua.lEa(this.Kda);this.type=this.Kda;return!0;};return b;}function r(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function R(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function ba(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function Y(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function ea(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function V(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function N(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function ca(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function va(a,b,c,d,f){ja.call(this,a,b,c,d,f);}function za(a,b,c,d,f){ja.call(this,a,b,c,d,f);}O=a(13).assert;ha=a(93);a(5);fa=a(59).dc;Aa=a(376);sa=a(126);a(58);a(58);a(58);ja=a(32).Fh;f=a(755)["default"];Fa=a(754)["default"];F=a(753)["default"];D=a(752)["default"];J=a(751)["default"];Sa=a(750)["default"];P=a(749)["default"];T=a(371)["default"];X=a(370)["default"];Qa=a(748)["default"];aa=a(747)["default"];ra=a(746)["default"];ga=a(369)["default"];rc=a(368)["default"];a(125);a(204);a(203);a(205);a=a(745)["default"];b.Qb=!0;b.prototype=new ja();b.prototype.constructor=b;d.Qb=!0;d.prototype=new ja();d.prototype.constructor=d;h.Qb=!1;h.prototype=new ja();h.prototype.constructor=h;h.prototype.parse=function(){var a;this.kf();1===this.version?(this.J.fi(),this.J.fi(),this.ga=this.J.wb(),this.duration=this.J.fi()):(this.J.wb(),this.J.wb(),this.ga=this.J.wb(),this.duration=this.J.wb());a=this.J.Nf()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};m.Qb=!1;m.prototype=new ja();m.prototype.constructor=m;m.prototype.pWa=function(){this.kf();this.J.wb();this.ga=this.J.wb();0===this.version?(this.d4=this.J.wb(),this.N4=this.J.wb()):(this.d4=this.J.fi(),this.N4=this.J.fi());this.job=this.J.Nf();this.pE=this.J.Nf();};m.prototype.uTa=function(a,b){var c,d,f;c=this.ga;a=a&&a.ga||c;d=a/c;c=this.J.jV(b,12,!1);f=1===d?this.J.jV(b,12,!1):Aa.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.J.wb()*d);this.J.offset+=8;return a;},this);this.uma(b,f,c,a);};m.prototype.Yja=function(a){var b,c,d,f,k;b=this.ga;a=a&&a.ga||b;c=a/b;b=this.pE;d=this.J.config.kA&&sa.Fta||sa.ty;f=d(this.YV,0,b,12,!1);k=4;d=1===c?d(this.YV,k,b,12,!1):Aa.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.YV.getUint32(k,!1)*c);k+=12;return a;},this);this.uma(b,d,f,a);this.YV=void 0;};m.prototype.uma=function(a,b,c,d){if(this.XV){d=this.XV*d/1E3;for(var f=0,k=1;k<a;k++)Math.abs(b[f]-d)>Math.abs(b[f]+b[k]-d)?(b[f]+=b[k],c[f]+=c[k]):(++f,f!==k&&(b[f]=b[k],c[f]=c[k]));++f;b=new Uint32Array(b.buffer.slice(0,4*f));c=new Uint32Array(c.buffer.slice(0,4*f));}this.sizes=c;this.$c=b;};m.prototype.parse=function(a){var b,c,d,f,k,p;this.pWa();this.Ha=a.Ha;b=this.ga;c=this.Ha&&this.Ha.ga||b;d=this.J.config.truncate&&60<this.pE;f=d?60:this.pE;k=this.startOffset+this.length+this.N4;b=new fa(this.d4,b).jm(c).vd;this.$={ga:c,Ej:b,offset:k};c=this.J.config.M8;if(this.J.config.Ly&&!d&&this.pE<c){this.YV=this.J.Iza(12*this.pE);p=this;Object.defineProperty(this.$,"durations",{get:function(){void 0===p.$c&&p.Yja(p.Ha);return p.$c;}});Object.defineProperty(this.$,"sizes",{get:function(){void 0===p.sizes&&p.Yja(p.Ha);return p.sizes;}});}else this.uTa(this.Ha,f),this.$.$c=this.$c,this.$.sizes=this.sizes;a.Aq=this;return!0;};c.Qb=!1;c.prototype=new ja();c.prototype.constructor=c;c.prototype.parse=function(){this.Mn=[];for(var a=(this.length-8)/2,b=0;b<a;b++)this.Mn.push(this.J.Nf()/100);return!0;};k.Qb=!0;k.prototype=new ja();k.prototype.constructor=k;k.prototype.parse=function(){this.kf();this.J.wb();return!0;};k.prototype.fy=function(a){var b;b=Object.keys(this.Cc);b.length&&this.Cc[b[0]].length&&(this.Cc[b[0]][0]instanceof X?this.Ha=new fa(this.Cc[b[0]][0].eS,this.Cc[b[0]][0].SAa):this.Cc[b[0]][0]instanceof z&&(b=this.Cc[b[0]][0].Cc[ha.XY])&&b.length&&(b=b[0].cd,1E3!==b.yI&&1001!==b.yI||0!==b.xU%1E3?this.J.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.xU+"/"+b.yI):this.Ha=new fa(b.yI,b.xU)),this.Ha&&(a.Ha=this.Ha));return!0;};q.Qb=!0;q.prototype=Object.create(X.prototype);q.prototype.constructor=q;q.prototype.parse=function(a){return X.prototype.parse.call(this,a);};q.prototype.fy=function(){this.eS=1536;return!0;};p.Qb=!1;p.prototype=Object.create(ja.prototype);p.prototype.parse=function(){this.J.yf(2);this.J.yf(5);this.J.yf(3);this.J.yf(3);this.ci.nJb(1);this.J.yf(5);this.J.yf(5);return!0;};u.Qb=!1;u.prototype=Object.create(ja.prototype);u.prototype.parse=function(){this.cjb=this.J.Nf()&7;for(var a=0;a<this.cjb;a++)this.J.yf(2),this.J.yf(5),this.J.yf(5),this.J.yf(3),this.ci.yf(1),0<this.J.yf(4)?this.ci.yf(9):this.J.yf(1);return!0;};z.Qb=!0;z.prototype=Object.create(T.prototype);z.constructor=z;z.prototype.parse=function(a){T.prototype.parse.call(this,a);this.cd=this.xq([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{YGb:"int32"},{HKb:"int32"},{offset:32,type:"offset"},{u9a:"int16"},{I1a:{type:"int8",tZa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};y.Qb=!1;y.prototype=Object.create(ja.prototype);y.constructor=y;y.prototype.parse=function(){var a;this.J.ee();this.PEa=this.J.ee();this.J.ee();this.J.ee();this.J.ee();this.dCa=this.y0(this.J.ee()&31);this.y0(this.J.ee());this.x$=this.dCa.length?this.dCa[0][0]:this.PEa;this.Rla=this.J.offset;this.startOffset+this.length<this.J.offset&&(100===this.jJb||110===this.x$||122===this.x$||144===this.x$)&&(this.J.ee(),this.J.ee(),this.y0(this.J.ee()));a=this.startOffset+this.length-this.Rla;0<a&&this.zj(a,this.Rla);return!0;};y.prototype.y0=function(a){var b,c,d;b=[];for(c=0;c<a;++c)d=this.J.Nf(),b.push(this.J.kV(d));return b;};L.Qb=!1;L.prototype=Object.create(ja.prototype);L.constructor=L;L.prototype.parse=function(){this.kf();this.Tob=this.J.$K();"cenc"==this.Tob&&(this.J.offset-=4,this.Ua.lEa("piff"));this.J.wb();return!0;};B.Qb=!1;B.prototype=new ja();B.prototype.constructor=B;B.prototype.parse=function(){this.kf();this.J.offset+=4;this.tva=this.J.offset;this.uv=this.J.Iza(16);this.uv.toString=A;return!0;};l.Qb=!1;l.prototype=new ja();l.prototype.constructor=l;l.prototype.parse=function(){this.kf();this.Nl=this.J.Nf();this.jhb=this.J.jV(this.Nl,void 0,!0);return!0;};n.Qb=!1;n.prototype=new ja();n.prototype.constructor=n;n.prototype.parse=function(a){var b,c,d,f,k,p;f=a.Aq;O(f);a=a.Ha;b=f.ga;f=f.pE;O(a);O(b);O(f);this.kf();O(2>this.version);this.Nl=this.J.Nf();this.gE=new Uint16Array(f+1);c=a.Vbb(b);k=c/b;p=a.jm(c).vd;if(0===this.version)for(this.xE=new Uint16Array(),this.$l=new Uint32Array(),a=b=0;a<=f;++a){if(this.gE[a]=b,a<this.Nl&&(d=this.J.ee(),0!==d))for(c=0;c<d;++c,++b)this.xE[b]=Math.floor((this.J.wb()+1)*k)/p,this.$l[b]=this.J.wb();}else if(1===this.version)for(c=this.J.Qmb(this.Nl),this.J.offset+=4,this.$l=this.J.jV(this.Nl,10,!1),this.J.offset-=8,this.xE=Aa.from(Uint16Array,{length:this.Nl},function(){var a;a=Math.floor((this.J.wb()+1)*k)/p;this.J.offset+=6;return a;},this),b=a=0;a<=f;++a){for(;b<c.length&&c[b]<a;)++b;this.gE[a]=b;}this.og={gE:this.gE,xE:this.xE,$l:this.$l};return!0;};Q.Qb=!0;Q.prototype=Object.create(b.prototype);Q.prototype.constructor=Q;W.Qb=!0;W.prototype=Object.create(b.prototype);W.prototype.constructor=W;W.prototype.fy=function(){var a;a=this.Zo("tfhd");a&&(this.Wr=a.Ona?a.Wr:this.parent.startOffset);return!0;};r.Qb=!1;r.prototype=new ja();r.prototype.constructor=r;r.prototype.parse=function(){var a,q,u,c,f;a=this.J.offset;this.kf();if(1===this.version){this.J.console.trace("translating vpcC box to draft equivalent");this.J.offset+=2;for(var b=this.J.offset,c=this.J.ee(),d=this.J.ee(),f=this.J.ee(),k=this.J.ee(),p=this.J.Nf(),g=[],q=0;q<p;++q)g=this.J.ee();q=(c&240)>>>4;u=(c&14)>>>1;c=c&1;f=16===f?1:0;d!=k&&this.J.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+d+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(d){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.J.console.warn("VP9: Unknown colourPrimaries "+d+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Ua.UW(this.version,a);this.Ua.UW(q<<4|k,b++);this.Ua.UW(u<<4|f<<1|c,b++);p+=2;g.push(0,0);this.Ua.gvb(p,b);b+=2;g.forEach(function(a){this.Ua.UW(a,b++);});}return!0;};R.Qb=!1;R.prototype=new ja();R.prototype.constructor=R;R.Xj="tfhd";Object.defineProperties(R.prototype,{Ona:{get:function(){return this.He&1;}},Iob:{get:function(){return this.He&2;}},w5a:{get:function(){return this.He&8;}},z5a:{get:function(){return this.He&16;}},x5a:{get:function(){return this.He&32;}}});R.prototype.parse=function(){this.kf();this.Sba=this.J.wb();this.Wr=this.Ona?this.J.fi():void 0;this.Iob&&this.J.wb();this.aR=this.w5a?this.J.wb():void 0;this.cR=this.z5a?this.J.wb():void 0;this.bR=this.x5a?this.J.wb():void 0;return!0;};ba.Qb=!1;ba.prototype=new ja();ba.prototype.constructor=ba;ba.prototype.parse=function(){this.kf();this.OH=1===this.version?this.J.fi():this.J.wb();return!0;};ba.prototype.Ta=function(a){var b;b=this.startOffset+12;this.OH+=a;1===this.version?this.Ua.hvb(this.OH,b):this.Ua.pm(this.OH,!1,b);};Y.Qb=!1;Y.prototype=new ja();Y.prototype.constructor=Y;Object.defineProperties(Y.prototype,{Jpa:{get:function(){return this.He&1;}},Q4:{get:function(){return this.He&4;}},DV:{get:function(){return this.He&256;}},EV:{get:function(){return this.He&512;}},RAa:{get:function(){return this.He&1024;}},kaa:{get:function(){return this.He&2048;}}});Y.prototype.parse=function(){this.kf();this.Xna=this.J.offset;this.Sd=this.J.wb();this.ms=this.Jpa?this.J.I$():0;this.Q4&&this.J.wb();this.nL=(this.DV?4:0)+(this.EV?4:0)+(this.RAa?4:0)+(this.kaa?4:0);this.VR=this.J.offset;O(this.Jpa,"Expected data offset to be present in Track Run");O(this.length-(this.J.offset-this.startOffset)===this.Sd*this.nL,"Expected remaining data in box to be sample information");return!0;};Y.prototype.cH=function(a,b,c){var d,f,k;d=this.DV?this.J.wb():a.aR;f=this.EV?this.J.wb():a.cR;a=this.RAa?this.J.wb():a.bR;k=0===this.version?this.kaa?this.J.wb():0:this.kaa?this.J.I$():0;return{Hob:k,OJb:a,eJb:c+k-(void 0!==b?b:k),Ys:f,oL:d};};Y.prototype.Ta=function(a,b,c,d,f,k,p){var g,q,u,h;g=0;q=0;this.Ua.offset=this.VR;for(d=0;d<f;++d)h=this.cH(b,u,q),0==d&&(u=h.Hob),g+=h.Ys,q+=h.oL;d=f;f=this.J.offset;h=this.cH(b,u,q);this.JE=d;this.Tqb=q;if(p){if(this.qE=this.ms+g,this.Vs=0,d===this.Sd)return!0;}else if(this.qE=this.ms,this.Vs=g,0===d)return!0;if(0===d||d===this.Sd)return!1;this.Hqa=!0;if(p){this.Vs+=h.Ys;for(p=d+1;p<this.Sd;++p)h=this.cH(b,u,q),this.Vs+=h.Ys;this.Ua.offset=this.Xna;this.Sd=d;this.Ua.pm(this.Sd);this.Ua.z8(k);this.Q4&&(this.J.offset+=4);this.zj(this.length-(f-this.startOffset),f);}else b=f-this.VR,this.Ua.offset=this.Xna,this.Sd-=d,this.Ua.pm(this.Sd),this.ms+=g,this.Ua.z8(k),this.Ua.nEa(this.ms),this.Q4&&(this.J.offset+=4),this.zj(b,this.J.offset);c.zj(this.Vs,a.Wr+this.qE);return!0;};Y.prototype.Ynb=function(a,b,c,d,f,k){var g;if(d){d=this.qE;for(var p=this.Sd-1;0<=p&&this.Sd-p<=f;--p){this.Ua.offset=this.VR+p*this.nL;g=this.cH(b);if(g.oL!=k.duration){this.J.console.warn("Could not replace sample of duration "+g.oL+" with silence of duration "+k.duration);break;}if(this.EV)this.Ua.offset-=this.nL-(this.DV?4:0),this.Ua.pm(k.dt.byteLength);else if(k.dt.byteLength!==g.Ys){this.J.console.warn("Cannot replace sample with default size with silence of different size");break;}d-=g.Ys;c.hL(g.Ys,k.dt,a.Wr+d);}}else for(d=this.qE+this.Vs,p=0;p<this.Sd&&p<f;++p){this.Ua.offset=this.VR+(p+this.JE)*this.nL;g=this.cH(b);if(g.oL!=k.duration){this.J.console.warn("Could not replace sample of duration "+g.oL+" with silence of duration "+k.duration);break;}if(this.EV)this.Ua.offset-=this.nL-(this.DV?4:0),this.Ua.pm(k.dt.byteLength);else if(k.dt.byteLength!==g.Ys){this.J.console.warn("Cannot replace sample with default size with silence of different size");break;}c.hL(g.Ys,k.dt,a.Wr+d);d+=g.Ys;}};ea.Qb=!1;ea.prototype=Object.create(ja.prototype);ea.prototype.constructor=ea;Object.defineProperties(ea.prototype,{Kx:{get:function(){return this.He&1;}}});ea.prototype.parse=function(){this.kf();this.Kx&&this.J.$K();this.Kx&&this.J.wb();this.y5a=this.J.ee();this.Sd=this.J.wb();this.J.kV(this.Sd);return!0;};ea.prototype.Ta=function(a,b){if(a&&0===this.y5a){a=b?this.Sd-a:a;this.Ua.offset=this.startOffset+13+(this.Kx?8:0);this.Sd-=a;this.Ua.pm(this.Sd);this.iaa=0;if(b)this.Ua.offset+=this.Sd;else{for(b=0;b<a;++b)this.iaa+=this.Ua.ee();this.Ua.offset-=a;}this.zj(a,this.J.offset);}return!0;};V.Qb=!1;V.prototype=Object.create(ja.prototype);V.prototype.constructor=V;Object.defineProperties(V.prototype,{Kx:{get:function(){return this.He&1;}}});V.prototype.parse=function(){this.kf();this.Kx&&this.J.$K();this.Kx&&this.J.wb();this.Nl=this.J.wb();O(1===this.Nl,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ms=0===this.version?this.J.I$():this.J.Ymb();return!0;};V.prototype.Ta=function(a,b){this.ms+=a;this.Ua.offset=this.startOffset+16+(this.Kx?8:0)+(0===this.version?0:4);this.Ua.z8(b);this.Ua.nEa(this.ms);return!0;};N.Qb=!1;N.prototype=Object.create(ja.prototype);N.prototype.constructor=N;Object.defineProperties(N.prototype,{sya:{get:function(){return this.He&1;}},vub:{get:function(){return this.He&2;}}});N.prototype.parse=function(){this.kf();this.sya&&(this.J.wb(),this.Seb=this.J.kV(16));this.Sd=this.J.wb();return!0;};N.prototype.Ta=function(a,b){var c,d;c=b?this.Sd-a:a;this.Ua.offset=this.startOffset+28+(this.sya?20:0);this.Sd-=c;this.Ua.pm(this.Sd);a=this.Ua.offset;if(this.vub)for(c=b?this.Sd:c;0<c;--c){this.Ua.offset+=8;d=this.Ua.Nf();this.Ua.offset+=6*d;}else this.Ua.offset+=8*(b?this.Sd:c);b?this.zj(this.length-(this.J.offset-this.startOffset),this.J.offset):this.zj(this.J.offset-a,a);};ca.Qb=!1;ca.prototype=Object.create(ja.prototype);ca.prototype.constructor=ca;ca.prototype.parse=function(){this.kf();return!0;};ca.prototype.Ta=function(a,b,c){c?this.zj(b-a,this.startOffset+12+a):this.zj(a,this.startOffset+12);return!0;};va.Qb=!1;va.prototype=Object.create(ja.prototype);va.prototype.constructor=va;va.prototype.parse=function(){this.kf();this.J.$K();1===this.version&&this.J.wb();this.Nl=this.J.wb();this.pL=[];for(var a=0;a<this.Nl;++a)for(var b=this.J.wb(),c=this.J.wb(),d=0;d<b;++d)this.pL.push(c);return!0;};va.prototype.Ta=function(a,b){this.pL=b?this.pL.slice(0,a):this.pL.slice(a);a=this.pL.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.Ua.offset=this.startOffset+16+(1===this.version?4:0);this.Ua.pm(a.length);a.forEach(function(a){this.Ua.pm(a.count);this.Ua.pm(a.group);}.bind(this));this.Nl>a.length&&this.zj(8*(this.Nl-a.length));this.Nl=a.length;return!0;};za.Qb=!1;za.prototype=Object.create(ja.prototype);za.prototype.constructor=za;da={Cc:{moov:d,trak:b,mdia:b,mdhd:h,minf:b,encv:z,schi:b,sidx:m,sinf:b,stbl:b,stsd:k,tenc:B,mvex:b,moof:Q,traf:W,tfhd:R,trun:Y,sbgp:va,sdtp:ca,saiz:ea,saio:V,tfdt:ba,mdat:za,vmaf:c},jtb:{vpcC:r,SmDm:E("smdm"),CoLL:E("coll")},dtb:{avcC:y,schm:L},jaa:{"ac-3":q,"ec-3":q,dac3:p,dec3:u,avc1:z,avc3:z,avc2:z,avc4:z,hvc1:z,hev1:z}};[P,Fa,F,f,D,J,Sa,a,ga,rc].forEach(function(a){da.Cc[a.Xj]=a;});[Qa,aa].forEach(function(a){da.jaa[a.Xj]=a;});da.Cc[ha.Yga]=B;da.Cc[ha.GN]=l;da.Cc[ha.FN]=n;da.Cc[ha.Xga]=N;da.jaa[ha.XY]=ra;da.Fh=ja;g.T={tK:da};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(32);h=a(58);g=function(a){function c(b,c,d,f,g){d=a.call(this,d,f,g)||this;d.L_a=b;d.NE=c;d.Cc={};return d;}b.__extends(c,a);c.prototype.parse=function(a){var b,c,d,f,k,g;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){c=this.offset;d=this.wb();if(0===d)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};f=h.FG(this.wb());if(null===f)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===f){if(16>this.view.byteLength-this.offset)break;f=this.nV();}if(0===b.length&&this.NE.Ora(f,c,d))break;if(c+d>this.view.byteLength)break;k=this.L_a[f];g=void 0;if(k)if(g=new k(this,f,c,d,b[0]),(b[0]||this).sH(g),g.parse(a))this.config.R9&&k.Qb?b.unshift(g):this.offset=c+d;else return{done:!1,offset:this.offset,error:"parse error in "+f+" box"};else this.offset=c+d;for(;b.length&&this.offset>b[0].byteOffset+b[0].byteLength-8;){g=b.shift();if(!g.fy(a))return{done:!1,offset:this.offset,error:"finalize error in "+g.type+" box"};this.offset=g.byteOffset+g.byteLength;}if(0===b.length&&this.NE.tqa(f,c,d,g))break;}return!this.NE.done&&(a=this.NE.endOffset?this.NE.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,wxa:a}:{done:!0,offset:Math.min(this.NE.endOffset||Infinity,this.offset)};};c.prototype.sH=function(a){d.Fh.sH(this,a);};return c;}(a(757).nSa);f.lX=g;},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(5);h=a(154);g=function(a){function c(b,c,d,f){b=a.call(this,b,c,d,f)||this;b.sa=[];b.o0=!1;b.PG=!1;b.ld=!1;b.Hg=!1;b.ec=!1;b.$A=!1;b.Bka=!1;b.Aka=!1;b.wp=void 0;b.wl=void 0;b.rp=void 0;return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{active:{get:function(){return this.ld;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Zza:{get:function(){return this.Hg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.ec||(this.ec=this.sa.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bl:{get:function(){return this.$A;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{km:{get:function(){return this.sa.reduce(function(a,b){return a+b.km;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ne:{get:function(){return this.sa.reduce(function(a,b){return a+b.ne;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{qc:{get:function(){return this.wp||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{vT:{get:function(){return this.wl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{url:{get:function(){return this.sa[0]&&this.sa[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.pf||this.sa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{status:{get:function(){return this.rp&&this.rp.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wh:{get:function(){return this.rp&&this.rp.Wh;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{UC:{get:function(){return this.rp&&this.rp.UC;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sj:{get:function(){return this.rp&&this.rp.sj;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bk:{get:function(){return!!this.sa.length&&this.sa[0].bk;},enumerable:!0,configurable:!0}});c.prototype.push=function(a){this.PG&&a.yc(this.Sa,this.Lf);this.sa.push(a);this.o0&&a.Pv();};c.prototype.yc=function(a,b){h.yw.prototype.yc.call(this,a,b);this.sa.forEach(function(c){return c.yc(a,b);});this.PG=!0;};c.prototype.Lua=function(){return 7===this.pf;};c.prototype.Pv=function(){return this.o0=this.sa.every(function(a){return a.Pv();});};c.prototype.Xd=function(){this.sa.forEach(function(a){return a.Xd();});};c.prototype.ZL=function(a){this.pf=this.rp=void 0;return this.sa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.ZL(a):!0;});};c.prototype.abort=function(){var a,b;a=this.active;this.pf=7;this.$A=!0;this.Hg=this.ld=!1;b=this.sa.map(function(a){return a.abort();}).every(function(a){return a;});this.bS(this,a);return b;};c.prototype.getResponseHeader=function(a){var b;b=null;this.sa.some(function(c){return!!(b=c.getResponseHeader(a));});return b;};c.prototype.getAllResponseHeaders=function(){var a;a=null;this.sa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};c.prototype.jz=function(a){this.ld||(this.ld=!0);this.Bka||(this.Bka=!0,this.hk=0,this.wp=this.el=a.qc,this.wl=d.time.ea()-this.wp,this.ky(this));};c.prototype.Ov=function(a){this.Hg||(this.Hg=!0);this.Aka||(this.Aka=!0,this.wp=a.qc,this.wl=d.time.ea()-this.wp,this.jy(this));};c.prototype.DK=function(a){this.wp=a.qc;this.YC(this);this.hk=this.ne;this.el=a.qc;};c.prototype.ai=function(a){this.wp=a.qc;this.wl=d.time.ea()-this.wp;this.complete?(this.ec=!0,this.pf=5,this.Hg=this.ld=!1,this.Wu(this)):this.YC(this);this.hk=this.ne;this.el=a.qc;};c.prototype.XD=function(a){this.wp=a.qc;this.wl=d.time.ea()-this.wp;this.rp=a;this.pf=6;this.cS(this);};c.prototype.DU=function(){};c.prototype.ak=function(){return this.sa[0].ak()+"-"+this.sa[this.sa.length-1].ak();};c.prototype.toString=function(){return"Compound["+this.sa.map(function(a){return a.toString();}).join(",")+"]";};c.prototype.toJSON=function(){return{requests:this.sa};};return c;}(h.yw);f.MM=g;},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});a(0).__exportStar(a(382),f);},function(g){var f;f=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,d){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),d*a.byteLength/a.length);}:function(a,b,d){a.set(b,d);};g.T={from:function(a,b,d,f){a=new a(b.length);for(var g="function"===typeof d,c=0;c<b.length;++c)a[c]=g?d.call(f,b[c],c,b):b[c];return a;},set:f};},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(13);h=a(126);m=a(376);g=a(5);a=a(379);c=new g.Console("FRAGMENTS","media|asejs");try{k=!0;}catch(u){k=!1;}q=function(a){function c(b,c){c=a.call(this,b.Wo,c)||this;c.wx=b;return c;}b.__extends(c,a);Object.defineProperties(c.prototype,{aa:{get:function(){return this.wx.Qqb(this.vi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.wx.$l(this.vi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{h9:{get:function(){return this.wx.Kv&&this.wx.Kv[this.vi];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{og:{get:function(){return this.wx.P9a(this.vi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{vc:{get:function(){return this.wx.Mn&&this.wx.Mn[this.vi];},enumerable:!0,configurable:!0}});c.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.bb,contentEndTicks:this.xb,durationTicks:this.Ll,timescale:this.ga,startPts:this.U,endPts:this.ba,duration:this.duration,additionalSAPs:this.og};};return c;}(a.LRa);f.GCb=q;p=function(){function a(a,b,c){this.ga=c;this.$c=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Tb=void 0;}a.from=function(b){for(var c=new Uint32Array(b.length),d=new Uint32Array(b.length),f=0,k,p,g=0;g<b.length;++g)k=b[g],p=k.Tb,c[g]=k.jr-k.nB,d[g]=p,f+=p;b=new a(c,d,b.length?b[0].ga:1E3);b.Tb=f;return b;};Object.defineProperties(a.prototype,{aa:{get:function(){return void 0!==this.Tb?this.Tb:this.n_();},enumerable:!0,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.$c.subarray(b,c),this.sizes.subarray(b,c),this.ga);};a.prototype.concat=function(){var c,b,d,f;for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c=[this];b=c.concat.apply(c,b);c=b.reduce(function(a,b){return a+b.length;},0);d=new Uint32Array(c);f=new Uint32Array(c);c=b.reduce(function(a,b){return a||b.ga;},void 0);b.reduce(function(a,b){m.set(d,b.$c,a);m.set(f,b.sizes,a);return a+b.length;},0);return new a(d,f,c);};a.prototype.n_=function(){for(var a=this.sizes,b=this.length,c=0,d=0;d<b;++d)c+=a[d];return this.Tb=c;};return a;}();f.ZQa=p;g=function(){function a(a,b,d,f,k,p,g){this.CB=16;this.Gb=a;this.zd=b.offset;g?(this.Ck=void 0,this.qa=b):this.Ck=b.sizes;this.jB=this.DG=this.Sf=this.nma=this.L0=void 0;this.mVa=d;this.c_=f&&f.$l;this.yma=k;this.gu=this.Ck?Math.min(this.Gb.length,this.Ck.length):this.Gb.length;this.f0=g?void 0:this.moa();this.Ck&&this.Wo.Em.length!==this.Ck.length&&c.error("Mis-matched stream duration ("+this.Wo.Em.length+","+this.Ck.length+") for movie id "+p);this.Wo.aQ&&!this.c_&&c.error("Mis-matched additional SAPs information for movie id "+p);}a.hFb=function(a,b){var c,d;b=b.ga;c=b/1E3;d=new DataView(a);a=Math.floor(a.byteLength/16);return{ga:b,Ej:d.getUint32(4)*c,offset:65536*d.getUint32(8)+d.getUint16(12),sizes:h.ty(d,0,a,16),$c:m.from(Uint32Array,{length:a},function(a,b){return d.getUint16(16*b+14)*c;})};};Object.defineProperties(a.prototype,{O:{get:function(){return this.Gb.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.gu;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ej:{get:function(){return this.Gb.Ej;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Uqa:{get:function(){return this.Gb.Uqa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Gb.U;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.Gb.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ur:{get:function(){return this.Gb.Ur;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{F8:{get:function(){return this.Gb.F8;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{TT:{get:function(){return this.f0||this.moa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ha:{get:function(){return this.Gb.Ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Gb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{km:{get:function(){return this.nma||this.n_();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Kv:{get:function(){return this.mVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Xma:{get:function(){return this.c_;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Mn:{get:function(){return this.yma;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wo:{get:function(){return this.Gb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{HE:{get:function(){return this.L0||this.wTa();},enumerable:!0,configurable:!0}});a.prototype.Qqb=function(a){void 0===this.Ck&&this.qa&&(this.Ck=this.qa.sizes,this.qa=void 0);if(this.Ck)return this.Ck[a];c.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.sizes=function(){void 0===this.Ck&&this.qa&&(this.Ck=this.qa.sizes,this.qa=void 0);if(this.Ck)return this.Ck;c.error("sizes _sizes is undefined");return new Uint32Array(1);};a.prototype.fg=function(a){return this.Gb.fg(a);};a.prototype.OC=function(a){return this.Gb.fg(a)+this.Gb.$c(a);};a.prototype.$l=function(a){if(this.DG!==a||void 0===this.jB){if(0===a)return this.zd;if(this.DG===a-1&&void 0!==this.jB)this.jB+=this.sizes()[this.DG],++this.DG;else{for(var b=this.Sf||this.cTa(),c=Math.floor(a/this.CB),d=c*this.CB,b=b[c];d<a;++d)b+=this.sizes()[d];this.DG=a;this.jB=b;}}return this.jB;};a.prototype.$c=function(a){return this.Gb.$c(a);};a.prototype.get=function(a){return new q(this,a);};a.prototype.P9a=function(a){var b,c,f;d.assert(0<=a);b=this.Wo.aQ;c=this.Wo.Yma;f=this.c_;if(!f||!b||!c||a>=b.length)return[];for(var k=[],p=a===b.length-1?c.length:b[a+1],b=b[a];b<p;++b)k.push({em:c[b],Fd:this.fg(a)+this.Ha.j9(c[b]).wf,offset:f[b]});return k;};a.prototype.pqb=function(a){this.yma=a;};a.prototype.Fi=function(a,b,c){return this.Gb.Fi(a,b,c);};a.prototype.OR=function(a,b,c){return this.Gb.OR(a,b,c);};a.prototype.Z2=function(a,b){return this.Gb.Z2(a,b);};a.prototype.rT=function(a,b,c){var d,f,k,p,g,q,u,h,m;d=!0;f=0;p=this.Gb.Em;g=this.sizes();q=Math.floor(a*this.ga/1E3);u=0;h=0;m=0;if(this.Gb.cca&&this.Gb.bca)for(f=this.Gb.cca;f<=this.Gb.bca;++f)u+=p[f],h+=g[f];if(h>b)d=!1;else for(;f<this.length&&(!c||f<c);){k=g[f];a=p[f];if(h+k>b&&u<q){d=!1;this.Gb.cca=m;this.Gb.bca=f;break;}for(;0<f-m&&h+k>b;)u-=p[m],h-=g[m],++m;u+=a;h+=k;++f;}return d;};a.prototype.subarray=function(b,c){d.assert(void 0===b||0<=b&&b<this.length);d.assert(void 0===c||c>b&&c<=this.length);return new a(this.Gb.subarray(b,c),{offset:this.$l(b),sizes:this.sizes().subarray(b,c)},this.Kv&&this.Kv.subarray(b,c),this.Xma&&{$l:this.Xma});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.Ur};};a.prototype.dump=function(){var b;c.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.Ur+"ms");for(var a=0;a<this.length;++a){b=this.get(a);c.trace("StreamFragments: "+a+": ["+b.U+"-"+b.ba+"] @ "+b.offset+", "+b.aa+" bytes");}};a.prototype.moa=function(){var a,b,c,d,f;b=0;c=this.Gb.zwa;d=this.Gb.Em;f=this.sizes();if(void 0===c||c>=this.length){for(var k=0;k<this.length;++k)a=f[k]/d[k],a>b&&(b=a,c=k);void 0===this.Gb.zwa&&(this.Gb.zwa=c);}else b=f[c]/d[c];return this.f0=Math.floor(b*this.ga/125);};a.prototype.n_=function(){for(var a=0,b=0;b<this.length;++b)a+=this.sizes()[b];return this.nma=a;};a.prototype.wTa=function(){return this.L0=new p(this.Gb.Em,this.sizes(),this.Gb.ga);};a.prototype.cTa=function(){var a;if(!this.Sf){a=k?new Float64Array(Math.ceil(this.length/this.CB)):Array(Math.ceil(this.length/this.CB));for(var b=this.zd,c=0;c<a.length;++c){a[c]=b;for(var d=0;d<this.CB;++d)b+=this.sizes()[c*this.CB+d];}this.Sf=a;}return this.Sf;};return a;}();f.iRa=g;g.prototype.kCa=a.u8(g.prototype.fg);},function(g,f,a){var d,h,m;function b(a){return void 0===a?!0:a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(59);h=a(377);m=a(94);a(13);g=function(){function a(a,c,f){this.u=c;this.K=f;this.Mm=a.track;this.xXa=a.Pf;this.UG=a.Fgb;this.GUa=-1===this.profile.indexOf("none");this.qa=this.qr=void 0;this.hf=b(a.hf);this.inRange=b(a.inRange);this.BC=a.BC;this.cu=void 0;this.fla=this.ir=0;this.url=this.Nz=this.Sb=this.jl=this.X7=this.location=this.ta=this.Ka=void 0;this.Og=!1;this.Feb=this.Md=void 0;a=this.u&&"object"===typeof this.u.vza&&this.u.vza[this.profile];"object"===typeof a&&(a=a[this.P])&&(this.aH=new d.dc(a));}Object.defineProperties(a.prototype,{ed:{get:function(){return!!this.qa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ya:{get:function(){return this.Mm.Ya;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Mm.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Mm.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ha:{get:function(){return this.Mm.Ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Mm.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lv:{get:function(){return this.Mm.Lv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fb:{get:function(){return this.Mm.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Mm;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Pf:{get:function(){return this.xXa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.UG.downloadable_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.za;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{nn:{get:function(){return this.GUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.UG.bitrate;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{vc:{get:function(){return this.UG.vmaf||null;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.UG.content_profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{df:{get:function(){return this.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Aq:{get:function(){return this.UG.sidx;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xj:{get:function(){return this.aH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.qa||this.gUa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{TT:{get:function(){return this.qa&&this.qa.TT;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Z4:{get:function(){return this.Mm.Z4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Y4:{get:function(){return this.Mm.Y4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{EH:{get:function(){return this.Mm.EH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{GH:{get:function(){return this.Mm.GH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{h7:{get:function(){return this.Ha.wf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{TBa:{get:function(){return this.Aeb();},enumerable:!0,configurable:!0}});a.prototype.zU=function(a,b,c,d,f,g){this.u.Ly&&this.track.ed?this.qr={Lv:a,Ha:b,$:c,Kv:d,og:f,Mn:g}:this.Uja(c,a,b,f,d,g,this.u.Ly);};a.prototype.NQ=function(a){this.ed||(this.track.g2a(a.track),this.qa=a.$);};a.prototype.Yf=function(a){return new m.pk(this,this.$.get(a));};a.prototype.Msa=function(a){var b;b=this.Yf(a.index);a.Ta&&(b.Dj(a.Ta),b.CL(a.pw));return b;};a.prototype.rT=function(){var a;if(!this.ed)return!0;if(this.track.F6>=this.P)return this.cu=!0;if(this.track.iwa<=this.P)return this.cu=!1;a=this.qa.rT(this.u.gU,this.ir,this.fla);if(a){if(!this.track.Z3||this.nn)this.track.F6=this.P;}else this.track.iwa=this.P;return this.cu=a;};a.prototype.Aeb=function(){return void 0!==this.cu?!this.cu:!this.rT();};a.prototype.zDa=function(a,b){this.ir=a;this.fla=b;};a.prototype.m1a=function(){this.ta=this.Ka=this.Sb=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.M,mediaType:this.O,streamId:this.za,bitrate:this.P};};a.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.za+":"+this.P;};Object.defineProperties(a.prototype,{Vu:{get:function(){return void 0!==this.cu?this.cu:this.rT();},set:function(a){this.cu=a;},enumerable:!0,configurable:!0}});a.prototype.gUa=function(){if(!this.qr)return this.qa;this.Uja(this.qr.$,this.qr.Lv,this.qr.Ha,this.qr.og,this.qr.Kv,this.qr.Mn,this.u.Ly);this.qr=void 0;return this.qa;};a.prototype.Uja=function(a,b,c,d,f,g,m){a&&void 0!==a.Ej&&(this.track.ed||m||void 0!==a.$c&&a.$c.length)&&void 0!==a.offset&&(m||void 0!==a.sizes&&a.sizes.length)?(this.u.bo&&this.xj&&0===a.Ej&&(a.Ej+=this.xj.jm(a.ga).vd),this.ed||(this.track.zU(this,b,c,a,d),this.qa=new h.iRa(this.track.Wo,a,f,d,g,this.M,m))):a?this.K.error("AseStream._constructFragments with missing fragments data:"+(void 0!==a.Ej)+","+this.track.ed+","+this.track.Z3+","+(void 0!==a.$c)+","+!(!a.$c||!a.$c.length)+","+(void 0!==a.offset)+","+(void 0!==a.sizes)+","+!(!a.sizes||!a.sizes.length)):this.K.error("AseStream._constructFragments fragments was undefined:");};return a;}();f.lFa=g;},function(g,f,a){var d,h,m;function b(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}Object.defineProperty(f,"__esModule",{value:!0});d=a(13);h=new(a(5)).Console("FRAGMENTS","media|asejs");m=function(){function a(a,b){this.Gb=a;this.vi=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.vi;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bb:{get:function(){return this.Gb.kH+this.Gb.Er[this.vi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return this.bb+this.Gb.Em[this.vi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ll:{get:function(){return this.Gb.Em[this.vi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ha:{get:function(){return this.Gb.Ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Gb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{EH:{get:function(){return this.Gb.Ha.vd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{GH:{get:function(){return this.Gb.Ha.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return Math.floor(1E3*this.bb/this.ga);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return Math.floor(1E3*(this.bb+this.Ll)/this.ga);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return Math.floor(1E3*this.Ll/this.ga);},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.bb/this.Ha.ga,endPts:1E3*this.xb/this.Ha.ga,duration:1E3*this.Ll/this.Ha.ga,index:this.index};};return a;}();f.LRa=m;g=function(){function a(a,b,c,d){this.O=a;this.length=c.$c.length;this.Hr=c.ga;this.Em=c.$c;this.aQ=d&&d.gE;this.Yma=d&&d.xE;this.sB=b;this.bca=this.cca=this.dla=void 0;this.kH=c.Ej;this.Er=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Er[b]=a,a+=this.Em[b];this.Er[b]=a;this.ba=this.fg(this.length);this.Ur=Math.floor((this.ba-this.U)/this.length);}}Object.defineProperties(a.prototype,{Ej:{get:function(){return this.kH+this.Er[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Uqa:{get:function(){return this.kH+this.Er[this.length];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.fg(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{F8:{get:function(){return this.dla||this.$Sa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ha:{get:function(){return this.sB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Hr;},enumerable:!0,configurable:!0}});a.prototype.fg=function(a){return Math.floor(1E3*(this.kH+this.Er[a])/this.ga);};a.prototype.OC=function(a){return a<this.length-1?this.fg(a+1):this.ba;};a.prototype.$c=function(a){return this.OC(a)-this.fg(a);};a.prototype.get=function(a){return new m(this,a);};a.prototype.Fi=function(a,b,c){if(0===this.length||a<this.fg(0))return-1;a=Math.max(a,b||0);for(var d=0,f=this.length-1,k,p;f>=d;)if(k=d+(f-d>>1),p=this.fg(k),a<p)f=k-1;else if(a>=p+this.$c(k))d=k+1;else{for(;b&&k<this.length&&this.fg(k)<b;)++k;return k<this.length?k:c?this.length-1:-1;}return c?this.length-1:-1;};a.prototype.OR=function(a,b,c){a=this.Fi(a,b,c);return 0<=a?this.get(a):void 0;};a.prototype.Z2=function(a,b){var c,d;c=Math.floor(b*this.ga/1E3);b=Math.min(a+Math.ceil(b/this.Ur),this.length);d=this.Er[b]-this.Er[a];if(d>c){for(;d>=c;)--b,d-=this.Em[b];return b-a+1;}for(;d<c&&b<=this.length;)d+=this.Em[b],++b;return b-a;};a.prototype.subarray=function(b,c){d.assert(void 0===b||0<=b&&b<this.length);d.assert(void 0===c||c>b&&c<=this.length);return new a(this.O,this.Ha,{ga:this.ga,Ej:this.kH+this.Er[b],$c:this.Em.subarray(b,c)},this.aQ&&{gE:this.aQ.subarray(b,c+1),xE:this.Yma});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.Ur};};a.prototype.dump=function(){var b;h.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.Ur+"ms");for(var a=0;a<this.length;++a){b=this.get(a);h.trace("TrackFragments: "+a+": ["+b.U+"-"+b.ba+"]");}};a.prototype.$Sa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.Em[b],a);return this.dla=a;};return a;}();f.Xia=g;f.u8=b;g.prototype.kCa=b(g.prototype.fg);f.dEb=function(a){return"["+Array(a.length).map(function(b,c){return a[c].toString();}).join(",")+"]";};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(763);h=a(11);g=function(){function a(a,f){var c,k,g,m,t,L,A,B,l,n,Q,W,E,r;c=this;k=a.Ic;g=a.da;m=a.Ia;t=a.vya;L=a.Aya;A=a.tg;B=a.Zr;l=a.config;n=a.K;this.Qka=[];this.Gja=[];this.ela=[];this.$n=1;this.q5a=function(){c.$n--;0>=c.$n&&c.QTa();};this.Ic=k;this.M=m.movieId;this.Ia=m;this.da=g||0;this.QTa=f;Q=[];["audio_tracks","video_tracks"].forEach(function(a,b){var f;f=b===h.L.VIDEO;b===h.L.AUDIO&&!t||f&&!L||m[a].forEach(function(a){a=new d.mFa({M:String(m.movieId),Ya:c,Qy:a,O:b,tg:A,Zr:B},l,n);Q.push(a);});});W=[{},{}];E=[0,0];r=!1;Q.forEach(function(a){W[a.O]=b.__assign({},W[a.O],a.As());a.tn>E[a.O]&&(E[a.O]=a.tn);r=r||a.uJ;});this.yna=Q;this.Brb=W;this.dK=E;this.uJ=r;}Object.defineProperties(a.prototype,{Tc:{get:function(){return this.Qka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Mna:{get:function(){return this.Gja;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Xgb:{get:function(){return this.ela;},enumerable:!0,configurable:!0}});a.prototype.Xp=function(){return void 0!==this.Ia.choiceMap;};a.prototype.getTracks=function(a){return this.yna.filter(function(b){return b.O===a;});};a.prototype.ES=function(a){var b;this.yna.some(function(c){return c.fb===a?(b=c,!0):!1;});return b;};a.prototype.Sp=function(a,b){return(a=this.As(a))&&a[b];};a.prototype.As=function(a){return this.Brb[a];};a.prototype.gca=function(a,b){this.Qka[a]=b;b.$&&this.Mta(a,b.$);};a.prototype.Mta=function(a,b){this.Gja[a]=b.Ur;this.ela[a]=b.F8;};return a;}();f.Tca=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);f.y1=function(a,f,g){var c,d;c=!0;g.some(function(k){var p;if(a===k.profile){p=k.ranges;c=b.R(p)?f>=k.min&&f<=k.max:p.some(function(a){return f>=a.min&&f<=a.max;});!c&&k.disallowed&&k.disallowed.some(function(a){if(a.stream.bitrate===f)return d=a.disallowedBy,!0;});return!0;}});return{inRange:c,BC:d};};},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(0);g.__exportStar(a(768),f);g.__exportStar(a(381),f);},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.kga="ManifestVerifyErrorFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.$ia="TrickPlayFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Yia="TrackStreamFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Sha="PlayerTextTrackFactorySymbol";},function(g,f){function a(a,d){this.log=a;this.wW=d;}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.hDa=function(a,d){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+d.type+" track - "+d.fb),[];a=a.map(function(a){var c;c=b.wW(d,d.type,a.HC,a.P,a.vc,a.size,b.N$a(a.Wc),a.lC,a.Wra/a.Vra,a.nn);c.rqb(a.xAa,a.wAa);c.Rpb(a.Cpa,a.Dpa,a.Bpa,a.Apa);d.Yj&&(c.Yj=d.Yj);a.lC&&(c.df=a.lC);return c;});a.sort(function(a,b){return a.P-b.P;});return a;};a.prototype.N$a=function(a){return a.reduce(function(a,b){a[b.soa]=b.url;return a;},{});};f.CN=a;},function(g,f,a){var b,d,h;b=a(216);d=a(110);f=a(50);h=a(786);a=f(function(a,c){return 1===a?d(c):b(a,h(a,[],c));});g.T=a;},function(g){g.T=function(f,a){for(var b=0,d=a.length,g=Array(d);b<d;)g[b]=f(a[b]),b+=1;return g;};},function(g,f,a){var b,d,h,m,c;f=a(110);b=a(218);d=a(789);h=!{toString:null}.propertyIsEnumerable("toString");m="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");c=function(){return arguments.propertyIsEnumerable("length");}();a=f("function"!==typeof Object.keys||c?function(a){var f,k,g,t;if(Object(a)!==a)return[];g=[];k=c&&d(a);for(f in a)!b(f,a)||k&&"length"===f||(g[g.length]=f);if(h)for(k=m.length-1;0<=k;){f=m[k];if(t=b(f,a)){a:{for(t=0;t<g.length;){if(g[t]===f){t=!0;break a;}t+=1;}t=!1;}t=!t;}t&&(g[g.length]=f);--k;}return g;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.T=a;},function(g){g.T={yc:function(){return this.IM["@@transducer/init"]();},result:function(f){return this.IM["@@transducer/result"](f);}};},function(g){g.T=Array.isArray||function(f){return null!=f&&0<=f.length&&"[object Array]"===Object.prototype.toString.call(f);};},function(g,f,a){var b,d;b=a(392);d=a(796);g.T=function(a,f,c){return function(){var k,g;if(0===arguments.length)return c();k=Array.prototype.slice.call(arguments,0);g=k.pop();if(!b(g)){for(var p=0;p<a.length;){if("function"===typeof g[a[p]])return g[a[p]].apply(g,k);p+=1;}if(d(g))return f.apply(null,k)(g);}return c.apply(this,arguments);};};},function(g,f,a){var b,d,h,m,c,k;f=a(50);b=a(393);d=a(795);h=a(395);m=a(217);c=a(790);k=a(390);a=f(b(["filter"],c,function(a,b){return h(b)?m(function(c,d){a(b[d])&&(c[d]=b[d]);return c;},{},k(b)):d(a,b);}));g.T=a;},function(g){g.T=function(f){return"[object Object]"===Object.prototype.toString.call(f);};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.iga="ManifestProviderConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.jga="ManifestParserFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.gda="CDMAttestedDescriptorStore";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.cda="BookmarkConfigParserSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.dda="BookmarkConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Yda="DiskStorageRegistrySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.uga="MemoryStorageSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Lfa="LocalStorageSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.zda="CorruptedStorageValidatorConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.KZ="Storage";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.yN="IndexedDBConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.$ha="PresentationAPISymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.mga="MediaCapabilitiesLogHelperSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.nga="MediaCapabilitiesSymbol";},function(g,f,a){var d,h,m;function b(a,b){var c;c=h.WM.call(this,a,b,d.aG.Audio)||this;c.config=a;c.U8=b;c.type=d.Aw.Fw;return c;}Object.defineProperty(f,"__esModule",{value:!0});d=a(29);h=a(412);m=a(66);a(129);new(a(97)).cx();aa(b,h.WM);b.prototype.SL=function(){return!1;};b.prototype.Vx=function(){var a;a={};a[m.Xi.rN]="mp4a.40.2";a[m.Xi.cY]="mp4a.40.5";this.config().i4&&(a[m.Xi.sN]="mp4a.40.2");this.config().g4&&(a[m.Xi.XM]="ec-3");this.config().f4&&(a[m.Xi.tX]="ec-3");this.config().II&&(a[m.Xi.YM]="ec-3");return a;};b.prototype.nta=function(){return this.config().FH;};b.cF="audio/mp4;codecs={0};";f.BX=b;},function(g,f){function a(){}Object.defineProperty(f,"__esModule",{value:!0});a.Jea=/^hevc-main/;a.Iea=/^hevc-hdr-|hevc-dv/;a.Xq=/^hevc-hdr-/;a.Tq=/^hevc-dv/;a.GF=/-h264mpl/;a.oA=/-h264hpl/;a.Qt=/^vp9-/;a.Ch=/^av1-/;a.XW=/^heaac-2-/;a.aKa=/^heaac-2hq-dash/;a.jHa=/ddplus-2/;a.kHa=/ddplus-5/;a.lHa=/ddplus-atmos/;f.mi=a;},function(g,f,a){var d,h,m;function b(a,b,f){this.config=a;this.U8=b;this.O=f;this.V8={};this.V8[d.aG.Audio]="audio";this.V8[d.aG.mja]="video";}Object.defineProperty(f,"__esModule",{value:!0});d=a(29);g=a(97);h=a(411);m=new g.cx().format;b.prototype.zta=function(){return this.T5a(this.nta());};b.prototype.cs=function(a){return this.U8.isTypeSupported(a);};b.prototype.e7=function(){this.fl=[];this.sq=[];this.config().qya&&this.sq.push(h.mi.Jea);this.config().pya&&this.sq.push(h.mi.Iea);this.config().HU&&this.sq.push(h.mi.oA);this.config().rya&&this.sq.push(h.mi.Qt);this.config().L9&&this.sq.push(h.mi.Ch);this.sq=this.sq.concat([h.mi.XW,h.mi.GF]);!this.config().g4&&this.fl.push(h.mi.jHa);!this.config().f4&&this.fl.push(h.mi.kHa);!this.config().II&&this.fl.push(h.mi.lHa);!this.config().i4&&this.fl.push(h.mi.aKa);!this.config().h7a&&this.fl.push(/prk$/);this.config().qya||this.config().Z6a||this.fl.push(h.mi.Jea);this.config().pya||this.config().Y6a||this.fl.push(h.mi.Iea);this.config().L9||this.config().wR||this.fl.push(h.mi.oA);this.config().rya||this.config().m7a||this.fl.push(h.mi.Qt);this.config().L9||this.config().V6a||this.fl.push(h.mi.Ch);};b.prototype.F4=function(a){var b;b=this;return a.filter(function(a){for(var c=P(b.sq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=P(b.fl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.v$[a];d="";if(a)return Array.isArray(a)&&(d=1<a.length?" "+a[1]:"",a=a[0]),a=m("{0}/mp4;codecs={1};{2}",b.V8[b.O],a,d),b.cs(a);});};b.prototype.T5a=function(a){var b;b={};this.e7();this.F4(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};oa.Object.defineProperties(b.prototype,{v$:{configurable:!0,enumerable:!0,get:function(){this.Qla||(this.Qla=this.Vx());return this.Qla;}}});f.WM=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Vca={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.nda="CapabilityDetectorFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.xea="ExtraPlatformInfoProviderSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.qda="CdnThroughputTracker";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Via="ThroughputTrackerConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.nja="VideoPlayerFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Qha="PlaybackFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Dia="SegmentConfigFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.yga="MomentObserverFactory";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.xga="MomentFactorySymbol";},function(g,f,a){var d;function b(a,b,c,d,f,p){this.level=a;this.Mk=b;this.timestamp=c;this.message=d;this.cd=f;this.index=void 0===p?0:p;this.vLa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(f,"__esModule",{value:!0});d=a(3);b.prototype.uW=function(a,b){var c;c=""+this.message;this.cd.forEach(function(d){c+=d.cA(a,b);});return(this.timestamp.fa(d.ma)/1E3).toFixed(3)+"|"+this.index+"|"+(this.vLa[this.level]||this.level)+"|"+this.Mk+"| "+c;};f.Qfa=b;},function(g,f,a){var d,h;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(434);a=a(1);b.prototype.create=function(){return new d.Kj();};h=b;h=g.__decorate([a.N()],h);f.wJa=h;f.iN="EventSourceFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.iN="EventSourceFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.dja="UserAgentUtilities";},function(g,f,a){var d,h,m;function b(){}Object.defineProperty(f,"__esModule",{value:!0});d=a(4);h=a(17);m=a(9);b.prototype.Pp=function(){return this.ceb()?m.OIa:/widevine/i.test(this.config().Pd)?m.dea:/fps/i.test(this.config().Pd)?"fairplay":m.GX;};b.prototype.ceb=function(){return/clearkey/i.test(this.config().Pd);};oa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.u||(this.u=d.W.get(h.gd));return this.u;}}});f.oga=new b();},function(g,f,a){var d,h,m,c;function b(a,b,c,d,f,g,t){this.debug=a;this.config=b;this.platform=c;this.Twa=d;this.debug.assert(f&&f!=h.I.bj,"There should always be a specific error code");this.errorCode=f||h.I.bj;g&&m.Ve(g)?(this.Y=g.Y||g.Gc,this.Ec=g.Ec||g.sg,this.HR=g.HR||g.$x,this.Ra=g.Ra||g.yC,this.AI=g.cn,this.PC=g.PC||g.rxa||g.kq,this.us=g.us||g.data,g.jK&&(this.jK=g.jK),this.Vh=g.Vh,this.method=g.method,this.pU=g.pU,this.alert=g.alert,this.debug.assert(!this.Vh||this.Vh==this.Ec)):(this.Y=g,this.Ec=t);this.stack=[this.errorCode];this.Y?this.stack.push(this.Y):this.Ec&&this.stack.push(h.G.bj);this.Ec&&this.stack.push(this.Ec);this.kR=this.platform.QC+this.stack.join("-");}Object.defineProperty(f,"__esModule",{value:!0});d=a(9);h=a(2);m=a(19);c=a(16);a(18);b.prototype.toString=function(){var a;a="[PlayerError #"+this.kR+"]";this.Ra&&(a+=" "+this.Ra);this.AI&&(a+=" (CustomMessage: "+this.AI+")");return a;};b.prototype.Pba=function(){var a,b;this.AI&&(a=["streaming_error"]);a||this.Twa.Pp()!==d.GX||("80080017"==this.Ec&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Ec&&(a=["pause_timeout"]));a||this.Twa.Pp()!==d.dea||this.errorCode!==h.I.jea&&this.errorCode!==h.I.iea||(a=["no_cdm","platform_error","plugin_error"]);this.yeb()&&(a=["received_soad"]);b=this.m$a();b&&(a=[b],this.AI=void 0);if(!a)switch(this.errorCode){case h.I.LN:case h.I.wN:case h.I.KEa:case h.I.bha:a=["pause_timeout"];break;case h.I.qfa:case h.I.rfa:a=this.Y?["platform_error"]:["multiple_tabs"];break;case h.I.zLa:case h.I.JQa:case h.I.TKa:case h.I.SKa:case h.I.VKa:a=["should_signout_and_signin"];break;case h.I.FY:case h.I.eha:case h.I.dha:case h.I.mZ:case h.I.kOa:a=["platform_error","plugin_error"];break;case h.I.uOa:a=["no_cdm","platform_error","plugin_error"];break;case h.I.kZ:a=this.Y?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case h.I.gN:case h.I.NN:case h.I.fha:switch(this.Ec){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case h.I.cha:case h.I.jZ:a=["unsupported_output"];}!a&&h.uJa(this.Y)&&(a=this.Y==h.G.AA?["geo"]:["internet_connection_problem"]);if(!a)switch(this.rCa(this.Y)){case h.G.XZ:a=["should_upgrade"];break;case h.G.oNa:case h.G.ega:a=["should_signout_and_signin"];break;case h.G.pNa:a=["internet_connection_problem"];break;case h.G.iha:case h.G.gha:case h.G.jha:case h.G.hha:case h.G.Gda:a=["platform_error","plugin_error"];break;case h.G.wX:case h.G.Uea:case h.G.Vea:a=["private_mode"];}a=a||[];a.push(this.platform.QC+this.errorCode);if(this.Y)switch(this.rCa(this.Y)){case h.G.Wga:a.push("incorrect_pin");break;default:a.push(""+this.Y);}a={display:{code:this.kR,text:this.AI},messageIdList:a,alert:this.alert};if(this.PC||this.rxa)a.mslErrorCode=this.PC||this.rxa||this.kq;return a;};b.prototype.rCa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.yeb=function(){var a;a=c.pa(this.Ec)?this.Ec.toString():c.Od(this.Ec)?this.Ec:"";return this.PC===h.WY.UZ&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.m$a=function(){if(this.errorCode===h.I.Mw&&(this.Y===h.G.iZ||this.Y===h.G.Vga))return this.n$a(this.Y===h.G.iZ);};b.prototype.n$a=function(a){var b,c,d;b=(this.config().browserInfo||{}).os||{};c=b.name;d=(b.version||"").split(".");b=parseInt(d&&d[0]);d=parseInt(d&&d[1]);switch(c){case"Windows":return 6>b||6===b&&1>d?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>d?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};f.CPa=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.cja="UrlFactorySymbol";},function(g,f,a){var d;function b(a){this.KUa=void 0===a?!1:a;this.Ad={0:[]};}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Ad[b];c?this.KUa&&-1!==c.indexOf(a)||c.push(a):this.Ad[b]=[a];};b.prototype.remove=function(a,b){this.Br(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.Br(a);};b.prototype.d9a=function(){var a;a=this;return Object.keys(this.Ad).sort().reduce(function(b,c){return b.concat(a.Ad[c]);},[]);};b.prototype.Br=function(a,b){var c;c=this;Object.keys(this.Ad).forEach(function(d){var f;if(void 0===b||b===parseInt(d)){d=c.Ad[d];-1<(f=d.indexOf(a))&&d.splice(f,1);}});};d=b;d=g.__decorate([a.N()],d);f.aia=d;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Pzb=function(){};f.zga="MseConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Uda="DecoderTimeoutPathologistSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Cda="CsvEncoderSymbol";},function(g,f,a){var d,h;function b(){this.Ol={};this.id="$es$"+d.j2a++;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.addListener=function(a,b,d){var c,f;c="$netflix$player$order"+this.id+"$"+a;if(this.Ol){f=this.Ol[a]?this.Ol[a].slice():[];d&&(b[c]=d);0>f.indexOf(b)&&(f.push(b),f.sort(function(a,b){return(a[c]||0)-(b[c]||0);}));this.Ol[a]=f;}};b.prototype.removeListener=function(a,b){if(this.Ol&&this.Ol[a]){for(var c=this.Ol[a].slice(),d;0<=(d=c.indexOf(b));)c.splice(d,1);this.Ol[a]=c;}};b.prototype.Ib=function(a,b,d){var c;if(this.Ol){c=this.x5(a);for(a={Ii:0};a.Ii<c.length;a={Ii:a.Ii},a.Ii++)d?function(a){return function(){var d;d=c[a.Ii];setTimeout(function(){d(b);},0);};}(a)():c[a.Ii].call(this,b);}};b.prototype.EC=function(){this.Ol=void 0;};b.prototype.on=function(a,b,d){this.addListener(a,b,d);};b.prototype.x5=function(a){return this.Ol&&(this.Ol[a]||(this.Ol[a]=[]));};h=d=b;h.j2a=0;h=d=g.__decorate([a.N()],h);f.Kj=h;},function(g,f,a){var d,h,m,c;function b(a,b){this.is=a;this.qh=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a(2);h=a(21);m=a(99);c=a(8);b.prototype.fk=function(a,b,c){var d,f,k,g;d=this;if(b)if(c){f=c.ED;k=c.prefix;g=c.oq;this.Ru(b,function(b,c){if(!g||d.is.Bd(c))a[(k||"")+(f?b.toLowerCase():b)]=c;});}else this.Ru(b,function(b,c){a[b]=c;});return a;};b.prototype.Ru=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};b.prototype.Gu=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};b.prototype.T1a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};b.prototype.qd=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d||(d=""+a);b?(a=""+b,0!==a.indexOf(d)&&(a=d+"\n"+a)):a=d;c&&(a+="\nnumber:"+c);return a;}};b.prototype.Eqa=function(a,b){var c,d;a=a.target.keyStatuses.entries();for(c=a.next();!c.done;)d=c.value[0],c=c.value[1],b&&b(d,c),c=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.zsa=function(a){return this.getFunctionName(a.constructor);};b.prototype.Vxa=function(a){var b,c;b=this;c="";this.is.Rr(a)||this.is.fna(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.Bi(a)?c=a:this.Ru(a,function(a,d){c+=(c?", ":"")+"{"+a+": "+(b.is.oH(d)?b.getFunctionName(d)||"function":d)+"}";});return"["+this.zsa(a)+" "+c+"]";};b.prototype.createElement=function(a,b,d,f){var k;k=c.Jd.createElement(a);b&&(k.style.cssText=b);d&&(k.innerHTML=d);f&&this.Ru(f,function(a,b){k.setAttribute(a,b);});return k;};b.prototype.J8a=function(a,b){return function(c){return c[a]===b;};};b.prototype.KU=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.se)),g.__param(1,d.l(m.Cw))],a);f.eja=a;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Qga="OneWayCounterFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.tda="ClockConfigSymbol";},function(g,f){var a;Object.defineProperty(f,"__esModule",{value:!0});(function(a){a[a.Hva=0]="licenseStarted";a[a.Vza=1]="receivedLicenseChallenge";a[a.Uza=2]="receivedLicense";a[a.Wza=3]="receivedRenewalChallengeComplete";a[a.Xza=4]="receivedRenewalLicenseComplete";a[a.Yza=5]="receivedRenewalLicenseFailed";a[a.cnb=6]="receivedIndivChallengeComplete";a[a.dnb=7]="receivedIndivLicenseComplete";a[a.Mma=8]="addLicenseComplete";a[a.Rma=9]="addRenewalLicenseComplete";a[a.Sma=10]="addRenewalLicenseFailed";}(a=f.fp||(f.fp={})));f.B6a=function(b){switch(b){case a.Hva:return"lg";case a.Vza:return"lc";case a.Uza:return"lr";case a.Wza:return"renew_lc";case a.Xza:return"renew_lr";case a.Yza:return"renew_lr_failed";case a.cnb:return"ilc";case a.dnb:return"ilr";case a.Mma:return"ld";case a.Rma:return"renew_ld";case a.Sma:return"renew_ld_failed";default:return"unknown";}};},function(g,f,a){var d,h,m,c,k,q,p;function b(a,b){this.oU=a;this.is=b;m.Yk(this,"nav");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(47);c=a(2);k=a(37);q=a(21);p=a(87);b.prototype.dv=function(){if(this.V)return this.V.sessionId;};b.prototype.qAa=function(a,b){return this.oU.requestMediaKeySystemAccess(a,b);};b.prototype.opa=function(a,b){return b.createMediaKeys();};b.prototype.js=function(a,b){this.V=a.createSession(b);};b.prototype.gva=function(){return!!this.V;};b.prototype.IBa=function(a,b){return this.is.oH(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.bsa=function(a,b){return this.V?this.V.generateRequest(a,b):Promise.reject(new p.Df(c.I.kea,c.G.CF,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.V?this.V.update(a):Promise.reject(new p.Df(c.I.gN,c.G.CF,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.V?this.V.load(a):Promise.reject(new p.Df(c.I.YIa,c.G.CF,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.V)return Promise.reject(new p.Df(c.I.SIa,c.G.CF,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.dv()&&(a=this.V.close());this.V=void 0;return a;};b.prototype.remove=function(){return this.V?this.V.remove():Promise.reject(new p.Df(c.I.oea,c.G.CF,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.Nma=function(a){if(!this.V)throw ReferenceError("Unable to add message handler, key session is not valid");this.V.addEventListener(d.yA,a);};b.prototype.Kma=function(a){if(!this.V)throw ReferenceError("Unable to add key status handler, key session is not valid");this.V.addEventListener(d.qea,a);};b.prototype.Hma=function(a){if(!this.V)throw ReferenceError("Unable to add error handler, key session is not valid");this.V.addEventListener(d.xA,a);};b.prototype.iAa=function(a){if(!this.V)throw ReferenceError("Unable to remove message handler, key session is not valid");this.V.removeEventListener(d.yA,a);};b.prototype.gAa=function(a){if(!this.V)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.V.removeEventListener(d.qea,a);};b.prototype.fAa=function(a){if(!this.V)throw ReferenceError("Unable to remove error handler, key session is not valid");this.V.removeEventListener(d.xA,a);};a=d=b;a.yA="message";a.qea="keystatuseschange";a.xA="error";a=d=g.__decorate([h.N(),g.__param(0,h.l(k.OA)),g.__param(1,h.l(q.se))],a);f.BZ=a;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.rea="EmeSessionFactorySymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.bea="DrmProviderSymbol";},function(g,f,a){var b;b=a(101);f.Zua=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,f,a){var b,d,h,m,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(448);h=a(101);g=a(79);m=a(78);f.iz=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);return function(b){return b.ag(new c(a));};};f.Fjb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);b=a.shift();return new d.Cea(b,null).ag(new c(a));};c=function(){function a(a){this.s9=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.s9));};return a;}();k=function(a){function c(b,c){a.call(this,b);this.destination=b;this.s9=c;}b(c,a);c.prototype.x9=function(){this.oW();};c.prototype.al=function(){this.oW();};c.prototype.Zc=function(){this.oW();};c.prototype.ec=function(){this.oW();};c.prototype.oW=function(){var a;a=this.s9.shift();a?this.add(m.ft(this,a)):this.destination.complete();};return c;}(g.er);},function(g,f){f.l7=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,f,a){var b,d,h,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(78);g=a(79);f.MD=function(a,b,d){void 0===d&&(d=Number.POSITIVE_INFINITY);return function(c){"number"===typeof b&&(d=b,b=null);return c.ag(new h(a,b,d));};};h=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.yg=a;this.jk=b;this.O2=c;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.yg,this.jk,this.O2));};return a;}();f.Nzb=h;m=function(a){function c(b,c,d,f){void 0===f&&(f=Number.POSITIVE_INFINITY);a.call(this,b);this.yg=c;this.jk=d;this.O2=f;this.kD=!1;this.buffer=[];this.index=this.active=0;}b(c,a);c.prototype.jh=function(a){this.active<this.O2?this.NXa(a):this.buffer.push(a);};c.prototype.NXa=function(a){var b,c;c=this.index++;try{b=this.yg(a,c);}catch(z){this.destination.error(z);return;}this.active++;this.P_(b,a,c);};c.prototype.P_=function(a,b,c){this.add(d.ft(this,a,b,c));};c.prototype.ec=function(){this.kD=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};c.prototype.gz=function(a,b,c,d){this.jk?this.PVa(a,b,c,d):this.destination.next(b);};c.prototype.PVa=function(a,b,c,d){var f;try{f=this.jk(a,b,c,d);}catch(L){this.destination.error(L);return;}this.destination.next(f);};c.prototype.al=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.jh(b.shift()):0===this.active&&this.kD&&this.destination.complete();};return c;}(g.er);f.Ozb=m;},function(g,f,a){var b;b=a(235);f.cI=function(){return b.Gv(1);};},function(g,f,a){var h,m;function b(a){var b;b=a.value;a=a.zf;a.closed||(a.next(b),a.complete());}function d(a){var b;b=a.dy;a=a.zf;a.closed||a.error(b);}h=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};m=a(80);g=function(a){function c(b,c){a.call(this);this.lE=b;this.ka=c;}h(c,a);c.create=function(a,b){return new c(a,b);};c.prototype.Tf=function(a){var c,f,k;c=this;f=this.lE;k=this.ka;if(null==k)this.ur?a.closed||(a.next(this.value),a.complete()):f.then(function(b){c.value=b;c.ur=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){m.root.setTimeout(function(){throw a;});});else if(this.ur){if(!a.closed)return k.Jb(b,0,{value:this.value,zf:a});}else f.then(function(d){c.value=d;c.ur=!0;a.closed||a.add(k.Jb(b,0,{value:d,zf:a}));},function(b){a.closed||a.add(k.Jb(d,0,{dy:b,zf:a}));}).then(null,function(a){m.root.setTimeout(function(){throw a;});});};return c;}(a(10).Da);f.cia=g;},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y,L;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(101);h=a(452);m=a(451);c=a(447);k=a(982);q=a(100);p=a(981);u=a(165);z=a(10);y=a(457);L=a(240);g=function(a){function f(b,c){a.call(this,null);this.Ieb=b;this.ka=c;}b(f,a);f.create=function(a,b){if(null!=a){if("function"===typeof a[L.observable])return a instanceof z.Da&&!b?a:new f(a,b);if(d.isArray(a))return new q.xw(a,b);if(m.cva(a))return new c.cia(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new k.sLa(a,b);if(h.Mua(a))return new p.aFa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};f.prototype.Tf=function(a){var b,c;b=this.Ieb;c=this.ka;return null==c?b[L.observable]().subscribe(a):b[L.observable]().subscribe(new y.Pga(a,c,0));};return f;}(z.Da);f.Cea=g;},function(g,f,a){g=a(448);f.from=g.Cea.create;},function(g,f,a){g=a(100);f.of=g.xw.of;},function(g,f){f.cva=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,f){f.Mua=function(a){return a&&"number"===typeof a.length;};},function(g,f){f.rna=function(a,b){var p;for(var d=0,f=b.length;d<f;d++)for(var g=b[d],c=Object.getOwnPropertyNames(g.prototype),k=0,q=c.length;k<q;k++){p=c[k];a.prototype[p]=g.prototype[p];}};},function(g,f){f.pG=function(){return function(a){this.Qrb=a;};}();},function(g,f,a){var b;b=a(454);g=function(){function a(){this.RL=[];}a.prototype.Zva=function(){this.RL.push(new b.pG(this.ka.now()));return this.RL.length-1;};a.prototype.$va=function(a){var d;d=this.RL;d[a]=new b.pG(d[a].Qrb,this.ka.now());};return a;}();f.Kia=g;},function(g,f,a){var b,d,h,m,c,k,q;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(166);d=a(10);h=a(46);m=a(71);c=a(994);a=function(a){function d(b,c){a.call(this);this.source=b;this.nW=c;this.$n=0;this.UO=!1;}b(d,a);d.prototype.Tf=function(a){return this.BS().subscribe(a);};d.prototype.BS=function(){var a;a=this.DP;if(!a||a.We)this.DP=this.nW();return this.DP;};d.prototype.connect=function(){var a;a=this.Wt;a||(this.UO=!1,a=this.Wt=new m.uk(),a.add(this.source.subscribe(new k(this.BS(),this))),a.closed?(this.Wt=null,a=m.uk.EMPTY):this.Wt=a);return a;};d.prototype.qV=function(){return c.qV()(this);};return d;}(d.Da);f.uda=a;a=a.prototype;f.O1a={J9:{value:null},$n:{value:0,writable:!0},DP:{value:null,writable:!0},Wt:{value:null,writable:!0},Tf:{value:a.Tf},UO:{value:a.UO,writable:!0},BS:{value:a.BS},connect:{value:a.connect},qV:{value:a.qV}};k=function(a){function c(b,c){a.call(this,b);this.Il=c;}b(c,a);c.prototype.Zc=function(b){this.Ir();a.prototype.Zc.call(this,b);};c.prototype.ec=function(){this.Il.UO=!0;this.Ir();a.prototype.ec.call(this);};c.prototype.Ir=function(){var a,b;a=this.Il;if(a){this.Il=null;b=a.Wt;a.$n=0;a.DP=null;a.Wt=null;b&&b.unsubscribe();}};return c;}(g.lRa);(function(){function a(a){this.Il=a;}a.prototype.call=function(a,b){var c;c=this.Il;c.$n++;a=new q(a,c);b=b.subscribe(a);a.closed||(a.ho=c.connect());return b;};return a;}());q=function(a){function c(b,c){a.call(this,b);this.Il=c;}b(c,a);c.prototype.Ir=function(){var a,b;a=this.Il;if(a){this.Il=null;b=a.$n;0>=b?this.ho=null:(a.$n=b-1,1<b?this.ho=null:(b=this.ho,a=a.Wt,this.ho=null,!a||b&&a!==b||a.unsubscribe()));}else this.ho=null;};return c;}(h.pi);},function(g,f,a){var b,d,h,m,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);d=a(237);f.CIb=function(a,b){void 0===b&&(b=0);return function(c){return c.ag(new h(a,b));};};h=function(){function a(a,b){void 0===b&&(b=0);this.ka=a;this.Cd=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.ka,this.Cd));};return a;}();f.NAb=h;m=function(a){function f(b,c,d){void 0===d&&(d=0);a.call(this,b);this.ka=c;this.Cd=d;}b(f,a);f.zb=function(a){a.notification.observe(a.destination);this.unsubscribe();};f.prototype.maa=function(a){this.add(this.ka.Jb(f.zb,this.Cd,new c(a,this.destination)));};f.prototype.jh=function(a){this.maa(d.Notification.f3(a));};f.prototype.Zc=function(a){this.maa(d.Notification.lpa(a));};f.prototype.ec=function(){this.maa(d.Notification.a3());};return f;}(g.pi);f.Pga=m;c=function(){return function(a,b){this.notification=a;this.destination=b;};}();f.MAb=c;},function(g,f,a){var b,d,h,m,c,k,q;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(166);d=a(999);h=a(71);m=a(457);c=a(460);k=a(459);a=function(a){function f(b,c,d){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ka=d;this.eh=[];this.VSa=1>b?1:b;this.eYa=1>c?1:c;}b(f,a);f.prototype.next=function(b){var c;c=this.Jka();this.eh.push(new q(c,b));this.pma();a.prototype.next.call(this,b);};f.prototype.Tf=function(a){var b,d,f;b=this.pma();d=this.ka;if(this.closed)throw new c.QA();this.vJ?f=h.uk.EMPTY:this.We?f=h.uk.EMPTY:(this.Ns.push(a),f=new k.Jia(this,a));d&&a.add(a=new m.Pga(a,d));for(var d=b.length,g=0;g<d&&!a.closed;g++)a.next(b[g].value);this.vJ?a.error(this.Iba):this.We&&a.complete();return f;};f.prototype.Jka=function(){return(this.ka||d.ei).now();};f.prototype.pma=function(){for(var a=this.Jka(),b=this.VSa,c=this.eYa,d=this.eh,f=d.length,k=0;k<f&&!(a-d[k].time<c);)k++;f>b&&(k=Math.max(k,f-b));0<k&&d.splice(0,k);return d;};return f;}(g.aj);f.QN=a;q=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this);this.QL=b;this.zf=c;this.closed=!1;}b(d,a);d.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.QL;b=a.Ns;this.QL=null;!b||0===b.length||a.We||a.closed||(a=b.indexOf(this.zf),-1!==a&&b.splice(a,1));}};return d;}(a(71).uk);f.Jia=g;},function(g,f){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);f.QA=g;},function(g,f){f.Su={e:{}};},function(g,f){f.Mb=function(a){return"function"===typeof a;};},function(g,f){f.Ve=function(a){return null!=a&&"object"===typeof a;};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Hga="NetworkMonitorConfigSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.CZ="QueryStringDataProviderSymbol";},function(g,f,a){var d,h;function b(a,b,d,f,g){this.version=a;this.bE=b;this.pCa=d;this.Ah=f;this.Fq=g;this.Hp=[];}Object.defineProperty(f,"__esModule",{value:!0});d=a(2);h=a(55);b.prototype.load=function(a){return this.Gfb(a);};b.prototype.add=function(a){this.Hp.push(a);return this.U9();};b.prototype.remove=function(a,b){a=this.tsa(this.so(a,b));return 0<=a?(this.Hp.splice(a,1),this.U9()):Promise.resolve();};b.prototype.update=function(a,b){b=this.tsa(this.so(a,b));return 0<=b?(this.Hp[b]=a,this.U9()):Promise.resolve();};b.prototype.Gfb=function(a){var b;b=this;this.Ova||(this.Ova=new Promise(function(c,f){function k(a){b.C5a().then(function(){f(a);})["catch"](function(){f(a);});}b.d6().then(function(a){b.storage=a;return b.storage.load(b.bE);}).then(function(d){var f;d=d.value;try{f=a(d);b.version=f.version;b.Hp=f.data;c();}catch(y){k(y);}})["catch"](function(a){a.Y!==d.G.mp?f(a):c();});}));return this.Ova;};b.prototype.U9=function(){var a,b,d,f,g;a=this;if(!this.pCa)return Promise.resolve();if(this.kW){f=new Promise(function(a,c){b=a;d=c;});g=function(){a.kW=f;a.oCa().then(function(){b();})["catch"](function(a){d(a);});};this.kW.then(g)["catch"](g);return f;}return this.kW=this.oCa();};b.prototype.oCa=function(){var a,c;a=this;c=this.Fq();return new Promise(function(f,g){a.d6().then(function(b){return b.save(a.bE,c,!1);}).then(function(){f();})["catch"](function(a){g(b.Lsb(d.I.iOa,a));});});};b.prototype.C5a=function(){var a;a=this;return this.pCa?new Promise(function(b,d){a.d6().then(function(b){return b.remove(a.bE);}).then(function(){b();})["catch"](function(a){d(a);});}):Promise.resolve();};b.prototype.d6=function(){return this.storage?Promise.resolve(this.storage):this.Ah.create();};b.prototype.so=function(a,b){for(var c=0;c<this.Hp.length;++c)if(b(this.Hp[c],a))return this.Hp[c];};b.prototype.tsa=function(a){return a?this.Hp.indexOf(a):-1;};b.Lsb=function(a,b){var c;if(b.Y&&b.cause)return new h.Oc(a,b.Y,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.Gc){c=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===c?void 0:c;return b;}return b instanceof Error?new h.Oc(a,d.G.$g,void 0,void 0,void 0,void 0,b.stack,b):new h.Oc(a,d.G.bj,void 0,void 0,void 0,void 0,void 0,b);};f.tfa=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.aea="DrmDataFactorySymbol";},function(g,f){function a(){}Object.defineProperty(f,"__esModule",{value:!0});a.MOa="PSK";a.fMa="MGK";a.Czb="MGK_WITH_FALLBACK";a.Bzb="MGK_JWE";a.izb="JWEJS_RSA";a.Dfa="JWK_RSA";a.jzb="JWK_RSAES";f.PM=a;},function(g,f,a){var h;function b(a,b){this.Le=b;this.Is=Math.floor(a);this.display=this.Is+" "+this.Le.name;}function d(a,b,d){this.Le=a;this.name=b;this.Dl=d?d:this;h.Yk(this,"base");}Object.defineProperty(f,"__esModule",{value:!0});h=a(47);d.prototype.QI=function(a){return this.Le==a.Le;};d.prototype.toJSON=function(){return this.name;};f.cO=d;b.prototype.fa=function(a){return this.Le.QI(a)?this.Is:Math.floor(this.Is*this.Le.Le/a.Le);};b.prototype.XU=function(a){return this.Le.QI(a)?this.Is:this.Is*this.Le.Le/a.Le;};b.prototype.to=function(a){return new b(this.fa(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.Is,units:this.Le.name};};b.prototype.add=function(a){return this.Poa(a);};b.prototype.ie=function(a){return this.Poa(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.fa(this.Le.Dl)*a,this.Le.Dl);};b.prototype.Pk=function(a){return this.fa(this.Le.Dl)-a.fa(this.Le.Dl);};b.prototype.QI=function(a){return 0==this.Pk(a);};b.prototype.mva=function(){return 0==this.Is;};b.prototype.Xua=function(){return 0>this.Is;};b.prototype.ava=function(){return 0<this.Is;};b.prototype.Poa=function(a,c){c=void 0===c?function(a){return a;}:c;return new b(this.fa(this.Le.Dl)+c(a.fa(this.Le.Dl)),this.Le.Dl);};f.jp=b;},function(g,f,a){var h;function b(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.B8(a)(b);}c.$wa=new h.Metadata(a,b);return c;};}function d(a,b){a=a.Ps;return null!==a?b(a)?!0:d(a,b):!1;}Object.defineProperty(f,"__esModule",{value:!0});g=a(31);h=a(67);f.lDa=d;f.BCa=b;f.vxa=b(g.Lt);f.qDa=function(a){return function(b){var c;return null!==b?(c=b.PH[0],"string"===typeof a?c.Ke===a:a===b.PH[0].pj):!1;};};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(249);d=a(248);g=function(){function a(a){this.Fb=a;this.h_=new d.jX(this.Fb);this.g_=new b.iX(this.Fb);}a.prototype.EM=function(){return this.h_.EM();};a.prototype.nq=function(a){return this.g_.nq(a);};return a;}();f.Dw=g;},function(g,f,a){var b,d,h,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(31);d=a(103);h=a(67);m=a(1044);g=function(){function a(a,c,f,g){this.id=d.id();this.type=a;this.Ke=f;this.name=new m.VPa(c||"");this.fd=[];a=null;"string"===typeof g?a=new h.Metadata(b.Lt,g):g instanceof h.Metadata&&(a=g);null!==a&&this.fd.push(a);}a.prototype.Yta=function(a){for(var b=0,c=this.fd;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.Yta(b.Qw);};a.prototype.Igb=function(a){return this.B8(b.Qw)(a);};a.prototype.r7=function(){return this.Yta(b.Lt);};a.prototype.u7=function(){return this.fd.some(function(a){return a.key!==b.QF&&a.key!==b.Qw&&a.key!==b.EN&&a.key!==b.rG&&a.key!==b.Lt;});};a.prototype.$ua=function(){return this.B8(b.Oga)(!0);};a.prototype.Qab=function(){return this.r7()?this.fd.filter(function(a){return a.key===b.Lt;})[0]:null;};a.prototype.A$a=function(){return this.u7()?this.fd.filter(function(a){return a.key!==b.QF&&a.key!==b.Qw&&a.key!==b.EN&&a.key!==b.rG&&a.key!==b.Lt;}):null;};a.prototype.B8=function(a){var b;b=this;return function(c){var k;for(var d=0,f=b.fd;d<f.length;d++){k=f[d];if(k.key===a&&k.value===c)return!0;}return!1;};};return a;}();f.YN=g;},function(g,f,a){var b,d,h,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(52);d=a(31);h=a(67);m=a(88);g=function(){function a(a){this.jTa=a;}a.prototype.Htb=function(){return this.jTa();};return a;}();f.MY=g;f.l=function(a){return function(c,f,g){var k;if(void 0===a)throw Error(b.YRa(c.name));k=new h.Metadata(d.QF,a);"number"===typeof g?m.Wz(c,f,g,k):m.dM(c,f,k);};};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(52);f.hva=function(a){return a instanceof RangeError||a.message===b.CQa;};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(31);g=function(){function a(){}a.prototype.ysa=function(a){var d;d=Reflect.getMetadata(b.hZ,a);a=Reflect.getMetadata(b.Mia,a);return{Roa:d,yub:a||{}};};a.prototype.jbb=function(a){return Reflect.getMetadata(b.Nia,a)||[];};return a;}();f.VY=g;},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(247);d=a(1025);h=a(246);m=a(245);c=a(1019);k=a(1011);q=a(1006);p=a(891);a=a(518);f.Uc=new g.zF({gw:!0});p.Hfb(f.Uc);f.Uc.load(d.platform);f.Uc.load(c.config);h.e1.load(k.SB);m.HI.load(q.S6a);f.Uc.load(a.u1);f.Uc.bind(b.vfa).Bh(f.Uc);},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});b=a(122);d=a(9);g=a(2);h=a(4);m=a(112);c=a(60);a=a(20);h.W.get(a.De).register(g.I.ffa,function(a){var f,g;f=J._cad_global.videoPreparer;g=J._cad_global.playerPredictionModel;f&&J._cad_global.playerPredictionModel&&(k=h.W.get(m.Yha).create(g,f.Ulb.bind(f)),J._cad_global.prefetchEvents=k,f.Ig.on("deletedCacheItem",function(a){k.WH(c.Xc.hG[a.type],parseInt(a.movieId,10),a.reason);}),b.Jk.addEventListener("cacheEvict",function(a){k.WH(m.ue.Wi.JF,a.movieId,"ase_cacheEvict");k.WH(m.ue.Wi.MEDIA,a.movieId,"ase_cacheEvict");}),b.Jk.addEventListener("flushedBytes",function(){b.Jk.i2().forEach(function(a){k.WH(m.ue.Wi.MEDIA,a.M,"ase_flushedBytes");},this);}),f.Kn.addEventListener(f.Kn.events.Qia,function(a){k.f0a(c.Xc.hG[a.type],a.M,a.reason);}),f.Kn.addEventListener(f.Kn.events.Oia,function(a){k.b0a(c.Xc.hG[a.type],a.M,a.reason);}),f.Kn.addEventListener(f.Kn.events.Pia,function(a){k.d0a(c.Xc.hG[a.type],a.M,a.reason);}),f.Kn.addEventListener(f.Kn.events.Ria,function(a){k.h0a(c.Xc.hG[a.type],a.M,a.reason);}));a(d.wc);});},function(g,f,a){var h,m,c,k,q,p,u,z,y,L;function b(a,b){this.zh=a;this.kj=b;}function d(a){this.K=a;this.reset();}h=a(170);m=a(169);f=a(252);c=a(251).config;k=f.t$a;q=f.e$a;p=f.S5a;u=f.qjb;z=f.pjb;y=f.ojb;L=f.zra;d.prototype.constructor=d;d.prototype.reset=function(){this.Nla=void 0;this.Nh=[];this.xla=this.yla=!1;};d.prototype.update=function(a,b){var d;this.Nh&&(this.Nh=this.Nh.filter(this.Eqb,this));if(!1===this.yla){d=k(a.Ca).slice(0,c.Hpa);0<d.length&&(this.Yy(d,m.Sq.oi),this.yla=!0,this.Nh=this.hA(d.concat(this.Nh)));}!1===this.xla&&(d=q(a.Ca).slice(0,c.Hpa),0<d.length&&(this.Yy(d,m.Sq.oi),this.xla=!0,this.Nh=this.hA(d.concat(this.Nh))));switch(b){case m.Qq.yea:b=this.ucb(a);break;case m.Qq.nia:b=this.Ecb(a);break;case m.Qq.SN:b=this.Fcb(a);break;case m.Qq.fG:b=this.Acb(a);break;default:b=this.tcb(a);}this.Nla=a;return b;};d.prototype.ucb=function(a){a=u(a.Ca,c.KAa,c.Moa);this.Yy(a,m.Sq.oi);return this.Nh=this.hA(this.Nh.concat(a));};d.prototype.Ecb=function(a){var b,d;this.K.log("handleScrollHorizontal");b=a.Ca;a=u(b,c.MAa,c.Noa);d=p(b,this.Nla.Ca);b=b[d].list.slice(0,c.Dob);b.concat(a);this.Yy(b,m.Sq.QZ);return this.hA(b.concat(this.Nh));};d.prototype.Yy=function(a,b){a.forEach(function(a){if(void 0===a.Au||a.Au<b)a.Au=b;void 0===a.VE&&(a.VE=h());void 0===a.Gi&&(a.Gi=h());});};d.prototype.Fcb=function(a){this.K.log("handleSearch");a=z(a.Ca,c.Zob);this.Yy(a,m.Sq.pia);this.Nh=a.concat(this.Nh);return this.Nh=this.hA(this.Nh);};d.prototype.Acb=function(a){var d,f,k,g,p;this.K.log("handlePlayFocus: ",c.yJ);d=a.direction;f=a.Ca;a=[];k=L(f);if(void 0!==k.zh)switch(a.push(k),d){case m.ip.iia:for(d=1;d<c.yJ;d++)a.push(new b(k.zh,k.kj+d));a.push(new b(k.zh-1,k.kj));a.push(new b(k.zh+1,k.kj));break;case m.ip.Hfa:for(d=1;d<c.yJ;d++)a.push(new b(k.zh,k.kj-d));a.push(new b(k.zh-1,k.kj));a.push(new b(k.zh+1,k.kj));break;case m.ip.aSa:a.push(new b(k.zh-1,k.kj));for(d=1;d<=c.yJ/2;d++)a.push(new b(k.zh,k.kj+d)),a.push(new b(k.zh,k.kj-d));break;case m.ip.gIa:for(a.push(new b(k.zh+1,k.kj)),d=1;d<=c.yJ/2;d++)a.push(new b(k.zh,k.kj+d)),a.push(new b(k.zh,k.kj-d));}g=[];a.forEach(function(a){p=y(f,a.zh,a.kj);void 0!==p&&g.push(p);});this.Yy(g,m.Sq.QZ);return this.hA(g.concat(this.Nh));};d.prototype.tcb=function(a){this.K.log("ModelOne: handleDefaultCase");a=u(a.Ca,c.MAa,c.Noa);this.Yy(a,m.Sq.QZ);return this.hA(a.concat(this.Nh));};d.prototype.Eqb=function(a){return a.Au==m.Sq.oi|a.Au==m.Sq.pia&h()-a.VE<c.ddb;};d.prototype.hA=function(a){var b,c,d,f,k,g,p;b=[];c={};g=0;p=a.length;for(k=0;k<p;k++)d=a[k].Ic,f=a[k],!1===d in c?(b.push(f),c[d]=g,g++):(d=b[c[d]],f.Gi<d.Gi&&(d.Gi=f.Gi),f.Au>d.Au&&(d.Au=f.Au),f.VE>d.VE&&(d.VE=f.VE));return b;};g.T=d;},function(g,f,a){var m,c,k,q,p,u,z;function b(a,b,c,d,f,k){this.M=this.Ic=a;this.Rd=b;this.Fd=c;k&&k.pe&&(this.pe=k.pe);void 0!==d&&(this.mz=d);this.Gi=f;this.ab=k;}function d(a,b,c,d,f){k(void 0!==d,"video preparer is null");k(void 0!==f,"ui preparer is null");this.K=b||console;this.K=b;this.sb=c;this.aYa=d;this.RXa=f;this.Kla=u.m$;this.LB=[];this.Z0=!1;this.Cm=0;new z().on(u,"changed",h,this);this.reset();}function h(){this.K.log("config changed");u.m$&&(this.Kla=u.m$);u.rK!==this.AB&&(this.reset(),this.Znb());}m=a(170);c=a(169);f=a(252);k=f.assert;q=f.zra;p=a(478);u=a(251).config;z=a(25).Jw;u.declare({m$:["ppmConfig",{vwb:{Txa:0,Sxa:2,Qxa:0,Rxa:5,NBa:0},yCb:{Txa:0,Sxa:1,Qxa:0,Rxa:3,NBa:1E3},Mwb:{Txa:0,Sxa:1,Qxa:0,Rxa:3,NBa:1E3}}]});d.prototype.constructor=d;d.prototype.reset=function(){this.J_=!0;this.AB=u.rK;this.K.log("create model: "+u.rK,u.KAa,u.Moa);switch(u.rK){case"modelone":this.AB=new p(this.K);break;default:this.AB=new p(this.K);}};d.prototype.Znb=function(){var b,c;if(!1===this.Z0){this.Z0=!0;for(var a=0;a<this.LB.length;a++){this.K.log("PlayPredictionModel replay: ",JSON.stringify(this.LB[a]));b=this.hpa(this.LB[a]);c=this.esa(b);this.AB.update(b,c);this.J_=!1;}this.LB=[];}};d.prototype.update=function(a){var b,c,d;this.K.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.Ca&&a.Ca[0]){!1===this.Z0&&this.LB.length<u.ahb&&this.LB.push(a);b=this.hpa(a);c=this.esa(b);this.K.log("actionType",c);b="mlmodel"==u.rK?this.AB.update(a,c):this.AB.update(b,c);b=this.I9a(b,u.Keb||1);this.K.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.Cm&&(this.Cm=m(),this.sb&&this.sb.jL&&this.sb.jL({gR:this.Cm}));if(this.sb&&this.sb.oAa){d={gR:this.Cm,offset:this.sS(),fza:[]};b.forEach(function(a){d.fza.push({Uo:a.Ic});});d.aza=JSON.stringify(a);d.bza=JSON.stringify(b);this.sb.oAa(d);}this.aYa.Xv(b);this.RXa.Xv(b);this.J_=!1;}};d.prototype.kob=function(){this.Cm=0;};d.prototype.sS=function(){return m()-this.Cm;};d.prototype.jL=function(){this.Cm=m();this.sb&&this.sb.jL&&this.sb.jL({gR:this.Cm});};d.prototype.hpa=function(a){var b,d,f,k,g;b={};k=a.Ca||[];g=function(a){var k,g;k={};d=c.RF.name.indexOf(a.context);k.context=0<=d?d:c.RF.dr;k.rowIndex=a.rowIndex;k.requestId=a.requestId;k.list=[];f=a.list||[];f.forEach(function(a){g={Ic:a.Ic,Fd:a.Fd,index:a.index,mz:a.mz,kE:a.kE,list:a.list,ab:a.ab};void 0!==a.property&&(d=c.EA.name.indexOf(a.property),g.property=0<=d?d:c.EA.dr);k.list.push(g);}.bind(this));b.Ca.push(k);}.bind(this);void 0!==a.direction&&(d=c.ip.name.indexOf(a.direction),b.direction=0<=d?d:c.ip.dr);void 0!==a.bJ&&(b.pGb=a.bJ.rowIndex,b.oGb=a.bJ.w1a);b.bJ=a.bJ;b.Ca=[];k.forEach(g);return b;};d.prototype.esa=function(a){var b,d,f;b=a.direction||c.ip.dr;d=a.bJ;f=a.Ca||[];!0===this.J_?a=c.Qq.yea:!0===f.some(this.Ocb)?(a=c.Qq.fG,this.tV(f,b,d)):a=f[0].context===c.RF.SN?c.Qq.SN:b===c.ip.iia||b===c.ip.Hfa?c.Qq.nia:c.Qq.dr;return a;};d.prototype.Ocb=function(a){return(a.list||[]).some(function(a){return a.property===c.EA.fG||a.property===c.EA.Eda;});};d.prototype.tV=function(a,b,d){var f,k;this.K.log("reportPlayFocusEvent: ",b,d);f={};k=q(a);this.sb&&this.sb.tV&&(f.cGb=m(),f.direction=c.ip.name[b],d&&(f.rowIndex=d.rowIndex,f.H2=d.w1a),void 0!==k.zh&&(f.requestId=a[k.zh].requestId),this.sb.tV&&this.sb.tV(f));};d.prototype.I9a=function(a,b){for(var c=a.length,d=[],f,k,g,p,h=0;h<c;h++){k=a[h];f=Math.floor(h/b)+1;if(void 0!==k.list){g=k.list;p=g.length;for(var q=0;q<Math.min(u.u1a,p)&&!(g[q].Gi=k.Gi,this.Pma(g[q],f,d),d.length>=u.Fwa);q++);}else this.Pma(k,f,d);if(d.length>=u.Fwa)break;}return d;};d.prototype.Pma=function(a,c,d){var k,g;function f(a){a.pe&&(a.ab||(a.ab={}),a.ab.pe=a.pe);return a.ab;}k=a.kE;void 0!==k&&k instanceof Array?k.forEach(function(k){void 0!==k.Ic&&(g=f(k),d.push(new b(k.Ic,c,k.Fd,k.mz,a.Gi,g)));}):void 0!==k&&void 0!==k.Ic&&(k=a.kE,g=f(k),d.push(new b(k.Ic,c,k.Fd,k.mz,a.Gi,g)));void 0!==a.Ic&&(g=f(a),d.push(new b(a.Ic,c,a.Fd,a.mz,a.Gi,g)));};d.prototype.Zu=function(a){var b;b=this.Kla;return a?b[a]:b;};g.T=d;},function(g,f,a){var b,d,h,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(12);d=a(9);g=a(2);h=a(4);f=a(20);h.W.get(f.De).register(g.I.gfa,function(c){var f,g;if(b.config.Alb){f=h.Jf("PlayerPredictionModel");J._cad_global.videoPreparer||(f.error("videoPreparer is not defined"),c(d.wc));g=a(479);f.log=f.trace.bind(f);m=new g({},f,{jL:function(a){J._cad_global.prefetchEvents.R5a(a.gR);},oAa:function(a){J._cad_global.prefetchEvents.Vlb(a);}},J._cad_global.videoPreparer,{Xv:function(){}});J._cad_global.playerPredictionModel=m;f.info("ppm v2 initialized");}c(d.wc);});},function(g){g.T={Tu:{Ia:12E5,UJ:9E5,fd:12E5},zu:{Ia:10,UJ:10,fd:10},yu:{Ia:10240,UJ:10240,fd:10240}};},function(g){function f(a){var b;b=[];return function t(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&t(a[c]))return!0;}return!1;}(a);}g.T=function(a,b){var g;if(b&&f(a))return-1;b=[];a=[a];for(var d=0;a.length;){g=a.pop();if("boolean"===typeof g)d+=4;else if("string"===typeof g)d+=2*g.length;else if("number"===typeof g)d+=8;else if("object"===typeof g&&-1===b.indexOf(g)){b.push(g);for(var h in g)a.push(g[h]);}}return d;};},function(g,f,a){var c,k;function b(){return Object.create(null);}function d(a){this.log=a.log;this.Qa=a.Qa;this.Zy=b();this.Promise=a.Promise;this.hs=a.hs;this.aca=a.aca;this.Qg=a.Qg||!1;this.Tu=b();this.zu=b();this.yu=b();this.kXa(a);a.TC&&(this.TC=a.TC,c(this.TC,d.prototype));}function h(a){return"undefined"!==typeof a;}function m(a){var d;for(var b=0,c=arguments.length;b<c;){d=arguments[b++];if(h(d))return d;}}c=a(48);a(482);k=a(481);d.prototype.kXa=function(a){this.Tu.manifest=m(a.w4,k.Tu.Ia);this.Tu.ldl=m(a.v4,k.Tu.UJ);this.Tu.metadata=m(a.hGb,k.Tu.fd);this.zu.manifest=m(a.k2,k.zu.Ia);this.zu.ldl=m(a.j2,k.zu.UJ);this.zu.metadata=m(a.FEb,k.zu.fd);this.yu.manifest=m(a.DEb,k.yu.Ia);this.yu.ldl=m(a.CEb,k.yu.UJ);this.yu.metadata=m(a.EEb,k.yu.fd);};d.prototype.MS=function(a,b,c){this.Kg("undefined"!==typeof a);this.Kg("undefined"!==typeof b);return!!this.wka(a,b,c).value;};d.prototype.wka=function(a,b,c){var d,f;d={value:null,reason:"",log:""};f=this.Zy[b];if("undefined"===typeof f)return d.log="cache miss: no data exists for field:"+b,d.reason="unavailable",d;"undefined"===typeof f[a]?(d.log="cache miss: no data exists for movieId:"+a,d.reason="unavailable"):(c=f[a][c?c:"DEFAULTCAPS"])&&c.value?this.kT(b,c.Jg)?(d.log="cache miss: "+b+" data expired for movieId:"+a,d.reason="expired"):(d.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,d.value=c.value):(d.log="cache miss: "+b+" data not available for movieId:"+a,d.reason="unavailable");return d;};d.prototype.getData=function(a,b,c){this.Kg("undefined"!==typeof a);this.Kg("undefined"!==typeof b);a=this.wka(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.aca?JSON.parse(this.aca(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};d.prototype.setData=function(a,c,d,f,k){var g;this.Kg("undefined"!==typeof a);this.Kg("undefined"!==typeof c);g=this.Zy;k=k?k:"DEFAULTCAPS";g[c]||(g[c]=b(),Object.defineProperty(g[c],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(g[c],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));d=this.hs?this.hs(JSON.stringify(d),"gzip",!0):d;g=g[c];this.WUa(a,c,k,g);c={Jg:this.Qa.getTime(),value:d,size:0,type:c,K3:f};g[a]=g[a]||b();g[a][k]=g[a][k]||b();g[a][k]=c;g.size+=0;g.numEntries++;this.TC&&this.emit("addedCacheItem",c);return c;};d.prototype.WUa=function(a,b,c,d){var f,k,g,p,h,q,u,m,t;f=this;k=d.numEntries;g=this.zu[b];q=d[a]&&d[a][c];if(q&&q.value)p=a,h="promise_or_expired";else if(k>=g){m=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var k;k=d[a]&&d[a][c];k&&k.value&&f.kT(b,k.Jg)&&(t=a);k&&k.value&&k.Jg<m&&(m=k.Jg,u=a);return!0;});p=t||u;h="cache_full";}this.Qg&&this.log.debug("makespace ",{maxCount:g,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:p});p&&(f.clearData(p,b,c,void 0,h),this.log.debug("removed from cache: ",p,b));};d.prototype.x2=function(a,b){var c,d;c=this;c.Kg("undefined"!==typeof a);d=a+"";b.forEach(function(a){var b;b=c.Zy[a];b&&Object.keys(b).forEach(function(b){b!=d&&c.clearData(b,a,void 0,void 0,"clear_all");});});};d.prototype.clearData=function(a,b,c,d,f){var k;this.Kg("undefined"!==typeof a);this.Kg("undefined"!==typeof b);k=this.Zy[b];b=k?k[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){k.size-=b[c].size;k.numEntries--;if(k=b&&b[c])b[c]=void 0,!d&&k.K3&&k.K3();this.TC&&(a={creationTime:k.Jg,destroyFn:k.K3,size:k.size,type:k.type,value:k.value,reason:f,movieId:a},this.emit("deletedCacheItem",a));}};d.prototype.flush=function(a){var c;this.Kg("undefined"!==typeof a);c=this.Zy;c[a]=b();c[a].numEntries=0;c[a].size=0;};d.prototype.kT=function(a,b){return this.Qa.getTime()-b>this.Tu[a];};d.prototype.getStats=function(a,b,c){var d,f,k,g,p;d={};f=this;k=f.Zy;g=h(a)&&h(b);p=c||"DEFAULTCAPS";Object.keys(k).forEach(function(c){var q,u;q=Object.keys(k[c]);u=k[c];q.forEach(function(k){!(k=u&&u[k]&&u[k][p])||!h(k.value)||k.value instanceof this.Promise||(d[c]=(d[c]|0)+1,f.kT(k.type,k.Jg)&&(d[c+"_expired"]=(d[c+"_expired"]|0)+1),g&&k.Jg>=a&&k.Jg<b&&(d[c+"_delta"]=(d[c+"_delta"]|0)+1));});});return d;};d.prototype.dd=function(a){var b,c,d,f;b=[];c=this;d=c.Zy;f=a||"DEFAULTCAPS";Object.keys(d).forEach(function(a){var k,g;k=Object.keys(d[a]);g=d[a];k.forEach(function(d){var k,p;k=g&&g[d]&&g[d][f];k&&h(k.value)&&(p=c.kT(k.type,k.Jg)?"expired":k.value instanceof this.Promise?"loading":"cached",b.push({movieId:d,state:p,type:a,size:k.size}));});});return b;};d.prototype.DBa=function(a,b){this.Kg("undefined"!==typeof a);this.Kg("undefined"!==typeof b);this.yu[a]=b;};d.prototype.Kg=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Qg))throw Error("Debug Assert Failed ");};g.T=d;},function(g,f,a){var d,h;function b(a,b,f,g,p,u,t){this.M=a;this.Rd=b;this.type=f;this.id=++h;this.ko=g;this.status=d.te.lda;this.Zkb=void 0===p?!1:p;this.Jxa=t;}Object.defineProperty(f,"__esModule",{value:!0});d=a(60);h=0;b.prototype.Rp=function(){var a;a={id:this.id,type:this.type,created:this.ko,status:this.status,movieId:this.M};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.al=function(a){this.Jxa&&this.Jxa(a);};f.ZN=b;},function(g,f,a){var m,c,k;function b(){}function d(a){this.log=a.log;this.Qa=a.Qa;this.SQ=this.nI=0;this.qw=[];this.paused=!1;this.hW=[];this.Uoa=[];this.MJ=a.MJ||b.zca;this.Uc=a.Uc;this.dj=this.Uc.get(c.jN);this.addEventListener=this.dj.addListener.bind(this.dj);this.events={Qia:"taskstart",Oia:"taskabort",Pia:"taskfail",Ria:"tasksuccess"};}function h(a){return a.Rp();}Object.defineProperty(f,"__esModule",{value:!0});g=a(139);m=a(60);c=a(70);b.IOa="prepend";b.zca="append";b.oKa="ignore";k=g.Gt;f.uRa=d;d.prototype.Uma=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.qw=this.FUa(a);this.nI=0;this.SQ+=1;this.zb();};d.prototype.FUa=function(a){var c,d;c=this.qw.filter(function(a){return a.Zkb&&a.status===m.te.lda;});d=this.MJ;if(d===b.oKa)return[].concat(a);if(d===b.IOa)return c.concat(a);if(d===b.zca)return a.concat(c);};d.prototype.pause=function(){this.paused=!0;};d.prototype.zb=function(){var a,b;if(this.nI===this.qw.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.nI,numberOfTasks:this.qw.length});else{a=this.Sab();b=this.SQ;a.startTime=this.Qa.getTime();a.status=m.te.tia;this.dj.Ib(this.events.Qia,{M:a.M,type:a.type});this.hW.push(a);a.jf(function(c){a.endTime=this.Qa.getTime();c?0<=[m.te.rA,m.te.UM,m.te.vF,m.te.TM].indexOf(c.status)?(a.status=c.status,this.w0(a,this.events.Oia,"cancelled task")):(a.status=m.te.Bt,this.w0(a,this.events.Pia,"task failed",c)):(a.status=m.te.Aia,this.w0(a,this.events.Ria,"task succeeded"));this.Uoa.push(a);this.hW.splice(this.hW.indexOf(a),1);this.SQ===b&&(this.nI++,this.zb());}.bind(this));}};d.prototype.Sab=function(){return this.qw[this.nI];};d.prototype.w0=function(a,b,c,d){var f;f=a.Rp();d?this.log.warn(c,f,d):this.log.trace(c,f);this.dj.Ib(b,{M:a.M,type:a.type,reason:a.status});a.al(f);};d.prototype.getStats=function(a,b,c){var d,f,g,p;d=this.Uoa.map(h);f=this.hW.map(h);g=k.Bd(a)&&k.Bd(b);p={};if(k.Bd(c))return p.H1a=d.filter(function(a){return a.movieId===c;}),p;d.concat(f).forEach(function(c){var d;p[c.type+"_"+c.status]=(p[c.type+"_"+c.status]|0)+1;d=c.status==m.te.tia?c.startTime:c.endTime;g&&d>=a&&d<b&&(p[c.type+"_"+c.status+"_delta"]=(p[c.type+"_"+c.status+"_delta"]|0)+1);});return p;};},function(g,f,a){var d,h,m,c,k,q,p,u,z,y;function b(a){this.log=a.log;this.Qa=a.Qa;this.dD=a.dD;this.wS=a.wS;this.bv=a.bv;this.eD=a.eD;this.Ny=a.Ny;this.u2=a.u2;this.uI=a.uI;this.Uc=a.Uc;this.config=this.Uc.get(q.gd)();this.wI=a.wI;this.vI=a.vI;this.wca=a.wca;this.F9=a.F9;this.G9=a.G9;this.AK=a.AK;this.v5=a.v5;this.Qg=a.Qg||!1;this.$0={};this.cP={};this.zP={num_of_calls:0,num_of_movies:0};this.t2=a.t2;this.i9=a.i9;this.R9a=a.R9a;this.i5=a.i5;this.Ig=new p({log:this.log,Qa:this.Qa,Promise:Promise,Qg:this.Qg,k2:a.k2,j2:a.j2,w4:a.w4,v4:a.v4,TC:u});this.Kn=new d.uRa({log:this.log,Qa:this.Qa,MJ:a.MJ,Uc:this.Uc});this.so=this.Ig.getData.bind(this.Ig);this.fw=this.Ig.setData.bind(this.Ig);this.KS=this.Ig.MS.bind(this.Ig);}Object.defineProperty(f,"__esModule",{value:!0});d=a(485);h=a(484);g=a(139);m=a(233);c=a(435);k=a(112);q=a(17);p=a(483);u=a(25).EventEmitter;z=g.Gt;y=new c.eja(z,new m.gX());f.kSa=b;b.prototype.ssa=function(a){var b;b=this.Ig.getData(a,"ldl");this.Ig.clearData(a,"ldl",void 0,!0);return b;};b.prototype.Xv=function(a,b){var c,d,f;c=this;a=a.map(function(a){a.ab=a.ab||{IH:{Jya:!1},Xg:0};z.Kl(a.ab.Xg)||(a.ab.Xg=0);z.Kl(a.Fd)&&(a.ab.U=a.Fd);return a;});d=a.map(function(a){return c.Zja(a,b);}).reduce(function(a,b){return a.concat(b);},[]);f=d.map(function(a){return a.M+"-"+a.type;});this.log.trace("prepare tasks",f);this.Kn.Uma(d);this.zP.num_of_calls++;this.zP.num_of_movies+=a.length;};b.prototype.Rlb=function(a,b){var c,d,f;c=this;d=a.map(function(a){return a.M+"";});a=a.map(function(a){a.ab=a.ab||{IH:{Jya:!1},Xg:0};a.ab.ge=!0;a.ab.mxa=d;return c.Zja(a,b);}).reduce(function(a,b){return a.concat(b);},[]);f=a.map(function(a){return a.M+"-"+a.type;});this.log.trace("predownload tasks",f);this.Kn.Uma(a);};b.prototype.Vtb=function(a,b){this.cP[a]||(this.cP[a]={});a=this.cP[a];a.iza=(a.iza|0)+1;a.Gi=b;};b.prototype.getStats=function(a,b,c){var d;d=c&&this.cP[c]||{};d.qw=this.Kn.getStats(a,b,c);d.cache=this.Ig.getStats(a,b);d.Zra=y.fk(this.v5(),this.zP);return d||{};};b.prototype.Zja=function(a,b){var c,d,f,k,g;a.pe&&(a.ab.pe=a.pe);c=[];d=a.M;f=!!a.ab.ge;this.Vtb(d,a.Gi);k=null;if(this.Ig.MS(d,"manifest"))this.log.trace("manifest exists in cache for "+d);else{g=new h.ZN(d,a.Rd,"manifest",this.Qa.getTime(),f,void 0,b);k=g.id;g.jf=this.dD.bind(this,d,a);c.push(g);}this.wS&&this.u2()&&(this.Ig.MS(d,"ldl")?this.Qg&&this.log.trace("ldl exists in cache for "+d):(g=new h.ZN(d,a.Rd,"ldl",this.Qa.getTime(),f,k,b),g.jf=this.wS.bind(this,d,a),c.push(g)));this.bv&&this.eD&&this.t2()&&(this.i9(d)?this.Qg&&this.log.trace("headers/media exists in cache for "+d):(d=new h.ZN(a.M,a.Rd,"getHeaders",this.Qa.getTime(),f,k,b),d.jf=this.bv.bind(this,a.M,a),c.push(d),b=new h.ZN(a.M,a.Rd,"getMedia",this.Qa.getTime(),f,k,b),b.jf=this.eD.bind(this,a.M,a),c.push(b)));return c;};b.prototype.Dcb=function(a){this.G9(a);};b.prototype.Ccb=function(a){this.log.trace("task scheduler paused on playback created");this.Kn.pause();this.wI&&this.Ig.x2(a,["manifest"]);this.vI&&this.Ig.x2(a,["ldl"]);this.F9(a);};b.prototype.Ota=function(){this.log.info("track changed, clearing all manifests from cache");this.Ig.x2("none",["manifest"]);};b.prototype.Bcb=function(a){var b;b=this;this.uI?this.Ig.clearData(a,"manifest"):this.Ig.MS(a,"manifest")&&this.Ig.getData(a,"manifest").then(function(c){c.isSupplemental||b.Ig.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.B2(a);this.AK();};b.prototype.B2=function(a){this.$0[a]=void 0;};b.prototype.m6=function(a){return this.$0[a];};b.prototype.wpa=function(a){return this.$0[a]=this.wca();};b.prototype.Ulb=function(){var a;a=[];a=this.Ig.dd().map(function(a){return{Uo:parseInt(a.movieId,10),state:a.state,Sr:a.type,size:a.size||void 0};});this.i5().map(function(b){2===b.wo?a.push({Uo:b.M,state:"cached",Sr:k.ue.Wi.JF,size:void 0}):b.c9a&&!b.cfb&&a.push({Uo:b.M,state:"loading",Sr:k.ue.Wi.JF,size:void 0});b.ZDa&&0<b.ZDa&&b.Dna&&0<b.Dna?a.push({Uo:b.M,state:"cached",Sr:k.ue.Wi.MEDIA,size:void 0}):b.Mlb&&!b.Llb&&a.push({Uo:b.M,state:"loading",Sr:k.ue.Wi.MEDIA,size:void 0});});return a;};b.prototype.Nua=function(a){return a&&0<=a.indexOf("billboard");};},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y,L,A,l,M,n,Q,W,E,r,R,ba,Y,ea,V,N,ca;Object.defineProperty(f,"__esModule",{value:!0});b=a(49);d=a(122);h=a(90);m=a(12);c=a(9);k=a(28);q=a(26);g=a(2);p=a(4);u=a(21);z=a(220);y=a(3);L=a(77);A=a(119);l=a(113);M=a(60);n=a(173);Q=a(19);W=a(33);E=a(486);r=a(160);R=a(189);ba=a(147);Y=a(123);ea=a(39);V=a(57);f=a(20);N=a(135);p.W.get(f.De).register(g.I.kfa,function(a){var ka,ja,va,F,D,qb,Sa,P,T,X,Qa,aa,ra,da;function f(){var a,b,c;if(m.config.An){a={};a.trigger=M.Xc.HOa.gOa;b=ka.getTime();c=ca.getStats(ra,b);a.startoffset=ra;ra=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.qw);a.general=JSON.stringify(c.Zra);b=p.W.get(ea.Lj);a=p.W.get(V.Tn).Jl("prepare","info",a);b.tc(a);}}function g(a,b,c){var f,k;k=a.video_tracks;k&&k.length&&k[0].streams&&k[0].streams.length&&(f=k[0].streams[0].content_profile);k=m.$oa(b.pe);f=m.Zoa(!!a.choiceMap,!1,f);f=d.Vj.Kp(Object.assign({},k,f));return{M:c,Rd:0,Hab:function(){return{Ia:a,tg:!1,$B:a.defaultTrackOrderList[0].audioTrackId};},config:f,ge:!!b.ge,mxa:b.mxa};}function t(a,b,c){ca.so(a,"ldl").then(function(a){c(null,a);})["catch"](function(d){Sa.trace("ldl not available in cache",d);ca.so(a,"manifest").then(function(d){var k,g,q;function f(b){Sa.warn("ldl is now invalid",b);g.close();ca.fw(a,"ldl",void 0);ca.B2(a);}if(ca.KS(a,"ldl"))c({status:M.Xc.te.rA});else if(d.hasDrmStreams)if(m.config.qqa&&P&&P!==a&&!b.force)c({status:M.Xc.te.UM});else if(m.config.rqa&&T&&T!==a&&!b.force)c({status:M.Xc.te.vF});else{P&&P!==a&&(X[a]=(X[a]|0)+1);T&&T!==a&&(Qa[a]=(Qa[a]|0)+1);k=d.video_tracks[0].drmHeader.bytes;g=S({Hdb:"cenc",Kqa:Sa,mJ:function(b){var c;c=[];b.Jp.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:p.Vr(a.data)});});b={Jp:c,qR:[d.drmContextId],wh:M.Xc.gpa(b.wh),Mf:d.playbackContextId,oa:ca.wpa(a),tf:d.tf};Sa.trace("xid created ",{MovieId:a,xid:b.oa});return F.Cx(b,h.hj.profile);},rrb:void 0,a8a:f,Nc:void 0,z9:Q.je,Qa:D});ca.fw(a,"ldl",g,function(){g.close();});q=qb.shift();p.log.trace("cached mediakeys count "+qb.length);return g.create(m.config.Pd,q).then(function(){return g.Kf(L.Zi.It,[p.Kk(k)],!0);}).then(function(){c(null,g);})["catch"](function(a){f(a);c(a);});}else c({status:M.Xc.te.TM});})["catch"](function(a){Sa.warn("Manifest not available for ldl request",a);c({status:M.Xc.te.rA});});});}function B(a,b,c){ca.so(a,"ldl").then(function(a){c(null,a);})["catch"](function(d){Sa.trace("ldl not available in cache",d);ca.so(a,"manifest").then(function(d){var k,g;function f(b,c){Sa.warn(b+" LDL is now invalid.",c);ca.fw(a,"ldl",void 0);ca.B2(a);}if(ca.KS(a,"ldl"))c({status:M.Xc.te.rA});else if(d.hasDrmStreams)if(m.config.qqa&&P&&P!==a&&!b.force)c({status:M.Xc.te.UM});else if(m.config.rqa&&T&&T!==a&&!b.force)c({status:M.Xc.te.vF});else{P&&P!==a&&(X[a]=(X[a]|0)+1);T&&T!==a&&(Qa[a]=(Qa[a]|0)+1);k=d.video_tracks[0].drmHeader.bytes;g=p.W.get(A.fN)().then(function(b){var c;c={type:L.Zi.It,$S:p.Kk(k),context:{Pd:m.config.Pd},xg:{M:a,oa:ca.wpa(a),Mf:d.playbackContextId,Yj:d.drmContextId,profileId:h.hj.profile.id,tf:d.tf}};return b.Xv(c,p.W.get(N.ZF)());}).then(function(a){c(null,a);return a;})["catch"](function(a){f("Unable to prepare an EME session.",a);});ca.fw(a,"ldl",g,function(){try{g.then(function(a){a.close().subscribe(void 0,function(a){f("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){f("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(Le){f("Unable to cleanup LDL session, unexpected exception.",Le);}});}else c({status:M.Xc.te.TM});})["catch"](function(a){Sa.warn("Manifest not available for ldl request",a);c({status:M.Xc.te.rA});});});}function S(a){var b,c;b=new W.Eg.xt(a.Kqa,a.mJ,a.rrb,{Qg:!1,OJ:!1});c=p.W.get(l.VA);return W.Eg.zt(a.Kqa,a.Hdb,a.Nc,{Qg:!1,OJ:!1,fva:m.config.hi,eBa:{Zwa:m.config.dBa,xoa:m.config.saa},kL:b,wza:m.config.y$,La:void 0,fF:m.config.fF,lA:m.config.h4,onerror:a.a8a,z9:a.z9,Qa:a.Qa,rlb:!1,XS:m.config.XS,Ena:c.gI([]),$Da:c.mI([]),oD:m.config.oD});}ka={getTime:q.Vf,xGb:q.EQ};ja=p.W.get(u.se);va=p.W.get(R.RY);F=p.W.get(ba.TF);D=ka;qb=[];Sa=p.Jf("VideoPreparer");X={};Qa={};if(!W.Eg.zt||!W.Eg.xt){aa={};W.Eg.zt=aa.Sa;W.Eg.xt=aa.request;}Sa.info("instance created");ca=new E.kSa({log:Sa,Qa:ka,wca:q.p1a,dD:function(a,b,c){var f;function d(){var b,c;ja.Fx(f)||(f={trackingId:f});b={Xa:f,Ic:a,aJ:M.Xc.Wn.lha};Sa.trace("manifest request for:"+a);c=p.W.get(Y.iG)();return va.dD(b,c);}f=b.ab;Sa.trace("getManifest: "+a);m.config.pYa&&f&&f.Ia&&!ca.KS(a,"manifest")&&(!f.Ia.clientGenesis||Date.now()-f.Ia.clientGenesis<m.config.jza)?(f.Ia.Gz=ka.getTime(),f.Ia.rE=ka.getTime(),b=f.Ia.runtime?p.W.get(r.SY).decode(f.Ia):f.Ia,ca.fw(a,"manifest",b),c(null,b)):ca.so(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var f;Sa.trace("manifest not available in cache",b);if(ca.KS(a,"manifest"))c({status:M.Xc.te.rA});else{f=ka.getTime();b=d();ca.fw(a,"manifest",b);b.then(function(b){b.Gz=f;b.rE=ka.getTime();ca.fw(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);ca.fw(a,"manifest",void 0);});}});},wS:m.config.bp?B:t,u2:function(){return m.config.l4&&k.q7(m.config);},bv:function(a,b,c){var f;f=b.ab;ca.so(a,"manifest").then(function(b){b=g(b,f,a);d.Jk.ioa(b,function(){c(null,{});});})["catch"](function(a){Sa.error("Exception in getHeaders",a);c(a);});},eD:function(a,b,c){var f;f=b.ab;ca.so(a,"manifest").then(function(k){var h,q,m;h=g(k,f,a);q=k.duration;k=p.W.get(z.kX).Zma({iA:y.Cb(k.bookmark),M:a,LK:y.Cb(q),Xa:f}).fa(y.ma);p.W.get(u.se).Bp(f.U)&&(k=f.U);h.Fd=k;if(P!=a||f.ge||b.force){m=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(d.Jk.removeEventListener("prebuffstats",m),c(null,{}));};d.Jk.addEventListener("prebuffstats",m);d.Jk.ioa(h);}else c({status:M.Xc.te.vF});})["catch"](function(a){Sa.error("Exception in getMedia",a);c(a);});},Ny:function(){return d.Jk.Ny();},t2:function(){return m.config.xR;},i9:function(a){var b;b=!1;d.Jk.i2().forEach(function(c){c.M==a&&(b=!0);});return b;},i5:function(){return d.Jk.i2().map(function(a){var c,f;c=d.Jk.sgb(a.M);f=c[b.pc.Ih.AUDIO]&&c[b.pc.Ih.AUDIO].data;c=c[b.pc.Ih.VIDEO]&&c[b.pc.Ih.VIDEO].data;return{M:a.M,wo:a.wo,Dna:f&&f.length,ZDa:c&&c.length,c9a:ja.Bp(a.Kb.WR),cfb:ja.Bp(a.Kb.BT),Mlb:ja.Bp(a.Kb.iE),Llb:ja.Bp(a.Kb.WU)};});},F9:function(a){P=a;},G9:function(a){da&&(da.A2(),f());T=a;},AK:function(){da&&da.Waa();T=P=void 0;},v5:function(){return{ldls_after_create:X,ldls_after_start:Qa};},uI:m.config.uI,wI:m.config.wI,vI:m.config.vI,MJ:m.config.Wlb,k2:m.config.Zlb,j2:m.config.Xlb,w4:m.config.jza,v4:m.config.Ylb,Qg:!1,Uc:p.W});J._cad_global.videoPreparer=ca;aa=m.config.Ykb;ra=ka.getTime();aa&&(da=new n.kia(aa,f),da.Waa());a(c.wc);});},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y,L;Object.defineProperty(f,"__esModule",{value:!0});b=a(120);d=a(104);h=a(90);m=a(171);c=a(9);k=a(28);g=a(2);q=a(4);p=a(131);u=a(14);z=a(19);y=a(8);f=a(20);L=a(26);q.W.get(f.De).register(g.I.mfa,function(a){function f(a,b){function c(a){a=new p.uA(q.Kk(a));a.fe();return{tv:a.Gza(),R7a:a.Gza()};}return{encrypt:function(b,c){var d;b=z.Od(b)?q.vM(b):b;d=y.Mt.getRandomValues(new Uint8Array(16));k.YD(y.Xm.encrypt({name:"AES-CBC",iv:d},a,b)).then(function(a){var b,f;a=new Uint8Array(a);b=[];f=new p.uA(b);f.HM(2);f.mEa(d);f.mEa(a);a=q.Vr(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){u.Ga(!1,"Encrypt error: "+a);c({success:!1});});},decrypt:function(b,d){b=c(b);k.YD(y.Xm.decrypt({name:"AES-CBC",iv:b.tv},a,b.R7a)).then(function(a){a=new Uint8Array(a);d({success:!0,text:q.IW(a)});},function(a){u.Ga(!1,"Decrypt error: "+a);d({success:!1});});},hmac:function(a,c){a=z.Od(a)?q.vM(a):a;k.YD(y.Xm.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:q.Vr(a)});},function(a){u.Ga(!1,"Hmac error: "+a);c({success:!1});});}};}b.eO.BH.mdx={getEsn:function(){return d.th.Mg;},createCryptoContext:function(a){var b,c,d;b=m.vn.Tg.getStateForMdx(h.hj.profile.id);c=b.cryptoContext;d=b.masterToken;b=b.userIdToken;d&&b?(u.Ga(c),d=["1",q.Vr(JSON.stringify(d.toJSON())),q.Vr(JSON.stringify(b.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:d,encrypt:function(a,b){a=z.Od(a)?q.vM(a):a;c.encrypt(a,{result:function(a){a=q.Vr(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){u.Ga(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=q.Kk(a);c.decrypt(a,{result:function(a){b({success:!0,text:q.IW(a)});},timeout:function(){b({success:!1});},error:function(a){u.Ga(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=z.Od(a)?q.vM(a):a;c.sign(a,{result:function(a){b({success:!0,hmacBase64:q.Vr(a)});},timeout:function(){b({success:!1});},error:function(a){u.Ga(!1,"Hmac error: "+a);b({success:!1});}});}}})):(u.Ga(!1,"Must login first"),a({success:!1}));},createCryptoContextFromSharedSecret:function(a,b){var c;c=q.Kk(a);a=c.subarray(32,48);c=c.subarray(0,32);if(16!=a.length||32!=c.length)throw Error("Bad shared secret");Promise.all([k.YD(y.Xm.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),k.YD(y.Xm.importKey("raw",c,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:f(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return L.C2();}};a(c.wc);});},function(g,f,a){var b,d,h,m,c,k,q,p,u;Object.defineProperty(f,"__esModule",{value:!0});g=a(120);b=a(9);d=a(12);h=a(56);f=a(7);m=a(4);c=a(39);k=a(95);q=a(14);p=a(19);u=a(8);J.netflix=J.netflix||{};q.Ga(!J.netflix.player);J.netflix.player={VideoSession:g.eO,diag:{togglePanel:function(a,b){var c;if(!d.config||d.config.gL){switch(a){case"info":c=h.fr.map(function(a){return a.RU;});break;case"streams":c=h.fr.map(function(a){return a.wlb;});break;case"log":c=[];}c&&c.forEach(function(a){p.Rb(b)?b?a.show():a.lD():a.toggle();});}},addLogMessageSink:function(a){m.W.get(c.Lj).addListener({pBa:function(){},Xwa:function(b){a({data:b.data});}});}},log:m.Jf("Ext"),LogLevel:f.Hh,addLogSink:function(a,b){m.W.get(k.GA).rV(a,b);},getVersion:function(){return"6.0018.593.011";},isWidevineSupported:function(a){var d;function c(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");d=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.pl,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.Pw,robustness:"SW_SECURE_CRYPTO"}]}];try{u.sk.requestMediaKeySystemAccess("com.widevine.alpha",d).then(function(d){var f;f=d.getConfiguration();d=f.videoCapabilities||[];f=(f.audioCapabilities||[]).reduce(c(b.Pw),!1);d=d.reduce(c(b.pl),!1);a(f&&d);})["catch"](function(){a(!1);});}catch(A){a(!1);}}};},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y;Object.defineProperty(f,"__esModule",{value:!0});g=a(20);f=a(2);b=a(7);d=a(72);h=a(142);m=a(9);c=a(12);k=a(4);q=a(122);p=a(56);u=a(120);z=a(178);y=a(90);k.W.get(g.De).register(f.I.nfa,function(a){var g,t,L;function f(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):k.W.get(z.oZ).Ue(this.log,y.hj.profile,{},{uR:a,password:b}).then(function(){});}if(c.config.p8a){g=k.W.get(h.PN);t=k.W.get(d.kp);L=k.W.get(b.qb).lb("Test");u.eO.BH.test={pboRequests:g.kL,playbacks:p.fr,aseManager:{cacheDestroy:function(){return q.Jk.hoa();}},device:{esn:J._cad_global.device.Mg,esnPrefix:t.dn,errorPrefix:t.QC},log:{info:function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return L.info(a,c);},error:function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return L.error(a,c);},warn:function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return L.warn(a,c);},trace:function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return L.trace(a,c);},log:function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return L.log(a,c);},debug:function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return L.debug(a,c);}},login:f};}a(m.wc);});},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y,L,A,l,M,n;Object.defineProperty(f,"__esModule",{value:!0});b=a(104);d=a(90);h=a(120);m=a(179);c=a(171);k=a(69);q=a(9);p=a(12);u=a(2);z=a(4);y=a(14);L=a(18);A=a(19);l=a(16);M=a(39);n=a(57);g=a(20);z.W.get(g.De).register(u.I.lfa,function(a){var g,t;function f(a,b){var c;c={profile:d.hj.profile,log:g,Ed:k.Ed};a.email&&(c.uR=a.email,c.password=a.password||"");a.sendNetflixIdUserAuthData&&(c.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.tz&&(c.tz=a.tz);b({X:!0,wn:c});}g=z.Jf("NccpApi");t=L.vZa();h.eO.BH.nccp={getEsn:function(){return b.th.Mg;},getPreferredLanguages:function(){return p.config.uh.jE;},setPreferredLanguages:function(a){y.Ga(l.isArray(a)&&A.Hy(a[0]));p.config.uh.jE=a;},netflixId:function(a,b){f(a,function(a){m.Wm.V1(a.wn).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:z.xZ(u.I.Dga,a)});});});},getDeviceTokens:function(a){y.Ga(l.Mb(a));m.Wm.V1({log:g,Ed:k.Ed}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:z.xZ(u.I.Dga,b)});});},getRegistered:function(a,b){var f;try{f=c.vn.Tg.hasUserIdToken(a.id||d.hj.profile.id);b({success:!0,registered:f});}catch(ea){b({success:!1});}},unregister:function(a,b){try{c.vn.Tg.removeUserIdToken(a.id||d.hj.profile.id);b({success:!0});}catch(Y){b({success:!1});}},queueLogblob:function(a,b,c){var d;if(a&&b)if(b=b.toLowerCase(),t[b]){d=z.W.get(M.Lj);a=z.W.get(n.Tn).Jl(a,b,c);d.tc(a);}else g.warn("Invalid severity",{severity:b});},flushLogblobs:function(){z.W.get(M.Lj).flush(!0);}};a(q.wc);});},function(g,f,a){var b,d,h,m,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(69);d=a(28);h=a(14);m=a(18);c=a(19);f.XGa=function(a,b){h.Ga(a);h.Ga(b);h.rI(b.V7a,"endpointURL property is required");h.Ga(b.Fp);this.log=a;this.Wya=b;};f.XGa.prototype.Zu=function(){var a,f,g;a=this;a.log.trace("Downloading config data.");f={browserInfo:JSON.stringify(a.Wya.Fp)};g=a.Wya.V7a+"?"+d.zK(f);return new Promise(function(d,f){function k(b){var c;try{if(b.X){c=new Uint8Array(b.content);return{X:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{X:!1,message:"Unable to download the config. "+b.Ra,zJ:b.Vh};}catch(Q){return b=m.qd(Q),a.log.error("Unable to download the config. Received an exception parsing response",{message:Q.message,exception:b,url:g}),{X:!1,Ra:b,message:"Unable to download the config. "+Q.message};}}function p(b,d,f){return d>f?(a.log.error("Config download failed, retry limit exceeded, giving up",c.Va({Attempts:d-1,MaxRetries:f},b)),!1):!0;}function h(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function q(g,u,t){b.Ed.download(g,function(b){var z;b=k(b);if(b.X)d(b);else{a.log.warn("Config download failed, retrying",c.Va({Attempt:u,WaitTime:z,MaxRetries:t},b));if(p(b,u+1,t))return z=m.Eza(1E3,1E3*Math.pow(2,Math.min(u-1,t))),h(z).then(function(){return q(g,u+1,t);});f(b);}});}return b.Ed?q({url:g,responseType:3,withCredentials:!0,AC:"config-download"},1,3):Promise.reject({X:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,f,a){var b,d,h,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(12);d=a(9);g=a(2);h=a(4);m=a(167);a=a(20);h.W.get(a.De).register(g.I.afa,function(a){b.config.D9a&&h.W.get(m.Fea).start();a(d.wc);});},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y,L,A,l;Object.defineProperty(f,"__esModule",{value:!0});b=a(148);d=a(253);g=a(56);h=a(12);m=a(53);c=a(9);k=a(28);q=a(26);p=a(18);u=a(8);z=a(4);y=a(85);L=a(15);A=a(33);l=a(20);g.Oha(g.Jha,function(a){var Y,ea,V,N,ca,va;function f(b){b.newValue>=L.jb.LOADING&&(a.state.removeListener(f),r("type=openplay&sev=info&locstor="+u.aZ(M())),V=q.Vf(),B());}function g(){va("type=startplay&sev=info&outcome=success");}function t(){var c,d;c=a.Xh;if(c){d="type=startplay&sev=error&outcome=error";c=b.kta(A.bJa,c);p.Sc(c,function(a,b){d+="&"+u.aZ(a)+"="+u.aZ(b||"");});va(d);}else va("type=startplay&sev=info&outcome=abort");}function B(){var a,b;a=N.shift();if(0<a){b=u.um(a-(q.Vf()-V),0);ea=setTimeout(function(){r("type=startstall&sev=info&kt="+a);B();},b);}}function n(){va("type=startplay&sev=info&outcome=unload");}function M(){var a,b,c;try{b=""+q.EQ();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(fa){a="ex: "+fa;}return a;}function r(b){b=ca+"&soffms="+a.V5()+"&"+b;a.zc&&Object.keys(a.zc).length&&(b+="&"+k.zK(p.Va({},a.zc,{prefix:"sm_"})));d.Usb("playback",b,Y);}Y=z.W.get(y.qt).host+h.config.Tba;if(h.config.fDa&&Y&&h.config.gDa.playback){N=h.config.Vsb.slice();ca="xid="+a.oa+"&pbi="+a.index+"&uiLabel="+(a.pe||"");a.state.addListener(f);a.addEventListener(L.S.yh,g);a.addEventListener(L.S.Ge,t);m.Ae.addListener(m.Vk,n,c.PA);va=function(b){var d;va=c.je;d=z.W.get(l.De);b+="&initstart="+d.startTime+"&initend="+d.endTime;r(b);clearTimeout(ea);a.removeEventListener(L.S.yh,g);a.removeEventListener(L.S.Ge,t);m.Ae.removeListener(m.Vk,n);};}});},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(89);b=a(12);d=a(4);g.$F(function(a,f){var c,k,g,p;c={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480};Object.assign(c,b.config.xtb);k=c[f.pe];if(b.config.ytb&&k){g={};p=d.Zf(a,"MediaStreamFilter");return{YI:"uiLabel",ct:function(a){if(a.lower&&a.height>k)return g[a.height]||(g[a.height]=!0,p.warn("Restricting resolution due to uiLabel",{MaxHeight:k,streamHeight:a.height}),f.Rm.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(g,f,a){var d,h,m,c;function b(a){var f,k;function b(d){d=d.Ip;a.removeEventListener(c.S.k9,b);try{h.ueb(d.data)&&(k=!0,a.nqb());f.trace("RA check",{HasRA:k});}catch(y){f.error("RA check exception",y);}}f=d.Zf(a,"RAF");a.addEventListener(c.S.k9,b);return{YI:"ra",ct:function(a){if(!k&&a.nn)return a=a.df,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(f,"__esModule",{value:!0});g=a(89);d=a(4);h=a(254);m=a(33);c=a(15);m.gia&&g.$F(b);f.Mzb=b;},function(g,f,a){var d,h;function b(a,b){var c,f;c=h.Zf(a,"MSS");if(d.config.Jhb)return{YI:"mss",ct:function(a){var d,k;if(a.lower&&2160<=a.height)a:{for(d=a;d.lower;){if(2160>d.height&&1080<d.height){d=!0;break a;}if(1080>=d.height)break;d=d.lower;}d=!1;}else d=void 0;if(d){if(void 0===f){try{k=J.MSMediaKeys;f=k&&k.isTypeSupportedWithFeatures?"probably"===k.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(y){c.error("hasUltraHdDisplay exception");f=!0;}f||(c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.Rm.set({reason:"microsoftScreenSize",height:a.height}));}return!f;}}};}Object.defineProperty(f,"__esModule",{value:!0});g=a(89);d=a(12);h=a(4);g.$F(b);f.Lzb=b;},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});a(89).$F(function(){return{YI:"op",ct:function(){}};});},function(g,f,a){var d,h,m,c,k,q,p,u,z;function b(a,b){var t,y,L,l,n,r,R,ba,Y,ea,V;function f(){var c;c=a.jc.value===u.nb.yd&&a.state.value===u.jb.Yc&&a.da===b.da;V?c||(clearInterval(V),r=V=void 0):c&&(V=J.setInterval(g,1E3));}function g(){var b,d,f,k,g,p;b=a.Je.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){d=c.Vf();f=a.vg.ny();if(f){if(r&&2E3>d-r.time&&b===r.height){k=f-r.G6a;g=y[b];g||(y[b]=g=[],b>ba&&(n.push(b),m.YW(n)));0<k&&!(ea&&ea<b)&&(ea=b);g.push(k);g.length>R&&g.shift();(g=l[b])||(l[b]=g={});p=g[k];g[k]=p?p+1:1;}r={time:d,G6a:f,height:b};a.RU&&a.RU.Spb(y);}}}t=k.Zf(a,"DFF");y={};L=d.config.K6a;l={};n=[];R=d.config.I6a;ba=d.config.J6a;Y=h.ZLa;if(d.config.H6a)return b.a4={$9a:function(){var a;a={};l&&n.forEach(function(b){var c,d,f;c=l[b];if(c){d=0;f=0;z.Sc(c,function(a,b){f+=q.Qd(a);d+=b;});a[b]=f/d;}});return a;},oJ:function(a){var b;b={};a.forEach(function(a){b[a]={};});l&&(m.YW(a),n.forEach(function(c){var d,f,k,g;d=l[c];if(d){f=0;k=0;z.Sc(d,function(a,b){f+=b;});g=Object.keys(d).map(Number);m.YW(g);for(var h=g.length-1,q=g[h],u=a.length-1;0<=u;u--){for(var t=a[u];q>=t&&0<=h;)(q=d[q])&&(k+=q),q=g[--h];b[t][c]=p.Jh(k/f*100);}}}));return b;}},a.state.addListener(f),a.jc.addListener(f),a.addEventListener(u.S.rn,f),{YI:"df",ct:function(a){var c,f,k,g;if(a.lower&&a.height>ba){a=a.height;a:{if(ea){c=n.length;for(var d=0;d<c;d++){f=n[d];if(f>=ea&&f<Y){k=y[f];if(g=k)b:{g=L.length;for(var p=k.length,h=0;h<g;h++)for(var q=L[h],u=q[0],q=q[1],m=0;m<p;m++)if(k[m]>=q&&0>=--u){g=!0;break b;}g=!1;}if(g&&Y!=f){t.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:f});b.Rm.set({reason:"droppedFrames",height:f});c=Y=f;break a;}}}ea=void 0;}c=Y;}a=a>=c;}else a=!1;return a;}};}Object.defineProperty(f,"__esModule",{value:!0});g=a(89);d=a(12);h=a(9);m=a(28);c=a(26);k=a(4);q=a(19);p=a(8);u=a(15);z=a(18);g.$F(b);f.Kzb=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(4);a=a(325);a=g.W.get(a.Nca);a;},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y,L,A,l,n;Object.defineProperty(f,"__esModule",{value:!0});b=a(148);d=a(9);h=a(12);m=a(56);c=a(26);g=a(2);k=a(4);q=a(114);p=a(8);u=a(45);z=a(16);y=a(39);L=a(57);a=a(20);n=k.W.get(a.De);n.register(g.I.cfa,function(a){var g;function f(){var a,d,f,k;a=n.startTime;d={browserua:p.Nj,browserhref:p.bZ.href,initstart:a,initdelay:n.endTime-a};(a=p.Jd.documentMode)&&(d.browserdm=""+a);"undefined"!==typeof J.nrdp&&J.nrdp.device&&(d.firmware_version=J.nrdp.device.firmwareVersion);z.Hy(h.config.ora)&&(d.fesn=h.config.ora);Object.assign(d,b.sta());f=p.ar&&p.ar.timing;f&&h.config.ggb.map(function(a){var b;b=f[a];b&&(d["pt_"+a]=b-c.q1a());});k=g.Xsa();Object.keys(k).forEach(function(a){return d["m_"+a]=k[a];});a=l.Jl("startup","info",d,m.lG.O4);A.tc(a);}l=k.W.get(L.Tn);A=k.W.get(y.Lj);g=k.W.get(q.ex);n.$J(function(){A.yc();u.zb(f);});a(d.wc);});},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(9);d=a(12);h=a(26);f.wwb=function(a){var c;c={UDb:a,era:!0,Fnb:!1,Veb:h.Vf(),load:function(a){(a||b.je)(b.wc);},save:function(){c.era=!0;},remove:function(a){c.era=!1;(a||b.je)(b.wc);},ZCb:d.config.uh.jE,qHb:!0};return c;};},function(g,f,a){var m,c,k,q;function b(a,b,f,g){var p,u,t;m.Ga(q.Ve(a)&&!q.isArray(a));g=g||"";p="";u=a.hasOwnProperty(k.Vi)&&a[k.Vi];u&&c.Sc(u,function(a,b){p&&(p+=" ");p+=a+'="'+h(b)+'"';});f=(b?b+":":"")+f;u=g+"<"+f+(p?" "+p:"");t=a.hasOwnProperty(k.Pq)&&a[k.Pq].trim&&""!==a[k.Pq].trim()&&a[k.Pq];if(t)return u+">"+h(t)+"</"+f+">";a=d(a,b,g+"  ");return u+(a?">\n"+a+"\n"+g+"</"+f+">":"/>");}function d(a,d,f){var k;m.Ga(q.Ve(a)&&!q.isArray(a));f=f||"";k="";c.Sc(a,function(a,g){var m;if("$"!=a[0])for(var p=c.u8(g),u=0;u<p.length;u++)if(g=p[u],k&&(k+="\n"),q.Ve(g))k+=b(g,d,a,f);else{m=(d?d+":":"")+a;k+=f+"<"+m+">"+h(g)+"</"+m+">";}});return k;}function h(a){if(q.Od(a))return c.L6(a);if(q.pa(a))return m.VQ(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";m.Ga(!1,"Invalid xml value.");return"";}Object.defineProperty(f,"__esModule",{value:!0});m=a(14);c=a(18);k=a(124);q=a(16);f.EHb=b;f.FHb=d;f.lKb=h;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(2);b=a(4);d=a(304);a=a(20);b.W.get(a.De).register(g.I.bfa,function(a){b.W.get(d.fea)().then(function(){a({X:!0});})["catch"](function(d){b.log.error("error in initializing indexedDb debug tool",d);a({X:!0});});});},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(28);d=a(9);h=a(12);m=a(2);c=a(468);k=a(33);q=a(8);g=a(4);a=a(20);p=g.W.get(a.De);k.QY&&p.register(m.I.ofa,function(a){q.Xm&&q.Xm.generateKey&&q.Xm.importKey&&q.Xm.unwrapKey?!k.Eg.Fda&&h.config.JH!=c.PM.MOa&&h.config.JH!=c.PM.fMa||q.$Y?(p.Nc("wcs"),b.YD(q.Xm.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){p.Nc("wcdone");a(d.wc);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=m.G.XZ:0<=b.indexOf("timeout waiting for iframe to load")&&(c=m.G.sSa);a({Y:c,Ra:b});})):a({Y:m.G.rSa}):a({Y:m.G.XZ});});},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});a(12);a(9);g=a(4);a(95);a(185);a(2);a(96);a(3);a=a(20);g.W.get(a.De);},function(g,f,a){var q,p,u,z,y;function b(a){var b,d;p.rI(a);if(u.Od(a)&&f.cLa.test(a)){b=a.split(".");if(4===b.length){for(var c=0;c<b.length;c++){d=u.Qd(b[c]);if(0>d||!y.qv(d,0,255)||1!==b[c].length&&0===b[c].indexOf("0"))return;}return a;}}}function d(a){var c;c=0;if(b(a)===a)return a=a.split("."),c+=u.Qd(a[0])<<24,c+=u.Qd(a[1])<<16,c+=u.Qd(a[2])<<8,c+u.Qd(a[3]);}function h(a){var b;p.rI(a);if(u.Od(a)&&a.match(f.dLa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=m(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?c(a):b,a=b.length,8===a)){for(;a--;)if(!y.qv(parseInt(b[a],16),0,q.$La))return;return b.join(":");}}}function m(a){var b;a=d(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function c(a){var b,c,d;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(d=0;d<c;d++)b.push("0");for(d=0;d<a.length;d++)b.push(a[d]);return b;}function k(a){return-1<<32-a;}Object.defineProperty(f,"__esModule",{value:!0});q=a(9);p=a(14);u=a(19);z=a(8);y=a(16);f.cLa=/^[0-9.]*$/;f.dLa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;f.DA="0000000000000000";f.bzb=b;f.Yyb=d;f.czb=h;f.$yb=m;f.azb=c;f.dzb=function(a,c,g){var p,q,u,m;p=b(a);q=h(a);u=b(c);m=h(c);if(!p&&!q||!u&&!m||p&&!u||q&&!m)return!1;if(a===p)return g=k(g),(d(a)&g)!==(d(c)&g)?!1:!0;if(a===q){a=a.split(":");c=c.split(":");for(p=z.Rw(g/f.DA.length);p--;)if(a[p]!==c[p])return!1;g%=f.DA.length;if(0!==g)for(a=parseInt(a[p],16).toString(2),c=parseInt(c[p],16).toString(2),a=f.DA.substring(0,f.DA.length-a.length)+a,c=f.DA.substring(0,f.DA.length-c.length)+c,p=0;p<g;p++)if(a[p]!==c[p])return!1;return!0;}return!1;};f.Zyb=k;},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(4);d=a(14);a(18);h=a(19);m=a(2);c=a(33);k=a(45);q=a(8);a(16);p=a(130);f.MHb=function(a,f){var t,z,l;function g(a){var b;b=f;f=h.je;b(a);}function u(a){var b,c,f,p;try{b=JSON.parse(a.data);c=b.method;f=b.success;p=b.payload;d.Ga("ready"==c);"ready"==c&&(z.removeEventListener("message",u),l.Vg(),k.zb(function(){t.info("Plugin sent ready message");f?g({success:!0,pluginObject:z,pluginVersion:p&&p.version}):g({Y:m.G.gha,Ec:b.errorCode});}));}catch(R){t.error("Exception while parsing message from plugin",R);g({Y:m.G.hha});}}t=b.Jf("Plugin");d.Ga(a);if(a){a=a[0].type;t.info("Injecting plugin OBJECT",{Type:a});z=h.createElement("OBJECT",c.Eg.EOa,void 0,{type:a,"class":"netflix-plugin"});z.addEventListener("message",u);l=b.W.get(p.XA)(8E3,function(){t.error("Plugin load timeout");g({Y:m.G.jha});});q.Jd.body.appendChild(z);l.ss();}else g({Y:m.G.iha});};f.OHb=function(){};f.NHb=function(a){var c,d,f;c=b.Jf("Plugin");d=1;f={};a.addEventListener("message",function(a){var b,d,k,g;try{b=JSON.parse(a.data);d=b.success;k=b.payload;g=f[b.idx];g&&(d?g({X:!0,bEb:k}):g({X:!1,Y:m.G.COa,Ra:b.errorMessage,Ec:b.errorCode}));}catch(W){c.error("Exception while parsing message from plugin",W);}},!1);return function(k,g,h){var u,t,z,y;function q(a){a.X||c.info("Plugin called back with error",{Method:k},m.Sn(a));z.Vg();delete f[u];h(a);}try{u=d++;t={idx:u,method:k};t.argsObj=g||{};z=b.W.get(p.XA)(8E3,function(){c.error("Plugin never called back",{Method:k});delete f[u];h({Y:m.G.DOa});});z.ss();y=JSON.stringify(t);f[u]=q;a.postMessage(y);}catch(R){c.error("Exception calling plugin",R);h({Y:m.G.FOa});}};};},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(4);f=a(95);a=a(185);g.W.get(f.GA).rV(a.Wfa.sGa,function(a){var b,f;b=a.level;if(!J._cad_global.config||b<=J._cad_global.config.kgb){a=a.uW();f=J.console;1>=b?f.error(a):2>=b?f.warn(a):f.log(a);}});},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(19);d=a(8);f.JCb=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};f.HCb=function(a,d,c){c=b.Od(c)?c:"...";return a.length<=d?a:a.substr(0,a.length-(a.length+c.length-d))+c;};f.ICb=function(a,b){var f;for(var c=1;c<arguments.length;++c);f=d.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof f[b]?f[b]:a;});};f.KCb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};f.DKb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,d){b[d]=a.charCodeAt(0);});return b;};},function(g){function f(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}g.T={z1a:function(a,b,f){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return f.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},j3:function(a,b,f){var c;c={};c.displayTime=a.Ei;c.duration=a.duration;c.originX=a.EU;c.originY=a.FU;c.sizeX=a.aW;c.sizeY=a.bW;c.imageData=b;c.id=a.Vp;c.rootContainerExtentX=f.AV;c.rootContainerExtentY=f.BV;return c;},L$a:function(a,b){return"o_"+a+"s_"+b;},XDa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},Rb:function(a){return"undefined"!==typeof a;},Yob:function(a,b){return a.some(function(a){return a.id===b;});},N6a:function(d,g){return d.filter(f.bind(null,g)).map(a).reduce(b,0);},kJ:function(a,b){var d,c;d=Object.create({});for(c in a)d[c]=a[c];a instanceof Error&&(d.message=a.message,d.stack=a.stack);d.errorString=b;return d;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g){function f(a){this.buffer=a;this.position=0;}f.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},oj:function(){return this.buffer.length-this.position;},fe:function(){return this.buffer[this.position++];},rd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},kc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},wq:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},H$:function(){for(var a="",b;b=this.fe();)a+=String.fromCharCode(b);return a;},Ab:function(){return this.kc(2);},Na:function(){return this.kc(4);},Of:function(){return this.kc(8);},lV:function(){return this.kc(2)/256;},aL:function(){return this.kc(4)/65536;},$e:function(a){for(var b,d="";a--;)b=this.fe(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;},Zv:function(){return this.$e(4)+"-"+this.$e(2)+"-"+this.$e(2)+"-"+this.$e(2)+"-"+this.$e(6);},bL:function(a){for(var b=0,d=0;d<a;d++)b+=this.fe()<<(d<<3);return b;},yz:function(){return this.bL(4);},pF:function(a){this.Nq(a,2);},Oq:function(a){this.Nq(a,4);},HM:function(a){this.buffer[this.position++]=a;},Nq:function(a,b){this.position+=b;for(var d=1;d<=b;d++)this.buffer[this.position-d]=a&255,a=Math.floor(a/256);},Mq:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},mA:function(a){for(var b=a.length,d=0;d<b;d++)this.buffer[this.position++]=a[d];},nA:function(a,b){this.mA(a.rd(b));}};g.T=f;},function(g,f,a){var E,r,R,ba,Y,ea;function b(a){E.call(this);this.x$a=q;this.Ai=a.url;this.fH=a.request;this.kP=a.Fd||0;this.VO=a.Qg;this.sb=a.ia;this.fj=this.ih=null;this.HG={};this.Xt=0;this.VG=a.bufferSize||4194304;this.q0={};this.xma=a.version||1;a.key&&(this.aka=a.crypto,this.nx=this.aka.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.Go?this.ih=a.Go:(this.zd=a.offset,this.qXa=a.size);}function d(){}function h(){}function m(a,b){var f,k,g,p,h,q,u,m;if(a)this.emit(Y.ERROR,ba.kJ(a,ea.gMa));else try{if(2===this.xma){k=new d();g=R.F$(b)[0];p=g.$u("636F6D2E-6E65-7466-6C69-782E68696E66");h=g.$u("636F6D2E-6E65-7466-6C69-782E6D696478");k.ZS=p.zna;k.Jg=p.Jg;k.xn=p.xn;k.M=p.M;k.AV=p.AV;k.BV=p.BV;k.language=p.Ueb;k.psb=p.Rrb;k.startOffset=h.lpb;q=[];u=0;for(a=0;a<h.he.length;a++){m=h.he[a];b={};b.duration=m.duration;b.size=m.size;q.push(b);u+=b.duration;}k.entries=q;k.endTime=u;f=k;}else{q=new r(b);u=new d();u.identifier=q.wq(4);ba.assert("midx"===u.identifier);u.version=q.kc(4);ba.assert(0===u.version);u.ZS=q.rd(36);u.Jg=q.Of();u.xn=q.Of();u.M=q.Of();u.AV=q.Ab();u.BV=q.Ab();u.language=q.rd(16);u.psb=q.rd(16);u.startOffset=q.Of();u.Mp=q.Ab();k=[];for(m=h=0;m<u.Mp;m++)a={},a.duration=q.kc(4),a.size=q.Ab(),k.push(a),h+=a.duration;u.entries=k;u.endTime=h;f=u;}this.ih=f;c.call(this);}catch(ja){this.emit(Y.ERROR,ba.kJ(ja,ea.hMa));}}function c(){var a,b;a=this.ih;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Ai,offset:b,size:a},this.emit(Y.iMa,this.ih),this.fH(b,k.bind(this))):this.emit(Y.ERROR,ba.kJ({},ea.rNa));}function k(a,b){var c,d,f,k;c=this;if(a)c.emit(Y.ERROR,ba.kJ(a,ea.wQa));else{d=0;f=[];k=0;try{c.ih.entries.forEach(function(a){var g,p,q,u,m,z,y;p=d;q=c.ih.ZS;u=c.sb;if(2===c.xma){g=new h();m=R.F$(b);g.entries=[];g.images=[];for(var t=0;t<m.length;t++)for(q=m[t],p=q.$u("636F6D2E-6E65-7466-6C69-782E73696478"),q=q.$u("636F6D2E-6E65-7466-6C69-782E73656E63"),u=0;u<p.Fn.length;u++){z={};y=p.Fn[u];z.Ei=y.Ei;z.duration=y.duration;z.EU=y.EU;z.FU=y.FU;z.aW=y.aW;z.bW=y.bW;z.Vp=y.Vp;z.mD=y.mD;if(y=q&&q.Fn[u])z.CR={tv:y.tv.slice(0),mode:y.Tqa};g.entries.push(z);}}else{g=new r(b);m=new h();t=0;g.position=p;m.identifier=g.wq(4);ba.assert("sidx"===m.identifier);m.ZS=g.rd(36);ba.z1a(m.ZS,q,u);m.duration=g.kc(4);m.Mp=g.Ab();m.entries=[];for(m.images=[];t<m.Mp;)p={},p.Ei=g.kc(4),p.duration=g.kc(4),p.EU=g.Ab(),p.FU=g.Ab(),p.aW=g.Ab(),p.bW=g.Ab(),p.Vp=g.Of(),p.mD=g.kc(4),t++,m.entries.push(p);g=m;}f.push(g);a.$aa=g;g.D$=k;g.ZK=k+a.duration;k=g.ZK;m=g.entries;m.length&&(g.startTime=m[0].Ei,g.endTime=m[m.length-1].Ei+m[m.length-1].duration);d+=a.size;});}catch(ha){c.emit(Y.ERROR,ba.kJ(ha,ea.xQa));return;}c.fj=f;c.emit(Y.yQa,this.fj);a=p.call(c,c.kP,2);a.length?L.call(c,a,c.kP,function(a){a&&c.sb.error("initial sidx download failed");c.emit(Y.fia);}):c.emit(Y.fia);}}function q(a){var b,c,d,f,k;b=p.call(this,a,2);c=(c=this.ih)?c.endTime:void 0;if(a>c)return[];d=this.HG.Aq;f=this.HG.index;c=[];f=ba.Rb(f)&&this.fj[f+1];if(!(f&&f.entries.length||d&&!(a>d.endTime)))return[];b.length&&L.call(this,b,a);d&&d.images.length&&(c=z(d,a,[],this.ih));f&&f.images.length&&(b=z(f,a,c,this.ih),c.push.apply(c,b));b=y(c);if(this.fj&&0!=this.fj.length){c=this.fj[Math.floor(a/6E4)];if(!(c.D$<=a&&a<=c.ZK))a:{c=this.fj.length;if(!this.b8a){this.b8a=!0;b:{try{k=String.fromCharCode.apply(String,this.ih.language);break b;}catch(ha){}k="";}this.sb.error("bruteforce search for ",{movieId:this.ih.M,packageId:this.ih.xn,lang:k});}for(k=0;k<c;k++)if(d=this.fj[k],d.D$<=a&&a<=d.ZK){c=d;break a;}c=void 0;}k=c;}else k=void 0;if(c=k&&0<k.entries.length&&0===k.images.length)a:{c=k.entries.length;for(f=0;f<c;f++)if(d=k.entries[f],d.Ei<=a&&d.Ei+d.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function p(a,b){var c,k;c=[];if(a=u.call(this,a))this.HG=a;else return this.HG={},c;for(var d=0,f=this.fj?this.fj.length:0;d<b&&a.index+d<f;){k=this.fj[a.index+d];k&&!k.images.length&&c.push(k);d++;}return c;}function u(a){var b,c,d,f,k,g,p;c=this.HG;d=c.Aq;f=c.index;k=this.fj;this.Kg(ba.Rb(a));d&&(0===f&&a<=d.startTime?(p=!0,b=c):a>=d.startTime&&a<=d.endTime?(p=!0,b=c):(g=k[f-1],k=k[f+1],g&&a>g.endTime&&a<=d.startTime?(p=!0,b=c):k&&a>=d.endTime&&a<=k.endTime&&(p=!0,b={Aq:k,index:f+1})));if(!p)for(c=this.ih.entries,d=c.length,f=0;f<d;f++)if(g=c[f].$aa,a<=g.startTime||a>g.startTime&&a<=g.endTime){b={Aq:c[f].$aa,index:f};break;}return b;}function z(a,b,c,d){var f,k,g,p,h,q;f=a.entries;k=f.length;g=[];h=0;if(!f.length)return g;for(;h<k;){p=f[h];if(p.Ei<=b)p.Ei+p.duration>=b&&g.push(ba.j3(p,a.images[h].data,d));else{q=g.length&&g[g.length-1]||c.length&&c[c.length-1];if(q&&q.Ei>b&&q.Ei!==p.Ei)break;q.Vp!==p.Vp&&g.push(ba.j3(p,a.images[h].data,d));}h++;}return g;}function y(a){return a.map(function(b,c){b.duration+=ba.N6a(a.slice(c+1),b);return b;}).reduce(function(a,b){ba.Yob(a,b.id)||a.push(b);return a;},[]);}function L(a,b,c){var d,f,k,g,p,h;d=this;f=a[0];k=a[a.length-1];0<f.entries.length&&(g=f.entries[0].Vp,p=f.entries[f.entries.length-1]);0<k.entries.length&&(ba.Rb(g)||(g=k.entries[0].Vp),p=k.entries[k.entries.length-1]);if(g){f=p.Vp+p.mD-g;h=ba.L$a(g,f);d.q0[h]||(d.q0[h]=!0,A.call(d,a,b),d.fH({url:d.Ai,offset:g,size:f},function(b,f){var k,p,q,u;setTimeout(function(){delete d.q0[h];},1E3);if(b)c&&c(b);else{k=new r(f);p=0;u=[];a.forEach(function(a){a.entries.forEach(function(b,c){var f,h;k.position=b.Vp-g;f={data:k.rd(b.mD)};h=b.CR;h&&(f.tv=h.tv,f.Tqa=h.mode,q=!0,u.push(f));a.images[c]=f;!b.CR&&ba.XDa(a.images[c].data,d.Kg.bind(d));p+=a.images[c].data.length;});});d.Xt+=p;q?d.nx.then(function(a){return W.call(d,u,a);}).then(function(){c&&c(null);})["catch"](function(a){d.sb.error("decrypterror",a);c&&c({X:!1});}):c&&c(null);}}));}else c&&c(null);}function A(a,b){var k,g,p,h,q,m;function c(){return{pts:b,hasEnoughSpace:k.Xt+g<=k.VG,required:g,currentSize:k.Xt,max:k.VG,currentIndex:u.call(k,b).index,sidxWithImages:n.call(k),newSidxes:a.map(function(a){return k.fj.indexOf(a);})};}function d(a,b){k.VO&&!a&&k.sb.info("not done in iteration",b);}function f(a){var b,c,d;b=k.fj[a];c=b.images&&b.images.length;if(0<c){d=l([b]);b.images=[];k.Xt-=d;k.VO&&k.sb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:d,images:c});if(k.Xt+g<=k.VG)return!0;}}k=this;g=l(a);k.sb.info("make space start:",c());if(!(k.Xt+g<=k.VG)){p=u.call(k,b).index;h=!1;q=0;m=k.fj.length-1;if(0>p){k.sb.error("inconsistent sidx index");return;}for(;!h&&q<p-2;)h=f(q),q++;for(d(h,1);!h&&m>p+2;)h=f(m),m--;for(d(h,2);!h&&q<p;)h=f(q),q++;for(d(h,3);!h&&m>p;)h=f(m),m--;d(h,4);h||k.sb.error("could not make enough space",{maxBuffer:this.VG});}k.sb.info("make space end",c());}function l(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.mD+a;},0);},0);}function n(){var a;a=[];this.ih&&this.ih.entries&&this.ih.entries.reduce(function(b,c,d){var f;c=c.$aa;f=0;c&&c.images.length&&(a.push(d),f=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+f;},0);return a.join(", ");}function S(a,b){return a&&a.D$<=b&&a.ZK>=b;}function Q(a,b){var c,d,f,k,g,p;c=this;d=c.ih;f=c.fj;k=f&&f.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(d&&f){if(0===k)return[];d=f[0].duration;if(ba.Rb(d)&&0<d)d=Math.floor(a/d),g=d<k&&S(f[d],a)?f[d]:void 0;else for(c.VO&&c.sb.warn("duration not defined, so use brute force to get starting sidx"),d=0;d<k;d++){p=f[d];if(S(p,a)){g=p;break;}}if(ba.Rb(g)){g=[];for(var h=function(c){var d;d=c.Ei<=a&&a<=c.Ei+c.duration;return a<=c.Ei&&c.Ei<=b||d;};d<k;){p=f[d];g=g.concat(p.entries.filter(h));if(b<p.ZK)break;d++;}g=g.map(function(a){return ba.j3(a,null,c.ih);});return y(g);}}}function W(a,b){var d,f;function c(a,b){var c,d;c=this;d=new Uint8Array(16);d.set(a.tv);return c.aka.decrypt({name:"AES-CTR",counter:d,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));ba.XDa(a.data,c.Kg.bind(c));});}d=this;try{f=[];a.forEach(function(a){a.tv&&(a=c.call(d,a,b),f.push(a));});return(void 0).all(f);}catch(O){return d.sb.error("decrypterror",O),(void 0).reject(O);}}E=a(144).EventEmitter;r=a(513);R=a(297);ba=a(512);Y=b.events={iMa:"midxready",yQa:"sidxready",fia:"ready",ERROR:"error"};ea=b.aGb={gMa:"midxdownloaderror",hMa:"midxparseerror",rNa:"nosidxfoundinmidx",wQa:"sidxdownloaderror",xQa:"sidxparseerror"};b.prototype=Object.create(E.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.ih)this.sb.warn("midx was prefectched and provided"),c.call(this);else{a={url:this.Ai,offset:this.zd,size:this.qXa,responseType:"binary"};this.sb.warn("downloading midx...");this.fH(a,m.bind(this));}};b.prototype.close=function(){};b.prototype.Kg=function(a){this.VO&&ba.assert(a,this.sb);};b.prototype.ev=function(a,b){return Q.call(this,a,b);};b.prototype.f6=function(a,b){return(a=this.ev(a,b))?a.length:a;};g.T=b;},function(g,f,a){var h;function b(a,b){return b.reduce(d.bind(this,a),[]);}function d(a,b,d){var c,f;c=d.displayTime-a;a=d.displayTime+d.duration-a;f=0<b.length?b[0].timeout:Infinity;return 0<c&&c<f?[{timeout:c,type:"showsubtitle",$d:d}]:c===f?b.concat([{timeout:c,type:"showsubtitle",$d:d}]):0<a&&a<f?[{timeout:a,type:"removesubtitle",$d:d}]:a===f?b.concat([{timeout:a,type:"removesubtitle",$d:d}]):b;}h=a(144).EventEmitter;f=a(255)({});a=function c(a,b,d){if(!(this instanceof c))return new c(a,b,d);h.call(this);this.or=a;this.nUa=b;this.Dr={};this.IB={};this.sb=d||console;this.qO=!1;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Tj);Object.keys(a.Dr).forEach(function(b){a.emit("removesubtitle",a.Dr[b]);});a.Dr={};};a.prototype.pause=function(){clearTimeout(this.Tj);};a.prototype.ap=function(a,d){var c,f;c=this;f=c.or();clearTimeout(this.Tj);a=c.nUa(f);null!==a&&c.qO&&(c.qO=!1,c.emit("bufferingComplete"));d="number"===typeof d?d:0;Object.keys(c.Dr).forEach(function(a){a=c.Dr[a];a.displayTime<=f&&f<a.displayTime+a.duration||(delete c.Dr[a.id],c.emit("removesubtitle",a));});Object.keys(c.IB).forEach(function(a){a=c.IB[a];f>=a.displayTime+a.duration&&delete c.IB[a.id];});null!==a&&0<a.length?(d=a.length,c.sb.info("found "+d+" entries for pts "+f),a.forEach(function(a){a.displayTime<=f&&f<a.displayTime+a.duration&&!c.Dr[a.id]&&(c.emit("showsubtitle",a),c.Dr[a.id]=a,delete c.IB[a.id]);}),d=a[a.length-1],c.Dr[d.id]||c.IB[d.id]||(c.emit("stagesubtitle",d),c.IB[d.id]=d),d=b(f,a),0<d.length?c.sP(d[0].timeout):c.sP(2E4)):null===a?(a=250*Math.pow(2,d),2E3<a&&(a=2E3),c.sb.warn("checking buffer again in "+a+"ms"),c.qO||(c.qO=!0,c.emit("underflow")),c.sP(a,d+1)):c.sP(2E4);};a.prototype.sP=function(a,b){var c;c=this;c.sb.trace("Scheduling pts check.");c.Tj=setTimeout(function(){c.ap(c.or(),b);},a);};g.T=f(["function","function","object"],a);},function(g,f,a){var c,k,q;function b(a){var b;b=1;"dfxp-ls-sdh"===this.jP&&(b=a.rEb.length);this.sb.info("show subtitle called at "+this.or()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.du[this.du.length-1].UV+=b;}function d(a){this.sb.info("remove subtitle called at "+this.or()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function h(){this.sb.info("underflow fired by the subtitle timer");this.emit("underflow");}function m(){this.sb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}c=a(144).EventEmitter;k=a(515);f=a(255)();q=a(514);a=function u(a,f){var g,t;g=this;t=a.Qg||!1;if(!(g instanceof u))return new u(a,f);c.call(g);g.sb=a.ia||console;g.fH=a.request;g.or=a.ota;g.Tj=null;g.zr=!0;g.du=[];g.jP=f.profile;g.Ai=f.url;g.kP=f.Fd;g.xWa=f.Tlb;g.DTa=f.Zm;a={url:g.Ai,request:g.fH,Fd:g.kP,xml:f.xml,Tlb:g.xWa,Zm:g.DTa,ia:g.sb,Qg:t,bufferSize:f.bufferSize,crypto:f.crypto,key:f.key,Go:f.Go};if("nflx-cmisc"===g.jP)a.offset=f.oK,a.size=f.ZT,g.Bc=new q(a);else if("nflx-cmisc-enc"===g.jP)a.version=2,a.offset=f.oK,a.size=f.ZT,g.Bc=new q(a);else throw Error("SubtitleManager: "+g.jP+" is an unsupported profile");g.Bc.on("ready",function(){var a,c;a=!!f.g_a;g.sb.info("ready event fired by subtitle stream");g.emit("ready");c=g.Bc.x$a.bind(g.Bc);g.Tj=new k(g.or,c,g.sb);g.Tj.on("showsubtitle",b.bind(g));g.Tj.on("removesubtitle",d.bind(g));g.Tj.on("underflow",h.bind(g));g.Tj.on("bufferingComplete",m.bind(g));a&&(g.sb.info("autostarting subtitles"),setTimeout(function(){g.ap(g.or());},10));});g.Bc.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(c.prototype);a.prototype.start=function(){this.Bc.start();};a.prototype.ap=function(a){this.zr&&(this.zr=!1,this.sb.info("creating a new subtitle interval at "+a),this.du.push({U:a,UV:0}));null!==this.Tj&&this.Tj.ap(a);};a.prototype.stop=function(){var a;this.or();this.sb.info("stop called");this.zr||this.pause();this.Bc.removeAllListeners(["ready"]);null!==this.Tj&&this.Tj.stop();a=this.du.reduce(function(a,b){a.SBa+=b.UV;a.UI+=b.fra;a.Udb.push(b);return a;},{SBa:0,UI:0,Udb:[]});"object"===typeof this.Bc&&this.Bc.close();this.sb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.or();if(this.zr)this.sb.warn("pause called on subtitle manager, but it was already paused!");else{this.sb.info("pause called at "+a);this.zr=!0;this.sb.info("ending subtitle interval at "+a);b=this.du[this.du.length-1];b.ba=a;b.ba<b.U&&(this.sb.warn("correcting for interval where endPts is smaller than startPts"),b.U=0<b.ba?b.ba-1:0);b.fra=this.Bc.f6(b.U,b.ba);this.sb.info("showed "+b.UV+" during this interval");this.sb.info("expected "+b.fra+" for this interval");}null!==this.Tj&&this.Tj.pause();};a.prototype.ev=function(a,b){return this.Bc.ev(a,b);};a.prototype.f6=function(a,b){return this.Bc.f6(a,b);};a=f([{request:"function",ota:"function",ia:"object"},"object"],a);g.T=a;},function(g,f,a){var d,h,m,c,k,q;function b(a,b,d,f){a=c.ve.call(this,a,void 0===f?"AppInfoConfigImpl":f)||this;a.config=b;a.Wba=d;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(51);m=a(34);c=a(36);k=a(27);a=a(219);aa(b,c.ve);oa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},Wqa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq"+(this.Wba.HW?"/msl_v1":"");}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.OI){case h.At.cRa:a="www.stage";break;case h.At.Tia:a="www-qa.test";break;case h.At.xfa:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},Rna:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});q=b;g.__decorate([m.config(m.string,"apiEndpoint")],q.prototype,"endpoint",null);g.__decorate([m.config(m.string,"nqEndpoint")],q.prototype,"Wqa",null);g.__decorate([m.config(m.string,"bindService")],q.prototype,"Rna",null);q=g.__decorate([d.N(),g.__param(0,d.l(k.cj)),g.__param(1,d.l(h.rm)),g.__param(2,d.l(a.aO)),g.__param(3,d.l(k.tA)),g.__param(3,d.optional())],q);f.UEa=q;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(517);d=a(85);g=a(1);f.u1=new g.Yb(function(a){a(d.qt).to(b.UEa).Z();});},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(2);d=[b.I.HKa,b.I.jfa,b.I.hfa,b.I.ifa,b.I.ofa,b.I.dfa,b.I.bfa,b.I.FY,b.I.pfa,b.I.efa,b.I.Xea,b.I.$ea,b.I.cfa,b.I.Et,b.I.Yea,b.I.afa,b.I.lfa,b.I.mfa,b.I.nfa,b.I.IKa,b.I.KKa,b.I.OKa,b.I.MKa,b.I.LKa,b.I.JKa,b.I.NKa,b.I.kfa,b.I.gfa,b.I.ffa,b.I.Zea];(function(a){a.BNa=function(a){var f;for(var c={},d=0;d<a.length;d++){f=a[d];if(c[f.errorCode])return{errorCode:f.errorCode,Y:b.G.CEa};c[f.errorCode]=1;}};a.CNa=function(a){var f;for(var c=0;c<a.length;c++){f=a[c];if(-1===d.indexOf(f.errorCode))return{errorCode:f.errorCode,Y:b.G.DEa};}};}(h||(h={})));f.imb=function(a){return new Promise(function(b,f){var c;c=h.CNa(a);c&&f(c);(c=h.BNa(a))&&f(c);b(a.sort(function(a,b){return d.indexOf(a.errorCode)-d.indexOf(b.errorCode);}));});};},function(g,f,a){var d,h,m,c,k,q,p,u,z,y,l,A,B;function b(a,b,c,d,f,k){var g;g=this;this.ji=a;this.config=c;this.yj=d;this.debug=f;this.ya=k;this.YCa=[];this.zc={};this.log=b.lb("loadAsync");this.Agb=l.MJa(function(a){g.Gnb=!0;g.startTime=g.ya.cc().fa(z.ma);g.load(g.YCa).then(function(){g.endTime=g.ya.cc().fa(z.ma);a(B.wc);})["catch"](function(b){g.endTime=g.ya.cc().fa(z.ma);a(b);});});}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(114);h=a(2);m=a(519);c=a(60);k=a(1);q=a(7);p=a(17);u=a(62);z=a(3);y=a(86);l=a(256);A=a(23);B=a(9);b.prototype.$J=function(a){this.Agb(a);};b.prototype.register=function(a,b){this.debug.assert(!this.Gnb);this.YCa.push({Mfb:this.y0a(b),errorCode:a});};b.prototype.Nc=function(a){this.debug.assert(void 0===this.zc[a]);this.zc[a]=this.ya.cc().fa(z.ma);};b.prototype.load=function(a){var b;b=this;return m.imb(a).then(function(a){b.ji.mark(c.Xc.ri.IEa);return a.reduce(function(a,c){return a.then(function(){return b.Ifb(c);});},Promise.resolve()).then(function(){b.ji.mark(c.Xc.ri.GEa);});});};b.prototype.Ifb=function(a){var b,d;b=this;d=a.Mfb;return this.yj.gl(z.Cb(this.config().MZa),d())["catch"](function(d){b.log.error("Failed to load component "+a.errorCode,d);b.ji.mark(c.Xc.ri.HEa);if(d instanceof u.ym)throw{Y:h.G.FEa,errorCode:a.errorCode};d.errorCode=d.errorCode||a.errorCode;d.Y=d.Y||h.G.EEa;throw d;});};b.prototype.y0a=function(a){return function(){return new Promise(function(b,c){a(function(a){a.X?b():c(a);});});};};a=b;a=g.__decorate([k.N(),g.__param(0,k.l(d.ex)),g.__param(1,k.l(q.qb)),g.__param(2,k.l(p.gd)),g.__param(3,k.l(u.Xw)),g.__param(4,k.l(y.ut)),g.__param(5,k.l(A.Me))],a);f.nFa=a;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(520);d=a(20);f.NZa=new g.Yb(function(a){a(d.De).to(b.nFa).Z();});},function(g,f,a){var d;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.etb=function(a){return{JJ:a.initialSegment,he:this.itb(a.segments)};};b.prototype.itb=function(a){var b;b=this;return Object.keys(a).reduce(function(c,d){c[d]=b.ftb(a[d]);return c;},{});};b.prototype.ftb=function(a){var b;b={};b=a.next&&this.htb(a.next)||a.defaultNext&&(b[a.defaultNext]={},b)||void 0;return{Ic:a.viewableId,hm:a.startTimeMs,NC:a.endTimeMs,tI:a.defaultNext,next:b};};b.prototype.htb=function(a){var b;b=this;return Object.keys(a).reduce(function(c,d){c[d]=b.gtb(a[d]);return c;},{});};b.prototype.gtb=function(a){return{weight:a.weight,P6a:a.earliestSkipRequestOffset};};d=b;d=g.__decorate([a.N()],d);f.IPa=d;},function(g,f,a){var d,h,m,c;function b(a){return h.ve.call(this,a,"PlaylistConfigImpl")||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(36);m=a(27);a=a(34);aa(b,h.ve);oa.Object.defineProperties(b.prototype,{kza:{configurable:!0,enumerable:!0,get:function(){return 2;}},pca:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([a.config(a.uw,"prepareSegmentsUpfront")],c.prototype,"kza",null);g.__decorate([a.config(a.Wd,"usePlaylistForPostPlay")],c.prototype,"pca",null);c=g.__decorate([d.N(),g.__param(0,d.l(m.cj))],c);f.EPa=c;},function(g,f,a){var d,h;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(261);b.prototype.m4a=function(a){var f,g;for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];f=this;if(0===b.length)throw Error("Empty playlist");return{JJ:this.iS(b[0]),he:b.reduce(function(a,b){var c;c=f.iS(b);a[c]={Ic:b,hm:0};g&&(a[g].tI=c);g=c;return a;},{})};};b.prototype.iS=function(a,b){return a+":["+(void 0===b?0:b)+"..-1]";};b.prototype.oZa=function(a,b,d){d=void 0===d?this.iS(b.M,b.U):d;a=this.D2(a);a.he[d]={Ic:b.M,hm:b.U||0,Rqb:b.ba,ctb:h.Vha.Uga};return a;};b.prototype.Utb=function(a,b,d){a=this.D2(a);a.he[b].Rqb=d;return a;};b.prototype.nZa=function(a,b,d){var c,f;c=this.D2(a);f={};c.he[b].next=Object.assign({},a.he[b].next||{},(f[d]={},f));c.he[b].tI=d;return c;};b.prototype.D2=function(a){return JSON.parse(JSON.stringify(a));};a=b;a=g.__decorate([d.N()],a);f.FPa=a;},function(g,f,a){var d,h;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);b.prototype.create=function(b,c,d,f,g){return new(a(258)).iSa(b,c,d,f,g);};h=b;h=g.__decorate([d.N()],h);f.JPa=h;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.ZA||(f.ZA={});g[g.DNa=0]="None";g[g.IJa=1]="Fetching";g[g.DIa=2]="Done";g[g.Error=3]="Error";},function(g,f,a){var d,h,m,c,k;function b(a,b,c,d,f,k,g,h,m,t,l,n){b=void 0===b?{}:b;this.ya=d;this.eE=t;this.OK=l;this.dA=n;this.mF={};this.Mv={};this.gQ={};this.Hb=h.create();this.log=f.lb("PlaylistManager");this.FBa(a);this.Th=a.JJ;this.ez={ii:this.Mv[this.Th],ab:b};this.yq=g.h4a(m);this.gQ[this.Th]=this.isa(0);a=this.ya.cc();this.aEa=k.create(this.ha.Ic,Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||this.ha.hm,endPts:this.ha.NC,uiPlayStartTime:Date.now()},b,{isPlaylist:!0}),c,a,this);this.wqb();this.zva=this.Csa();}Object.defineProperty(f,"__esModule",{value:!0});d=a(49);h=a(526);m=a(15);c=a(261);k=a(3);b.prototype.Csa=function(){return this.Th;};b.prototype.Q5=function(){return this.Vv;};b.prototype.Raa=function(a){var d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;b.filter(function(a){return d.sL(a.ii);}).filter(function(a){a=a.uU;return!a||d.sL(a);}).forEach(function(a){d.Mv[a.ii]=d.Pxa(a.uU);});};b.prototype.l1a=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Ana(b);};b.prototype.kca=function(a){if(!this.sL(this.Th,a.he))throw Error("Provided playlistMap does not contain the current segmentId "+this.Th);this.FBa(a);};b.prototype.Iq=function(a,b){var c,d;c=this;d=this.gD(a);d&&d.next&&Object.keys(b).filter(function(a){return c.sL(a,d.next);}).forEach(function(a){return d.next[a].weight=b[a];});};b.prototype.Jta=function(a,b){var c,d,f;if(a!==this.Th)throw Error("Invalid currentSegmentId");if(b!==this.Mv[a])throw Error("Invalid nextSegmentId");c=this.mF[this.Vv.he[b].Ic];if(c.state===h.ZA.Error)return this.Sl().j.lcb(c.error),Promise.reject();c=this.gQ[b];if(!c)throw Error("Manifest for "+b+"  is not ready yet");d=this.Sl().j;f=d.ob;if(!f)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");this.log.debug("going to next segment: "+a+" -> "+b+" ("+c.id+" in ASE)");d.hn(c.da).Yo=this.ya.cc().fa(k.ma);if(f.p5(c.id))return this.log.debug("Segment is already pre-buffered - triggering a transition"),this.mcb(b);a=this.Q5().he[b].hm;this.log.debug("Segment is not pre-buffered - performing a regular seek");return Promise.resolve(this.Sl().seek(a,m.jg.$w,c.da,!0));};b.prototype.addListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.yS=function(){return this.yq.yS();};b.prototype.Sl=function(){return this.yq.Sl();};b.prototype.l1=function(a){var b,c;if(this.OK.pca&&this.yS()){this.log.info("Adding segment - movieId: "+a.M+", nextStartPts: "+a.U+", currentEndPts: "+a.ba);if(a.M===this.ha.Ic)return a.ba&&(a=this.eE.Utb(this.Vv,this.Th,a.ba),this.kca(a)),null;b=this.eE.iS(a.M,a.U);c=this.eE.nZa(this.eE.oZa(this.Vv,a,b),this.zva,b);this.kca(c);this.ez={ii:b,ab:a.ab||{}};this.zva=b;return this.ZU();}return this.yq.l1(a);};b.prototype.transition=function(a){if(this.OK.pca){a=this.Mv[this.Th];this.log.info("Transition initiated: "+this.Th+" -> "+a);if(a)return this.Jta(this.Th,a);this.log.error("Next segment is not defined");return Promise.reject();}return this.yq.transition(a);};b.prototype.close=function(a){return this.yq.close(a);};b.prototype.wqb=function(){var a;a=this;this.yq.addListener(m.rb.loaded,function(){return a.ZU();});this.addListener(m.mG.vL,function(){return a.Qjb();});this.yq.addListener(m.mG.vL,function(){return a.Hb.Ib(m.mG.vL);});Object.keys(m.rb).forEach(function(b){var c;c=m.rb[b];a.yq.addListener(c,function(b){return a.Hb.Ib(c,b);});});};b.prototype.mcb=function(a){var b,c,d,f,k,g;b=this;c=this.Sl().j;d=c.ob;if(!d)throw Error("No streaming session");f=this.gQ[a];if(!d.p5(f.id))throw Error("Segment is not pre-buffered");k=new Promise(function(a){function c(){b.log.debug("Stopped ASE");d.removeEventListener("stop",c);a();}d.addEventListener("stop",c);});g=new Promise(function(a){function f(){b.log.debug("Repositioned");c.removeEventListener(m.S.Bn,f);a();}function k(){b.log.debug("Repositioning");c.removeEventListener(m.S.Cz,k);d.stop();}c.addEventListener(m.S.Cz,k);c.addEventListener(m.S.Bn,f);});k=Promise.all([k,g]).then(function(){d.Fu(f.id,!1,!0);c.fireEvent(m.S.tU,{Th:b.Th,uU:a});});g=d.V2(f.da,this.Q5().he[a].hm);this.log.debug("Calling seek on internal player to "+g);this.Sl().seek(g,m.jg.UA,f.da,!0);return k;};b.prototype.Qjb=function(){var a;a=this.Sl().getError();a?this.Hb.Ib(m.rb.g2,a):(this.Hb.Ib(m.rb.Gna),this.Hb.Ib(m.rb.HH),this.Hb.Ib(m.rb.$z),this.Hb.Ib(m.rb.YE),this.Hb.Ib(m.rb.mM),this.Hb.Ib(m.rb.g2));};b.prototype.ZU=function(){var a;if(this.ez&&this.ez.ii){a=this.K$a(this.Th,this.ez.ii);if(0<a&&a<this.OK.kza)return this.amb(this.ez.ii,this.ez.ab);}else this.L8a();return Promise.resolve(!1);};b.prototype.amb=function(a,b){var g,p,q,t,l,n;function f(a){var b;b=void 0===a.metrics;g.dA.uza(a,g.Sl().j,b);q.removeEventListener(m.S.uL,f);}function k(b){b.index===t&&(g.Th=a,g.ZU(),q.removeEventListener(m.S.rn,k),g.Hb.Ib(m.mG.vL));}g=this;p=this.gD(a);q=this.Sl().j;b=Object.assign(b||{},{U:p.hm,ba:p.NC,$f:!1,yW:Date.now(),qT:!0});t=q.Qma(p.Ic,b);b=q.hn(t);this.log.debug("Creating new playback xid: "+b.oa+", movieId: "+b.M+", manifestIndex: "+b.da);q.addEventListener(m.S.rn,k);q.addEventListener(m.S.uL,f);this.ez={ii:this.Mv[a],ab:{}};b=p.ctb!==c.Vha.Uga;if(!b){l=function(){var a;a=g.Sl();2E3>=a.r5()-(a.s5()||0)&&q.vg&&(q.vg.xK({mediaType:d.pc.Ih.VIDEO}),q.vg.xK({mediaType:d.pc.Ih.AUDIO}),q.jc.set(m.nb.yd));};q.addEventListener(m.S.eo,l);n=function(a){a.index===t&&(q.removeEventListener(m.S.eo,l),q.removeEventListener(m.S.rn,n));};q.addEventListener(m.S.rn,n);}this.mF[p.Ic]={state:h.ZA.IJa};b=q.Kmb(t,b).then(function(){g.mF[p.Ic]={state:h.ZA.DIa};g.gQ[a]=g.isa(t);})["catch"](function(a){g.mF[p.Ic]={state:h.ZA.Error,error:a};throw a;});b.then(function(){return g.ZU();});return b.then(function(){return!0;})["catch"](function(){return!1;});};b.prototype.L8a=function(){var a;a=this.Sl().j;a.ob&&a.ob.gqb();};b.prototype.K$a=function(a,b){for(var c=0;a!==b&&void 0!==a;)c++,a=this.Mv[a];return a?c:-1;};b.prototype.FBa=function(a){var b;b=this;this.Vv=a;this.Mv={};a=Object.keys(this.Vv.he);a.map(function(a){a=b.Vv.he[a].Ic;b.mF[a]=b.mF[a]||{state:h.ZA.DNa};});this.Ana(a);};b.prototype.Ana=function(a){var b;b=this;a.filter(function(a){return b.sL(a);}).forEach(function(a){b.Mv[a]=b.Pxa(b.gD(a).tI);});};b.prototype.sL=function(a,b){b=void 0===b?this.Vv.he:b;return a in b;};b.prototype.Pxa=function(a){return null===a?void 0:a;};b.prototype.isa=function(a){return{id:"m"+a,da:a};};b.prototype.gD=function(a){return this.Vv.he[a];};oa.Object.defineProperties(b.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){return this.gD(this.Th);}}});f.HPa=b;},function(g,f,a){var d,h,m,c,k,q,p,u,z,y,l,A,B;function b(b,c,d,f,k,g,p,h,q,u){this.ya=b;this.uf=c;this.Elb=d;this.kpb=k;this.t4=g;this.OK=p;this.eE=h;this.dA=u;c=a(33).Vn;this.ipb=f.Zu(!1,"6.0018.593.011",b.id,c,q());}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(527);m=a(7);c=a(23);k=a(260);q=a(259);p=a(420);u=a(229);z=a(17);y=a(425);l=a(172);A=a(228);b.prototype.create=function(a,b,c){return new h.HPa(a,b,c,this.ya,this.uf,this.Elb,this.kpb,this.t4,this.ipb,this.eE,this.OK,this.dA);};B=b;B=g.__decorate([d.N(),g.__param(0,d.l(c.Me)),g.__param(1,d.l(m.qb)),g.__param(2,d.l(k.Wha)),g.__param(3,d.l(p.Dia)),g.__param(4,d.l(u.IZ)),g.__param(5,d.l(y.iN)),g.__param(6,d.l(q.Tha)),g.__param(7,d.l(l.yZ)),g.__param(8,d.l(z.gd)),g.__param(9,d.l(A.TZ))],B);f.GPa=B;},function(g,f,a){var b,d,h,m,c,k,q,p,u,z;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(262);d=a(528);h=a(260);m=a(525);c=a(172);k=a(524);q=a(523);p=a(259);u=a(257);z=a(522);f.Oi=new g.Yb(function(a){a(b.zZ).to(d.GPa).Z();a(h.Wha).to(m.JPa).Z();a(c.yZ).to(k.FPa).Z();a(p.Tha).to(q.EPa).Z();a(u.Uha).to(z.IPa).Z();});},function(g,f,a){var d,h,m,c,k,q,p,u,z,y;function b(a,b,d,f,g){d=u.RM.call(this,d,f,g)||this;d.config=a;d.Hc=b;d.log=h.Zf(d.j,"LegacyLicenseBroker");d.Pd=d.config().Pd;d.config().y$?c.dva()?d.GW=!0:d.log.error("Promise based eme requested but platform does not support it",{browserua:k.Nj}):d.GW=!1;return d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(2);h=a(4);m=a(113);c=a(28);k=a(8);q=a(1);p=a(184);u=a(263);z=a(77);aa(b,u.RM);b.prototype.kpa=function(a){var b;b=void 0===b?this.j:b;return new this.JK.xt(a,function(a){return b.Wm.mJ(a);},function(a){return b.Wm.release(a);},{Qg:!1,OJ:!1});};b.prototype.iI=function(b,c){var f,k,g,p,q,u;c=void 0===c?this.j:c;f=this;p=a(26).Vf;this.JK.xt||this.pd(d.I.Mw,d.G.UIa);g=h.Zf(c,"Eme");k=this.kpa(g);q=h.W.get(m.VA);u=q.gI(c.Lc.value.mc);q=q.mI(c.Bf.value.mc);return this.JK.zt(g,b,function(a){return c.Nc(a);},{Qg:!1,OJ:!1,fva:this.config().hi,eBa:{Zwa:this.config().dBa,xoa:this.config().saa},Qa:{getTime:p},kL:k,wza:this.GW,La:this.yb.La,fF:this.config().fF,lA:this.config().h4,onerror:function(a,b,c){return f.pd(a,b,c);},z9:function(a){return f.IS(a);},rlb:!0,XS:this.config().XS,Ena:u,$Da:q,oD:this.config().oD});};b.prototype.Pz=function(a){var b;b=this;return this.GW?new Promise(function(c,f){if(b.yb.La)b.yb.La.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.Gta(a);f({X:!1,code:d.I.lZ,Gc:c.Y,sg:c.Ec,Ra:c.Ra,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.ara=function(a){return{code:a.code,subCode:a.Gc,extCode:a.sg,edgeCode:a.$x,message:a.message,errorDetails:a.Ra,errorData:a.us,state:a.state};};b.prototype.Qaa=function(a,b,c){var f,k;function d(){k.lAa()["catch"](function(a){f.log.error("Unable to set the license",f.ara(a));a.cause&&a.cause.Ra&&(a.Ra=a.Ra?a.Ra+a.cause.Ra:a.cause.Ra);f.pd(a.code,a,a.sg);});}c=void 0===c?this.j:c;f=this;k=c.ef;this.log.info("Setting the license");c=b?function(){return Promise.resolve();}:function(){return k.Kf(f.H5(),a);};return(b?function(){return k.aEb(f.yb.La);}:function(){return k.create(f.Pd).then(function(){return Promise.resolve();});})().then(function(){return f.config().EBa?f.Pz(k.ek):Promise.resolve();}).then(c).then(function(){return f.config().EBa?Promise.resolve():f.Pz(k.ek);}).then(function(){f.log.info("license set");f.I4();f.yb.iEa.then(function(){f.config().yv&&(b||f.config().cJ)&&(f.mAa=J.setTimeout(d,f.config().yv));});})["catch"](function(a){f.log.error("Unable to set the license",f.ara(a));a.cause&&a.cause.Ra&&(a.Ra=a.Ra?a.Ra+a.cause.Ra:a.cause.Ra);if(b)throw Error(a&&a.message?a.message:"failed to set license");f.pd(a.code,a,a.sg);});};b.prototype.Hya=function(){return Promise.resolve();};b.prototype.E9=function(a){var f;function b(){var b;f.j.ef=f.iI(a.initDataType);b=[];f.j.No.forEach(function(a){b.push(h.Kk(a));});f.Qaa(b);}f=this;this.log.trace("Received event: "+a.type);this.WJ||(this.WJ=!0,this.JK.zt?this.j.No?c.q7(this.config())&&this.config().An&&this.Hc()?this.Hc().ssa(this.j.M).then(function(a){f.j.ef=a;return a.KKb.then(function(){var b;b=[];f.j.No.forEach(function(a){b.push(h.Kk(a));});return f.Qaa(b,!0).then(function(){var b;if(a.REb)f.pd(d.I.XIa);else{b=h.Zf(f.j,"Eme");a.zKb({log:b,DIb:function(a){return f.j.Nc(a);}},{kL:f.kpa(b),onerror:function(a,b,c){return f.pd(a,b,c);}});(b=a.TIb)&&f.IS(b);f.j.nv(a.zc||{});f.j.Px="videopreparer";}});});})["catch"](function(a){f.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.pd(d.I.rOa)):this.pd(d.I.Mw,d.G.VIa));};b.prototype.rAa=function(a){var b;a=void 0===a?this.j:a;a.ef=this.iI("cenc");b=[];a.No.forEach(function(a){b.push(h.Kk(a));});return this.Qaa(b,!1,a);};b.prototype.H5=function(){return this.config().cJ?z.Zi.It:z.Zi.wm;};oa.Object.defineProperties(b.prototype,{JK:{configurable:!0,enumerable:!0,get:function(){return a(33).Eg;}},bz:{configurable:!0,enumerable:!0,get:function(){return this.GW?"encrypted":this.yb.LX+"needkey";}}});y=b;g.__decorate([p.CT],y.prototype,"JK",null);g.__decorate([p.CT],y.prototype,"bz",null);y=g.__decorate([q.N()],y);f.ALa=y;},function(g,f,a){var d,h,m,c,k,q,p,u,z,y,l;function b(a,b,c,d,f,k,g,p){d=z.RM.call(this,d,f,k)||this;d.Pd=a;d.config=b;d.Hc=c;d.IC=g;d.S8=p;d.log=h.Zf(d.j,"LicenseBroker");d.WJ=new Set();d.Vwa=!1;return d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(2);h=a(4);m=a(28);c=a(9);k=a(438);q=a(3);p=a(1);u=a(184);z=a(263);y=a(77);l=a(15);aa(b,z.RM);b.prototype.E9=function(){var a,b;a=this;b=this.j.ha;this.WJ.has(b.M)||(this.WJ.add(b.M),(m.q7(this.config)&&this.config.An&&this.Hc()?this.Cab():Promise.reject())["catch"](function(){return a.sAa(b);}).then(function(){return a.qna(b);})["catch"](function(c){return a.pna(b,c);})["catch"](function(b){return a.pd(b.code,b,b.sg,a.j);}));};b.prototype.Cab=function(){var a,b;a=this;b=this.j.ha;return this.Hc().ssa(b.M).then(function(c){a.pza(c,b);b.Px="videopreparer";a.S8.Pz(c.ek);return c.A1().iM();})["catch"](function(b){a.log.warn("eme not in cache",b);throw b;});};b.prototype.r9a=function(a){var b;b={};a.forEach(function(a){b[k.B6a(a.Ohb)]=a.time.fa(q.ma);});return b;};b.prototype.vcb=function(a,b){this.log.trace("Key status",{viewable:a.M,keyId:h.Vr(b.uv),status:b.value});};b.prototype.pza=function(a,b){var d,f,k;d=this;b.ef=a;f={next:function(a){d.vcb(b,a);},error:c.je,complete:c.je};k={next:function(a){d.pd(a.code,a,a.sg,d.j);},error:c.je,complete:c.je};a.Oeb().subscribe(f);(a=a.TI())&&a.subscribe(k);};b.prototype.qna=function(a){var b;this.log.info("Successfully applied license for xid: "+a.oa+", viewable: "+a.M+", manifestIndex: "+a.da);b=a.ef;b&&b.Q7&&this.IS(b.Q7);this.nv(a);this.Pz();};b.prototype.pna=function(a,b){this.nv(a);throw b;};b.prototype.nv=function(a){a.ef&&a.nv(this.r9a(a.ef.zc));};b.prototype.sAa=function(a){var b,d;b=this;d={next:function(c){b.WJ.add(a.M);b.IS(c);},error:c.je,complete:c.je};return this.IC().then(function(c){var f;f={type:b.H5(),$S:h.Kk(a.No[0]),context:{Pd:b.Pd,La:b.yb.La},xg:{M:a.M,oa:a.oa,Mf:a.Mf,Yj:a.Yj,profileId:a.profile.id,tf:a.Ia.tf}};c.YJ().subscribe(d);return c.Kf(f,b.S8).xs(function(c){b.pza(c,a);b.j.fireEvent(l.S.ZJ,{da:a.da});return c.A1();}).iM();});};b.prototype.Pz=function(){var a;a=this;if(this.Vwa)this.log.trace("Media Keys already set");else{this.Vwa=!0;try{this.yb.La?this.yb.La.setMediaKeys(this.j.ef.ek).then(function(){a.I4();})["catch"](function(b){b=a.Gta(b);a.pd(d.I.lZ,b,b.Ec,a.j);}):this.I4();}catch(B){this.pd(d.I.lZ,B,void 0,this.j);}}};b.prototype.Hya=function(){var a,b;a=this;b=this.j.ha.ef;return b?this.IC().then(function(c){return new Promise(function(d){c.trb(b,a.S8).xs(function(a){return a.rZa();}).xs(function(b){a.log.trace("Fulfilled the last secure stop");a.config.hi&&a.j.aq.LV({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.config.hi&&a.j.aq.LV({success:b.X,ErrorCode:b.code,ErrorSubCode:b.Gc,ErrorExternalCode:b.sg,ErrorEdgeCode:b.$x,ErrorDetails:b.yC});d();},complete:function(){d();}});});}):Promise.resolve();};b.prototype.rAa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.sAa(a).then(function(){return b.qna(a);})["catch"](function(c){return b.pna(a,c);});};b.prototype.H5=function(){return this.config.cJ?y.Zi.It:y.Zi.wm;};oa.Object.defineProperties(b.prototype,{bz:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}}});a=b;g.__decorate([u.CT],a.prototype,"bz",null);a=g.__decorate([p.N()],a);f.CLa=a;},function(g,f,a){var d,h,m,c,k,q,p,u,z;function b(a,b,c,d,f,k){this.IC=a;this.Lg=b;this.Ze=c;this.config=d;this.YT=f;this.Hc=k;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(119);m=a(531);c=a(530);k=a(64);q=a(61);p=a(17);u=a(135);a=a(107);b.prototype.create=function(a,b,d){return a?new m.CLa(this.config().Pd,this.Lg,this.Hc,this.Ze,b,d,this.IC,this.YT()):new c.ALa(this.config,this.Hc,this.Ze,b,d);};z=b;z=g.__decorate([d.N(),g.__param(0,d.l(h.fN)),g.__param(1,d.l(k.Rn)),g.__param(2,d.l(q.ql)),g.__param(3,d.l(p.gd)),g.__param(4,d.l(u.ZF)),g.__param(5,d.l(a.YA))],z);f.BLa=z;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(277);d=a(532);f.qj=new g.Yb(function(a){a(b.Kfa).to(d.BLa);});},function(g,f,a){var d,h,m,c;function b(a){return h.ve.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(36);m=a(27);a=a(34);aa(b,h.ve);oa.Object.defineProperties(b.prototype,{HW:{configurable:!0,enumerable:!0,get:function(){return!0;}}});c=b;g.__decorate([a.config(a.Wd,"usesMsl")],c.prototype,"HW",null);c=g.__decorate([d.N(),g.__param(0,d.l(m.cj))],c);f.ORa=c;},function(g,f,a){var d,h,m,c,k;function b(a,b,c){this.receiver=b;this.Ed=c;this.log=a.lb("SslTransport");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(3);m=a(7);c=a(142);a=a(82);b.prototype.send=function(a,b){var c,d;c=this;d={url:a.url.href,AC:"nq-"+a.Ok,k$:JSON.stringify(b),JQ:a.timeout.fa(h.ma),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Ed.download(d,function(c){c.X?a(c):b(c);});}).then(function(d){d={status:"success",body:d.content};c.receiver.nE({command:a.Ok,inputs:b,outputs:d});return d;})["catch"](function(d){var f;if(!d.error)throw d.Gc=d.Y||d.Gc,c.receiver.nE({command:a.Ok,inputs:b,outputs:d}),d;f=d.error;f.Bj=d.Bj;c.log.error("Error sending SSL request",{subCode:f.Gc,data:f.content,message:f.message});c.receiver.nE({command:a.Ok,inputs:b,outputs:f});throw f;});};b.prototype.T2=function(){return{};};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(m.qb)),g.__param(1,d.l(c.PN)),g.__param(2,d.l(a.Jt))],k);f.bRa=k;},function(g,f,a){var d,h,m,c,k,q;function b(a,b,c){this.Tg=b;this.receiver=c;this.log=a.lb("MslTransport");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);m=a(111);c=a(3);a=a(142);k={license:!0};b.prototype.send=function(a,b){var d,f;d=this;f={wn:Object.assign({Ed:a.Ed,log:a.log,profile:a.profile},a.D_a),method:a.Ok,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.fa(c.ma),uM:a.profile.id,$nb:!k[a.Ok],u9:!!k[a.Ok],Ml:!0,aw:a.faa,headers:a.headers};return this.Tg.send(f).then(function(c){d.receiver.nE({command:a.Ok,inputs:b,outputs:c});return c;})["catch"](function(c){var f;if(!c.error)throw c.Gc=c.Y||c.Gc,d.receiver.nE({command:a.Ok,inputs:b,outputs:c}),c;f=c.error;f.Bj=c.Bj;d.log.error("Error sending MSL request",{mslCode:f.kq,subCode:f.Gc,data:f.data,message:f.message});d.receiver.nE({command:a.Ok,inputs:b,outputs:f});throw f;});};b.prototype.T2=function(){return{userTokens:this.Tg.Tg.getUserIdTokenKeys()};};q=b;q=g.__decorate([d.N(),g.__param(0,d.l(h.qb)),g.__param(1,d.l(m.JA)),g.__param(2,d.l(a.PN))],q);f.mNa=q;},function(g,f,a){var b,d,h,m,c;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(219);d=a(293);h=a(536);m=a(535);c=a(534);f.ktb=new g.Yb(function(a){a(b.aO).to(c.ORa).Z();a(d.Cga).to(h.mNa);a(d.Fia).to(m.bRa);a(d.Zia).Qf(function(a){return function(){return a.bc.get(b.aO).HW?a.bc.get(d.Cga):a.bc.get(d.Fia);};});});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.cPa="PboPingCommandSymbol";},function(g,f,a){var d,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.hOa,1,m.Mh.ping,m.kg.Yq,m.Mh.ping)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(38);c=a(73);a=a(43);aa(b,c.Dh);b.prototype.Ue=function(a,b,c,d){var f;f=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw f.gn(a);});};b.prototype.en=function(){return Promise.reject(Error("Links are unsupported with ping"));};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(a.tk))],k);f.bPa=k;},function(g,f,a){var d,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.uFa,2,m.Mh.bind,m.kg.Yq,m.Mh.bind)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(38);c=a(73);a=a(43);aa(b,c.Dh);b.prototype.Ue=function(a,b,c,d){var f;f=this;return this.send(a,b,"/bindDevice",c,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw f.gn(a);});};b.prototype.en=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(a.tk))],k);f.POa=k;},function(g,f,a){var d,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.PNa,2,m.Mh.uya,m.kg.Yq,m.Mh.uya)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(38);c=a(73);a=a(43);aa(b,c.Dh);b.prototype.Ue=function(a,b,c,d){var f;f=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw f.gn(a);});};b.prototype.en=function(){return Promise.reject(Error("Links are unsupported with pair"));};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(a.tk))],k);f.aPa=k;},function(g,f,a){var d,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.tFa,2,m.Mh.bind,m.kg.Yq,m.Mh.bind)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(38);c=a(73);a=a(43);aa(b,c.Dh);b.prototype.Ue=function(a,b,c,d){var f;f=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw f.gn(a);});};b.prototype.en=function(){return Promise.reject(Error("Links are unsupported with bind"));};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(a.tk))],k);f.OOa=k;},function(g,f,a){var d,h,m,c,k,q,p;function b(a,b,c,d,f,k,g){this.Hf=a;this.Ed=b;this.bl=c;this.g6a=d;this.mv=f;this.kub=k;this.WQ=g;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(85);m=a(91);c=a(294);k=a(116);q=a(82);p=a(429);a=a(70);b=g.__decorate([d.N(),g.__param(0,d.l(h.qt)),g.__param(1,d.l(q.Jt)),g.__param(2,d.l(m.Ww)),g.__param(3,d.l(c.qha)),g.__param(4,d.l(k.FA)),g.__param(5,d.l(p.cja)),g.__param(6,d.l(a.AF))],b);f.ROa=b;},function(g,f,a){var d,h,m,c,k,q;function b(a){return m.Nn.call(this,a,h.I.aJa,c.ol.NI,3,q.kg.HA)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(121);c=a(76);k=a(43);q=a(38);aa(b,m.Nn);b.prototype.rQ=function(a){return Object.assign({},m.Nn.prototype.rQ.call(this,a),{action:a.action});};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(k.tk))],a);f.pJa=a;},function(g,f,a){var d,h,m,c,k,q;function b(a){return m.Nn.call(this,a,h.I.qia,c.ol.splice,1,q.kg.HA)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(121);c=a(76);k=a(43);q=a(38);aa(b,m.Nn);a=b;a=g.__decorate([d.N(),g.__param(0,d.l(k.tk))],a);f.aRa=a;},function(g,f,a){var d,h,m,c,k,q;function b(a){return m.Nn.call(this,a,h.I.LY,c.ol.SJ,1,q.kg.HA)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(121);c=a(76);k=a(43);q=a(38);aa(b,m.Nn);a=b;a=g.__decorate([d.N(),g.__param(0,d.l(k.tk))],a);f.tLa=a;},function(g,f,a){var d,h,m,c,k,q;function b(a){return m.Nn.call(this,a,h.I.wia,c.ol.stop,3,q.kg.UY)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(121);c=a(76);k=a(43);q=a(38);aa(b,m.Nn);a=b;a=g.__decorate([d.N(),g.__param(0,d.l(k.tk))],a);f.hRa=a;},function(g,f,a){var d,h,m,c,k,q;function b(a){return m.Nn.call(this,a,h.I.sia,c.ol.start,3,q.kg.Yq)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(121);c=a(76);k=a(43);q=a(38);aa(b,m.Nn);a=b;a=g.__decorate([d.N(),g.__param(0,d.l(k.tk))],a);f.dRa=a;},function(g,f,a){var d,h,m;function b(a,b){this.oc=a;this.El=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(22);a=a(41);b.prototype.Xsb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.oc.KU(a.substring(a.indexOf("?")+1));});return{X:!0,ic:a.map(function(a,b){return{id:a.sessionId,xv:c[b].drmlicensecontextid,zD:c[b].licenseid};}),zv:a.map(function(a){return{data:b.El.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.$sb=function(a){return{X:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(h.af)),g.__param(1,d.l(a.Ij))],m);f.XOa=m;},function(g,f,a){var d,h,m;function b(a){this.Qa=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(42);m=a(3);b.prototype.Wsb=function(a){var b;b=this.Qa.Te.fa(m.xm);return{inputs:a.Jp.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.oa.toString(),mdxControllerEsn:a.iK};}),Lva:"standard"===a.wh.toLowerCase()?"license":"ldl"};};b.prototype.Zsb=function(a){var b,c,d,f;b=this;c=a.bpb||{};d=[];f=a.ic.map(function(f){var k;d.push(f.id);k=c[f.id];delete c[f.id];return{url:b.doa(f.xv,f.zD),echo:"sessionId",params:{sessionId:f.id,secureStop:k,secureStopId:k?f.zD:void 0,xid:a.oa.toString()}};});Object.keys(c).forEach(function(d){f.push({url:b.doa(a.ic[0].xv),echo:"sessionId",params:{sessionId:d,secureStop:c[d],secureStopId:void 0,xid:a.oa.toString()}});});return f;};b.prototype.doa=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.Jj))],a);f.WOa=a;},function(g,f,a){var d,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.qQa,3,m.Mh.Kf,m.kg.UY,m.Mh.Kf)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(38);c=a(73);a=a(43);aa(b,c.Dh);b.prototype.Ue=function(a,b,c){var d;d=this;return this.send(a,b,"/bundle",c).then(function(a){a=a.result;d.yoa(a);return a;})["catch"](function(a){throw d.gn(a);});};b.prototype.en=function(){return Promise.reject(Error("Links are unsupported with release"));};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(a.tk))],k);f.jPa=k;},function(g,f,a){var d,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.Mw,3,m.Mh.Kf,m.kg.Yq,m.Mh.Kf)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(38);c=a(73);a=a(43);aa(b,c.Dh);b.prototype.Ue=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.en=function(a,b,c,d){var f;f=this;c=c.I5(d.Lva).href;return this.send(a,b,c,d.inputs,"sessionId","license"===d.Lva?m.kg.Yq:m.kg.HA).then(function(a){a=a.result;f.yoa(a);f.T0a(a);return a;})["catch"](function(a){throw f.gn(a);});};b.prototype.T0a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(a.tk))],k);f.NOa=k;},function(g,f,a){var d,h,m,c,k,q,p,u,z,y,l,A,B,n,S;function b(a,b,c,d,f,k,g){a=z.Dh.call(this,a,h.I.MANIFEST,3,m.Mh.Ia,m.kg.Yq,m.Mh.Ia)||this;a.platform=b;a.config=c;a.WQ=d;a.H0a=f;a.slb=k;a.un=g;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(38);c=a(427);k=a(4);q=a(17);p=a(60);u=a(70);a(149);z=a(73);y=a(43);l=a(215);A=a(398);B=a(291);n=a(118);a=a(72);aa(b,z.Dh);b.prototype.Ue=function(a,b,c){var d;d=this;return this.Gab(c).then(function(f){return d.send(a,b,"/"+d.name,f,void 0,d.qbb(c.aJ));}).then(function(a){return a.result;})["catch"](function(a){throw d.gn(a);});};b.prototype.en=function(a,b,c,d){return this.Ue(a,b,d).then(function(a){c.$P(a.links);a.tf=c;return a;});};b.prototype.Gab=function(a){var b,d,f,g,h,q,u,m,t;b=this;d=a.Xa;f=Object.assign({},d.IH,d.fm);g={};h=a.Ic;g[h]={unletterboxed:!!f.preferUnletterboxed};q=this.config().rub?30:25;u=k.aD();m=u.Nbb().concat(u.Mbb()).concat(this.config().ht).concat(["BIF240","BIF320"]).filter(Boolean);t=this.config().bp?this.un.Q$a():Promise.resolve(c.oga.Pp());return Promise.all([u.fD(),u.pJ(),this.l$a(a.oa),t]).then(function(c){var k,u,t,z;k=P(c);c=k.next().value;u=k.next().value;t=k.next().value;k=k.next().value;z=u&&void 0!==u.SUPPORTS_SECURE_STOP?!!u.SUPPORTS_SECURE_STOP:void 0;u=u?u.DEVICE_SECURITY_LEVEL:void 0;c={type:"standard",viewableId:h,profiles:m,flavor:p.Xc.d2a(a.aJ),drmType:k,drmVersion:q,usePsshBox:!0,isBranching:!!a.Xa.$f,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().esb,imageSubtitleHeight:l.OZ.S5(),uiVersion:b.context.bl.dF,uiPlatform:b.context.bl.xW,clientVersion:b.platform.version,supportsPreReleasePin:b.config().uh.Yrb,supportsWatermark:b.config().uh.Zrb,showAllSubDubTracks:b.config().uh.Lqb||!!f.showAllSubDubTracks,packageId:b.$ab(d),deviceSupportsSecureStop:z,deviceSecurityLevel:u,videoOutputInfo:c,titleSpecificData:g,preferAssistiveAudio:!!f.assistiveAudioPreferred,preferredTextLocale:f.preferredTextLocale,preferredAudioLocale:f.preferredAudioLocale,isUIAutoPlay:!!f.isUIAutoPlay,challenge:t,isNonMember:b.context.bl.Dy,pin:d.Y9,desiredVmaf:b.config().oub?b.config().P5a:b.config().Q5a};d.gra&&(c.extraParams=d.gra);return c;});};b.prototype.$ab=function(a){if(this.config().gV.enabled){if(void 0!==a.xn)return a.xn;if(void 0!==this.config().gV.xn)return Number(this.config().gV.xn);}};b.prototype.qbb=function(a){switch(a){case p.Wn.wm:case p.Wn.hIa:return m.kg.Yq;case p.Wn.eia:case p.Wn.Bia:return m.kg.UY;case p.Wn.lha:return m.kg.HA;}};b.prototype.l$a=function(a){var b;b=this;return this.H0a.wsa().then(function(c){var d;d=a&&b.slb.dbb(a);d&&d.Cl("cad");return c;});};S=b;S=g.__decorate([d.N(),g.__param(0,d.l(y.tk)),g.__param(1,d.l(a.kp)),g.__param(2,d.l(q.gd)),g.__param(3,d.l(u.AF)),g.__param(4,d.l(A.gda)),g.__param(5,d.l(B.vZ)),g.__param(6,d.l(n.Sw))],S);f.$Oa=S;},function(g,f,a){var d,h,m,c,k;function b(a){return c.Dh.call(this,a,h.I.yLa,1,m.Mh.bwa,m.kg.HA,m.Mh.bwa)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(38);c=a(73);a=a(43);aa(b,c.Dh);b.prototype.Ue=function(a,b,c){var d;d=this;return this.send(a,b,"/"+this.name,c).then(function(a){return a.result;})["catch"](function(a){throw d.gn(a);});};b.prototype.en=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(a.tk))],k);f.ZOa=k;},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y,l,A,B,n,S,Q,r,E,ka,R,ba,Y,ea,V,N,ca,F,D,O;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(327);d=a(554);h=a(315);m=a(553);c=a(314);k=a(552);q=a(312);p=a(551);u=a(311);z=a(550);y=a(310);l=a(549);A=a(76);B=a(548);n=a(547);S=a(55);Q=a(2);r=a(546);E=a(545);ka=a(544);R=a(43);ba=a(543);Y=a(178);ea=a(542);V=a(281);N=a(541);ca=a(332);F=a(540);D=a(539);O=a(538);f.x1a=new g.Yb(function(a){a(R.tk).to(ba.ROa);a(b.vha).to(d.ZOa);a(Y.oZ).to(ea.OOa);a(ca.oha).to(F.POa);a(V.xha).to(N.aPa);a(h.wha).to(m.$Oa);a(c.nha).to(k.NOa);a(q.Cha).to(p.jPa);a(u.sha).to(z.WOa);a(y.tha).to(l.XOa);a(A.Gia).to(B.dRa);a(A.Hia).to(n.hRa);a(A.Ffa).to(r.tLa);a(A.Eia).to(E.aRa);a(A.sea).to(ka.pJa);a(O.cPa).to(D.bPa);a(A.MX).Qf(function(a){return function(b){switch(b){case A.ol.start:return a.bc.get(A.Gia);case A.ol.stop:return a.bc.get(A.Hia);case A.ol.SJ:return a.bc.get(A.Ffa);case A.ol.splice:return a.bc.get(A.Eia);case A.ol.NI:return a.bc.get(A.sea);}throw new S.Oc(Q.I.YNa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,f,a){var d,h,m,c,k,q,p;function b(a,b,c,f,g,h,t,l,n){var u;u=this;this.rtb=a;this.j=b;this.id=c;this.height=f;this.width=g;this.hlb=h;this.ilb=t;this.size=l;this.Wc=n;this.type=d.ig.Yba;this.Xs=!0;this.state=k.zm.IN;this.bg={};this.kQ={};this.qmb=function(a){if(a.X)try{u.data=u.rtb.parse(a.content);u.state=k.zm.LOADED;u.log.trace("TrickPlay parsed",{Images:u.data.images.length},u.bg);u.j.fireEvent(q.S.mM);}catch(ka){u.state=k.zm.Tga;u.log.error("TrickPlay parse failed.",ka);}else u.state=k.zm.IN,u.log.error("TrickPlay download failed.",p.Sn(a),u.bg);};this.log=m.Zf(b,"TrickPlay");}Object.defineProperty(f,"__esModule",{value:!0});d=a(75);h=a(12);m=a(4);c=a(69);k=a(289);q=a(15);p=a(2);b.prototype.cab=function(a){if(this.data&&(a=Math.floor(a/this.data.Up.XCa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.Up.XCa,height:this.height,width:this.width,pixelAspectHeight:this.hlb,pixelAspectWidth:this.ilb};};b.prototype.zS=function(){switch(this.state){case k.zm.LOADED:return"downloaded";case k.zm.LOADING:return"loading";case k.zm.SF:return"downloadfailed";case k.zm.Tga:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.dcb();a?(this.state=k.zm.LOADING,this.o6a(a)):this.Xs=!1;};b.prototype.dd=function(){return this.state;};b.prototype.dcb=function(){var a,b,c;a=this;b=Object.keys(this.Wc).find(function(b){return(a.kQ[a.Wc[b]]||0)<=h.config.ntb;});if(b){c=this.Wc[b];c in this.kQ?this.kQ[c]++:this.kQ[c]=1;return{url:c,Eu:b};}};b.prototype.o6a=function(a){this.log.trace("Downloading",a.url,this.bg);a={responseType:c.TS,Ub:this.m5(a.Eu),url:a.url,track:this};this.j.AJ.download(a,this.qmb);};b.prototype.m5=function(a){return this.j.Di.find(function(b){return b&&b.id===a;});};f.QRa=b;},function(g,f,a){var d,h,m;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(131);a=a(1);b.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new h.uA(b);a=this.ukb(c);b=this.wkb(c,b,a);return{Up:a,images:b};};b.prototype.ukb=function(a){var b,c,f,g;if(a.oj()<this.iob())throw Error("array buffer too short");d.Xfa.forEach(function(b){if(b!=a.fe())throw Error("BIF has invalid magic.");});b=a.yz();if(b>d.VERSION)throw Error("BIF version in unsupported");c=a.yz();if(0==c)throw Error("BIF has no frames.");f=a.yz();g=a.rd(d.hia);return{version:b,fjb:c,XCa:f,job:g};};b.prototype.wkb=function(a,b,d){var k,g;for(var c=[],f=0;f<=d.fjb;f++){g={timestamp:a.yz(),offset:a.yz()};void 0!=k&&c.push(b.subarray(k.offset,g.offset));k=g;}return c;};b.prototype.iob=function(){return d.Xfa.length+4+4+4+d.hia;};m=d=b;m.Xfa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.hia=44;m=d=g.__decorate([a.N()],m);f.TRa=m;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.bja="TrickPlayParserSymbol";},function(g,f,a){var d,h;function b(a,b,f,g,h,u,t,y,l,A,n){this.index=a;this.da=b;this.M=f;this.Xa=g;this.oa=h;this.dl=u;this.d8=t;this.W1a=l;this.dxa=n;this.Lc=new d.Jc(null);this.Bf=new d.Jc(null);this.uc=new d.Jc(null);this.Ci=new d.Jc(null);this.Eq=new d.Jc(void 0);this.re=new d.Jc(null);this.ij=new d.Jc(null);this.xf=new d.Jc(null);this.Je=new d.Jc(null);this.Ob=new d.Jc(void 0);this.Rm=new d.Jc(null);this.Bu=this.Px="notcached";this.background=!1;y&&(this.re.set(y.re.value),this.ij.set(y.ij.value),this.profile=y.profile);this.cl=A(this);this.b$=this.dxa.Enb(this.oa,this.dl);}Object.defineProperty(f,"__esModule",{value:!0});d=a(176);h=a(3);b.prototype.Nc=function(a){this.b$.Cl(a);};b.prototype.nv=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.b$.Cl(c,h.Cb(a[c]-b.dl.fa(h.ma)));});};b.prototype.wU=function(){this.dxa.Pnb(this.oa);};oa.Object.defineProperties(b.prototype,{pe:{configurable:!0,enumerable:!0,get:function(){return this.Xa.pe;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.Yj;}},Om:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.Om;}},Kq:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.Kq;}},ot:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.ot;}},Gj:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.Gj;}},Mf:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.Mf;}},rv:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.rv;}},No:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.No;}},Di:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.Di;}},YU:{configurable:!0,enumerable:!0,get:function(){return this.Wb&&this.Wb.YU;}},Tx:{configurable:!0,enumerable:!0,get:function(){return h.Cb(this.Ia?this.Ia.duration:0);}},Xg:{configurable:!0,enumerable:!0,get:function(){return this.Xa.Xg||0;}},p3:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.KQ?this.KQ:void 0===this.Ob.value?null:this.W1a(this.Ob.value,this.da);}},nC:{configurable:!0,enumerable:!0,get:function(){return this.Ia&&this.Ia.cdnResponseData?this.Ia.cdnResponseData.pbcid:void 0;}},Oz:{configurable:!0,enumerable:!0,get:function(){return this.Ia&&this.Ia.cdnResponseData?this.Ia.cdnResponseData.sessionABTestCell:void 0;}},zc:{configurable:!0,enumerable:!0,get:function(){return this.b$.zc;}}});f.xPa=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Gha="PlayTimeTrackerFactorySymbol";},function(g,f,a){var h,m,c,k,q,p,u,z;function b(a,b,c,d,f){var k;k=this;this.vj=a;this.config=c;this.Ba=d;this.debug=f;this.TU=[];this.Jo=[];this.c$=[];this.Lx={};this.uqa=!1;this.MH={};this.j7=0;this.log=b.lb("PlayTimeTracker");this.startTime=this.vj.Ob.value;this.IT=this.config().nYa;this.FM();this.Lx.abrdel=0;this.IT.forEach(function(a){a="abrdel"+a;k.MH[a]=0;k.Lx[a]=0;});}function d(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(7);c=a(17);k=a(247);a(3);q=a(21);p=a(86);u=a(9);z=a(18);d.prototype.encode=function(a){return{key:a.key,downloadableId:a.Rc,bitrate:a.P,vmaf:a.vc,duration:a.duration,metric:a.nK,cdnId:a.Eu};};d.prototype.decode=function(a){return{key:a.key,Rc:a.downloadableId,P:a.bitrate,vc:a.vmaf,duration:a.duration,nK:a.metric,Eu:a.cdnId};};b.prototype.qJ=function(){var a;this.IL(this.vj.Ob.value);a=0;this.Jo.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};b.prototype.V9a=function(){this.IL(this.vj.Ob.value);return{audio:this.jJ(this.TU,this.Gsa),video:this.jJ(this.Jo,this.Gsa)};};b.prototype.bbb=function(){var a;a={total:this.qJ(),audio:this.jJ(this.TU,this.tS),video:this.jJ(this.Jo,this.tS),timedtext:this.jJ(this.c$,this.tS)};this.debug.assert(!(!a.audio||!a.video));return a;};b.prototype.msa=function(){var a,b;this.IL(this.vj.Ob.value);a=this.h5(this.Jo,this.f$a);try{b=this.nsa(a);}catch(A){return this.log.warn("Failed to calc average bitrate."),null;}this.Lx.abrdel=Math.round(b);return this.Lx.abrdel;};b.prototype.Z9a=function(){var a,b;this.IL(this.vj.Ob.value);a=this.h5(this.Jo,this.icb);try{b=this.nsa(a);}catch(A){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};b.prototype.Y9a=function(){var a,b;a=this;if(!this.uqa){b=this.qJ();this.IT.forEach(function(c){var d,f,k;if(0===a.MH["abrdel"+c]&&b>c*u.Mj){d=0;f=0;k=0;a.Jo.some(function(a){d+=a.stream.P*(a.endTime-a.startTime);f+=a.endTime-a.startTime;k=a.stream.P;if(f>c*u.Mj)return!0;});d&&(a.MH["abrdel"+c]=Math.round((d-k*(f-c*u.Mj))/(c*u.Mj)));}});0!==this.MH["abrdel"+this.IT[this.IT.length-1]]&&(this.uqa=!0);z.Sc(this.MH,function(b,c){a.Lx[b]=0===c?a.Lx.abrdel:c;});}return this.Lx;};b.prototype.FYa=function(a){this.j7+=a;};b.prototype.Pcb=function(){return!!(this.Jo[0]&&this.Jo[0].stream&&this.Ba.Bd(this.Jo[0].stream.vc));};b.prototype.FM=function(){var a;a=this;this.vj.xf.addListener(function(b){a.rC=a.woa(a.rC,a.TU,b.newValue);});this.vj.Je.addListener(function(b){a.tC=a.woa(a.tC,a.Jo,b.newValue);});this.vj.Ci.addListener(this.vjb.bind(this));};b.prototype.Yib=function(a,b){this.IL(a);this.startTime=b;this.tC=this.rC=void 0;this.sC&&(this.sC.startTime=this.startTime);};b.prototype.vjb=function(a){this.UK(this.sC,this.c$,this.vj.Ob.value);this.sC=a.newValue?{track:a.newValue,startTime:this.vj.Ob.value,endTime:k.Ow}:void 0;};b.prototype.IL=function(a){a&&this.rC&&this.tC&&(a=Math.min(a,this.rC.endTime,this.tC.endTime),this.UK(this.rC,this.TU,a),this.rC.startTime=a,this.UK(this.tC,this.Jo,a),this.tC.startTime=a,this.sC&&(this.UK(this.sC,this.c$,a),this.sC.startTime=a),this.startTime=a);};b.prototype.woa=function(a,b,c){a&&this.UK(a,b,Math.min(a.endTime,this.vj.Ob.value));if(c&&c.stream)return a=c.Tm,b=c.stream,{Ub:c.Ub,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};b.prototype.UK=function(a,b,c){a&&c&&c>=a.startTime&&(a={Ub:a.Ub,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.Ub===a.Ub&&c.endTime===a.startTime?c.endTime=a.endTime:b.push(a));};b.prototype.h5=function(a,b){var c,d;c=this;d={};return a.reduce(function(a,f){var k,g,h;k=b.bind(c,f)();g=k.key;f=f.endTime-f.startTime;h=d[g];h?h.duration+=f:(delete k.key,h=k,h.duration=f,a.push(h),d[g]=h);return a;},[]);};b.prototype.jJ=function(a,b){return this.h5(a,b).map(function(a){return new d().encode(a);});};b.prototype.tS=function(a){var b,c,d;d=a.stream;d?(a=d.Rc,b=d.P,c=d.vc):a=a.track.Rc;return{key:a+"$"+(b||0),Rc:a,P:b,vc:c};};b.prototype.Gsa=function(a){var b;b=this.tS(a);a=a.Ub.id;return Object.assign({},b,{key:b.key+"$"+a,Eu:a});};b.prototype.f$a=function(a){a=(a=a.stream)?a.P:0;return{key:a,nK:a};};b.prototype.icb=function(a){a=(a=a.stream)?a.vc:0;return{key:a,nK:a};};b.prototype.nsa=function(a){var b,c,d;b=this;c=0;a.forEach(function(a){if(b.Ba.Bd(a.duration)&&b.Ba.Bd(a.nK))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;d=0;a.forEach(function(a){d+=a.nK*a.duration/c;});return d;};a=b;a=g.__decorate([h.N(),g.__param(1,h.l(m.qb)),g.__param(2,h.l(c.gd)),g.__param(3,h.l(q.se)),g.__param(4,h.l(p.ut))],a);f.oPa=a;},function(g,f,a){var d,h,m,c,k,q;function b(a){var b,f;b=this;this.j=a;this.Cjb=function(){var a;m.Ae.removeListener(m.p6,b.fya);a=b.kn.oy();a&&a.parentNode&&a.parentNode.removeChild(a);};this.H9=function(a){b.kn.Vpb(a.newValue);};this.Tjb=function(a){b.kn.Ypb(a.newValue?a.newValue.QJ:void 0);};this.fya=function(){b.kn.fL();};this.kn=new k.CRa(c.config.Lba,a.uc.value?a.uc.value.QJ:void 0);f=a.jF;h.Ga(.1<f.width/f.height);this.kn.Npb(f.width/f.height);a.Ug.appendChild(this.kn.oy());a.Eq.addListener(this.H9);a.uc.addListener(this.Tjb);a.addEventListener(q.S.Ge,this.Cjb,d.PA);m.Ae.addListener(m.p6,this.fya);}Object.defineProperty(f,"__esModule",{value:!0});d=a(9);h=a(14);m=a(53);c=a(12);k=a(271);q=a(15);b.prototype.Vaa=function(a){this.kn.Vaa(a);};b.prototype.j6=function(){return this.kn.j6();};b.prototype.Taa=function(a){this.kn.Taa(a);};b.prototype.h6=function(){return this.kn.h6();};b.prototype.Uaa=function(a){this.kn.Uaa(a);};b.prototype.i6=function(){return this.kn.i6();};f.ERa=b;},function(g,f,a){var d,h,m,c,k,q,p,u,z;function b(a,b,c,d,f){a=k.qG.call(this,b,a,a,"1",{0:c},void 0,"xx",d||a,q.op.SA,"primary","custom",{},!1,!1,!1)||this;a.j=b;a.url=c;a.content=f;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(56);d=a(12);h=a(53);m=a(4);c=a(19);k=a(214);q=a(157);p=a(69);u=a(106);z=a(15);g.Oha(g.Kha,function(a){var f;function b(b){var d;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==u.Zq.qRa){d=c.createElement("INPUT",void 0,void 0,{type:"file"});d.addEventListener("change",function(){var b,c,k;b=d.files[0];if(b){c=b.name;f.info("Loading file",{FileName:c});k=new FileReader();k.readAsText(b);k.addEventListener("load",function(){return a.Ln.i1("nourl",c,k.result);});}});d.click();}}f=m.Zf(a,"TimedTextCustomTrack");d.config.r3&&(f.info("Loading url",{Url:d.config.r3}),a.Ln.i1(d.config.r3,"custom"));h.Ae.addListener(h.vy,b);a.addEventListener(z.S.Ge,function(){h.Ae.removeListener(h.vy,b);});});aa(b,k.qG);b.T3a=function(a,c,d,f){var k;k="custom"+b.Rdb++;return new b(k,a,c,d,f);};b.prototype.xqa=function(){var a;a=this;return new Promise(function(b,c){var d;if(a.content)b(a.content);else if(a.url){d={responseType:p.kua,url:a.url,track:a,Ub:null,AC:"tt-"+a.Wj};a.j.AJ.download(d,function(f){f.X?b(f.content):(f.reason="downloadfailed",f.url=d.url,f.track=a,c(f));});}});};b.Rdb=0;f.BRa=b;},function(g,f){function a(a,b,d){this.start=a;this.track=b;this.Tz=d;this.end=void 0;this.Tz=Array.isArray(d)?d:[];}function b(a,b,d){this.log=a;this.lA=b;this.Va=d.Va;this.Kg=d.Kg||function(){};this.current=void 0;this.E$=[];this.orphans=[];}function d(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function h(a,b){return d(a)?(b.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function m(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(f,"__esModule",{value:!0});b.prototype.tYa=function(a,b){this.zxa(a,b,"activating");};b.prototype.G4a=function(a){this.o4(a,"de-activating");};b.prototype.zxa=function(b,d,f){var c;c=[];this.current&&this.o4(b,"close current for new");this.orphans.length&&(c.push(this.orphans),this.orphans=[]);this.current=new a(b,d,c);this.lA&&this.log.trace("new range: "+f,this.Va({},this.current));};b.prototype.o4=function(a,b){this.current&&(this.current.end=a,this.E$.push(this.current),this.lA&&this.log.trace("end range: "+b,this.Va({},this.current||{})),this.current=void 0);};b.prototype.JDa=function(a){this.current?this.current.Tz.push(a):this.orphans.push(a);};b.prototype.e6=function(b){var c,d,f;c=this;d=c.E$.slice(0);if(c.current&&"undefined"!=typeof b){f=new a(c.current.start,c.current.track,c.current.Tz);f.end=b;d.push(f);}b=d.reduce(function(a,b){var d,f,k,g;if(!b.track)return a;d=b.track.Rc;f=b.track.ev(b.start,b.end);if(!f)return a;k=h(b.Tz,c.log);a[d]?(g=a[d],g.expected+=f.length,g.missed+=f.length-k.length):(g={},g.dlid=d,g.bcp47=b.track.Wj,g.profile=b.track.profile,g.expected=f.length,g.missed=f.length-k.length,g.startPts=b.track.Fbb(),a[d]=g);return a;},{});b=m(b);c.lA&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.vbb=function(b){var c,d,f,g,m;c=this;d=c.E$.slice(0);f=0;g=0;c.current&&"undefined"!=typeof b&&(m=new a(c.current.start,c.current.track,c.current.Tz),m.end=b,d.push(m));d.forEach(function(a){var b,d;if(a.track){if(a.end<a.start){c.Kg("negative range",a);a.cw=0;return;}b=h(a.Tz,c.log);d=a.track.ev(a.start,a.end);a.UI=d?d.map(function(a){return a.id;}):[];a.cw=d?0===d.length?100:100*b.length/d.length:0;}else a.cw=100;b=a.end-a.start;f+=b;g+=a.cw*b;});m=f?Math.round(g/f):100;c.log.trace("qoe score "+m+", at pts: "+b);c.lA&&(b=d.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.cw),lang:a.track?a.track.Wj:"none","actual  ":a.Tz.join(" "),expected:(a.UI||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return m;};f.pRa=b;},function(g,f,a){var d,h,m,c,k,q,p,u,z,y,l,A,n,M;function b(a){var c;c=this;this.j=a;this.uba=this.txa=0;this.Ge=this.gk=!1;this.aw=0;this.YE=function(){var a,b;a=c.gf();c.zV();c.Fpa&&(c.log.info("Deactivating",c.Fpa),c.kw.G4a(c.gf()));c.j.Ci.set(null);c.Zz.BBa(c.entries=void 0);c.Doa();b=c.j.uc.value;b&&b.RJ()&&!b.lT()&&(b=null);b&&c.j.jc.value!==A.nb.ng&&c.kw.tYa(a,b);b?(c.log.info("Activating",b),c.j.Fj.set(A.lf.Hj),c.gk||c.j.Nc("tt_start"),b.getEntries().then(c.bD)["catch"](c.bD)):c.j.Fj.set(A.lf.Yc);c.Fpa=b;c.eF();};this.Cba=function(){c.gk&&(c.Zz.start(),c.j.jc.value!==A.nb.yd&&c.Zz.stop());};this.eF=function(){var a;c.j.state.value===A.jb.Yc&&c.j.jc.value!==A.nb.ng&&(c.entries?a=c.Zz.M9a():c.j.uc.value&&(a=b.krb[c.j.uc.value.dd()]));a&&l.Rb(a.startTime)&&(c.txa++,c.uba+=c.Zz.$sa()-a.startTime,c.Lna=Math.ceil(c.uba/(c.txa+0)));c.j.Eq.set(a);};this.gf=function(){return c.j.O5();};this.Sjb=function(a){c.fireEvent(b.Nqb,a);a&&a.id&&c.kw.JDa(a.id);c.log.trace("showsubtitle",c.yta(a));};this.Mjb=function(a){c.fireEvent(b.Snb,a);c.log.trace("removesubtitle",c.yta(a));};this.I9=function(){c.log.warn("imagesubs buffer underflow",c.j.uc.value.bg);c.j.Fj.set(A.lf.Hj);};this.xjb=function(){c.log.info("imagesubs buffering complete",c.j.uc.value.bg);c.j.Fj.set(A.lf.Yc);};this.aya=function(){c.gk&&c.sf&&c.sf.ap(c.gf());};this.dya=function(a){c.sf&&c.sf.Raa&&c.sf.Raa(a.Th,a.uU);};this.gya=function(a){c.sf&&c.sf.Iq&&c.sf.Iq(a.ii,a.cub);};this.BU=function(){c.gk=!0;y.zb(function(){c.sf?c.sf.ap(c.gf()):c.Cba();c.eF();});};this.AK=function(){c.entries=void 0;c.Doa();c.Zz.stop();c.eF();c.Ge=!0;c.zV();};this.H9=function(a){(a=a.newValue)&&l.Rb(a.id)&&c.kw.JDa(a.id);};this.Jjb=function(a){c.Xtb(a.newValue,a.oldValue);c.Cba();};this.bD=function(a){var b,d;if(!c.Ge){b=a.track;d=!1;if(b==c.j.uc.value)if(b.Yp)if(a.X)c.zV(),c.sf=b.sf,c.nwa("addListener"),c.log.info("Activated",b),c.j.Ci.set(b),c.gk?y.zb(function(){c.sf.ap(c.gf());}):c.sf.pause();else{if(d=!!(c.aw<m.config.Jwa))c.FAa=setTimeout(c.GAa.bind(c,b),m.config.SCa);c.log.error("Failed to activate img subtitle",{retry:d},a,b);}else{if(d=a.entries)c.zV(),c.Zz.BBa(c.entries=d),c.log.info("Activated",b),c.j.Ci.set(b);else{if(d=!!(c.aw<m.config.Jwa))c.FAa=setTimeout(c.GAa.bind(c,b),m.config.SCa);c.log.error("Failed to activate",{retry:d},z.Sn(a),b);}c.eF();}c.gk||c.j.Nc(a.X?"tt_comp":"tt_err");a.X?(m.config.OAa?setTimeout(function(){c.j.Fj.set(A.lf.Yc);},m.config.OAa):c.j.Fj.set(A.lf.Yc),b.Yp||c.eF()):a.Bl?c.log.warn("aborted timed text track loading"):m.config.A8a?(b=k.W.get(M.ql),c.j.pd(b(z.I.WKa,{Ra:a.track?a.track.bg:{}}))):(c.log.error("ignore subtitle initialization error",a),c.j.Fj.set(A.lf.Yc));}};this.Hb=new h.Kj();this.kw=new q.pRa(k.Zf(a,"SubtitleTracker"),m.config.l7a,{Va:u.Va,Kg:p.Ga});this.log=k.Zf(a,"TimedTextManager");this.Zz=new d.HRa(this.gf,this.eF);this.j.uc.addListener(this.YE);m.config.Klb?(this.j.addEventListener(A.S.yh,this.BU),this.YE()):(this.j.Fj.set(A.lf.Yc),this.j.addEventListener(A.S.yh,function(){c.gk=!0;c.YE();}));this.j.jc.addListener(this.Jjb);this.j.addEventListener(A.S.Fba,this.Cba);this.j.Eq.addListener(this.H9);this.j.addEventListener(A.S.Ge,this.AK);}Object.defineProperty(f,"__esModule",{value:!0});g=a(214);d=a(275);h=a(68);m=a(12);c=a(28);k=a(4);q=a(564);p=a(14);u=a(18);z=a(2);y=a(45);l=a(16);A=a(15);n=a(563);M=a(61);b.prototype.addEventListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.fireEvent=function(a,b,c){this.Hb.Ib(a,b,c);};b.prototype.i1=function(a,b,d){var f;f=n.BRa.T3a(this.j,a,b,d);this.j.Gj.push(f);this.j.Om.forEach(function(a){c.ZEa(a.Gj,f);});this.j.uc.set(f);this.j.fireEvent(A.S.$z);};b.prototype.Lbb=function(a){return this.kw.vbb(a);};b.prototype.e6=function(a){return this.kw.e6(a);};b.prototype.DS=function(){var a,b;a=this.j.hM;b=m.config.TCa.characterSize;b={size:m.config.Mba.characterSize||b};a&&(b.visibility=a.j6(),b.RH=a.h6(),b.sn=a.i6());return b;};b.prototype.lqb=function(a){m.config.Mba.characterSize=a;a=this.j.uc.value;!a||a.RJ()||a.Yp||a.getEntries().then(this.bD)["catch"](this.bD);};b.prototype.Xtb=function(a,b){a===A.nb.yd||a==A.nb.ni?b!==A.nb.yd&&b!==A.nb.ni&&((b=this.j.uc.value)&&b.RJ()&&!b.lT()||this.kw.zxa(this.gf(),b,"presentingstate:"+a)):a!==A.nb.ng&&a!==A.nb.Vq||this.kw.o4(this.gf(),"presentingstate:"+a);};b.prototype.zV=function(){this.aw=0;clearTimeout(this.FAa);};b.prototype.Doa=function(){this.sf&&(this.sf.stop(),this.nwa("removeListener"));this.sf=void 0;};b.prototype.nwa=function(a){this.sf&&(this.sf[a]("showsubtitle",this.Sjb),this.sf[a]("removesubtitle",this.Mjb),this.sf[a]("underflow",this.I9),this.sf[a]("bufferingComplete",this.xjb),"addListener"===a?(this.j.addEventListener(A.S.Ym,this.aya),this.j.addEventListener(A.S.tU,this.dya),this.j.addEventListener(A.S.Iq,this.gya)):(this.j.removeEventListener(A.S.Ym,this.aya),this.j.removeEventListener(A.S.tU,this.dya),this.j.removeEventListener(A.S.Iq,this.gya)));};b.prototype.yta=function(a){return{currentPts:this.gf(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.GAa=function(a){this.aw++;a.getEntries().then(this.bD)["catch"](this.bD);};a={};b.krb=(a[g.qG.uia.LOADING]={PHb:!0},a[g.qG.uia.SF]={ey:!0},a);b.Nqb="showsubtitle";b.Snb="removesubtitle";f.DRa=b;},function(g,f,a){var c,k,q,p,u,z,y,l,A,n,M,S,Q,r,E,ka,R,ba,Y,ea,V,N,ca,F,D,O;function b(a){var b;b=this;this.j=a;this.iEa=Promise.resolve();this.LX=J.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.nu=[];this.dj=new z.Kj();this.cka=this.d_=0;this.yO=[];this.gb=A.Zf(this.j,"MediaElementASE");this.ama=E.je;this.x_=!1;this.cf={};this.KG={};this.uS=this.AO(function(){var a;if(b.La){a=b.NO();return a?a.totalVideoFrames:b.La.webkitDecodedFrameCount;}});this.ny=this.AO(function(){var a;if(b.La){a=b.NO();return a?a.droppedVideoFrames:b.La.webkitDroppedFrameCount;}});this.hJ=this.AO(function(){var a;if(b.La){a=b.NO();return a&&a.corruptedVideoFrames;}});this.vS=this.AO(function(){var a;if(b.La){a=b.NO();return a&&R.Jh(a.totalFrameDelay*E.Mj);}});this.$ka=function(){return b.dj.Ib(ea.Kh.Jva);};this.qj=A.W.get(Y.Kfa).create(u.config.bp,this,this.j);u.config.yv&&(this.iEa=new Promise(function(a){b.ama=a;b.j.addEventListener(ca.S.Ge,a);}));this.gb.trace("Created Media Element");this.addEventListener=this.dj.addListener;this.removeEventListener=this.dj.removeListener;this.La=d(this.j.jF);this.sourceBuffers=this.nu;}function d(a){var b,c;b=A.W.get(V.rja).nbb();a=a.width/a.height*b.height;c=(b.width-a)/2;return u.config.oqb?E.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):E.createElement("VIDEO","position:absolute;width:100%;height:100%");}function h(a){a.preventDefault();return!1;}function m(a,b){var c,d,f;c=a.target;c=c&&c.error;d=a.errorCode;f=c&&c.code;E.Rb(f)||(f=d&&d.code);d=c&&c.msExtendedCode;E.Rb(d)||(d=c&&c.systemCode);E.Rb(d)||(d=a.systemCode);a=E.Va({},{code:f,systemCode:d},{oq:!0});b={Y:b(f),Ra:ka.lwa(a)};try{c&&c.message&&(b.jK=c.message);}catch(Fa){}d=E.Qd(d);ba.pa(d)&&(b.Ec=A.Nna(d,4));return{RC:b,cgb:a};}Object.defineProperty(f,"__esModule",{value:!0});c=a(49);k=a(140);q=a(61);p=a(9);u=a(12);z=a(68);y=a(53);l=a(28);A=a(4);n=a(2);M=a(14);S=a(105);Q=a(436);r=a(18);E=a(19);ka=a(175);R=a(8);ba=a(16);Y=a(277);ea=a(174);V=a(301);N=a(3);ca=a(15);F=a(130);D=!!(R.LA&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);O=D&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||R.bG);b.prototype.my=function(a){try{this.La&&(this.cka=this.La.currentTime);}catch(fa){this.gb.error("Exception while getting VIDEO.currentTime",fa);a&&this.mB(n.I.vOa,fa);}return R.Jh(this.cka*E.Mj);};b.prototype.seek=function(a){var b;M.Ga(!this.zl);this.Yla();b=this.my(!0);if(!u.config.gZa&&R.XF(b-a)<=this.uaa)this.gb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.uaa});else try{this.gb.trace("Setting video elements currentTime",{From:S.bh(b),To:S.bh(a)});this.zl={};this.La.currentTime=a/E.Mj;this.dj.Ib(ea.Kh.Ym);}catch(Aa){this.gb.error("Exception while setting VIDEO.currentTime",Aa);this.mB(n.I.wOa,Aa);}};b.prototype.wbb=function(){return!!this.zl;};b.prototype.addSourceBuffer=function(a){var b,d;b=E.Qd(this.d_.toString()+this.nu.length.toString());b={sourceId:this.d_,oQ:b};try{d=new k.pga(this.j,a,this.Pe,b,this.gb);this.nu.push(d);a==p.VF&&d.M4&&d.M4.addListener(this.ama);return d;}catch(sa){d=E.qd(sa);this.gb.error("Unable to add source buffer.",{error:d});b=A.W.get(q.ql);this.j.pd(b(n.I.mZ,{Y:a===c.pc.Ih.AUDIO?E.G.aga:E.G.bga,Ra:d}));}};b.prototype.m1=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.dj.Ib(ea.Kh.bCa);return!0;};b.prototype.removeSourceBuffer=function(a){this.nu=this.nu.filter(function(b){return!l.Qoa(a,b);});this.Pe.removeSourceBuffer(a);};b.prototype.endOfStream=function(){u.config.l2&&this.Pe.endOfStream();};b.prototype.$m=function(a){this.nu=[];a&&a.FIb();return!0;};b.prototype.Mpb=function(a){this.d_=a;};b.prototype.Zsa=function(){if(this.Pe)return N.Olb(this.Pe.duration);};b.prototype.aqb=function(a){this.Pe&&(this.Pe.duration=a.XU(N.xm));};b.prototype.X5a=function(){var a;if(!this.x_&&this.La&&2<=this.La.readyState){a=this.La.webkitDecodedFrameCount;if(void 0===a||0<a||u.config.Zub)this.x_=!0;}return this.x_;};b.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(ca.S.RBa,function(b){return a.kWa(b);});if(D){if(this.j.rv){if(!O){this.vl(n.I.dha);return;}if(R.bG&&R.bG.isTypeSupported&&this.qj.Pd)try{if(!R.bG.isTypeSupported(this.qj.Pd,"video/mp4")){this.MXa(function(b){a.vl(n.I.kZ,b);});return;}}catch(sa){this.mB(n.I.kZ,sa);return;}}try{this.Pe=new R.LA();}catch(sa){this.mB(n.I.lOa,sa);return;}try{this.Ai=URL.createObjectURL(this.Pe);}catch(sa){this.mB(n.I.mOa,sa);return;}try{this.qj.HYa(this.$ka);this.Pe.addEventListener("sourceopen",function(b){return a.Cla(b);});this.Pe.addEventListener(this.LX+"sourceopen",function(b){return a.Cla(b);});this.La.addEventListener("error",this.cf.error=function(b){return a.YG(b);});this.La.addEventListener("seeking",this.cf.seeking=function(){return a.jWa();});this.La.addEventListener("seeked",this.cf.seeked=function(){return a.n0();});this.La.addEventListener("timeupdate",this.cf.timeupdate=function(){return a.lWa();});this.La.addEventListener("loadstart",this.cf.loadstart=function(){return a.eP();});this.La.addEventListener("volumechange",this.cf.volumechange=function(b){return a.mWa(b);});this.La.addEventListener(this.qj.bz,this.cf[this.qj.bz]=function(b){return a.fWa(b);});b=this.j.Ug;c=b.lastChild;c?b.insertBefore(this.La,c):b.appendChild(this.La);u.config.lqa&&this.La.addEventListener("contextmenu",h);this.La.src=this.Ai;y.Ae.addListener(y.rJ,this.KG[y.rJ]=function(){return a.Ala();});this.Ala();}catch(sa){this.mB(n.I.nOa,sa);}}else this.vl(n.I.eha);};b.prototype.close=function(){var b;function a(){b.Ai&&(b.Yla(),y.Ae.removeListener(y.rJ,b.KG[y.rJ]),b.pTa());}b=this;this.La.removeEventListener(this.qj.bz,this.cf[this.qj.bz]);this.La.removeEventListener("error",this.cf.error);this.La.removeEventListener("seeking",this.cf.seeking);this.La.removeEventListener("seeked",this.cf.seeked);this.La.removeEventListener("timeupdate",this.cf.timeupdate);this.La.removeEventListener("loadstart",this.cf.loadstart);this.La.removeEventListener("volumechange",this.cf.volumechange);this.qj.Mnb(this.$ka);u.config.bp?this.qj.Hya().then(function(){return a();}):a();this.qj.mAa&&clearTimeout(this.qj.mAa);};b.prototype.fWa=function(a){return this.qj.E9(a);};b.prototype.NO=function(){if(this.La)return this.La.getVideoPlaybackQuality&&this.La.getVideoPlaybackQuality()||this.La.videoPlaybackQuality||this.La.playbackQuality;};b.prototype.nXa=function(){var a;a=this.j.Xh;return(a=a&&a.errorCode)&&0<=[n.I.LN,n.I.wN].indexOf(a);};b.prototype.pTa=function(){var a;a=!1;u.config.gmb&&this.nXa()&&(a=!0);u.config.n1a&&!a&&(this.La.removeAttribute("src"),this.La.load&&this.La.load());URL.revokeObjectURL(this.Ai);u.config.lqa&&this.La.removeEventListener("contextmenu",h);!a&&this.La&&this.j.Ug.removeChild(this.La);this.La=this.Pe=void 0;this.Ai="";};b.prototype.Ala=function(){!0===R.Jd.hidden?this.yO.forEach(function(a){a.refresh();a.arb();}):this.yO.forEach(function(a){a.refresh();a.prb();});};b.prototype.AO=function(a){var b;b=A.W.get(Q.Qga)(a);this.yO.push(b);return function(){b.refresh();return b.u$a();};};b.prototype.mB=function(a,b){var c,d;c={Y:E.G.$g,Ra:E.qd(b)};try{(d=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==d.length&&(c.Ec=d);}catch(ja){}b=A.W.get(q.ql);this.j.pd(b(a,c));};b.prototype.Yla=function(){this.yO.forEach(function(a){a.refresh();});};b.prototype.hUa=function(){return this.La&&this.La.msGraphicsTrustStatus;};b.prototype.vl=function(a,b,c){var d;d=A.W.get(q.ql);this.j.pd(d(a,b,c));};b.prototype.MXa=function(a){var c,d;function b(d){b=E.je;c.Vg();a(d);}c=A.W.get(F.XA)(500,function(){b();});c.ss();try{d=this.j.re.value.Up.nIb.children.filter(function(a){return"pssh"==a.type&&a.C6a==p.MIa;})[0];new R.bG(this.qj.Pd).createSession("video/mp4",d.raw,null).addEventListener(this.LX+"keyerror",function(a){a=m(a,n.uea);b(a.RC);});}catch(ja){b();}};b.prototype.kWa=function(a){var b,d,f,k,g,h,q;if(this.La){a=a.BM;b=this.hUa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.La.readyState;a.currentTime=""+this.La.currentTime;a.pbRate=""+this.La.playbackRate;}catch(Sa){}for(var b=this.nu.length,c;b--;){c=this.nu[b];d="";c.type==p.OY?d="audio":c.type==p.VF&&(d="video");E.Va(a,c.nS(),{prefix:d});u.config.d7a&&this.j.Xh&&p.VF==c.type&&(d=E.EL(c.jx),3E3>(d.data&&d.data.length)&&(d.data=r.f2a(d.data).join(),E.Va(a,d,{prefix:c.type})));}this.Pe&&(b=this.Pe.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(u.config.dgb)try{f=this.j.ef;k=f&&f.uva;if(k){g=k.expiration;isNaN(g)||(a.exp=g);h=k.keyStatuses.entries();if(h.next){q=h.next().value;q&&(a.keyStatus=q[1]);}}}catch(Sa){}}};b.prototype.Cla=function(a){this.tXa||(this.tXa=!0,this.dj.Ib(ea.Kh.cCa,a));};b.prototype.jWa=function(){this.gb.trace("Video element event: seeking");this.zl?this.zl.kjb=!0:(this.gb.error("unexpected seeking event"),u.config.C8a&&this.vl(n.I.BOa));};b.prototype.n0=function(){this.gb.trace("Video element event: seeked");this.zl?(M.Ga(this.zl.kjb),this.zl.jjb=!0,this.qma()):(this.gb.error("unexpected seeked event"),u.config.B8a&&this.vl(n.I.AOa));};b.prototype.lWa=function(){this.zl&&(this.zl.mjb=!0,this.qma());this.dj.Ib(ea.Kh.Ym);};b.prototype.eP=function(){this.gb.trace("Video element event: loadstart");};b.prototype.mWa=function(a){this.gb.trace("Video element event:",a.type);try{this.j.volume.set(this.La.volume);this.j.muted.set(this.La.muted);}catch(fa){this.gb.error("error updating volume",fa);}};b.prototype.YG=function(a){a=m(a,n.vJa);this.gb.error("Video element event: error",a.cgb);this.vl(n.I.tOa,a.RC);};b.prototype.qma=function(){this.zl&&this.zl.jjb&&this.zl.mjb&&(this.zl=void 0,this.dj.Ib(ea.Kh.rL));};oa.Object.defineProperties(b.prototype,{uaa:{configurable:!0,enumerable:!0,get:function(){return u.config.Vqb;}}});f.MMa=b;},function(g,f,a){var q,p,u,z,y,l,A,n,M,S,Q,r,E,ka,R,ba,Y,ea;function b(a,b,c){this.Mk=a;this.r6=b;this.prefix=c;a=r(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function d(){this.gqa=q.mo.gqa.bind(q.mo);this.OQ=q.mo.OQ.bind(q.mo);this.DC=q.mo.DC;this.NA="NDA";}function h(){}function m(){}function c(){return M?M:"0.0.0.0";}function k(a){a({nya:0,bM:0,gua:0,nra:0});}q=a(141);d.prototype.set=function(a,b){z[a]=b;y.save(a,b);};d.prototype.get=function(a,b){if(z.hasOwnProperty(a))return z[a];n.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");y.load(a,function(c){c.X?(z[a]=c.data,b&&b(c.data)):z[a]=void 0;});};d.prototype.remove=function(a){y.remove(a);};d.prototype.clear=function(){n.info("WARNING: Calling unimplemented function Storage.clear()");};h.prototype.now=function(){return l();};h.prototype.ea=function(){return A();};h.prototype.g9=function(a){return a+l()-A();};h.prototype.B9=function(a){return a+A()-l();};f=a(25).EventEmitter;a(48)(f,m.prototype);b.prototype.upa=function(a){var c;c=[];this.prefix&&Array.isArray(this.prefix)?c.push.apply(c,[].concat(ga(this.prefix))):this.prefix&&c.push(this.prefix);c.push(a);return new b(this.Mk,this.r6,c);};E=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.T=function(a){p=a.nz;r=a.Jf;y=a.storage;z=a.yD;l=a.Vab;S=a.nJ;Q=a.FJ;A=a.getTime;n=a.xZa;ka=a.qk;ea=a.gr;R=a.vA;ba=a.SourceBuffer;Y=a.MediaSource;M=a.pHb;u=a.jo;return{name:"cadmium",jo:u,nz:p,nJ:S,FJ:Q,storage:new d(),Storage:d,time:new h(),events:new m(),console:new b("JS-ASE",void 0,"default"),Console:b,options:{},Promise:E,qk:ka,vA:R,UMa:ba,MediaSource:Y,gr:ea,$k:{name:c},memory:{iab:k}};};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(4);d=a(69);f.QPa=function(){b.Jf("ProbeDownloader");return{fJ:function(a){d.Ed.nmb({url:a.url,kmb:a});}};}();},function(g,f,a){var d,h,m,c,k,q,p;function b(){var a;a=new h.Kj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Ib.bind(this);this.qP=q++;this.gb=m.Jf("ProbeRequest");this.Ola=d.QPa;c.Ga(void 0!==this.Ola);this.pf=f.gr.Zb.UNSENT;}Object.defineProperty(f,"__esModule",{value:!0});d=a(568);h=a(68);m=a(4);c=a(14);k=a(19);q=0;(function(){function a(){return JSON.stringify({url:this.Ai,id:this.qP,affected:this.lO,readystate:this.pf});}k.Va(b.prototype,{al:function(a){a.affected=this.lO;a.probed={requestId:this.qP,url:this.Ai,Db:this.fma,groupId:this.OO};this.emit(f.gr.wd.dG,a);},A9:function(a){this.wXa=a.httpcode;a.affected=this.lO;a.probed={requestId:this.qP,url:this.Ai,Db:this.fma,groupId:this.OO};this.emit(f.gr.wd.Vw,a);},open:function(a,b,c,d){if(!a)return!1;this.Ai=a;this.lO=b;this.fma=c;this.pf=f.gr.Zb.OPENED;this.QUa=d;this.Ola.fJ(this);return!0;},Xd:function(){return!0;},ak:function(){return this.qP;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.pf;},set:function(){}},status:{get:function(){return this.wXa;}},url:{get:function(){return this.Ai;}},YDb:{get:function(){return this.lO;}},Zfb:{get:function(){return this.QUa;}}});}());(function(a){a.wd={dG:"pr0",Vw:"pr1"};a.Zb={UNSENT:0,OPENED:1,Ot:2,DONE:3,Bt:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(p||(p={})));f.gr=Object.assign(b,p);},function(g,f,a){var d,h,m;function b(a){this.mv=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(116);h=a(1);b.prototype.create=function(b,d,f){return new(a(287)).tPa(b,d,f,this.mv);};m=b;m=g.__decorate([h.N(),g.__param(0,h.l(d.FA))],m);f.sPa=m;},function(g,f){function a(a){this.j=a;}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.IDa=function(){var a;a=this.j.ll&&this.j.ll.Ye.get()||{};a.zg&&(this.j.zg=a.zg.Fa);a.ta&&(this.j.ta=a.ta.Fa);};a.prototype.Uk=function(){-1===this.j.ta&&this.IDa();return this.j.ta;};a.prototype.m0a=function(a){-1!==this.j.zg&&-1!==this.j.ta||this.IDa();return-1===this.j.zg||-1===this.j.ta?Number.MAX_VALUE:this.j.zg+8*a/this.j.ta;};f.IFa=a;},function(g,f,a){var d,h,m,c,k,q;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(15);h=a(289);m=a(23);c=a(1);k=a(3);a=a(17);b.prototype.LC=function(a){var b;a.nM={};if(!a.tD()&&a.ot&&0<a.ot.length&&(a.mt=this.Rsa(a),a.mt)){b=this.vqb(a);b()||(a.addEventListener(d.S.yh,b),a.re.addListener(b));}};b.prototype.vqb=function(a){var c;function b(){var f,g;if(!a.re.value||!a.gW)return!1;f=a.mt;g=f.dd();return g===h.zm.LOADING?!1:g!==h.zm.LOADED&&f.Xs?(f=c.Zbb(a))?(a.nM.offset=c.app.cc().fa(k.ma),a.mt=f,f.download(),!0):!1:(a.removeEventListener(d.S.yh,b),a.re.removeListener(b),!1);}c=this;return b;};b.prototype.Zbb=function(a){var b,c;b=this.config();c=a.cl.qJ()<b.ptb;b=(a.re.value?a.re.value.P:0)>b.otb;return this.ubb(a,c&&b);};b.prototype.ubb=function(a,b){if(b&&(b=this.Rsa(a),this.rta(a,b.size)))return a.nM.vAa="h",b;b=this.Fab(a);if(this.rta(a,b.size))return a.nM.vAa="l",b;};b.prototype.rta=function(a,b){var c,d;c=this.config();d=Math.min(a.DH(),a.AM());return a.v_a.m0a(b)*(1+.01*c.YYa[2])<d*c.stb;};b.prototype.Rsa=function(a){return a.ot[a.ot.length-1];};b.prototype.Fab=function(a){return a.ot[0];};q=b;q=g.__decorate([c.N(),g.__param(0,c.l(m.Me)),g.__param(1,c.l(a.gd))],q);f.SRa=q;},function(g,f,a){var h,m,c,k;function b(a,b,c,d){this.oa=a;this.hob=b;this.ia=c;this.app=d;this.zc={};}function d(a,b){this.uf=a;this.app=b;this.fd={};this.ia=a.lb("PlaybackMilestoneStoreImpl");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(7);c=a(23);k=a(3);d.prototype.Enb=function(a,c){this.fd[a]&&this.ia.warn("registerPlayback: xid "+a+" already registered, overriding");c=(c?c:this.app.cc()).fa(k.ma);this.ia.trace("registerPlayback: xid "+a+" at "+c);this.fd[a]=new b(a,c,this.ia,this.app);return this.fd[a];};d.prototype.dbb=function(a){this.fd[a]||this.ia.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.fd[a];};d.prototype.Pnb=function(a){this.ia.trace("removePlayback: xid "+a);delete this.fd[a];};a=d;a=g.__decorate([h.N(),g.__param(0,h.l(m.qb)),g.__param(1,h.l(c.Me))],a);f.wPa=a;b.prototype.Cl=function(a,b){b=b?b.fa(k.ma):this.app.cc().fa(k.ma)-this.hob;this.ia.trace("addMilestone: xid "+this.oa+" "+a+" at "+b);this.zc[a]=b;};},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y,l,A,n,M,S,Q,r,E;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(291);d=a(573);h=a(384);m=a(290);c=a(572);k=a(288);q=a(571);p=a(419);u=a(570);z=a(561);y=a(17);l=a(86);A=a(21);n=a(7);M=a(560);S=a(177);Q=a(559);r=a(558);E=a(557);f.j=new g.Yb(function(f){f(b.vZ).to(d.wPa).Z();f(h.$ia).Qf(function(b){var c;c=b.bc;return function(b,d,f,k,g,h,p,q){return new(a(556)).QRa(c.get(r.bja),b,d,f,k,g,h,p,q);};});f(r.bja).to(E.TRa).Z();f(m.aja).to(c.SRa).Z();f(p.Qha).to(u.sPa).Z();f(k.$ca).Qf(function(){return function(a){return new q.IFa(a);};});f(M.Gha).Qf(function(a){var b;b=a.bc;return function(a){return new z.oPa(a,b.get(n.qb),b.get(y.gd),b.get(A.se),b.get(l.ut));};});f(S.wZ).Qf(function(a){var c;c=a.bc;return function(a,d,f,k,g,h,p,q,u){return new Q.xPa(a,d,f,k,g,h,p,q,u,c.get(M.Gha),c.get(b.vZ));};});});},function(g,f,a){var d,h;function b(){this.QL=new h.aj();}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(102);b.prototype.nE=function(a){this.QL.next(a);};oa.Object.defineProperties(b.prototype,{kL:{configurable:!0,enumerable:!0,get:function(){return this.QL;}}});a=b;a=g.__decorate([d.N()],a);f.iPa=a;},function(g,f,a){var d,h,m;function b(a,b){this.zC=b;this.log=a.lb("Pbo");this.links={};}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);a=a(92);b.prototype.$P=function(a){a&&(this.links=Object.assign({},this.links,a));};b.prototype.I5=function(a){return this.links[a];};b.prototype.GYa=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.zC().Mg;a="drmContextId="+a.drmContextId;this.$P({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(h.qb)),g.__param(1,d.l(a.Gw))],m);f.YOa=m;},function(g,f,a){var d,h,m,c,k,q;function b(a,b,c){a=h.ve.call(this,a,"PboConfigImpl")||this;a.config=b;a.kZa=c;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(36);m=a(27);c=a(34);k=a(17);a=a(85);aa(b,h.ve);oa.Object.defineProperties(b.prototype,{dF:{configurable:!0,enumerable:!0,get:function(){return this.config().uh.dF||"";}},xW:{configurable:!0,enumerable:!0,get:function(){return this.config().uh.xW||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},mya:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().uh.jE;}},Dy:{configurable:!0,enumerable:!0,get:function(){return!1;}},Owa:{configurable:!0,enumerable:!0,get:function(){return!0;}},O8:{configurable:!0,enumerable:!0,get:function(){return!0;}},tBa:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.kZa.Rna,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},K6:{configurable:!0,enumerable:!0,get:function(){return 10;}}});q=b;g.__decorate([c.config(c.string,"uiVersion")],q.prototype,"dF",null);g.__decorate([c.config(c.string,"uiPlatform")],q.prototype,"xW",null);g.__decorate([c.config(c.uw,"pboVersion")],q.prototype,"version",null);g.__decorate([c.config(c.string,"pboOrganization")],q.prototype,"mya",null);g.__decorate([c.config(c.tba,"pboLanguages")],q.prototype,"languages",null);g.__decorate([c.config(c.Wd,"hasLimitedPlaybackFunctionality")],q.prototype,"Dy",null);g.__decorate([c.config(c.Wd,"mdxBindUsingNodeQuark")],q.prototype,"Owa",null);g.__decorate([c.config(c.Wd,"mdxPairUsingNodeQuark")],q.prototype,"O8",null);g.__decorate([c.config(c.object(),"pboCommands")],q.prototype,"tBa",null);g.__decorate([c.config(c.uw,"pboHistorySize")],q.prototype,"K6",null);q=g.__decorate([d.N(),g.__param(0,d.l(m.cj)),g.__param(1,d.l(k.gd)),g.__param(2,d.l(a.qt))],q);f.SOa=q;},function(g,f,a){var m,c,k,q,p,u,z,y,l,A,n,M,S,Q,r;function b(a){this.config=a;this.Hl=[];}function d(a,b,c){this.ya=a;this.aF=b;this.context=c;this.startTime=this.ya.cc();}function h(a,c,d,f,k,g,h,p,q){this.kDa=c;this.json=d;this.ya=f;this.ly=k;this.XK=g;this.ka=h;this.Hb=q;this.log=a.lb("Pbo");this.Hl=new b(p);this.aF=this.kDa();}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);m=a(1);c=a(3);k=a(2);q=a(293);p=a(7);u=a(37);z=a(23);y=a(51);l=a(115);A=a(30);n=a(292);M=a(91);S=a(70);Q=a(15);r=a(38);h.prototype.send=function(a,b){var c;c=new d(this.ya,this.aF,a);this.Hl.append(c);return this.EE(a,b,c);};h.prototype.EE=function(a,b,c){var d;d=this;return new Promise(function(f,k){d.Xs(a,b).then(function(a){var b,g;d.wpb(a);b=P(d.Eub(a));g=b.next().value;b=b.next().value;g&&(d.t1a(c),f(a));b&&(d.Koa(c,b),k(b));})["catch"](function(a){var b;b=d.Koa(c,a);a.Ra&&(a.Ra=[a.Ra," ",b].join(""));k(a);});});};h.prototype.wpb=function(a){(a=a.serverTime)&&this.Hb.Ib(Q.yfa.sBa,c.Cb(a));};h.prototype.Eub=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.Bkb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(R){throw{lz:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{lz:!0,code:"FAIL",message:"There is no result property on the response"};}throw{lz:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.QZa=function(a,b,c){var d;d=this;this.$tb(b,a);this.aF=this.kDa();return this.aF.send(b,c).then(function(a){return{Xs:!1,result:d.Bkb(a.body)};})["catch"](function(c){var f,k;k=c&&c.Bj&&void 0!==c.Bj.maxRetries?Math.min(c.Bj.maxRetries,b.faa):b.faa;return d.TV(b,c,a,k)?(f=d.s0a(c,a,k),d.log.warn("Method failed, retrying",Object.assign({Method:b.Ok,Attempt:a+1,WaitTime:f,MaxRetries:k},d.z3(c))),Promise.resolve({Xs:!0,Cd:f,error:c})):Promise.resolve({Xs:!1,error:c});});};h.prototype.$tb=function(a,b){var c;c=a.url.searchParams;c.set(r.DZ.jQa,(b+1).toString());c.set(r.DZ.kg,a.W$.toString());c.set(r.DZ.kQa,a.V$);};h.prototype.Xs=function(a,b,c){var d;c=void 0===c?0:c;d=this;return this.QZa(c++,a,b).then(function(f){if(f.Xs)return d.DM(f.Cd).then(function(){return d.Xs(a,b,c);});if(f.error)throw f.error;if(void 0===f.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return f.result;});};h.prototype.TV=function(a,b,c,d){var f;f=this.ly.eaa||this.xeb(b);if(f&&c<d)return!0;f?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.Ok,Attempt:c+1,MaxRetries:d},this.z3(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.Ok},this.z3(b)));return!1;};h.prototype.xeb=function(a){var b,c;b=a&&a.code;c=a&&(a.Y||a.Gc);a=a.sg!==k.DY.mha;c=!!c&&c>=k.G.BA&&c<=k.G.AA&&a;return!(!b||"RETRY"!==b)||c;};h.prototype.s0a=function(a,b,d){return a&&a.Bj&&void 0!==a.Bj.retryAfterSeconds?c.Ag(a.Bj.retryAfterSeconds):c.Cb(this.XK.C$(1E3,1E3*Math.pow(2,Math.min(b-1,d))));};h.prototype.DM=function(a){var b;b=this;return new Promise(function(d){b.ka.eg(a||c.Cf,d);});};h.prototype.z3=function(a){return n.peb(a)?a:{message:a.message,subCode:a.Gc,extCode:a.sg,mslCode:a.kq,data:a.data};};h.prototype.t1a=function(a){a.Srb();};h.prototype.Koa=function(a,b){var c;a.ey(b);try{c=this.json.stringify(this.Hl);this.log.error("PBO command history",this.json.parse(c));return c;}catch(ba){return"";}};a=h;a=g.__decorate([m.N(),g.__param(0,m.l(p.qb)),g.__param(1,m.l(q.Zia)),g.__param(2,m.l(u.Ht)),g.__param(3,m.l(z.Me)),g.__param(4,m.l(y.rm)),g.__param(5,m.l(l.nG)),g.__param(6,m.l(A.mg)),g.__param(7,m.l(M.Ww)),g.__param(8,m.l(S.PX))],a);f.UOa=a;d.prototype.Srb=function(){this.X=!0;this.elapsedTime=this.ya.cc().ie(this.startTime);};d.prototype.ey=function(a){this.X=!1;this.elapsedTime=this.ya.cc().ie(this.startTime);this.Nrb=a.Gc||a.subCode;this.q8a=a.sg||a.extCode;};d.prototype.toString=function(){return JSON.stringify(this);};d.prototype.toJSON=function(){var a;a=Object.assign({success:this.X,method:this.context.Ok,profile:this.context.profile?this.context.profile.id:"",startTime:this.startTime.fa(c.ma),elapsedTime:this.elapsedTime?this.elapsedTime.fa(c.ma):"in progress"},this.aF.T2());return this.X?a:Object.assign({},a,this.aF.T2(),{subcode:this.Nrb,extcode:this.q8a});};b.prototype.append=function(a){this.Hl.push(a);0<this.config.K6&&this.Hl.length>this.config.K6&&this.Hl.shift();};b.prototype.toJSON=function(){return this.Hl;};},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(294);d=a(578);h=a(91);m=a(577);c=a(123);k=a(576);q=a(142);p=a(575);f.Lkb=new g.Yb(function(a){a(h.Ww).to(m.SOa).Z();a(b.qha).to(d.UOa);a(c.uha).to(k.YOa);a(c.iG).Qf(function(a){return function(){return a.bc.get(c.uha);};});a(q.PN).to(p.iPa).Z();});},function(g,f,a){var d,h,m,c,k;function b(a){return h.ve.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(34);h=a(36);m=a(1);c=a(27);k=a(3);aa(b,h.ve);oa.Object.defineProperties(b.prototype,{jxa:{configurable:!0,enumerable:!0,get:function(){return k.Cb(5E3);}},jya:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E3);}},kya:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E3);}}});a=b;g.__decorate([d.config(d.Sg,"minDecoderBufferMilliseconds")],a.prototype,"jxa",null);g.__decorate([d.config(d.Sg,"optimalDecoderBufferMilliseconds")],a.prototype,"jya",null);g.__decorate([d.config(d.Sg,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"kya",null);a=g.__decorate([m.N(),g.__param(0,m.l(c.cj))],a);f.jNa=a;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(431);d=a(580);f.oib=new g.Yb(function(a){a(b.zga).to(d.jNa).Z();});},function(g,f,a){var d,h,m,c,k,q,p,u,z,b;function b(a,b,d,f,k){function g(c,g){this.track=c;this.label=g;this.pf=u.Eb.Zb.UNSENT;this.ne=0;this.Dn=[];this.requestId=z++;this.Ba=d;this.log=b.lb("MediaRequest");this.config=a;this.Hb=new p.Kj();"notification"===this.label?this.config().po&&(this.dk=f):this.dk=k;}function h(c,g){this.requestId=z++;this.Ba=d;this.log=b.lb("MediaRequest");this.config=a;this.Hb=new p.Kj();this.label=g;"notification"===this.label?this.config().po&&(this.dk=f):this.dk=k;this.KJ=this.UH=this.VH=void 0;this.track=c;this.sQ=this.url=this.responseType=void 0;this.pf=u.Eb.Zb.UNSENT;this.sj=this.UC=this.Wh=this.status=void 0;this.hk=this.ne=0;this.connect=this.K4=this.Rx=this.Bv=this.G7=this.qc=this.Xe=this.FB=void 0;this.Dn=[];this.ko=!1;}g.prototype.addEventListener=function(a,b,c){this.Hb.addListener.call(this,a,b,c);};g.prototype.removeEventListener=function(a,b){this.Hb.removeListener.call(this,a,b);};g.prototype.emit=function(a,b,c){this.Hb.Ib.call(this,a,b,c);};g.prototype.Vib=function(a){this.pf===u.Eb.Zb.OPENED&&(this.KJ=!0,this.Xe=this.qc=a.timestamp,this.pf=u.Eb.Zb.Ot,this.emit(u.Eb.wd.Mga,a));};g.prototype.y9=function(a){var b;if(this.pf<u.Eb.Zb.Yw){this.Dn=[];b=a.timestamp-this.Xe;!this.Vb&&0<b&&(this.connect=!0,this.Dn.push(b));!0!==this.config().udb&&(this.qc=a.timestamp);this.pf=u.Eb.Zb.Yw;this.emit(u.Eb.wd.Lga,a);}};g.prototype.Xib=function(a){this.pf===u.Eb.Zb.Yw&&(this.G7=this.qc=a.timestamp,a.newBytes=a.bytesLoaded-this.ne,this.ne=a.bytesLoaded,this.Ba.Bd(this.G7)&&this.emit(u.Eb.wd.Nga,a));};g.prototype.al=function(a){-1<[u.Eb.Zb.Ot,u.Eb.Zb.Yw].indexOf(this.pf)&&(this.KJ=!1,this.qc=a.timestamp,this.pf=u.Eb.Zb.DONE,a.newBytes=this.km-this.ne,this.ne=this.km,this.Ba.Bd(this.Rx)&&(this.qc=this.Rx,0===a.newBytes&&(this.G7=this.Rx)),this.Ba.Bd(this.Bv)&&(this.Xe=this.Bv),this.FB=a.response,this.emit(u.Eb.wd.dG,a));};g.prototype.Qib=function(a){this.KJ=!1;this.emit(u.Eb.wd.GNa,a);};g.prototype.A9=function(a){this.qc=a.timestamp;this.status=a.httpcode;this.Wh=a.errorcode;this.UC=u.Eb.yt.name[this.Wh];this.sj=a.nativecode;this.emit(u.Eb.wd.Vw,a);this.KJ=!1;};g.prototype.open=function(a,b,c,d,f,k,g){this.Rz=!1;this.sQ=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.pf=u.Eb.Zb.OPENED;this.dk.fJ(this,b,g);return!0;};g.prototype.Xd=function(){-1!==[u.Eb.Zb.OPENED,u.Eb.Zb.Ot,u.Eb.Zb.Yw].indexOf(this.pf)&&this.abort();return!0;};g.prototype.Coa=function(){this.FB=void 0;this.jC&&(this.jC.response=void 0,this.jC.cadmiumResponse.content=void 0);this.O6=void 0;};g.prototype.ZL=function(a){this.url=a;return!0;};g.prototype.abort=function(){this.pf=u.Eb.Zb.rF;this.dk.UP(this);return!0;};g.prototype.pause=function(){};g.prototype.getResponseHeader=function(){return null;};g.prototype.getAllResponseHeaders=function(){return"";};g.prototype.eL=function(){};g.prototype.ak=function(){return this.requestId;};g.prototype.toString=function(){var a;a={requestId:this.requestId,segmentId:this.ii,isHeader:this.Vb,ptsStart:this.Us,ptsOffset:this.bm,responseType:this.responseType,duration:this.ps,readystate:this.pf};this.stream&&(a.bitrate=this.stream.P);return JSON.stringify(a);};g.prototype.toJSON=function(){return this.toString();};g.prototype.Wbb=function(){var a,b;if(this.config().UDa&&c.ar&&c.ar.getEntriesByType&&(!this.Ba.Bd(this.Bv)||!this.Ba.Bd(this.Rx)&&this.Ba.Bd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.VH+"-"+this.UH+"*");b=new RegExp(a);a=c.ar.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ba.Bd(a)&&(0<a.startTime&&(this.Bv=a.startTime,0<a.requestStart&&(this.Bv=Math.max(this.Bv,a.requestStart))),0<a.responseStart&&(this.K4=a.responseStart),0<a.responseEnd&&(this.Rx=a.responseEnd));}};g.prototype.web=function(){return this.Ba.Bd(this.Bv)&&this.Ba.Bd(this.Rx)&&this.Ba.Bd(this.K4);};oa.Object.defineProperties(g.prototype,{km:{configurable:!0,enumerable:!0,get:function(){return this.sQ.end-this.sQ.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.UH-this.VH+1;}},Wta:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},Vb:{configurable:!0,enumerable:!0,get:function(){return!this.Cy;}},response:{configurable:!0,enumerable:!0,get:function(){return this.FB;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.pf;},set:function(){}}});Object.getOwnPropertyNames(g.prototype).forEach(function(a){Object.defineProperty(h.prototype,a,Object.getOwnPropertyDescriptor(g.prototype,a));});this.qk=Object.assign(h,u.Eb);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);m=a(17);c=a(8);k=a(21);q=a(296);p=a(68);u=a(143);z=0;b=g.__decorate([d.N(),g.__param(0,d.l(m.gd)),g.__param(1,d.l(h.qb)),g.__param(2,d.l(k.se)),g.__param(3,d.l(q.Rga)),g.__param(4,d.l(q.sga))],b);f.RMa=b;},function(g,f,a){var d,h,m,c,k,q,p,u,z,y,l,A;function b(a,b,c,d,f,k,g){this.ya=a;this.ly=b;this.config=c;this.Ed=f;this.uhb=k;this.Aoa=g;this.log=d.lb("MediaRequestDownloader");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(49);h=a(1);m=a(7);c=a(82);k=a(299);q=a(75);p=a(143);u=a(23);z=a(3);y=a(298);l=a(51);a=a(17);b.prototype.fJ=function(a,b,c){var k,g,h;function f(){a.removeEventListener(p.Eb.wd.Vw,f);a.XI?a.XI++:a.XI=1;a.XI>=k.config().A4.length&&(a.XI=k.config().A4.length-1);setTimeout(function(){k.fJ(a,b,c);},k.config().A4[a.XI]);}k=this;a.yHb=!0;g={url:a.url,responseType:this.Ed.ZPa.sFa,withCredentials:!1,AC:a.O===d.pc.L.AUDIO?"audio":"video",offset:b.start,length:a.km,track:{type:a.O===d.pc.L.AUDIO?q.ig.audio:q.ig.video},stream:{Rc:a.za,P:a.P},Ub:a.Db,Eo:a,ci:a.Vb?void 0:this.Aoa.parse.bind(this.Aoa),VV:c,tM:this.ly.tM};g=this.uhb.download(g,function(b){b.X&&a.readyState!==p.Eb.Zb.DONE&&a.readyState!==p.Eb.Zb.rF&&(a.readyState!==p.Eb.Zb.Bt&&a.readyState===p.Eb.Zb.Ot&&(a.readyState=p.Eb.Zb.Yw,a.y9({mediaRequest:a,readyState:a.readyState,timestamp:k.ys(),connect:!1})),a.readyState=p.Eb.Zb.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:k.ys(),cadmiumResponse:b,response:b.content},a.jC=b,a.al(b));});if(a.Vb){h={mediaRequest:a,readyState:a.readyState,timestamp:this.ys(),connect:!1};a.y9(h);}a.addEventListener(p.Eb.wd.Vw,f);a.O6=g.abort;};b.prototype.UP=function(a){try{a.O6();}catch(M){this.log.warn("exception aborting request");}};b.prototype.ys=function(){return this.ya.cc().fa(z.ma);};A=b;A=g.__decorate([h.N(),g.__param(0,h.l(u.Me)),g.__param(1,h.l(l.rm)),g.__param(2,h.l(a.gd)),g.__param(3,h.l(m.qb)),g.__param(4,h.l(c.Jt)),g.__param(5,h.l(k.qga)),g.__param(6,h.l(y.rda))],A);f.SMa=A;},function(g,f,a){var d,h,m;function b(a,b){this.Ed=b;this.log=a.lb("OpenConnectSideChannel");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);a=a(82);b.prototype.fJ=function(a,b,d){this.Ed.Oqb({url:a.url,Uob:d});};b.prototype.UP=function(a){try{a.O6();}catch(k){this.log.warn("exception aborting request");}};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(h.qb)),g.__param(1,d.l(a.Jt))],m);f.ONa=m;},function(g){function f(a){this.buffer=a;this.position=0;}f.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},oj:function(){return this.buffer.length-this.position;},fe:function(){return this.buffer[this.position++];},rd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},kc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},wq:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},H$:function(){for(var a="",b;b=this.fe();)a+=String.fromCharCode(b);return a;},Ab:function(){return this.kc(2);},Na:function(){return this.kc(4);},Of:function(){return this.kc(8);},lV:function(){return this.kc(2)/256;},aL:function(){return this.kc(4)/65536;},$e:function(a){for(var b,d="";a--;)b=this.fe(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;},Zv:function(){return this.$e(4)+"-"+this.$e(2)+"-"+this.$e(2)+"-"+this.$e(2)+"-"+this.$e(6);},bL:function(a){for(var b=0,d=0;d<a;d++)b+=this.fe()<<(d<<3);return b;},yz:function(){return this.bL(4);},pF:function(a){this.Nq(a,2);},Oq:function(a){this.Nq(a,4);},HM:function(a){this.buffer[this.position++]=a;},Nq:function(a,b){this.position+=b;for(var d=1;d<=b;d++)this.buffer[this.position-d]=a&255,a=Math.floor(a/256);},Mq:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},mA:function(a){for(var b=a.length,d=0;d<b;d++)this.buffer[this.position++]=a[d];},nA:function(a,b){this.mA(a.rd(b));}};g.T=f;},function(g,f,a){var d,h,m,c,k,q;function b(a,b){this.config=a;this.log=b.lb("ChunkMediaParser");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(131);m=a(7);c=a(9);k=a(17);q=a(297).F$;b.prototype.parse=function(a){var f,k,g;a=new Uint8Array(a);for(var b=q(a),d=0;d<b.length;d+=2){f=b[d];if("moof"!==f.type||"mdat"!==b[d+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:f.type,nextBoxType:b[d+1].type}),Error("data is not moof-mdat box pairs");if(this.config().evb&&"moof"==f.type){k=f.$u("traf/saio");g=f.$u("traf/"+c.UFa);k&&g&&(f=g.h_a.byteOffset-f.raw.byteOffset,k.QAa[0]!==f&&(this.log.error("Repairing bad SAIO",{saioOffsets:k.QAa[0],auxDataOffsets:f}),this.fkb(k,f)));}}return a.buffer;};b.prototype.fkb=function(a,b){var c;c=new h.uA(a.raw);c.seek(a.size-a.Iu);a=c.kc(1);c.kc(3)&1&&(c.Na(),c.Na());a=1<=a?8:4;c.Na();c.Nq(b,a);};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(k.gd)),g.__param(1,d.l(m.qb))],a);f.RGa=a;},function(g,f,a){var d,h,m,c,k,q,p,u,z,y;function b(a,b,c,d,f,k){this.fQ=a;this.Ed=c;this.Ba=d;this.ya=f;this.config=k;this.log=b.lb("MediaHttp");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(143);h=a(84);m=a(2);c=a(7);k=a(1);q=a(82);p=a(21);u=a(23);z=a(3);a=a(17);b.prototype.ys=function(){return this.ya.cc().fa(z.ma);};b.prototype.Kxa=function(a,b){a.Vib({mediaRequest:a,timestamp:b});};b.prototype.bya=function(a){var b;b=a.mediaRequest.Eo;b.readyState=d.Eb.Zb.Yw;a=a.connect?a:{timestamp:this.ys(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.y9(a);};b.prototype.AU=function(a){this.Kxa(a.mediaRequest.Eo,a.timestamp);};b.prototype.CU=function(a){var b,c;b=a.mediaRequest.Eo;c=a.bytes;"undefined"!==typeof b&&(b.readyState===d.Eb.Zb.Ot&&this.bya(a),this.Ba.Uf(c)&&(a.mediaRequest=b,a.timestamp=this.ys(),c>b.ne&&(a.newBytes=c-b.ne,a.bytesLoaded=c,b.Xib(a))));};b.prototype.WD=function(a){var b,c,f,k;b=a.mediaRequest;c=a.errorcode;f=a.httpcode;k=d.Eb.yt;if("undefined"!==typeof b&&(b=b.Eo,"undefined"!==typeof b&&b.readyState!==d.Eb.Zb.Bt))if(c===m.G.Dt)b.readyState=d.Eb.Zb.rF,a.mediaRequest=b,a.readyState=b.readyState,b.Qib(a);else{b.readyState=d.Eb.Zb.Bt;switch(c){case m.G.BA:f=k.mX;break;case m.G.CY:f=k.zY;break;case m.G.NF:f=400<f&&500>f?k.uN:500<=f?k.BY:k.zY;break;case m.G.AA:f=k.AY;break;case m.G.MF:f=k.ida;break;case m.G.OF:f=k.vN;break;case m.G.Lw:f=k.vN;break;case m.G.yY:f=k.Oea;break;case m.G.Lea:f=k.uN;break;case m.G.iIa:f=k.AY;break;default:f=k.vN;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=f;a.nativecode=c;b.A9(a);}};b.prototype.Djb=function(a,b){var c,f;c=b.request.Eo;if(c)if(b.X){if(a.j&&c.readyState!==d.Eb.Zb.DONE){switch(c.readyState){case d.Eb.Zb.rF:return;case d.Eb.Zb.Ot:this.bya({mediaRequest:b.request});}c.readyState=d.Eb.Zb.DONE;if(!c.Vb){f={mediaRequest:c,readyState:c.readyState,timestamp:this.ys(),cadmiumResponse:b};a.j.Rba+=1;c.Wbb();c.web()&&(a.j.caa+=1,b.rj.dg=Math.ceil(c.K4),b.rj.il=Math.ceil(c.Rx),b.rj.requestTime=Math.floor(c.Bv));c.jC=f;c.al(f);}}}else c.readyState!==d.Eb.Zb.rF&&(a={mediaRequest:b.request,timestamp:this.ys(),errorcode:b.Y,httpcode:b.Vh},this.WD(a));};b.prototype.download=function(a,b){var c,f;c=this;b=this.Ed.download(a,b);if(a.Eo){f=a.Eo;-1<[d.Eb.Zb.OPENED,d.Eb.Zb.Bt].indexOf(f.readyState)&&(f.readyState=d.Eb.Zb.Ot,this.config().whb?b.Zpb(function(a){c.AU(a);}):this.Kxa(f,this.ys()));}b.Cma(function(b){c.Djb(a,b);});b.hqb(function(a){c.CU(a);});b.Wpb(function(a){c.WD(a);});return b;};y=b;y=g.__decorate([k.N(),g.__param(0,k.l(h.ZW)),g.__param(1,k.l(c.qb)),g.__param(2,k.l(q.Jt)),g.__param(3,k.l(p.se)),g.__param(4,k.l(u.Me)),g.__param(5,k.l(a.gd))],y);f.NMa=y;},function(g,f,a){var d,h,m,c,b;function b(a){function b(b,d){this.u=b;this.Am=d;this.B4=!1;this.emit=c.prototype.emit;this.addListener=c.prototype.addListener;this.on=c.prototype.on;this.once=c.prototype.once;this.removeListener=c.prototype.removeListener;this.removeAllListeners=c.prototype.removeAllListeners;this.listeners=c.prototype.listeners;this.listenerCount=c.prototype.listenerCount;c.call(this);this.gb=a.lb("DownloadTrack");}b.prototype.$m=function(){this.LP=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.LP+" config: "+JSON.stringify(this.u);};b.prototype.toJSON=function(){return"Download Track id:"+this.LP+" config: "+JSON.stringify(this.u);};b.prototype.$za=function(a){this.u.connections!==a.connections&&(this.u=a);};b.prototype.bk=function(){return 1<this.u.connections?!0:!1;};oa.Object.defineProperties(b.prototype,{fb:{configurable:!0,enumerable:!0,get:function(){return this.LP;}},ko:{configurable:!0,enumerable:!0,get:function(){return void 0===this.LP;}},config:{configurable:!0,enumerable:!0,get:function(){return this.u;}},nz:{configurable:!0,enumerable:!0,get:function(){return this.gb;}},dk:{configurable:!0,enumerable:!0,get:function(){return this.Am.dk;}}});this.vA=Object.assign(b,new m.GIa());}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);m=a(145);c=a(144).EventEmitter;b=g.__decorate([d.N(),g.__param(0,d.l(h.qb))],b);f.FIa=b;},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,y;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(145);d=a(588);h=a(299);m=a(587);c=a(298);k=a(586);q=a(296);p=a(584);u=a(583);z=a(295);y=a(582);f.wZa=new g.Yb(function(a){a(b.$da).to(d.FIa).Z();a(h.qga).to(m.NMa).Z();a(c.rda).to(k.RGa).Z();a(q.Rga).to(p.ONa).Z();a(q.sga).to(u.SMa).Z();a(z.rga).to(y.RMa).Z();});},function(g,f,a){var d,h,m,c,k;function b(a){return h.ve.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(36);m=a(27);c=a(34);k=a(3);aa(b,h.ve);oa.Object.defineProperties(b.prototype,{kBa:{configurable:!0,enumerable:!0,get:function(){return!0;}},f8:{configurable:!0,enumerable:!0,get:function(){return k.d9(5);}}});a=b;g.__decorate([c.config(c.Wd,"sendPrefetchEventLogs")],a.prototype,"kBa",null);g.__decorate([c.config(c.Sg,"logsInterval")],a.prototype,"f8",null);a=g.__decorate([d.N(),g.__param(0,d.l(m.cj))],a);f.LPa=a;},function(g,f,a){var d,h,m;function b(a,b){this.Ba=b;this.ia=a.lb("PlayPredictionDeserializer");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);a=a(21);b.prototype.O5a=function(a){var b;b=this;try{return{direction:a.direction,kfb:a.layoutHasChanged,Cob:a.rowInteractionIndex,Ca:a.lolomos.map(function(a){return b.K5a(a);})};}catch(q){this.ia.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.K5a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.J5a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Eob:a.rowSegment};};b.prototype.J5a=function(a){var b,c;b={Fd:a.pts,property:a.property,Ic:a.viewableId,index:a.index};c=a.preplay;this.Ba.Bd(c)&&(b.kE=this.N5a(c));a=a.params;this.Ba.Bd(a)&&(b.ab=this.eqa(a));return b;};b.prototype.N5a=function(a){var b;b={Fd:a.pts,Ic:a.viewableId,mz:a.pipelineNum,index:a.index};a=a.params;this.Ba.Bd(a)&&(b.ab=this.eqa(a));return b;};b.prototype.eqa=function(a){return{pe:a.uiLabel,Xg:a.trackingId,fm:a.sessionParams};};b.prototype.fqa=function(a){var b;b=this;try{return a.map(function(a){return b.L5a(a);});}catch(q){this.ia.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.L5a=function(a){var b,c;c=a.params;this.Ba.Bd(c)&&(b=this.M5a(c));return{M:a.movieId,Rd:a.priority,force:a.force,ab:b,pe:a.uiLabel,tKb:a.uiExpectedStartTime,sKb:a.uiExpectedEndTime,Gi:a.firstTimeAdded};};b.prototype.M5a=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ba.Bd(c)&&(b=c);return{IH:this.I5a(a.authParams),fm:b,Xg:a.trackingId,U:a.startPts,Ia:a.manifest,$f:a.isBranching};};b.prototype.I5a=function(a){return{Jya:(a||{}).pinCapableClient};};b.prototype.Apb=function(a){var b,c;try{b="";this.Ba.Bd(a.aza)&&(b=JSON.stringify(this.Dpb(JSON.parse(a.aza))));c="";this.Ba.Bd(a.bza)&&(c=JSON.stringify(this.Epb(JSON.parse(a.bza))));return{dest_id:a.gR,offset:a.offset,predictions:a.fza.map(this.Gpb,this),ppm_input:b,ppm_output:c,prepare_type:a.cJb};}catch(p){this.ia.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Gpb=function(a){return{title_id:a.Uo};};b.prototype.Dpb=function(a){return{direction:a.direction,layoutHasChanged:a.kfb,rowInteractionIndex:a.Cob,lolomos:a.Ca.map(this.Cpb,this)};};b.prototype.Cpb=function(a){return{context:a.context,list:a.list.map(this.Bpb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Eob};};b.prototype.Bpb=function(a){var b,c;this.Ba.Bd(a.kE)&&(b=this.Hpb(a.kE));this.Ba.Bd(a.ab)&&(c=this.Jaa(a.ab));return{preplay:b,pts:a.Fd,viewableId:a.Ic,params:c,property:a.property,index:a.index};};b.prototype.Hpb=function(a){var b;this.Ba.Bd(a.ab)&&(b=this.Jaa(a.ab));return{pts:a.Fd,viewableId:a.Ic,params:b,pipelineNum:a.mz,index:a.index};};b.prototype.Jaa=function(a){return{uiLabel:a.pe,trackingId:a.Xg,sessionParams:a.fm};};b.prototype.Epb=function(a){return a.map(this.Fpb,this);};b.prototype.Fpb=function(a){var b;this.Ba.Bd(a.ab)&&(b=this.Jaa(a.ab));return{movieId:a.M,priority:a.Rd,params:b,uiLabel:a.pe,firstTimeAdded:a.Gi,viewableId:a.Ic,pts:a.Fd};};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(h.qb)),g.__param(1,d.l(a.se))],m);f.nPa=m;},function(g,f,a){var h,m,c,k,q,p,u,z,y;function b(a,b,c,d,f,k,g,h){this.xh=a;this.Xy=b;this.ka=c;this.Tv=f;this.config=k;this.l5=g;this.a$=h;this.iV=[];this.E7=[];this.o$={};this.ia=d.lb("PrefetchEvents");}function d(a,b,c,d,f,k){this.xh=a;this.Xy=b;this.ka=c;this.uf=d;this.config=f;this.a$=k;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(112);m=a(1);c=a(3);k=a(39);q=a(57);p=a(30);u=a(7);z=a(300);a=a(183);d.prototype.create=function(a,c){return new b(this.xh,this.Xy,this.ka,this.uf,a,this.config,c,this.a$);};y=d;y=g.__decorate([m.N(),g.__param(0,m.l(k.Lj)),g.__param(1,m.l(q.Tn)),g.__param(2,m.l(p.mg)),g.__param(3,m.l(u.qb)),g.__param(4,m.l(z.Xha)),g.__param(5,m.l(a.uZ))],y);f.MPa=y;b.prototype.f0a=function(a,b,c){this.My(h.ue.Iw.cGa,a,b,void 0,c);};b.prototype.h0a=function(a,b,c){this.My(h.ue.Iw.dGa,a,b,void 0,c);};b.prototype.d0a=function(a,b,c){this.My(h.ue.Iw.bGa,a,b,void 0,c);};b.prototype.b0a=function(a,b,c){this.My(h.ue.Iw.$Fa,a,b,void 0,c);};b.prototype.WH=function(a,b,c){this.My(h.ue.Iw.aGa,a,b,void 0,c);};b.prototype.tlb=function(a){this.My(h.ue.Iw.fOa,void 0,a);};b.prototype.gk=function(a,b,c,d,f,k,g){this.XP()&&(this.My(h.ue.Iw.DQa,void 0,a),this.hgb(a,b,c,d,f,k,g),this.Ira(),this.Wva());this.teb(a)&&this.lob();};b.prototype.R5a=function(a){a={dest_id:a,cache:this.Iaa(this.l5())};this.yL("destiny_start",a);};b.prototype.Vlb=function(a){(a=this.a$.Apb(a))?this.yL("destiny_prepare",a):this.ia.error("failed to serialize prepare event");};b.prototype.Ira=function(){0<this.iV.length&&this.XP()&&(this.yL("destiny_events",{dest_id:this.Tv.Cm,events:this.iV}),this.iV=[]);this.IV&&(this.IV.cancel(),this.IV=void 0);this.Zqa();};b.prototype.Wva=function(){var a;if(this.g0a()&&this.XP()){a=this.l5();this.E7=a;a={dest_id:this.Tv.Cm,offset:this.Tv.sS(),cache:this.Iaa(a)};this.yL("destiny_cachestate",a);}this.HV&&(this.HV.cancel(),this.HV=void 0);this.Yqa();};b.prototype.update=function(a){var b;b=this;a.Ca.forEach(function(a){a.list.forEach(function(a){b.o$[a.Ic]=!0;});});};b.prototype.teb=function(a){return this.o$[a];};b.prototype.g0a=function(){var a,b,c;a=this;b=this.l5();if(b.length!==this.E7.length)return!0;c=!1;b.forEach(function(b,d){try{JSON.stringify(b)!==JSON.stringify(a.E7[d])&&(c=!0);}catch(Q){a.ia.error("Failed to stringify cachedTitle",Q);}});return c;};b.prototype.My=function(a,b,c,d,f){this.XP()&&(a={offset:this.Tv.sS(),event_type:a,title_id:c,asset_type:b,size:d,reason:f},this.iV.push(a),this.Zqa(),this.Yqa());};b.prototype.Zqa=function(){this.IV||(this.IV=this.ka.eg(this.config.f8,this.Ira.bind(this)));};b.prototype.Yqa=function(){this.HV||(this.HV=this.ka.eg(this.config.f8,this.Wva.bind(this)));};b.prototype.hgb=function(a,b,d,f,k,g,p){var q;q=[];d&&q.push({Uo:a,Sr:h.ue.Wi.Cca,state:h.ue.KM.SM});f&&q.push({Uo:a,Sr:h.ue.Wi.Mw,state:h.ue.KM.SM});k&&q.push({Uo:a,Sr:h.ue.Wi.JF,state:h.ue.KM.SM});(0<g.fa(c.ma)||0<p.fa(c.ma))&&q.push({Uo:a,Sr:h.ue.Wi.MEDIA,state:h.ue.KM.SM,$Za:g.fa(c.ma),Qub:p.fa(c.ma)});a={dest_id:this.Tv.Cm,offset:this.Tv.sS(),xid:b,cache:this.Iaa(q)};this.yL("destiny_playback",a);};b.prototype.yL=function(a,b){this.config.kBa&&(a=this.Xy.Jl(a,"info",b),this.xh.tc(a));};b.prototype.Iaa=function(a){return a.map(function(a){return{title_id:a.Uo,state:a.state,asset_type:a.Sr,size:a.size,audio_ms:a.$Za,video_ms:a.Qub};});};b.prototype.XP=function(){return 0!==this.Tv.Cm;};b.prototype.lob=function(){this.Tv.kob();this.o$={};};},function(g,f,a){var b,d,h,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(112);d=a(592);h=a(183);m=a(591);c=a(590);k=a(300);q=a(107);f.Hc=new g.Yb(function(a){a(k.Xha).to(c.LPa).Z();a(b.Yha).to(d.MPa).Z();a(h.uZ).to(m.nPa).Z();a(q.YA).Qf(function(){return function(){return J._cad_global.videoPreparer;};});});},function(g,f,a){var d,h,m,c;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(8);m=a(184);b.prototype.nbb=function(){var a;a=J.devicePixelRatio||1;return{width:this.t0.HHa||h.br.width*a,height:this.t0.GHa||h.br.height*a};};oa.Object.defineProperties(b.prototype,{t0:{configurable:!0,enumerable:!0,get:function(){return a(33).Eg;}}});c=b;g.__decorate([m.CT],c.prototype,"t0",null);c=g.__decorate([d.N()],c);f.vSa=c;},function(g,f,a){var d,h;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(139);b.prototype.compare=function(a,b){var c;c=[];this.K2(a,b,"",c);return c;};b.prototype.K2=function(a,b,d,f){var c;c=this;if(h.Gt.Rr(a))h.Gt.Rr(b)&&a.length===b.length?a.forEach(function(k,g){c.K2(a[g],b[g],d+"["+g+"]",f);}):f.push({a:a,b:b,path:d});else if(h.Gt.Fx(a)&&null!=a)if(h.Gt.Fx(b)&&null!=b){for(var g in a)this.K2(a[g],b[g],d+"."+g,f);for(var k in b)k in a||void 0===b[k]||f.push({a:void 0,b:b[k],path:d+"."+k});}else f.push({a:a,b:b,path:d});else a!==b&&f.push({a:a,b:b,path:d});};a=b;a=g.__decorate([d.N()],a);f.JNa=a;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.KNa="ObjectComparerSymbol";},function(g,f,a){var d,h,m,c;function b(a){this.location=a;h.Yk(this,"location");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(47);m=a(37);a=a(1);b.KU=function(a){var b,f,g;b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){f=a[c].trim();g=f.indexOf("=");0<=g?b[decodeURIComponent(f.substr(0,g).replace(d.kha,"%20"))]=decodeURIComponent(f.substr(g+1).replace(d.kha,"%20")):b[f.toLowerCase()]="";}}return b;};oa.Object.defineProperties(b.prototype,{Jmb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=d.KU(this.Bza);}},Bza:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.WK)return this.WK;this.WK=this.location.search.substr(1);a=this.WK.indexOf("#");0<=a&&(this.WK=this.Bza.substr(0,a));return this.WK;}}});c=d=b;c.kha=/[+]/g;c=d=g.__decorate([a.N(),g.__param(0,a.l(m.Nfa))],c);f.UPa=c;},function(g,f,a){var d;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.csa=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.csa(a);});};d=b;d=g.__decorate([a.N()],d);f.gSa=d;},function(g,f,a){var d,h,m,c,k,q;function b(a,b){this.is=a;this.json=b;h.Yk(this,"json");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(47);m=a(37);c=a(1);k=a(21);q=a(134);b.prototype.Mza=function(a){var b;b=this;return d.read(a,function(a){return parseInt(a);},function(a){return b.is.s1(a);});};b.prototype.G$=function(a){var b;b=this;return d.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.nH(a);});};b.prototype.Na=function(a){var b;b=this;return d.read(a,function(a){return parseInt(a);},function(a){return b.is.Bp(a);});};b.prototype.Tmb=function(a){var b;b=this;return d.read(a,function(a){return parseFloat(a);},function(a){return b.is.Uf(a);});};b.prototype.Lza=function(a,b){return d.read(a,function(a){return d.O8a(a,b);},function(a){return void 0!==a;});};b.prototype.J$=function(a,b){return d.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.Nza=function(a){var b,c;b=void 0===b?function(){return!0;}:b;c=this;try{return d.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.Fx(a)&&b(a);});}catch(y){return new q.vm();}};b.prototype.rd=function(a,b,c){var f,g;c=void 0===c?1:c;f=this;a=a.trim();g=b instanceof Function?b:this.k4a(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0!=b||c!=a.length-1)return new q.vm();a=a.substring(b+1,c);try{return d.ykb(a).map(function(a){a=g(f,d.Dub(a));if(a instanceof q.vm)throw a;return a;});}catch(A){return A instanceof q.vm?A:new q.vm();}};b.prototype.k4a=function(a,b){var c;b=void 0===b?1:b;c=this;return function(f,g){f=d.Zab(a);return 1<b?c.rd(g,a,b-1):f(c,g);};};b.O8a=function(a,b){var d;for(var c in b){d=parseInt(c);if(b[d]==a)return d;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new q.vm();};b.Zab=function(a){switch(a){case"int":return function(a,b){return a.Mza(b);};case"bool":return function(a,b){return a.G$(b);};case"uint":return function(a,b){return a.Na(b);};case"float":return function(a,b){return a.Tmb(b);};case"string":return function(a,b){return a.J$(b);};case"object":return function(a,b){return a.Nza(b);};}};b.ykb=function(a){var p;for(var b=[["[","]"]],c=[],d=0,f=0,g=0,k=[],h={};f<a.length;h={"char":h["char"]},++f){h["char"]=a.charAt(f);p=void 0;","==h["char"]&&0==g?(c.push(a.substr(d,f-d)),d=f+1):(p=b.find(function(a){return function(b){return b[0]==a["char"];};}(h)))?(++g,k.push(p)):0<k.length&&k[k.length-1][1]==h["char"]&&(--g,k.pop());}if(d!=f)c.push(a.substr(d,f-d));else if(d==f&&0<d)throw new q.vm();return c;};b.Dub=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new q.vm();return a.substring(1,a.length-1);}return a;};a=d=b;a=d=g.__decorate([c.N(),g.__param(0,c.l(k.se)),g.__param(1,c.l(m.Ht))],a);f.kRa=a;},function(g,f,a){var b,d,h,m,c,k,q,p,u,z;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(599);d=a(598);h=a(597);m=a(134);c=a(465);k=a(326);q=a(596);p=a(595);u=a(301);z=a(594);f.Td=new g.Yb(function(a){a(m.MZ).to(b.kRa).Z();a(c.CZ).to(h.UPa).Z();a(k.fja).to(d.gSa).Z();a(q.KNa).to(p.JNa).Z();a(u.rja).to(z.vSa).Z();});},function(g,f,a){var d,h;function b(a){this.Iib=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(302);a=a(1);b.prototype.Dsa=function(){var a;a=this.Iib.getDeviceId();return new Promise(function(b,d){a.oncomplete=function(){b(a.result);};a.onerror=function(){d(a.error);};});};h=b;h=g.__decorate([a.N(),g.__param(0,a.l(d.Jga))],h);f.eHa=h;},function(g,f,a){var b,d,h,m,c;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(302);d=a(333);h=a(334);m=a(601);c=a(8);f.crypto=new g.Yb(function(a){a(h.Ada).to(m.eHa).Z();a(b.Jga).Bh(c.Mt);a(d.Bda).Bh(c.$Y);});},function(g,f,a){var d,h,m,c,k,q,p,u;function b(a,b,c){var d;d=q.XN.call(this,a,b,"network")||this;d.WQ=c;d.mR=k.AX.zMa;d.Vgb=30;d.Ujb=function(a){d.mR=a.target.value;d.refresh();};d.Ajb=function(){d.data={};d.refresh();};d.LAa=function(a){a=JSON.stringify(d.data[d.mR][Number(a.target.id)].value,null,4);u.rX.Y2(a);};return d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(22);m=a(21);c=a(70);k=a(149);q=a(305);p=a(106);u=a(186);aa(b,q.XN);b.prototype.yc=function(){var a;a=this;if(this.ln)return Promise.resolve();J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==p.Zq.nNa&&a.toggle();});this.data={};this.WQ.addListener(k.Sda.TOa,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.Vgb&&c.shift();c.push(b);b.type===a.mR&&a.refresh();});this.ln=!0;return Promise.resolve();};b.prototype.Tk=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.X5=function(a,b,c){var d;d=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.eoa.fo(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+d+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.g6=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.Tk(),b=this.data[this.mR]||[],c=0;c<b.length;++c)a+=this.X5(c,b[c].name,b[c].value);return a+"</table>";};b.prototype.Asa=function(){var a;a=this.oc.createElement("button",q.xF,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Ajb;return[a,this.u4a(),this.n4a()];};b.prototype.u4a=function(){var a;a=this.oc.createElement("select",q.xF,Object.keys(k.AX).reduce(function(a,b){b=k.AX[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.Ujb;return a;};b.prototype.n4a=function(){var a,b,c,d;a=this;b=this.oc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.SK;b.onchange=function(){return a.Psb();};c=this.oc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});d=this.oc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});d.appendChild(b);d.appendChild(c);return d;};b.prototype.bAa=function(){return Promise.resolve(this.g6());};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.af)),g.__param(1,d.l(m.se)),g.__param(2,d.l(c.AF))],a);f.sAb=a;},function(g,f,a){var m,c,k,q,p,u,z,y,l,A,n,M,S,Q,r;function b(a,b,c,d,f,g,k,p,q){var m;m=this;this.Qa=a;this.app=b;this.oc=c;this.ka=d;this.kk=f;this.config=g;this.zC=k;this.qsb=p;this.Ah=q;this.rsb=function(){m.HDa.Jb(function(){m.update();});};this.clear=function(){m.entries=[];m.update();};this.hxa=function(){m.ud.sD=!m.ud.sD;m.Cv&&m.Hv&&(m.ud.sD?(m.Cv.style.display="inline-block",m.Hv.style.display="none"):(m.Hv.style.display="inline-block",m.Cv.style.display="none"));m.Qz(!1);};this.ogb=function(a){var b;m.entries.push(a);b=m.config.BD;0<=b&&m.entries.length>b&&m.entries.shift();void 0===m.ud.ds[a.Mk]&&(m.ud.ds[a.Mk]=!0,m.Qz(!1));m.ud.Xl&&!m.ICa?m.rsb():m.HDa.Jb();};this.m6a=function(){h.download("all",m.entries.map(function(a){return a.uW(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.ln=!1;this.ud={Xl:!1,sD:!0,lR:!0,b8:l.Hh.EY,ds:{}};this.HDa=this.qsb(u.Ag(1));this.entries=[];}function d(a){var b;this.elements=[];b=document.createElementNS(d.YL,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);m=a(1);c=a(22);k=a(96);q=a(30);p=a(42);u=a(3);z=a(23);y=a(92);l=a(7);A=a(95);n=a(185);M=a(303);S=a(63);Q=a(106);r=a(186);h.download=function(a,b){return h.$$a(a).then(function(a){return h.Rbb(a,b.join("\r\n")).then(function(a){return h.l6a(a.filename,a.text);});});};h.$$a=function(a){return new Promise(function(b,c){var d,f,g,k,h,p,q;try{d=new Date();f=d.getDate().toString();g=(d.getMonth()+1).toString();k=d.getFullYear().toString();h=d.getHours().toString();p=d.getMinutes().toString();q=d.getSeconds().toString();1===f.length&&(f="0"+f);1===g.length&&(g="0"+g);1===h.length&&(h="0"+h);1===p.length&&(p="0"+p);1===q.length&&(q="0"+q);b(k+g+f+h+p+q+"."+a+".log");}catch(za){c(za);}});};h.Rbb=function(a,b){return new Promise(function(c,d){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(Y){d(Y);}});};h.l6a=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(ba){return Promise.reject(ba);}};d.prototype.LE=function(){var a;a=document.createElementNS(d.YL,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};d.prototype.ME=function(a,b,c){var f;f=document.createElementNS(d.YL,"path");f.setAttribute("d",a);b&&f.setAttribute("fill",b);c&&f.setAttribute("fill-rule",c);this.addElement(f);return this;};d.prototype.ML=function(a,b,c,f,g){var k;g=void 0===g?"#000000":g;k=document.createElementNS(d.YL,"rect");k.setAttribute("x",a.toString());k.setAttribute("y",b.toString());k.setAttribute("height",c.toString());k.setAttribute("width",f.toString());g&&k.setAttribute("fill",g);this.addElement(k);return this;};d.prototype.grb=function(){var a;a=document.createElementNS(d.YL,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};d.prototype.end=function(){this.elements.pop();return this;};d.prototype.fo=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};d.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};oa.Object.defineProperties(d,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},Wx:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});d.YL="http://www.w3.org/2000/svg";b.prototype.yc=function(){var a;a=this;this.Zh||(this.Zh=new Promise(function(b){J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==Q.Zq.uLa?a.toggle():b.keyCode==Q.Zq.E&&r.rX.Y2(a.zC().Mg));});a.kk.rV(n.Wfa.IHa,a.ogb);b();}));return this.Zh;};b.prototype.show=function(){document.body&&(this.element||(this.R3a(),this.ln=!0),!this.ud.Xl&&this.element&&(document.body.appendChild(this.element),this.ud.Xl=!0,this.update(!0)));};b.prototype.lD=function(){this.ln&&this.ud.Xl&&this.element&&(document.body.removeChild(this.element),this.ud.Xl=!1);};b.prototype.toggle=function(){this.ud.Xl?this.lD():this.show();this.Qz(!1);};b.prototype.R3a=function(){var a,b;try{a=this.createElement("DIV","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.rw=this.s4a());a.appendChild(this.t4a());a.appendChild(this.M3a());this.element=a;}catch(R){console.error("Unable to create the log console",R);}};b.prototype.s4a=function(){var a,b;a=this;b=this.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.ICa=!0;a.update();a.rw&&(a.rw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.ICa=!1;a.update();a.rw&&(a.rw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.t4a=function(){var a;a=this.createElement("DIV","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.f4a());a.appendChild(this.$3a());a.appendChild(this.V3a());a.appendChild(this.v4a());a.appendChild(this.P3a());a.appendChild(this.j4a());a.appendChild(this.i4a());a.appendChild(this.X3a());a.appendChild(this.Q3a());return a;};b.prototype.M3a=function(){var a,b,c,d,f,g;a=this;b=this.createElement("DIV","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("DIV","padding:2px");d=this.createElement("SELECT",this.Qp(22,160,1,2),"<option>Select categories</option>");f=this.createElement("DIV","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(f);c.appendChild(d);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?f.style.display="none":(f.innerHTML="",["all","none"].concat(Object.keys(a.ud.ds).sort()).forEach(function(b){f.appendChild(a.N3a(b,c));}),f.style.display="block");g=!g;});return b;};b.prototype.N3a=function(a,b){var c,d,f;c=this;d=this.createElement("LABEL","display: block;margin:1px");d.htmlFor=a;f=this.createElement("INPUT","margin:1px");f.type="checkbox";f.id=a;f.checked=this.ud.ds[a];f.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.ud.ds).forEach(function(b){c.ud.ds[b]="all"===a;}),b.click()):c.ud.ds[a]=!c.ud.ds[a];c.Qz(!0);});d.appendChild(f);d.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return d;};b.prototype.f4a=function(){var a,b;a=this;b=this.createElement("SELECT",this.Qp(22,NaN,1,2),'<option value="'+l.Hh.ERROR+'">Error</option>'+('<option value="'+l.Hh.WZ+'">Warn</option>')+('<option value="'+l.Hh.EY+'">Info</option>')+('<option value="'+l.Hh.Sia+'">Trace</option>')+('<option value="'+l.Hh.uX+'">Debug</option>'));b.value=this.ud.b8.toString();b.addEventListener("change",function(b){a.ud.b8=parseInt(b.target.value);a.Qz(!0);},!1);return b;};b.prototype.$3a=function(){var b,c;function a(a){a=a.target.value;b.ud.filter=a?new RegExp(a):void 0;b.Qz(!0);}b=this;c=this.createElement("INPUT",this.Qp(14,150,1,2));c.value=this.ud.filter?this.ud.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.V3a=function(){var a,b,c,d;a=this;b=this.createElement("div",this.Qp(NaN,NaN));c=this.createElement("INPUT","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.ud.lR;c.addEventListener("change",function(b){a.ud.lR=b.target.checked;a.Qz(!0);},!1);d=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");d.setAttribute("for","details");d.innerHTML="View details";b.appendChild(c);b.appendChild(d);return b;};b.prototype.v4a=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.Qp());c=new d("0 0 24 24").LE().grb().end().ME("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",d.Wx,"nonzero").end().end().fo();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.P3a=function(){var a,b;a=this.createElement("BUTTON",this.Qp());b=new d("0 0 24 24").LE().ML(0,0,24,24,d.background).end().ME("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",d.Wx).end().end().fo();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.j4a=function(){var a;this.Hv=this.createElement("BUTTON",this.Qp());this.Hv.style.display=this.ud.sD?"none":"inline-block";a=new d("0 0 24 24").LE().ML(0,0,24,24,d.background).end().ME("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",d.Wx,"nonzero").end().end().fo();this.Hv.addEventListener("click",this.hxa,!1);this.Hv.appendChild(a);this.Hv.setAttribute("title","Shrink the log console");return this.Hv;};b.prototype.i4a=function(){var a;this.Cv=this.createElement("BUTTON",this.Qp());this.Cv.style.display=this.ud.sD?"inline-block":"none";a=new d("0 0 24 24").LE().ML(4,4,16,16,d.background).end().ME("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",d.Wx,"nonzero").end().end().fo();this.Cv.addEventListener("click",this.hxa,!1);this.Cv.appendChild(a);this.Cv.setAttribute("title","Expand the log console");return this.Cv;};b.prototype.X3a=function(){var a,b;a=this.createElement("BUTTON",this.Qp());b=new d("0 0 26 26").LE().ML(0,0,24,24,d.background).end().ME("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",d.Wx,"nonzero").end().end().fo();a.appendChild(b);a.addEventListener("click",this.m6a,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.Q3a=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.Qp());c=new d("0 0 24 24").LE().ML(0,0,24,24,d.background).end().ME("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",d.Wx,"nonzero").end().end().fo();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.Qz=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.gL&&Promise.resolve(this.W_a()+this.aab().join("\r\n")).then(function(c){b.element&&b.rw&&(b.rw.value=c,b.element.style.cssText=b.ud.sD?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ka.eg(u.Cf,function(){b.rw.scrollTop=b.rw.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.aab=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.ud.b8&&a.ud.ds[c.Mk]&&(c=c.uW(!a.ud.lR,!a.ud.lR),a.ud.filter&&!a.ud.filter.test(c)||b.push(c));});return b;};b.prototype.W_a=function(){var a;a=this.zC();return"Version: 6.0018.593.011 \n"+((a?"Esn: "+a.Mg:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Qa.Te.fa(u.xm)+", Start: "+this.app.Ky.fa(u.xm)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,d){return this.oc.createElement(a,b,c,d);};b.prototype.Qp=function(a,b,c,f){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+d.Wx+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(f?"border-radius:"+f+"px;":"");};a=b;a.yrb="logDxDisplay";a=g.__decorate([m.N(),g.__param(0,m.l(p.Jj)),g.__param(1,m.l(z.Me)),g.__param(2,m.l(c.af)),g.__param(3,m.l(q.mg)),g.__param(4,m.l(A.GA)),g.__param(5,m.l(M.Pfa)),g.__param(6,m.l(y.Gw)),g.__param(7,m.l(k.WA)),g.__param(8,m.l(S.ep))],a);f.JLa=a;},function(g,f,a){var d,h,m,c,k;function b(a,b){a=m.ve.call(this,a,"LogDisplayConfigImpl")||this;a.Zm=b;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(34);m=a(36);c=a(27);a=a(137);aa(b,m.ve);oa.Object.defineProperties(b.prototype,{gL:{configurable:!0,enumerable:!0,get:function(){return!0;}},BD:{configurable:!0,enumerable:!0,get:function(){return this.Zm.BD;}},Yva:{configurable:!0,enumerable:!0,get:function(){return-1;}}});k=b;g.__decorate([h.config(h.Wd,"renderDomDiagnostics")],k.prototype,"gL",null);g.__decorate([h.config(h.g7,"logDisplayMaxEntryCount")],k.prototype,"BD",null);g.__decorate([h.config(h.g7,"logDisplayAutoshowLevel")],k.prototype,"Yva",null);k=g.__decorate([d.N(),g.__param(0,d.l(c.cj)),g.__param(1,d.l(a.jG))],k);f.ILa=k;},function(g,f,a){var d,h;function b(){this.waa="";this.dEa=[[],[]];this.$=[[],[]];}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a(3);h=a(84);b.prototype.downloadRequest=function(a){var b;""===this.waa&&(this.waa=a.ii);if(!a.Vb){b=this.Jsb(a);this.$[a.O].push(b);this.dEa[a.O].forEach(function(a){a.XDb(b);});}};b.prototype.Jsb=function(a){return{id:this.lab(a),ii:a.ii,O:a.O,Vm:a.Vm,startTime:a.Us,endTime:a.mE,offset:a.bm,VH:a.VH,UH:a.UH,duration:a.ps,P:a.P,state:h.Rca.zqa,da:a.da,qq:!1,hHb:!1,Wta:!1,PFb:h.Qca.waiting};};b.prototype.lab=function(a){return a.ak();};b.prototype.update=function(a){this.dEa[a.O].forEach(function(b){b.yKb(a);});};oa.Object.defineProperties(b.prototype,{ii:{configurable:!0,enumerable:!0,get:function(){return this.waa;}}});a=b;a=g.__decorate([d.N()],a);f.bFa=a;},function(g,f,a){var d,h;function b(a){this.h6a=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(306);b.prototype.yc=function(){var a;a=this;this.Zh||(this.Zh=new Promise(function(b,d){var c;c=[];a.h6a.forEach(function(a){c.push(a.yc());});Promise.all(c).then(function(){b();})["catch"](function(a){d(a);});}));return this.Zh;};h=b;h=g.__decorate([d.N(),g.__param(0,d.$y(a.eea))],h);f.QIa=h;},function(g,f){function a(a){this.is=a;this.Neb="#881391";this.Grb="#C41A16";this.J_a=this.djb="#1C00CF";this.Vdb="#D79BDB";this.Gtb=this.bjb="#808080";}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.fo=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.cv=function(a,d){return'<font color="'+((void 0===d?0:d)?this.Vdb:this.Neb)+'">'+a+": </font>";};a.prototype.hsa=function(a,d){d=d||"";a=""+('<li><a href="#">'+this.cv(a)+"Array["+d.length+"]</a>");a+="<ul>";for(var b=0;b<d.length;++b)a+=this.getValue(b.toString(),d[b]);a+=this.getValue("length",d.length,!0);return a+"</ul></li>";};a.prototype.hta=function(a,d){var b,f,c;b=this;if(d instanceof CryptoKey)return this.w$a(a,d);f=Object.keys(d);c="";c=c+('<li><a href="#">'+("~~NONAME~~"!==a?this.cv(a):"")+"Object</a>");c=c+"<ul>";f.forEach(function(a){c=a.startsWith("$")?c+b.getValue(a,"REMOVED"):c+b.getValue(a,d[a]);});c+="</ul>";return c+="</li>";};a.prototype.w$a=function(a,d){a=""+('<li><a href="#">'+this.cv(a)+"CryptoKey</a>");a=a+"<ul>"+this.hta("algorithm",d.algorithm);a+=this.osa("extractable",d.extractable);a+=this.xta("type",d.type);a+=this.hsa("usages",d.usages);return a+"</ul></li>";};a.prototype.Xab=function(a,d,f){return'<li><a href="#">'+this.cv(a,void 0===f?!1:f)+('<font color="'+this.djb+'">'+d.toString()+"</font>")+"</a></li>";};a.prototype.osa=function(a,d,f){return'<li><a href="#">'+this.cv(a,void 0===f?!1:f)+('<font color="'+this.J_a+'">'+d.toString()+"</font>")+"</a></li>";};a.prototype.xta=function(a,d,f){128<d.length&&(d=d.substr(0,128)+"...");return'<li><a href="#">'+this.cv(a,void 0===f?!1:f)+('<font color="'+this.Grb+'">"'+d+'"</font>')+"</a></li>";};a.prototype.Wab=function(a){return'<li><a href="#">'+this.cv(a)+('<font color="'+this.bjb+'">null</font>')+"</a></li>";};a.prototype.ccb=function(a,d){d="undefined"===typeof d?"":d.toString();255<d.length&&(d=d.substr(0,255)+"...");return'<li><a href="#">'+this.cv(a)+('<font color="'+this.Gtb+'">'+d+"</font>")+"</a></li>";};a.prototype.getValue=function(a,d,f){f=void 0===f?!1:f;return null===d?""+this.Wab(a):this.is.Rr(d)?""+this.hsa(a,d):this.is.Fx(d)?""+this.hta(a,d):this.is.Bi(d)?""+this.xta(a,d,f):this.is.Uf(d)?""+this.Xab(a,d,f):this.is.nH(d)?""+this.osa(a,d,f):""+this.ccb(a,d);};f.PRa=a;},function(g,f,a){var d,h,m,c,k,q,p;function b(a,b,c){var d;d=k.XN.call(this,a,b,"idb")||this;d.Ah=c;d.LAa=function(a){d.D5a(a.target.id).then(function(){return d.refresh();});};d.Bjb=function(){d.k1a().then(function(){return d.refresh();});};d.Ljb=function(){d.refresh();};d.Ejb=function(){d.h2a();};return d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(22);m=a(21);c=a(161);k=a(305);q=a(106);p=a(186);aa(b,k.XN);b.prototype.yc=function(){var a;a=this;if(this.ln)return Promise.resolve();J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==q.Zq.mKa&&a.toggle();});return this.Ah.create().then(function(b){a.storage=b;a.ln=!0;});};b.prototype.Tk=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.X5=function(a,b,c){var d;a=a.toString();d='<font color="#C41A16">"'+b+'"</font>';c=this.eoa.fo({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+d+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.g6=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.Tk(),c=Object.keys(a),d=0;d<c.length;++d)b+=this.X5(d,c[d],a[c[d]]);return b+"</table>";};b.prototype.Asa=function(){var a,b,c;a=this.oc.createElement("button",k.xF,"Clear",{"class":this.prefix+"-display-btn"});b=this.oc.createElement("button",k.xF,"Refresh",{"class":this.prefix+"-display-btn"});c=this.oc.createElement("button",k.xF,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Bjb;b.onclick=this.Ljb;c.onclick=this.Ejb;return[a,b,c];};b.prototype.Ofb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.qua=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.qua;});};b.prototype.D5a=function(a){return this.storage.remove(a);};b.prototype.k1a=function(){return this.storage.removeAll();};b.prototype.bAa=function(){var a;a=this;return this.Ofb().then(function(b){return a.g6(b);});};b.prototype.h2a=function(){var a;a=JSON.stringify(this.qua,null,4);p.rX.Y2(a);};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.af)),g.__param(1,d.l(m.se)),g.__param(2,d.l(c.HY))],a);f.ezb=a;},function(g,f,a){var d,h,m,c,k,q,p,u;function b(a){return function(){return new Promise(function(b,c){var d;d=a.bc.get(h.gea);d.yc().then(function(){b(d);})["catch"](function(a){c(a);});});};}Object.defineProperty(f,"__esModule",{value:!0});g=a(1);d=a(306);a(609);h=a(304);m=a(607);c=a(84);k=a(606);q=a(303);p=a(605);u=a(604);a(603);f.O6a=new g.Yb(function(a){a(q.Pfa).to(p.ILa).Z();a(d.eea).to(u.JLa);a(c.ZW).to(k.bFa).Z();a(h.gea).to(m.QIa).Z();a(h.fea).jM(b);});},function(g,f,a){var m,c,k,q;function b(){}function d(a){this.Nkb=a;}function h(a){this.Pkb=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);m=a(1);c=a(187);k=a(55);q=a(2);h.prototype.cp=function(a){a.map(this.Pkb.cp);};a=h;a=g.__decorate([m.N(),g.__param(0,m.l(c.Bha))],a);f.dPa=a;d.prototype.cp=function(a){this.Nkb.cp(a.data);};a=d;a=g.__decorate([m.N(),g.__param(0,m.l(c.yha))],a);f.ePa=a;b.prototype.cp=function(a){if(!a.oa||"string"!==typeof a.oa)throw new k.Oc(q.I.Et,q.G.st,void 0,void 0,void 0,"Xid value is corrupted.",void 0,a.oa);};c=b;c=g.__decorate([m.N()],c);f.hPa=c;},function(g,f,a){var d,h,m,c;function b(a,b,c){this.bI=b;this.Mr=c;this.log=a.lb("PboEventSenderImpl");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(65);h=a(76);m=a(7);a=a(1);b.prototype.Gaa=function(a,b){var c;c=this.bI(h.ol.start);return this.cra(c,a,b);};b.prototype.oBa=function(a){var b,c;b=this;c=this.bI(h.ol.stop);return this.Mr().then(function(d){return c.Ue(b.log,d.qy(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.xL=function(a,b,c){a=this.bI(a);return this.cra(a,b,c);};b.prototype.cra=function(a,b,c){var d;d=this;return this.Mr().then(function(f){return a.en(d.log,f.qy(c.profileId),b.Ia.tf,c);}).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};c=b;c=g.__decorate([a.N(),g.__param(0,a.l(m.qb)),g.__param(1,a.l(h.MX)),g.__param(2,a.l(d.Rq))],c);f.VOa=c;},function(g,f,a){var d,h,m,c,k,q;function b(a,b){a=h.ve.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(36);m=a(27);c=a(34);k=a(3);a=a(51);aa(b,h.ve);oa.Object.defineProperties(b.prototype,{bE:{configurable:!0,enumerable:!0,get:function(){return this.config.Np?"unsentplaydatatest":"unsentplaydata";}},Eaa:{configurable:!0,enumerable:!0,get:function(){return!0;}},iBa:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E4);}},V9:{configurable:!0,enumerable:!0,get:function(){return k.Cb(4E3);}},rva:{configurable:!0,enumerable:!0,get:function(){return k.d9(1);}},sva:{configurable:!0,enumerable:!0,get:function(){return k.Ag(30);}}});q=b;g.__decorate([c.config(c.string,"playdataPersistKey")],q.prototype,"bE",null);g.__decorate([c.config(c.Wd,"sendPersistedPlaydata")],q.prototype,"Eaa",null);g.__decorate([c.config(c.Sg,"playdataSendDelayMilliseconds")],q.prototype,"iBa",null);g.__decorate([c.config(c.Sg,"playdataPersistIntervalMilliseconds")],q.prototype,"V9",null);g.__decorate([c.config(c.Sg,"heartbeatCooldown")],q.prototype,"rva",null);g.__decorate([c.config(c.Sg,"keepAliveWindow")],q.prototype,"sva",null);q=g.__decorate([d.N(),g.__param(0,d.l(m.cj)),g.__param(1,d.l(a.rm))],q);f.zPa=q;},function(g,f,a){var m,c,k,q,p,u,z,y,l,A,n,M,S,Q;function b(a,b,c,f,g,k,h,p){this.config=a;this.ka=c;this.Hq=f;this.Io=g;this.SU=k;this.Ze=h;this.Jy=Promise.resolve();this.closed=!1;this.log=b.lb("PlaydataServices");this.oz=[];this.active=new Set();this.xob=new d(a,p);}function d(a,b){this.config=a;this.Qa=b;}function h(a,b,c,d,f,g){this.log=a;this.ka=b;this.vj=c;this.Io=d;this.Hq=f;this.mlb=g;this.kra=this.YH=!1;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);m=a(1);c=a(3);k=a(7);q=a(30);p=a(227);u=a(309);z=a(15);y=a(308);l=a(2);A=a(188);n=a(307);M=a(127);S=a(42);a=a(61);h.prototype.lU=function(a,b){var d;function c(){var a;a=d.Io.create(d.vj);d.Hq.jca(a)["catch"](function(a){var b;b=d.kra?k.Hh.WZ:k.Hh.ERROR;d.kra=!0;d.log.write(b,"Unable to save playdata changes to IDB",a);});}d=this;this.log.trace("Adding initial playdata",b);this.Hq.NYa(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.En=d.ka.XAa(a,c);})["catch"](function(f){d.log.error("Unable to add playdata",{error:f,playdata:new A.qZ().encode(b)});d.En=d.ka.XAa(a,c);});};h.prototype.stop=function(a){var b,c;b=this;if(this.YH)return Promise.resolve();this.En&&this.En.cancel();c=this.Io.create(this.vj);return this.Hq.jca(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.vj.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.mlb.oBa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.Hq.jAa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.M);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.YH=!0;this.En&&this.En.cancel();this.Hq.jca(this.Io.create(this.vj));};oa.Object.defineProperties(d.prototype,{z0a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Qa.Te;return!this.Jy||0<=a.ie(this.Jy).Pk(this.config.sva)?(this.Jy=a,!0):!1;}}});f.sBb=d;b.prototype.yc=function(){var a;a=this;this.Zh||(this.log.trace("Starting playdata services"),this.Zh=this.Hq.Wmb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.Zh;};b.prototype.close=function(){this.closed=!0;this.oz.forEach(function(a){a.lU.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.bE&&b.Eaa?this.qpb(a):Promise.resolve();};b.prototype.drb=function(a){this.closed||this.erb(a);};b.prototype.mCa=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=this.Io.create(a);this.active["delete"](c.oa);a=P(M.Qs(function(a){return a.key===c.oa;},this.oz));d=a.next().value;this.oz=a.next().value;return Promise.all(d.map(function(a){a.nCa=!0;return a.lU.stop(b.config.Eaa);})).then(function(){});};b.prototype.BU=function(a,b){var c,d;c=this;d=a.ha;this.hCa(d,b);this.Gaa(d,a.fI)["catch"](function(b){var d;d=b.dy;c.log.error("Start command failed",{playdata:b.dE,error:d});a.pd(c.Ze(l.I.sia,d));});this.brb(a);};b.prototype.erb=function(a){var b;b=this;a.addEventListener(z.S.rn,function(c){void 0!==c.$U&&(b.mCa(a.hn(c.$U)),new Promise(function(b){var c;if(a.qq.value)b();else{c=function(d){d.newValue&&(b(),a.qq.removeListener(c));};a.qq.addListener(c);}}).then(function(){return b.BU(a,"online");}));});a.addEventListener(z.S.yh,function(){b.BU(a,"online");});a.background||a.addEventListener(z.S.ZJ,function(c){b.hCa(a.hn(c.da),"online");});a.addEventListener(z.S.Ge,function(){b.qrb();});a.addEventListener(z.S.WDa,function(){b.vpb(a.ha)["catch"](function(b){(b=b.d$)&&a.pd(b);});});a.uc.addListener(function(){a.Xa.Q3?b.log.trace("stickiness is disabled for timedtext"):b.nBa(a.ha);});a.Lc.addListener(function(){a.Xa.Q3?b.log.trace("stickiness is disabled for audio"):b.nBa(a.ha)["catch"](function(b){(b=b.d$)&&a.pd(b);});});};b.prototype.hCa=function(a,b){var c,d;a.Nc("pdb");if(this.config.V9.ava()){c=this.Io.create(a);d=c.oa;this.oz.some(function(a){return a.key===d;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(d),this.oz.push({key:d,lU:this.Mab(a,c),Rz:!1,nCa:!1}));}};b.prototype.qpb=function(a){var b,c,d,f;b=this;c=this.Hq.dE.filter(function(a){return!b.active.has(a.oa);});d=void 0;f=void 0;a&&Infinity===a?d=c:(c=P(M.Qs(function(b){return b.M===a;},c)),d=c.next().value,f=c.next().value);f&&0<f.length&&this.ka.eg(this.config.iBa,function(){b.mBa(f);});return d&&0!==d.length?this.mBa(d):Promise.resolve();};b.prototype.mBa=function(a){var c;function b(a){return c.SU.oBa(a).then(function(){return c.Onb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};b.prototype.Onb=function(a){var b;b=this;return this.Hq.jAa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.Mab=function(a,b){a=new h(this.log,this.ka,a,this.Io,this.Hq,this.SU);a.lU(this.config.V9,b);return a;};b.prototype.Gaa=function(a,b){var c,d;c=this;d=this.Io.a4a(a,b);return this.SU.Gaa(a,d).then(function(){c.oz.filter(function(b){return b.key===a.oa.toString();}).forEach(function(a){a.Rz=!0;});})["catch"](function(a){throw{dE:d,dy:a};});};b.prototype.vpb=function(a){return this.xob.z0a?this.xL(n.pZ.SJ,a,l.I.LY):Promise.resolve();};b.prototype.nBa=function(a){return this.xL(n.pZ.splice,a,l.I.qia);};b.prototype.xL=function(a,b,c){var f;function d(a){var b;b=f.oz.filter(function(b){return b.key===a.oa.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.nCa||!b.Rz;},!1);}f=this;return d(b)?this.Jy:this.Jy=this.Jy["catch"](function(){return Promise.resolve();}).then(function(){var c;if(d(b))return Promise.resolve();c=f.Io.create(b);return f.SU.xL(a,b,c);}).then(function(a){return a;})["catch"](function(d){var g;f.log.error("Failed to send event",{eventKey:a,xid:b.oa,error:d});d.cn?g=f.Ze(c,d):d.kq===l.WY.UZ&&(g=f.Ze(c,d));throw{dy:d,d$:g};});};b.prototype.brb=function(a){this.Hqb(a)&&this.lba(this.wab(a.ha),a);};b.prototype.lba=function(a,b){var c;c=this;this.z2();this.A7=this.ka.eg(a,function(){c.z2();c.xL(n.pZ.SJ,b.ha,l.I.LY).then(function(){c.lba(a,b);})["catch"](function(d){var f;f=d.dy;(d=d.d$)&&b.pd(d);f.kq===l.WY.UZ&&c.lba(a,b);});});};b.prototype.qrb=function(){this.z2();};b.prototype.Hqb=function(a){return a.state.value==z.jb.Yc;};b.prototype.z2=function(){this.A7&&(this.A7.cancel(),this.A7=void 0);};b.prototype.wab=function(a){return a.Xa.A6?c.Cb(a.Xa.A6):this.config.rva;};Q=b;Q=g.__decorate([m.N(),g.__param(0,m.l(y.Rha)),g.__param(1,m.l(k.qb)),g.__param(2,m.l(q.mg)),g.__param(3,m.l(u.pha)),g.__param(4,m.l(p.rZ)),g.__param(5,m.l(n.rha)),g.__param(6,m.l(a.ql)),g.__param(7,m.l(S.Jj))],Q);f.gPa=Q;},function(g,f,a){var m,c,k,q,p,u,z,y,l,A;function b(){}function d(){}function h(a,c,d,f,g){var h;h=this;this.is=a;this.Ah=c;this.config=d;this.zC=f;this.Okb=g;this.Fq=function(){return new b().encode({version:h.version,data:h.dE});};this.eub=function(a){a=h.dub(a);h.Okb.cp(a);return a;};this.dub=function(a){if(h.is.Gk(a))return h.hub(a);if(void 0!=a.version&&h.is.Uf(a.version)&&1==a.version)return h.iub(a);if(void 0!=a.version&&h.is.Uf(a.version)&&2==a.version)return new b().decode(a);if(a.version&&h.is.Uf(a.version))throw new p.Oc(k.I.Et,k.G.fda,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new p.Oc(k.I.Et,k.G.st,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.In=new u.tfa(2,this.config().Vya,""!==this.config().Vya&&0<this.config().xlb,this.Ah,this.Fq);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);m=a(1);c=a(17);k=a(2);q=a(21);p=a(55);u=a(466);z=a(63);y=a(92);l=a(188);a=a(187);h.prototype.Wmb=function(){return this.In.load(this.eub)["catch"](function(a){throw new p.Oc(k.I.Et,a.Y||a.Gc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.NYa=function(a){return this.In.add(a);};h.prototype.jAa=function(a){return this.In.remove(a,function(a,b){return a.oa===b.oa;});};h.prototype.jca=function(a){return this.In.update(a,function(a,b){return a.oa===b.oa;});};h.prototype.toString=function(){return JSON.stringify(this.Fq(),null,"  ");};h.prototype.LDa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.zC().Mg:"";};h.prototype.mca=function(a){return a.map(function(a){return{Rc:a.downloadableId,duration:a.duration};});};h.prototype.MDa=function(a){return a?{total:a.playTimes.total,audio:this.mca(a.playTimes.audio||[]),video:this.mca(a.playTimes.video||[]),text:this.mca(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.hub=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",profileId:a.accountKey,href:this.LDa(a.playbackContextId),oa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,aI:a.timestamp,AL:a.playback?1E3*a.playback.startEpoch:-1,Vy:a.mediaId,KK:this.MDa(a.playback),fb:"",fm:{}};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Ah.create().then(function(a){a.save(b.config().GI,d,!1);});if(!c.profileId||""===c.href||""===c.oa)throw new p.Oc(k.I.Et,k.G.st);return{version:2,data:[c]};};h.prototype.iub=function(a){var b;b=this;if(!a.playdata||!this.is.Rr(a.playdata))throw new p.Oc(k.I.Et,k.G.st,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.LDa(a.playbackContextId),oa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,aI:a.timestamp,AL:a.playback?1E3*a.playback.startEpoch:-1,Vy:a.mediaId,KK:b.MDa(a.playback),fb:"",fm:{}};});}(a.playdata)};};oa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.In.version;}},dE:{configurable:!0,enumerable:!0,get:function(){return this.In.Hp;}}});A=h;A=g.__decorate([m.N(),g.__param(0,m.l(q.se)),g.__param(1,m.l(z.ep)),g.__param(2,m.l(c.gd)),g.__param(3,m.l(y.Gw)),g.__param(4,m.l(a.zha))],A);f.QOa=A;d.prototype.encode=function(a){var b;b=new l.qZ();return a.map(b.encode);};d.prototype.decode=function(a){var b;b=new l.qZ();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new d().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new d().decode(a.data)};};},function(g,f,a){var d,h,m,c,k,q,p,u,z,y,l,A;function b(a){return function(){return a.bc.get(d.Aha).yc();};}Object.defineProperty(f,"__esModule",{value:!0});g=a(1);d=a(146);h=a(227);m=a(188);c=a(309);k=a(615);q=a(614);p=a(308);u=a(613);z=a(307);y=a(612);l=a(187);A=a(611);f.dE=new g.Yb(function(a){a(p.Rha).to(u.zPa).Z();a(h.rZ).to(m.fPa).Z();a(c.pha).to(k.QOa).Z();a(d.Aha).to(q.gPa).Z();a(d.ON).jM(b);a(z.rha).to(y.VOa).Z().EM();a(l.Bha).to(A.hPa).Z();a(l.yha).to(A.dPa).Z();a(l.zha).to(A.ePa).Z();});},function(g,f,a){var d,h,m;function b(a){var b;b=m.hN.call(this)||this;b.oc=a;return b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(22);m=a(328);aa(b,m.hN);b.prototype.decode=function(a){return{M:a.movieId,xn:a.packageId,no:a.drmType,D6a:a.drmVersion,n8a:a.expiration,M0a:this.P4a(a.cdnResponseData),media:this.X4a(a.media),duration:a.duration,Mf:a.playbackContextId,Xpa:this.S4a(a.defaultTrackOrderList),Yj:a.drmContextId,Lcb:a.hasDrmProfile,Jcb:a.hasClearProfile,WCa:this.c5a(a.timedtexttracks),mDa:this.f5a(a.trickplays),L1:this.O4a(a.audio_tracks),PW:this.k5a(a.video_tracks),Jn:this.Ppa(a.servers),ck:this.V4a(a.locations),Eeb:a.isUsingLegacyBatchingAPI,W1:a.bookmark,Tta:a.hasDrmStreams,Kcb:a.hasClearStreams,links:a.links,b1a:this.Q4a(a.choiceMap),Ndb:a.initialHeader,Yub:this.l5a(a.watermarkInfo),$f:a.isBranching,w6a:a.dpsid,Rub:a.viewableType,tD:a.isSupplemental,Hoa:a.clientIpAddress,tf:a.tf};};b.prototype.encode=function(a){return{movieId:a.M,packageId:a.xn,drmType:a.no,drmVersion:a.D6a,expiration:a.n8a,cdnResponseData:this.s7a(a.M0a),media:this.A7a(a.media),duration:a.duration,playbackContextId:a.Mf,defaultTrackOrderList:this.v7a(a.Xpa),drmContextId:a.Yj,timedtexttracks:this.G7a(a.WCa),trickplays:this.K7a(a.mDa),audio_tracks:this.r7a(a.L1),video_tracks:this.P7a(a.PW),servers:this.Qqa(a.Jn),locations:this.y7a(a.ck),isUsingLegacyBatchingAPI:a.Eeb,bookmark:a.W1,hasDrmProfile:a.Lcb,hasClearProfile:a.Jcb,hasDrmStreams:a.Tta,hasClearStreams:a.Kcb,links:a.links,choiceMap:this.t7a(a.b1a),initialHeader:a.Ndb,watermarkInfo:this.Q7a(a.Yub),isBranching:a.$f,dpsid:a.w6a,viewableType:a.Rub,isSupplemental:a.tD,clientIpAddress:a.Hoa,tf:a.tf};};b.prototype.l5a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.Q7a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.Q4a=function(a){var b;b=this;return a&&{JJ:a.initialSegment,type:a.type,Ic:a.viewableId,he:this.MC(a.segments,function(a){return{hm:a.startTimeMs,NC:a.endTimeMs,tI:a.defaultNext,next:b.MC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.t7a=function(a){var b;b=this;return a&&{initialSegment:a.JJ,type:a.type,viewableId:a.Ic,segments:this.MC(a.he,function(a){return{startTimeMs:a.hm,endTimeMs:a.NC,defaultNext:a.tI,next:b.MC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.P4a=function(a){return{MU:a.pbcid,Oz:a.sessionABTestCell};};b.prototype.s7a=function(a){return{pbcid:a.MU,sessionABTestCell:a.Oz};};b.prototype.X4a=function(a){return this.Wf(a,this.W4a);};b.prototype.A7a=function(a){return this.Wf(a,this.z7a);};b.prototype.W4a=function(a){return{Xo:this.d5a(a.tracks),id:a.id};};b.prototype.z7a=function(a){return{tracks:this.I7a(a.Xo),id:a.id};};b.prototype.d5a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,PZ:a.TEXT};};b.prototype.I7a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.PZ};};b.prototype.S4a=function(a){return this.Wf(a,this.R4a);};b.prototype.v7a=function(a){return this.Wf(a,this.u7a);};b.prototype.R4a=function(a){return{$B:a.audioTrackId,Vy:a.mediaId,Pub:a.videoTrackId,tCa:a.subtitleTrackId,Slb:a.preferenceOrder};};b.prototype.u7a=function(a){return{audioTrackId:a.$B,mediaId:a.Vy,videoTrackId:a.Pub,subtitleTrackId:a.tCa,preferenceOrder:a.Slb};};b.prototype.c5a=function(a){return this.Wf(a,this.b5a);};b.prototype.G7a=function(a){return this.Wf(a,this.F7a);};b.prototype.b5a=function(a){return this.oc.fk(this.B3(a),{type:a.type,pDa:this.a5a(a.ttDownloadables),xz:a.rawTrackType,uD:a.languageDescription,language:a.language,id:a.id,pT:a.isNoneTrack,mT:a.isForcedNarrative,yqa:a.downloadableIds,toa:this.Ppa(a.cdnlist),QJ:a.isLanguageLeftToRight});};b.prototype.F7a=function(a){return this.oc.fk(this.n4(a),{type:a.type,ttDownloadables:this.E7a(a.pDa),rawTrackType:a.xz,languageDescription:a.uD,language:a.language,id:a.id,isNoneTrack:a.pT,isForcedNarrative:a.mT,downloadableIds:a.yqa,cdnlist:this.Qqa(a.toa),trackType:a.Ui,new_track_id:a.Ho,isLanguageLeftToRight:a.QJ});};b.prototype.a5a=function(a){return this.MC(a,this.$4a);};b.prototype.E7a=function(a){return this.MC(a,this.D7a);};b.prototype.$4a=function(a){return{Lp:a.downloadUrls,Qcb:a.hashAlgo,Rcb:a.hashValue,height:a.height,width:a.width,ieb:a.isImage,oK:a.midxOffset,ZT:a.midxSize,size:a.size,osb:a.textKey};};b.prototype.D7a=function(a){return{downloadUrls:a.Lp,hashAlgo:a.Qcb,hashValue:a.Rcb,height:a.height,width:a.width,isImage:a.ieb,midxOffset:a.oK,midxSize:a.ZT,size:a.size,textKey:a.osb};};b.prototype.f5a=function(a){if(a)return this.Wf(a,this.e5a);};b.prototype.K7a=function(a){if(a)return this.Wf(a,this.J7a);};b.prototype.e5a=function(a){return{interval:a.interval,Oya:a.pixelsAspectY,Nya:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,HC:a.downloadable_id,Wc:a.urls,id:a.id};};b.prototype.J7a=function(a){return{interval:a.interval,pixelsAspectY:a.Oya,pixelsAspectX:a.Nya,width:a.width,height:a.height,size:a.size,downloadable_id:a.HC,urls:a.Wc,id:a.id};};b.prototype.O4a=function(a){return this.Wf(a,this.N4a);};b.prototype.r7a=function(a){return this.Wf(a,this.q7a);};b.prototype.N4a=function(a){return this.oc.fk(this.B3(a),{id:a.id,mc:this.M4a(a.streams),Ui:a.trackType,Nk:a.channels,language:a.language,r2:a.channelsFormat,yba:a.surroundFormatLabel,uD:a.languageDescription,isNative:a.isNative,d6a:a.disallowedSubtitleTracks,lM:a.track_id,u5a:a.defaultTimedText,w$:a.profileType,type:a.type,oba:a.stereo,profile:a.profile,Loa:a.codecName,xz:a.rawTrackType});};b.prototype.q7a=function(a){return this.oc.fk(this.n4(a),{id:a.id,streams:this.p7a(a.mc),trackType:a.Ui,channels:a.Nk,language:a.language,channelsFormat:a.r2,surroundFormatLabel:a.yba,languageDescription:a.uD,isNative:a.isNative,disallowedSubtitleTracks:a.d6a,track_id:a.lM,defaultTimedText:a.u5a,profileType:a.w$,type:a.type,stereo:a.oba,profile:a.profile,codecName:a.Loa,rawTrackType:a.xz});};b.prototype.k5a=function(a){return this.Wf(a,this.j5a);};b.prototype.P7a=function(a){return this.Wf(a,this.O7a);};b.prototype.j5a=function(a){return this.oc.fk(this.B3(a),{type:a.type,mc:this.i5a(a.streams),Y3:a.drmHeader&&this.Opa(a.drmHeader),O3:a.dimensionsCount,P3:a.dimensionsLabel,odb:a.ict,Rgb:a.maxCroppedHeight,Sgb:a.maxCroppedWidth,Tgb:a.maxCroppedX,Ugb:a.maxCroppedY,w$:a.profileType,oba:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Lya:a.pixelAspectX,Mya:a.pixelAspectY,profile:a.profile,ghb:a.max_framerate_value,fhb:a.max_framerate_scale,Uhb:a.minCroppedHeight,Vhb:a.minCroppedWidth,Whb:a.minCroppedX,Xhb:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,r$:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.Opa),aJ:a.flavor,lM:a.track_id});};b.prototype.O7a=function(a){return this.oc.fk(this.n4(a),{type:a.type,streams:this.N7a(a.mc),drmHeader:a.Y3&&this.Pqa(a.Y3),dimensionsCount:a.O3,dimensionsLabel:a.P3,ict:a.odb,maxCroppedHeight:a.Rgb,maxCroppedWidth:a.Sgb,maxCroppedX:a.Tgb,maxCroppedY:a.Ugb,profileType:a.w$,stereo:a.oba,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.Lya,pixelAspectY:a.Mya,profile:a.profile,max_framerate_value:a.ghb,max_framerate_scale:a.fhb,minCroppedHeight:a.Uhb,minCroppedWidth:a.Vhb,minCroppedX:a.Whb,minCroppedY:a.Xhb,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.r$&&a.r$.map(this.Pqa),flavor:a.aJ,track_id:a.lM});};b.prototype.Opa=function(a){return{aa:a.bytes,Z0a:a.checksum,uv:a.keyId};};b.prototype.Pqa=function(a){return{bytes:a.aa,checksum:a.Z0a,keyId:a.uv};};b.prototype.B3=function(a){return{Ui:a.trackType,Ho:a.new_track_id,type:a.type};};b.prototype.n4=function(a){return{trackType:a.Ui,new_track_id:a.Ho,type:a.type};};b.prototype.M4a=function(a){return this.Wf(a,this.L4a);};b.prototype.p7a=function(a){return this.Wf(a,this.o7a);};b.prototype.L4a=function(a){return{lC:a.content_profile,Ui:a.trackType,P:a.bitrate,size:a.size,nn:a.isDrm,HC:a.downloadable_id,type:a.type,q9:a.new_stream_id,Wc:this.Qpa(a.urls),Nk:a.channels,r2:a.channelsFormat,yba:a.surroundFormatLabel,language:a.language,TZa:a.audioKey};};b.prototype.o7a=function(a){return{content_profile:a.lC,trackType:a.Ui,bitrate:a.P,size:a.size,isDrm:a.nn,downloadable_id:a.HC,type:a.type,new_stream_id:a.q9,urls:this.Rqa(a.Wc),channels:a.Nk,channelsFormat:a.r2,surroundFormatLabel:a.yba,language:a.language,audioKey:a.TZa};};b.prototype.i5a=function(a){return this.Wf(a,this.h5a);};b.prototype.N7a=function(a){return this.Wf(a,this.M7a);};b.prototype.h5a=function(a){return{lC:a.content_profile,Ui:a.trackType,P:a.bitrate,size:a.size,nn:a.isDrm,HC:a.downloadable_id,type:a.type,q9:a.new_stream_id,Wc:this.Qpa(a.urls),Rkb:a.peakBitrate,O3:a.dimensionsCount,P3:a.dimensionsLabel,glb:a.pix_w,elb:a.pix_h,xAa:a.res_w,wAa:a.res_h,Wra:a.framerate_value,Vra:a.framerate_scale,$qb:a.startByteOffset,vc:a.vmaf,Cpa:a.crop_x,Dpa:a.crop_y,Apa:a.crop_h,Bpa:a.crop_w};};b.prototype.M7a=function(a){return{content_profile:a.lC,trackType:a.Ui,bitrate:a.P,size:a.size,isDrm:a.nn,downloadable_id:a.HC,type:a.type,new_stream_id:a.q9,urls:this.Rqa(a.Wc),peakBitrate:a.Rkb,dimensionsCount:a.O3,dimensionsLabel:a.P3,pix_w:a.glb,pix_h:a.elb,res_w:a.xAa,res_h:a.wAa,framerate_value:a.Wra,framerate_scale:a.Vra,startByteOffset:a.$qb,vmaf:a.vc,crop_x:a.Cpa,crop_y:a.Dpa,crop_h:a.Apa,crop_w:a.Bpa};};b.prototype.Qpa=function(a){return this.Wf(a,this.g5a);};b.prototype.Rqa=function(a){return this.Wf(a,this.L7a);};b.prototype.g5a=function(a){return{url:a.url,soa:a.cdn_id};};b.prototype.L7a=function(a){return{url:a.url,cdn_id:a.soa};};b.prototype.Ppa=function(a){return this.Wf(a,this.Z4a);};b.prototype.Qqa=function(a){return this.Wf(a,this.C7a);};b.prototype.Z4a=function(a){return{id:a.id,key:a.key,jwa:a.lowgrade,name:a.name,de:a.rank,type:a.type,k6a:this.T4a(a.dns)};};b.prototype.C7a=function(a){return{id:a.id,key:a.key,lowgrade:a.jwa,name:a.name,rank:a.de,type:a.type,dns:this.w7a(a.k6a)};};b.prototype.T4a=function(a){if(a)return{host:a.host,Ydb:a.ipv4,Zdb:a.ipv6,o9a:a.forceLookup};};b.prototype.w7a=function(a){if(a)return{host:a.host,ipv4:a.Ydb,ipv6:a.Zdb,forceLookup:a.o9a};};b.prototype.V4a=function(a){return this.Wf(a,this.U4a);};b.prototype.y7a=function(a){return this.Wf(a,this.x7a);};b.prototype.U4a=function(a){return{key:a.key,de:a.rank,weight:a.weight,level:a.level};};b.prototype.x7a=function(a){return{key:a.key,rank:a.de,weight:a.weight,level:a.level};};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.af))],a);f.AMa=a;},function(g,f,a){var d,h,m,c,k,q;function b(a,b,c,d,f){this.sYa=a;this.Hnb=b;this.uAa=d;this.EAa=f;this.ia=c.lb("LicenseProviderImpl");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);m=a(314);a(313);c=a(312);k=a(311);a=a(310);b.prototype.Cx=function(a,b){var c,d;c=this;d=this.uAa.Wsb(a);return this.sYa.en(this.ia,b,a.tf,d).then(function(a){a.map(function(a){return a.KHb;});return c.EAa.Xsb(a);})["catch"](function(a){c.ia.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var c;c=this;a=this.uAa.Zsb(a);return this.Hnb.Ue(this.ia,b,a).then(function(a){return c.EAa.$sb(a);})["catch"](function(a){c.ia.error("PBO release license failed",a);return Promise.reject(a);});};q=b;q=g.__decorate([d.N(),g.__param(0,d.l(m.nha)),g.__param(1,d.l(c.Cha)),g.__param(2,d.l(h.qb)),g.__param(3,d.l(k.sha)),g.__param(4,d.l(a.tha))],q);f.DLa=q;},function(g,f,a){var d,h,m,c;function b(a,b,c){this.Dgb=a;this.Mr=c;this.ia=b.lb("ManifestProviderImpl");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(315);m=a(7);a=a(65);b.prototype.dD=function(a,b){var c;c=this;return this.Mr().then(function(d){return c.Dgb.en(c.ia,d.profile,b,a);})["catch"](function(a){c.ia.error("PBO manifest failed",a);return Promise.reject(a);});};c=b;c=g.__decorate([d.N(),g.__param(0,d.l(h.wha)),g.__param(1,d.l(m.qb)),g.__param(2,d.l(a.Rq))],c);f.EMa=c;},function(g,f,a){var d,h,m;function b(a){this.ofb=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(123);m=a(215);b.prototype.decode=function(a){var b;b=this.Cbb(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.J5(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.D$a(a),timedtexttracks:this.Ubb(a.textTracks,b),media:this.eD(a.media),trickplays:this.$bb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.X$a(a),initialHeader:void 0,tf:this.ofb()};b.Gz=a.Gz;b.rE=a.rE;b.tf.GYa(b);return b;};b.prototype.D$a=function(a){var b,c,d;b=P(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.J5=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.Cbb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.Hta=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.S9a(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.S9a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.Hta(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.gcb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.gcb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.Hta(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.Ubb=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.Pbb(a.downloadables),ttDownloadables:c.Qbb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.Pbb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.gbb=function(a){var b;b=m.OZ.S5();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(ga(a.map(function(a){return a.pixHeight;}))));};b.prototype.Qbb=function(a){var b;if(a){b=this.gbb(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.eD=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.$bb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.X$a=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.iG))],a);f.FMa=a;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.tSa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";f.zJa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,f,a){var d,h,m,c,k,q,p,u,z;function b(a,b,c,d,f){this.oc=a;this.El=b;this.JW=c;this.DT=d;this.Mr=f;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(22);m=a(41);c=a(98);k=a(65);q=a(168);p=a(77);u=a(621);a=a(147);b.prototype.Kf=function(a){var b;b=this;return this.Mr().then(function(c){return b.oc.Gu(a.Jp[0].data,[8,4])?{ic:[{id:"ddd",xv:"cert",zD:void 0}],zv:[{sessionId:"ddd",data:new Uint8Array(b.El.decode(u.tSa))}]}:b.oc.Gu(a.Jp[0].data,b.JW.decode("certificate"))?{ic:[{id:"ddd",xv:"cert",zD:void 0}],zv:[{sessionId:"ddd",data:new Uint8Array(b.El.decode(u.zJa))}]}:b.DT.Cx(b.w9a(a),c.profile).then(function(a){return b.x9a(a);});});};b.prototype.release=function(a){var b;b=this;return this.Mr().then(function(c){return b.DT.release(b.z9a(a),c.profile).then(function(c){return b.A9a(c,a);});});};b.prototype.w9a=function(a){var b;b=this;return{oa:a.oa,Mf:a.Mf,qR:a.qR,wh:p.Iva(a.wh),no:q.Qn[a.no],Jp:a.Jp.map(function(a){return{sessionId:a.sessionId,dataBase64:b.El.encode(a.data)};}),iK:a.iK,tf:a.tf};};b.prototype.z9a=function(a){var b;b={};a.Ip&&a.ic[0].id&&(b[a.ic[0].id]=this.El.encode(a.Ip));return a&&a.Ip?{oa:a.oa,ic:a.ic,bpb:b}:{oa:a.oa,ic:a.ic};};b.prototype.x9a=function(a){return{ic:a.ic,zv:a.zv};};b.prototype.A9a=function(a,b){return a&&a.response&&a.response.data&&b.ic[0].id&&(a=a.response.data[b.ic[0].id])?{response:this.El.decode(a)}:{};};z=b;z=g.__decorate([d.N(),g.__param(0,d.l(h.af)),g.__param(1,d.l(m.Ij)),g.__param(2,d.l(c.fx)),g.__param(3,d.l(a.TF)),g.__param(4,d.l(k.Rq))],z);f.KIa=z;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.bHa="ControlProtocolSymbol";},function(g,f,a){var b,d,h,m,c,k,q,p,u,z;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(623);d=a(441);h=a(622);m=a(620);c=a(160);k=a(619);q=a(189);p=a(147);u=a(618);z=a(617);f.ymb=new g.Yb(function(a){a(b.bHa).bA(function(){return J._cad_global.controlProtocol;});a(d.bea).to(h.KIa).Z();a(c.SY).to(m.FMa).Z();a(c.gga).to(z.AMa).Z();a(q.RY).to(k.EMa).Z();a(p.TF).to(u.DLa).Z();});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.THb=function(a){return a;};f.Bgb=function(a){return a;};f.UHb=function(a){return Object.assign({},a);};},function(g,f,a){var d,h,m,c,k,q,p,u,z;function b(a,b,c){this.Qa=a;this.ivb=b;this.performance=c;h.Yk(this,"performance");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(47);m=a(625);c=a(35);k=a(37);q=a(42);p=a(1);u=a(319);z=a(3);b.prototype.get=function(a,b,f){var g;g=this;return new Promise(function(k,h){var p,q,m;try{p=g.ivb.create();"withCredentials"in p||h(Error("Missing CORS support"));p.open("GET",a,!0);b&&(p.withCredentials=!0);f&&(p.timeout=f.fa(z.ma));q=g.Qa.Te;m=void 0;p.onreadystatechange=function(){var b;switch(p.readyState){case XMLHttpRequest.HEADERS_RECEIVED:m=g.Qa.Te.ie(q);break;case XMLHttpRequest.DONE:b=g.Qa.Te.ie(q);k({body:p.responseText,status:p.status,headers:d.vkb(p.getAllResponseHeaders()),Vc:g.Kab(a,c.aa(p.responseText.length),b,m)});}};p.send();}catch(ka){h(ka);}});};b.vkb=function(a){var b,d,f;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){d=a[c];f=d.indexOf(": ");0<f&&(b[d.substring(0,f).toLowerCase()]=d.substring(f+2));}return b;};b.prototype.Kab=function(a,b,d,f){b={size:b,duration:d,Kba:f};if(!this.performance||!this.performance.getEntriesByName)return b;d=this.performance.getEntriesByName(a);if(0==d.length&&(d=this.performance.getEntriesByName(a+"/"),0==d.length))return b;a=d[d.length-1];b=m.Bgb(b);a.m5a&&(b.size=c.aa(a.m5a));0<a.duration?b.duration=z.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=z.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.pqa=z.timestamp(a.domainLookupEnd-a.domainLookupStart),b.Dba=z.timestamp(a.connectEnd-a.connectStart),b.Kba=z.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Oba=z.timestamp(0):void 0!==a.secureConnectionStart&&(d=a.connectEnd-a.secureConnectionStart,b.Oba=z.timestamp(d),b.Dba=z.timestamp(a.connectEnd-a.connectStart-d)));return b;};a=d=b;a=d=g.__decorate([p.N(),g.__param(0,p.l(q.Jj)),g.__param(1,p.l(u.sja)),g.__param(2,p.l(k.tZ)),g.__param(2,p.optional())],a);f.lKa=a;},function(g,f,a){var d,h,m,c,k;function b(a,b){this.is=a;this.json=b;h.Yk(this,"json");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(47);m=a(37);c=a(3);a=a(21);b.prototype.parse=function(a){var d;a=this.json.parse(a);if(!this.is.b1(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.pH(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.pH(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Rr(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.pH(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Rr(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Gk(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Fx(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){d=a.urls[b];if(!this.is.b1(d))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.Bi(d.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.Bi(d.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Fmb:a.pulses,zza:a.pulse_delays?a.pulse_delays.map(c.Cb):[],Emb:c.Cb(a.pulse_timeout),qva:a.next?c.Cb(a.next):void 0,Wc:a.urls,e8:a.logblob,context:a.ctx};};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(a.se)),g.__param(1,d.l(m.Ht))],k);f.JJa=k;},function(g,f,a){var d,h,m,c,k,q;function b(a,b){this.xh=a;this.Xy=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(35);c=a(3);k=a(39);a=a(57);b.prototype.iL=function(a){a=this.Xy.Jl("ftlProbeError","info",d.cvb({url:a.url,sc:a.status,pf_err:a.X9},a));this.xh.tc(a);};b.cvb=function(a,b){b.Vc&&(b=b.Vc,d.Ap(a,"d",b.duration),d.Ap(a,"dns",b.pqa),d.Ap(a,"tcp",b.Dba),d.Ap(a,"tls",b.Oba),d.Ap(a,"ttfb",b.Kba),a.sz=b.size.fa(m.Pn));return a;};b.Ap=function(a,b,d){d&&(a[b]=d.fa(c.ma));return a;};q=d=b;q=d=g.__decorate([h.N(),g.__param(0,h.l(k.Lj)),g.__param(1,h.l(a.Tn))],q);f.fQa=q;},function(g,f,a){var d,h,m,c,k,q;function b(a,b){this.xh=a;this.Xy=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(35);c=a(3);k=a(39);a=a(57);b.prototype.iL=function(a){a=this.Xy.Jl(a.e8,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return d.dvb({d:a.Vc.duration.fa(c.ma),sc:a.status,sz:a.Vc.size.fa(m.Pn),via:a.Hub,cip:a.e1a,err:a.dy},a);})};})});this.xh.tc(a);};b.dvb=function(a,b){d.Ap(a,"dns",b.Vc.pqa);d.Ap(a,"tcp",b.Vc.Dba);d.Ap(a,"tls",b.Vc.Oba);d.Ap(a,"ttfb",b.Vc.Kba);return a;};b.Ap=function(a,b,d){d&&(a[b]=d.fa(c.ma));return a;};q=d=b;q=d=g.__decorate([h.N(),g.__param(0,h.l(k.Lj)),g.__param(1,h.l(a.Tn))],q);f.gQa=q;},function(g,f,a){var d,h,m,c,k,q,p,u;function b(a,b,c,d,f,g,k){this.config=a;this.nua=b;this.ka=c;this.ci=d;this.bob=f;this.S$=g;this.Leb=0;this.ia=k.lb("FTL");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(3);c=a(30);k=a(7);q=a(317);p=a(316);a=a(167);b.prototype.start=function(){this.config.enabled&&!this.En&&(this.En=this.ka.eg(this.config.fCa,this.wE.bind(this)));};b.prototype.stop=function(){this.En&&(this.En.cancel(),this.En=void 0);};b.prototype.wE=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.Leb++;this.Obb(b).then(function(b){return Promise.all(b.Wc.map(function(c){return a.Hcb(b,c.url,c.name);})).then(function(c){0<c.length&&a.bob.iL({data:c,context:b.context,e8:b.e8});}).then(function(){return b;});}).then(function(b){a.En&&(b.qva?a.En=a.ka.eg(b.qva,a.wE.bind(a)):a.stop());})["catch"](function(b){return a.ia.error("FTL run failed",b);});};b.prototype.Obb=function(a){var b;b=this;return this.nua.get(a,!1).then(function(c){var d;if(200!=c.status||null==c.body)return b.S$.iL({url:a,status:c.status,X9:"FTL API request failed",Vc:c.Vc}),Promise.reject(Error("FTL API request failed: "+c.status));d=b.ci.parse(c.body);return d instanceof Error?(b.S$.iL({url:a,status:4,X9:"FTL Probe API JSON parsing error",Vc:c.Vc}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error&&(b.S$.iL({url:a,status:0,X9:c.message}),b.ia.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.Hcb=function(a,b,c){var f;f=this;return new Promise(function(g,k){var l;for(var h,p,q,u=[],t={},z=0;z<a.Fmb;t={Cd:t.Cd},++z){t.Cd=z<a.zza.length?a.zza[z]:m.Cf;l=function(c){return function(){return new Promise(function(g,k){f.ka.eg(c.Cd,function(){d.omb(f.nua,b,a.Emb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}h=b(h,"via",a);p=b(p,"x-ftl-probe-data",a);q=b(q,"x-ftl-error",a);g({status:a.status,Vc:a.Vc,Hub:h||"",e1a:p||"",dy:q||""});})["catch"](function(a){k(a);});});});};}(t);u.push(0<z?u[z-1].then(l):l());}Promise.all(u).then(function(a){g({url:b,name:c,data:a});})["catch"](function(a){k(a);});});};b.omb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};u=d=b;u=d=g.__decorate([h.N(),g.__param(0,h.l(a.Eea)),g.__param(1,h.l(p.Rea)),g.__param(2,h.l(c.mg)),g.__param(3,h.l(q.Dea)),g.__param(4,h.l(a.mia)),g.__param(5,h.l(a.lia)),g.__param(6,h.l(k.qb))],u);f.LJa=u;},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(630);d=a(629);h=a(628);m=a(627);c=a(626);k=a(317);q=a(316);p=a(167);f.C9a=new g.Yb(function(a){a(p.Fea).to(b.LJa).Z();a(p.mia).to(d.gQa).Z();a(p.lia).to(h.fQa).Z();a(k.Dea).to(m.JJa).Z();a(q.Rea).to(c.lKa).Z();});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(a){this.Cp=a;}a.prototype.wK=function(){var a,d,f;a=this.Cp.sab();d=this.Cp.uab();f=this.Cp.vab();if("number"===typeof a&&"number"===typeof d&&"number"===typeof f)return(f-a)/d;};return a;}();f.ANa=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(a,d){this.Cp=a;this.wK=d;}a.prototype.Paa=function(a){return this.Cp.Paa(a);};a.prototype.Uk=function(){return this.Cp.Uk();};a.prototype.Uab=function(){return this.wK.wK();};return a;}();f.zNa=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(a){this.Sva=a;}a.prototype.Paa=function(a){try{this.Sva.setItem("gtp",JSON.stringify(a));}catch(d){return!1;}return!0;};a.prototype.Qsa=function(){var a;try{a=this.Sva.getItem("gtp");if(a)return JSON.parse(a);}catch(d){}};a.prototype.Uk=function(){var a;a=this.Qsa();if(a&&a.tp)return a.tp.a;};a.prototype.sab=function(){var a;a=this.F5();if(a)return a.p25;};a.prototype.uab=function(){var a;a=this.F5();if(a)return a.p50;};a.prototype.vab=function(){var a;a=this.F5();if(a)return a.p75;};a.prototype.F5=function(){var a;a=this.Qsa();if(a&&(a=a.iqr))return a;};return a;}();f.Oca=g;},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(634);d=a(633);h=a(632);f["default"]=function(a){var c;a=new b.Oca(a);c=new h.ANa(a);return new d.zNa(a,c);};},function(g,f,a){var d,h,m,c;function b(a,b,c){this.config=a;this.Yfb=b;this.Ye=c;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(464);h=a(1);m=a(162);a=a(318);b.prototype.e3=function(){if(this.config.RDa)return this.Ye(this.Yfb());};c=b;c=g.__decorate([h.N(),g.__param(0,h.l(d.Hga)),g.__param(1,h.l(m.Gga)),g.__param(2,h.l(a.Iga))],c);f.yNa=c;},function(g,f,a){var d;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};d=b;d=g.__decorate([a.N()],d);f.xSa=d;},function(g,f,a){var b,d,h,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(637);d=a(82);h=a(319);m=a(636);c=a(190);k=a(318);q=a(635);f.Eib=new g.Yb(function(a){a(h.sja).to(b.xSa).Z();a(d.Jt).bA(function(){return J._cad_global.http;});a(c.JN).to(m.yNa).Z();a(k.Iga).Bh(q["default"]);});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.Ee||(f.Ee={});g.xEa="aseexception";g.yEa="asereport";g.oFa="audioswitch";g.NFa="bitraterestriction";g.OFa="blockedautoplay";g.KGa="cdnsel";g.MGa="chgstrm";g.BIa="dlreport";g.CIa="dlreq";g.nJa="endplay";g.pLa="intrplay";g.cNa="midplay";g.Pha="playbackaborted";g.eQa="renderstrmswitch";g.iQa="repos";g.mQa="resumeplay";g.QQa="securestop";g.WQa="serversel";g.eRa="startplay";g.fRa="statechanged";g.mRa="subtitleerror";g.oRa="subtitleqoe";g.FRa="timedtextrebuffer";g.GRa="timedtextswitch";g.MRa="transition";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.Qgb=function(a,b){var c,k;if(0!==a.length){if(1===a.length)return a[0];for(var d=a[0],f=b(d),g=1;g<a.length;g++){c=a[g];k=b(c);k>f&&(d=c,f=k);}return d;}};},function(g,f,a){var d;function b(a,b,c){a=d.EX.call(this,a,b)||this;a.Eu=c;return a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(322);aa(b,d.EX);f.IGa=b;},function(g,f,a){var d,h,m,c,k,q,p,u,z,l,n,A,B,M,S,r,W;function b(a,b,c,d,f,g,k,h,p,q,m,u,t,z,l){this.NCa=a;this.zQ=b;this.xh=c;this.R8=d;this.y4=f;this.bl=g;this.Td=k;this.pR=h;this.Ed=p;this.config=q;this.Hc=m;this.Qa=u;this.ya=t;this.platform=z;this.bK=l;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(226);h=a(416);m=a(39);c=a(22);k=a(408);q=a(222);p=a(91);u=a(1);z=a(323);l=a(321);n=a(82);A=a(17);B=a(42);M=a(23);S=a(72);r=a(57);a=a(107);b.prototype.create=function(a,b,c){return new z.RLa(a,b,c,this.NCa,this.zQ,this.xh,this.R8,this.y4,this.bl,this.Td,this.pR,this.Ed,this.config,this.Hc,this.Qa,this.ya,this.platform,this.bK);};W=b;W=g.__decorate([u.N(),g.__param(0,u.l(d.RZ)),g.__param(1,u.l(h.qda)),g.__param(2,u.l(m.Lj)),g.__param(3,u.l(k.mga)),g.__param(4,u.l(q.wea)),g.__param(5,u.l(p.Ww)),g.__param(6,u.l(c.af)),g.__param(7,u.l(l.Zda)),g.__param(8,u.l(n.Jt)),g.__param(9,u.l(A.gd)),g.__param(10,u.l(a.YA)),g.__param(11,u.l(B.Jj)),g.__param(12,u.l(M.Me)),g.__param(13,u.l(S.kp)),g.__param(14,u.l(r.Tn))],W);f.QLa=W;},function(g,f,a){var d,h,m;function b(a){this.th=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(35);a=a(92);b.prototype.fgb=function(){var a;a=this.th()?this.th().Mg.length:40;return h.aa(a+33);};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(a.Gw))],m);f.OLa=m;},function(g,f,a){var h,m,c,k,q,p,u,z,l;function b(a,b,c,d,f,g,h,p,q,m){this.platform=b;this.n3=c;this.type=d;this.severity=f;this.timestamp=g;this.data=h;this.ya=p;this.data.type=d;this.data.sev=f;this.data.devmod=this.platform.jR;this.data.clver=this.platform.version;a&&a.Fp&&(a.Fp.os&&(this.data.osplatform=a.Fp.os.name,this.data.osver=a.Fp.os.version),this.data.browsername=a.Fp.name,this.data.browserver=a.Fp.version);a.v7&&(this.data.tester=!0);a.hv&&!this.data.groupname&&(this.data.groupname=a.hv);a.fC&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.fC:a.fC);a.gA&&(this.data.uigroupname=a.gA);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.ya.Eab();this.data.uniqueLogId=q.csa();this.data.appId=this.ya.id;m&&(a=this.ya.cc(),this.data.soffms=a.ie(m.dl).fa(k.ma),this.data.mid=m.M,this.data.lvpi=m.d8,this.data.uiLabel=m.pe,this.data["startup"===d?"playbackxid":"xid"]=m.oa,m.Oz&&(d=m.Oz,(m=m.Oz.split("."))&&1<m.length&&"S"!==m[0][0]&&(d="SABTest"+m[0]+".Cell"+m[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+d:d));}function d(a,b,c,d,f,g){this.Qa=a;this.n3=b;this.config=c;this.ya=d;this.Aub=f;this.platform=g;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(35);m=a(1);c=a(42);k=a(3);q=a(433);p=a(51);u=a(23);z=a(326);a=a(72);d.prototype.Jl=function(a,c,d,f){return new b(this.config,this.platform,this.n3,a,c,this.Qa.Te,d,this.ya,this.Aub,f);};l=d;l=g.__decorate([m.N(),g.__param(0,m.l(c.Jj)),g.__param(1,m.l(q.Cda)),g.__param(2,m.l(p.rm)),g.__param(3,m.l(u.Me)),g.__param(4,m.l(z.fja)),g.__param(5,m.l(a.kp))],l);f.NLa=l;oa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.joa||(this.joa=h.aa(this.n3.encode(this.data).length));return this.joa;}}});},function(g,f,a){var d,h,m,c;function b(a){this.config=a;this.Wgb=d.aa(5E5);this.rpb=h.d9(1);this.TAa=h.Ag(5);this.Cwa=d.aa(1E6);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(35);h=a(3);m=a(1);a=a(17);oa.Object.defineProperties(b.prototype,{Fqb:{configurable:!0,enumerable:!0,get:function(){return this.config().Gqb;}},c8:{configurable:!0,enumerable:!0,get:function(){return this.config().c8;}},k1:{configurable:!0,enumerable:!0,get:function(){return this.config().k1;}}});c=b;c=g.__decorate([m.N(),g.__param(0,m.l(a.gd))],c);f.GLa=c;},function(g,f,a){var d,h,m;function b(a){this.config=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(191);m=a(35);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.fgb());}).reduce(function(a,b){return a.add(b);},m.aa(0));};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.Sfa))],a);f.PLa=a;},function(g,f,a){var h,m,c,k,q,p,u,z,l,n,A;function b(a,b,c,d,f,g,k,h){this.ya=a;this.platform=c;this.th=d;this.json=f;this.oc=g;this.bl=k;this.lgb=h;m.Yk(this,"json");this.ia=b.lb("LogblobSender");}function d(){this.entries=[];}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(47);c=a(37);k=a(3);q=a(22);p=a(23);u=a(72);z=a(92);l=a(7);n=a(327);a=a(91);b.prototype.send=function(a,b){var c;c=this;return new Promise(function(a,f){var g;try{g=b.reduce(function(a,b){a.entries.push(c.g4a(b));return a;},new d());a(c.H9a(g));}catch(ka){c.ia.error(ka.message);f(ka);}}).then(function(b){return c.EE(b,a);});};b.prototype.g4a=function(a){return this.oc.fk(this.oc.fk({},a.data),{esn:this.th().Mg,sev:a.severity,type:a.type,lver:this.platform.awa,jssid:this.ya.id,devmod:this.platform.jR,jsoffms:a.timestamp.ie(this.ya.Ky).fa(k.ma),clienttime:a.timestamp.fa(k.ma),client_utc:a.timestamp.fa(k.xm),uiver:this.bl.dF});};b.prototype.H9a=function(a){var b;b=this;try{return this.json.stringify(a);}catch(W){for(var c={},d=0;d<a.entries.length;c={PL:c.PL,$d:c.$d},++d){c.$d=Object.assign({},a.entries[d]);try{this.json.stringify(c.$d);}catch(E){c.PL=void 0;this.oc.Ru(c.$d,function(a){return function(c,d){try{b.json.stringify(d);}catch(Y){a.PL=Y.message;a.$d[c]=a.PL;}};}(c));c.$d.stringifyException=c.PL;c.$d.originalType=c.$d.type;c.$d.type="debug";c.$d.sev="error";}}return this.json.stringify(a);}};b.prototype.EE=function(a,b){var c;c=this;return this.lgb.Ue(this.ia,b,{logblobs:a}).then(function(){})["catch"](function(a){c.ia.error("PBO logblob failed",a);return Promise.reject(a);});};A=b;A=g.__decorate([h.N(),g.__param(0,h.l(p.Me)),g.__param(1,h.l(l.qb)),g.__param(2,h.l(u.kp)),g.__param(3,h.l(z.Gw)),g.__param(4,h.l(c.Ht)),g.__param(5,h.l(q.af)),g.__param(6,h.l(a.Ww)),g.__param(7,h.l(n.vha))],A);f.SLa=A;},function(g,f,a){var d,h,m;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(3);m=a(35);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:h.Cb(a.timestamp),size:m.aa(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.fa(h.ma),size:a.size.fa(m.Pn)};};a=b;a=g.__decorate([d.N()],a);f.MLa=a;},function(g,f,a){var d,h,m,c,k,q,p,u,z,l,n,A,B,M;function b(a,b,c,d,f,g,k,p){var q;q=this;this.ka=a;this.Ah=b;this.mv=d;this.jq=f;this.config=g;this.uf=k;this.json=p;this.s3=[];h.Yk(this,"json");this.ia=this.uf.lb("MessageQueue");this.Qu=new A.ZMa(this.jq);c().then(function(a){q.hj=a;q.data=new n.$Ma(q.jq,a.profile);q.Sfb(a);})["catch"](function(a){q.ia.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(47);m=a(35);c=a(116);k=a(191);q=a(30);p=a(7);u=a(65);z=a(39);l=a(63);n=a(329);A=a(329);B=a(37);M=a(2);b.prototype.Or=function(a,b,c){var d;try{d={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&c?(this.data.Or(c.id,this.ata(b),"logblobs",d),this.Xqa()):this.s3.push(d);}catch(ka){b={};(c=a.data.debugMessage)&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ia.error("JSON.stringify error: "+ka.message,b);}};b.prototype.zz=function(a){this.data.zz(a);this.Xqa();};b.prototype.b$a=function(){var a,b,c,u;a=[];if(this.data){b=this.config.Cwa.to(m.Pn);for(c in this.data.ae)for(var d=this.qy(c),f=this.data.ae[c],g=[],k=[],h=m.aa(0),q=0;q<f.ae.length;q++){u=f.ae[q];g.push(u.message);k.push(u.id);h=h.add(this.jq.measure([u.message]));if(0<=h.Pk(b)||q+1===f.ae.length)this.ia.trace("Batch_"+a.length+": "+g.length+"/"+h,p.Hw),a.push({profile:d,rua:k.slice(),ae:g.slice(),size:h}),g=[],k=[],h=m.aa(0);}}return a;};b.prototype.Sfb=function(a){var b;b=this;this.config.TAa.ava()&&(this.lna=this.Ah.create(),this.lna.then(function(a){return a.load("messages");}).then(function(a){b.Qfb(a.value);})["catch"](function(a){a.Y===M.G.mp?b.ia.info("No messages to load."):b.ia.error("Failed to load messages.",a);}));this.s3.forEach(function(c){b.data.Or(a.profile.id,b.ata(!1),"logblobs",c);});this.s3=[];};b.prototype.Qfb=function(a){var b,c,d;b=this;try{c=this.Qu.decode(a);d=this.hj.qy(c.VP);if(d&&d.SB.id===this.data.VP){this.ia.trace("Loading messageQueue.");a={};for(var f in c.ae)a.profileId=f,c.ae[a.profileId].ae.forEach(function(a){return function(c){c.message.data.loadedLogBlobFromPersistence=!0;b.data.Or(a.profileId,c.id,c.url,c.message);};}(a)),a={profileId:a.profileId};}else this.ia.trace("AcountId does not match, ignoring persisted messages.");}catch(R){this.ia.error("Load messageQueue failed.",R);}};b.prototype.Mob=function(){var a,b;a=this;b=this.Qu.encode(this.data);this.lna.then(function(a){return a.save("messages",b,!1);}).then(function(){a.ia.info("MessageQueue: Saved",p.Hw);})["catch"](function(b){a.ia.error("Failed to save messages.",b);});};b.prototype.srb=function(){this.FV&&(this.FV.cancel(),this.FV=void 0);};b.prototype.Xqa=function(){this.config.Fqb&&!this.FV&&(this.FV=this.ka.eg(this.config.TAa,this.Ojb.bind(this)));};b.prototype.Ojb=function(){this.srb();this.Mob();};b.prototype.ata=function(a){return a?this.mv.oC():0;};b.prototype.qy=function(a){return this.hj.qy(a)||this.hj.profile;};oa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=m.aa(0);if(this.data)for(var b in this.data.ae)a=a.add(this.data.ae[b].size);return a;}}});a=b;a=g.__decorate([d.N(),g.__param(0,d.l(q.mg)),g.__param(1,d.l(l.ep)),g.__param(2,d.l(u.Rq)),g.__param(3,d.l(c.FA)),g.__param(4,d.l(k.Tfa)),g.__param(5,d.l(z.NY)),g.__param(6,d.l(p.qb)),g.__param(7,d.l(B.Ht))],a);f.aNa=a;},function(g,f,a){var d,h,m,c,k,q,p,u,z,l,L;function b(a,b,c,d,f,g,k,q){var m;m=this;this.config=a;this.json=c;this.ka=d;this.bgb=f;this.mK=k;this.WQ=q;this.oT=this.Vua=this.ln=!1;this.listeners=[];h.Yk(this,"json");this.ia=g.lb("LogBatcher");this.ss();b().then(function(a){m.hj=a;m.Vua=a.ngb;})["catch"](function(a){m.ia.error("Unable to initialize the account manager for the log batcher",a,p.Hw);});}Object.defineProperty(f,"__esModule",{value:!0});d=a(0);g=a(1);h=a(47);m=a(37);c=a(331);k=a(65);q=a(30);p=a(7);u=a(39);z=a(330);l=a(2);L=a(70);a(149);f.szb=function(a,b,c){this.name=a;this.message=void 0===b?a:b;this.cause=c;};b.prototype.yc=function(){this.ln=!0;};b.prototype.tc=function(a,b,c){var d;b=void 0===b?!1:b;d=this;0<a.size.Pk(this.config.Wgb)?this.ia.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(!c&&this.hj&&(c=this.hj.profile),this.listeners.forEach(function(b){return b.Xwa(a);}),b=b||0<=this.config.c8.indexOf(a.type),this.mK.Or(a,b,c),this.ka.Jb(function(){d.a9a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.oT?(this.ia.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.ia.trace("Flushing",p.Hw);b.Vg();b.ka.Jb(function(){b.Daa(a).then(function(){c();})["catch"](function(){d();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.Daa=function(a){a=void 0===a?!1:a;return d.__awaiter(this,void 0,void 0,function(){var c,d,f,g,k,h,q,m,u,t,z;function b(b){for(;;)switch(c){case 0:u=t;if(t.ln&&t.Vua){c=1;break;}c=-1;return{value:void 0,done:!0};case 1:if(!t.oT){c=2;break;}t.ia.trace("LogBatcher is in error state, ignoring sendLogMessages");c=-1;return{value:void 0,done:!0};case 2:m=t.mK.b$a();q=!1;if(!(0<m.length||a)){c=3;break;}t.Vg();t.listeners.forEach(function(a){return a.pBa();});h={};k=P(m);g=k.next();case 4:if(g.done){c=6;break;}h.Xr=g.value;try{return t.zz(h.Xr),t.ia.trace("Sending batch: "+h.Xr.size,p.Hw),c=9,{value:t.bgb.send(h.Xr.profile,h.Xr.ae),done:!1};}catch(ca){f=ca;c=7;break;}case 9:try{if(void 0===b){c=10;break;}c=-1;throw b;}catch(ca){f=ca;c=7;break;}case 10:try{c=8;break;}catch(ca){f=ca;c=7;break;}case 7:d=f;q=!0;t.ia.warn("Failed to send logblobs.",d,p.Hw);t.Aqb(d)&&(t.ia.trace("re-adding failed batch"),h.Xr.ae.forEach(function(a){return function(b,c){u.mK.Or(b,0!==a.Xr.rua[c],a.Xr.profile);};}(h)));if(!t.Jqb(d)){c=11;break;}t.oT=!0;c=6;break;case 11:case 8:case 5:h={Xr:h.Xr};g=k.next();c=4;break;case 6:case 3:t.ss();if(!q){c=12;break;}c=-1;throw Error("Send failure.");case 12:c=-1;default:return{value:void 0,done:!0};}}c=0;t=this;z={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};n();z[Symbol.iterator]=function(){return this;};return z;});};b.prototype.Aqb=function(a){return a.sg===l.DY.mha?!1:this.config.k1;};b.prototype.Jqb=function(a){return a.Gc===l.G.Hea||a.Gc===l.G.MF||a.Gc===l.G.BA?!0:!1;};b.prototype.a9a=function(){var a;a=this;0<this.mK.size.Pk(this.config.Cwa)?this.Daa()["catch"](function(){return a.ia.warn("failed to send log messages on size threshold");}):this.ss();};b.prototype.Vg=function(){this.Iy&&(this.Iy.cancel(),this.Iy=void 0);};b.prototype.ss=function(){this.Iy||(this.Iy=this.ka.eg(this.config.rpb,this.Os.bind(this)));};b.prototype.Os=function(){var a;a=this;this.oT=!1;this.Vg();this.Daa()["catch"](function(){return a.ia.warn("failed to send log messages on timer");});};b.prototype.zz=function(a){this.mK.zz(a.rua);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(M){}return b;};a=b;a=d.__decorate([g.N(),d.__param(0,g.l(u.NY)),d.__param(1,g.l(k.Rq)),d.__param(2,g.l(m.Ht)),d.__param(3,g.l(q.mg)),d.__param(4,g.l(c.Vfa)),d.__param(5,g.l(p.qb)),d.__param(6,g.l(z.vga)),d.__param(7,g.l(L.AF))],a);f.HLa=a;},function(g,f,a){var d,h,m,c,k,q,p;function b(a,b,c,f){var g;g=this;this.pgb=a;this.bK=b;this.config=f;this.N$=[];this.pgb.rV(d.tEa,this.wcb.bind(this));c().then(function(a){var b;b=f().uh.m9a;g.$gb=b?p.Hh[b.toUpperCase()]:p.Hh.ERROR;g.xh=a;g.upb();});}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(17);c=a(95);k=a(39);q=a(57);p=a(7);b.prototype.wcb=function(a,b){this.xh?this.Cza(a,b):this.N$.push([a,b]);};b.prototype.upb=function(){var a,b;a=this;b=this.N$;this.N$=[];b.forEach(function(b){a.Cza(b[0],b[1]);});};b.prototype.Cza=function(a,b){var c;if(this.xh&&this.Cqb(a)){c={debugMessage:a.message,debugCategory:a.Mk};a.cd.forEach(function(a){return c=Object.assign({},c,a.value);});c=Object.assign({},c,{prefix:"debug"});a=this.bK.Jl("debug",p.Hh[a.level].toLowerCase(),c,b);this.xh.tc(a);}};b.prototype.Cqb=function(a){var b;b=this.$gb;return void 0!==b&&a.level<=b&&!a.cd.find(function(a){return a.QI(p.Hw);});};a=d=b;a.tEa="adaptorAll";a=d=g.__decorate([h.N(),g.__param(0,h.l(c.GA)),g.__param(1,h.l(q.Tn)),g.__param(2,h.l(k.Ofa)),g.__param(3,h.l(m.gd))],a);f.VEa=a;},function(g,f,a){var b,d,h,m,c,k,q,p,u,z,l,n,A,B,M,S,r,W,E,ka,R,ba;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(111);d=a(651);h=a(650);m=a(649);c=a(647);k=a(646);q=a(17);p=a(645);u=a(644);z=a(643);l=a(30);n=a(92);A=a(325);B=a(330);M=a(331);S=a(57);r=a(191);W=a(39);E=a(324);ka=a(642);R=a(321);ba=a(320);f.mgb=new g.Yb(function(a){a(W.Lj).to(h.HLa).Z();a(B.vga).to(m.aNa).Z();a(M.Vfa).to(c.SLa).Z();a(r.Tfa).to(k.PLa).Z();a(W.NY).to(p.GLa).Z();a(S.Tn).to(u.NLa).Z();a(r.Sfa).to(z.OLa).Z();a(E.Ufa).to(ka.QLa).Z();a(R.Zda).to(ba.EIa).Z();a(A.Nca).to(d.VEa).Z();a(W.Ofa).jM(function(a){return function(){return new Promise(function(c){var f,g,k,h;function d(){g()&&k()&&h.Tg?c(a.bc.get(W.Lj)):f.Jb(d);}f=a.bc.get(l.mg);g=a.bc.get(q.gd);k=a.bc.get(n.Gw);h=a.bc.get(b.JA);f.Jb(d);});};});});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.vIa=function(a,b,d){this.Mg=a;this.dn=b;this.SC=d;};},function(g,f,a){var d,h,m,c,k,q,p,u,z,l,n,A,B,M;function b(a,b,c,d,f,g,k,h,p,q){this.jqa=a;this.Ah=b;this.Ba=d;this.m3=f;this.me=g;this.debug=k;this.KW=h;this.l3=p;this.Mkb=q;this.EF=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.lb("Device");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(2);h=a(21);m=a(653);c=a(7);k=a(337);q=a(41);p=a(86);u=a(22);z=a(1);l=a(63);n=a(334);A=a(333);B=a(102);a=a(332);b.prototype.hra=function(a){try{return a.match(this.EF)[2];}catch(Q){}};b.prototype.jra=function(a){try{return a.match(this.EF)[1];}catch(Q){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(c,f){b.Ah.create().then(function(g){var h,p,q,u,t,z;function k(a){b.Ba.Gk(a)&&b.Ba.Gk(h)?(p=new m.vIa(a,h,q),c(p)):f({Y:d.G.Gda});}h=a.dn;if(a.t5)q="bind_device",b.Mkb.Ue(b.log,void 0,{}).then(function(a){k(a.esn);})["catch"](function(a){f(a);});else if(a.e5){t=a.Mg;if(b.Ba.Gk(t)){z=b.jra(t);z!=a.dn&&b.log.error("esn prefix from ui is different",{ui:z,cad:a.dn,ua:a.userAgent});}else a.Z7&&b.log.error("esn from ui is missing");z=Promise.resolve({X:!1});a.gJ&&(z=b.Nfb(g,a));z.then(function(c){c.X&&c.SC&&c.deviceId?(q=c.SC,k(h+c.deviceId)):g.load(a.iR).then(function(a){u=a.value;b.Ba.Gk(u)&&(b.Ba.Gk(t)?(a=b.hra(t),q=a===u?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):q="storage_esn_not_in_config",k(h+u));})["catch"](function(c){var m;function p(){g.save(a.iR,m,!1).then(function(){k(h+m);})["catch"](function(a){f(a);});}c.Y===d.G.mp?(b.Ba.Gk(a.Mg)?(m=b.hra(a.Mg),b.Ba.Gk(m)?q="config_since_not_in_storage":(q="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Mg),m=b.jqa.$ra())):(q="generated_since_not_in_config_and_storage",m=b.jqa.$ra()),p()):f(c);});})["catch"](f);}else a.V5a&&b.m3&&b.m3.getKeyByName?b.m3.getKeyByName(a.a_a).then(function(a){a=a.id;if(b.Ba.Bi(a))a=String.fromCharCode.apply(void 0,b.me.decode(a)),b.debug.assert(""!=a),h=b.jra(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){f({Y:d.G.wX,Ra:b.KW.qd(a)});}):a.U5a&&b.l3&&b.l3.Dsa?b.l3.Dsa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=h+a;b.debug.assert(b.EF.test(a));k(c);})["catch"](function(){f({Y:d.G.wX});}):k();})["catch"](function(a){f(a);});});};b.prototype.Nfb=function(a,b){var c;c=this;return new Promise(function(d,f){c.Tfb(a,b).then(function(f){b.Qta?c.gJ(b.Qta).then(function(g){var k;if(c.Ba.Bi(g)&&c.EF.test(b.dn+g)){k=Promise.resolve();c.d8a(f,g)&&(k=c.btb(a,b));k.then(function(){a.save(b.iR,g,!1)["catch"](function(a){c.log.error("Failed to persist hardware esn",{esn:g,exception:c.KW.qd(a)});});d({X:!0,deviceId:g,SC:"hardware_deviceid"});})["catch"](function(a){c.log.error("Exception transitioning hesn",{exception:c.KW.qd(a)});d({X:!1});});}else c.log.error("Invalid Hardware ESN",{deviceId:g}),d({X:!1});})["catch"](function(a){c.log.error("Exception generating hardwareId",{exception:c.KW.qd(a)});d({X:!1});}):(c.log.error("hardwareDeviceId not provided"),d({X:!1}));})["catch"](f);});};b.prototype.Tfb=function(a,b){var c;c=this;return new Promise(function(f){a.load(b.iR).then(function(a){a=a.value;c.Ba.Bi(a)&&c.EF.test(b.dn+a)?f(a):(f(void 0),c.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.Y!==d.G.mp&&c.log.error("Error loading ESN",a);f(void 0);});});};b.prototype.d8a=function(a,b){return a!==b;};b.prototype.btb=function(a,b){return a.remove(b.sib);};b.prototype.gJ=function(a){var b;b=this;return new Promise(function(c,d){try{B.Da.from(a.hardwareDeviceId).SE(1).subscribe(function(a){b.Ba.Bi(a)?c(a):d("Hardware deviceId was not a string: "+a);},function(a){d(a);});}catch(ka){d(ka);}});};M=b;M=g.__decorate([z.N(),g.__param(0,z.l(k.Wda)),g.__param(1,z.l(l.ep)),g.__param(2,z.l(c.qb)),g.__param(3,z.l(h.se)),g.__param(4,z.l(A.Bda)),g.__param(5,z.l(q.Ij)),g.__param(6,z.l(p.ut)),g.__param(7,z.l(u.af)),g.__param(8,z.l(n.Ada)),g.__param(9,z.l(a.oha))],M);f.wIa=M;},function(g,f,a){var d,h,m,c,k,q;function b(a,b){this.Qa=a;this.XK=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(42);h=a(3);m=a(115);c=a(336);k=a(47);a=a(1);b.prototype.$ra=function(){for(var a="",b=this.Qa.Te.fa(h.ma),d=6;d--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.XK.C$(new c.jia(0,31,k.ejb))];return a;};q=b;q=g.__decorate([a.N(),g.__param(0,a.l(d.Jj)),g.__param(1,a.l(m.nG))],q);f.uIa=q;},function(g,f,a){var b,d,h,m,c;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(92);d=a(337);h=a(655);m=a(335);c=a(654);f.th=new g.Yb(function(a){a(b.Gw).Qf(function(){return function(){return J._cad_global.device;};});a(m.Xda).to(c.wIa).Z();a(d.Wda).to(h.uIa).Z();});},function(g,f,a){var d,h;function b(a){this.Tg=a;this.wV=0;this.o7=!1;this.Iz=[];}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(111);b.prototype.send=function(a){var b,d,f;b=this;d=!!a.PJ&&0!==this.wV;f=this.Iz.some(function(a){return!!a.mU.PJ;});return(d||this.o7||f?new Promise(function(c,d){b.Iz.push({mU:a,resolve:c,reject:d});}):this.EE(a)).then(function(a){b.eya();return a;})["catch"](function(a){b.eya();throw a;});};b.prototype.EE=function(a){this.wV++;a.PJ&&(this.o7=!0);return this.Tg.send(a);};b.prototype.lBa=function(a){this.EE(a.mU).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.eya=function(){var a;this.wV--;this.o7=!1;if(0===this.wV&&0<this.Iz.length){a=this.Iz.shift();this.lBa(a);if(!a.mU.PJ)for(;0<this.Iz.length&&!this.Iz[0].mU.PJ;)this.lBa(this.Iz.shift());}};h=b;h=g.__decorate([d.N(),g.__param(0,d.l(a.JA))],h);f.kNa=h;},function(g,f,a){var d,h,m,c,k,q,p,u,z,l,n,A,B,M,r,Q,W,E,ka;function b(a,b,c,d,f,g,k,h,p,q,u,t,z,l){this.platform=a;this.config=b;this.ly=c;this.mfb=d;this.me=f;this.ya=g;this.Tg=k;this.xpb=h;this.QE=p;this.mm=q;this.oc=u;this.XK=t;this.json=z;this.u1=l;this.Hl=[];m.Yk(this,"json");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(47);c=a(72);k=a(17);q=a(51);p=a(23);u=a(41);z=a(3);l=a(111);n=a(231);A=a(98);B=a(22);M=a(2);r=a(115);Q=a(82);W=a(37);E=a(85);a=a(339);b.prototype.send=function(a,b,c,f){var u,t,l,y;function g(b){return new Promise(function(c,d){function f(a){var d,f;function c(a,c){t.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.wn.profile?b.wn.profile.id:void 0,nonReplayable:b.u9,retryCount:b.aw,userId:b.uM,userTokens:JSON.stringify(u.Tg.Tg.getUserIdTokenKeys())})});return{X:!1,result:{errorSubCode:a,errorExternalCode:c}};}d=u.json.parse(a);if(2!=d.length)return t.trace("The MSL envelope did not have enough array items."),c(M.G.WF);if(!d[1].payload)return t.trace("The MSL envelope did not have a payload."),c(M.G.WF);if(!d[1].status)return t.trace("The MSL envelope did not have a status."),c(M.G.WF);a=d[1].status;f=parseInt(a,10);if(isNaN(f)&&"ok"!=a.toLowerCase()||!(200<=f&&300>f))return d=d[1].payload.data,d=u.me.decode(d),t.error("The MSL status indicated an error",{status:f},u.mm.encode(d)),c(M.G.cga,a);d=d[1].payload.data;d=u.mm.encode(u.me.decode(d));if(!d)return t.trace("The MSL payload is missing."),c(M.G.dga);try{return u.json.parse(d);}catch(Ab){return t.error("EDGE response this.json parse error: ",Ab,d),c(M.G.dga);}}k(b,b.aw).then(function(g){var k,h;if(g.body)if(g=f(g.body),t.trace("Received EDGE response",{Method:a.method}),g.success){if(u.config().uh.t8a&&u.geb(a)){k=a.uKb;h=g.profileGuid;if(k&&h!==k){g={Y:M.G.LOa,Ra:JSON.stringify({serverGuid:h,clientGuid:k})};m(g,b);d(g);return;}}y.success=!0;y.profileId=b.uM;y.elapsedtime=u.ya.cc().fa(z.ma)-y.starttime;y.userTokens=JSON.stringify(u.Tg.Tg.getUserIdTokenKeys());c(g.result);}else{h=g.result;g.__logs&&(h.zDb=g.__logs);try{k=u.json.stringify(h.data);}catch(Jb){}g=m(h,b);d({Y:h.errorSubCode,Ec:h.errorExternalCode,HR:h.errorEdgeCode,Ra:h.errorDetails?[h.errorDetails," ",g].join(""):void 0,cn:h.errorDisplayMessage,us:k});}else d({Y:M.G.WF,Ra:m({Y:M.G.WF},b)});})["catch"](function(a){var c;c=m(a,b);a.Ra&&(a.Ra=[a.Ra," ",c].join(""));d(a);});});}function k(b,c){return new Promise(function(f,g){function k(b,c,q){return u.xpb.send(b).then(function(a){f(a);})["catch"](function(f){var m,z;z=f&&f.Bj&&void 0!==f.Bj.maxRetries?Math.min(f.Bj.maxRetries,q):q;(u.ly.eaa||h(f))&&c<=z?m=!0:(t.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:c,MaxRetries:z},d.vea(f)),m=!1);if(m)return m=f&&f.Bj&&void 0!==f.Bj.retryAfterSeconds?1E3*f.Bj.retryAfterSeconds:u.XK.C$(1E3,1E3*Math.pow(2,Math.min(c-1,z))),t.warn("Method failed, retrying",{Method:a.method,Attempt:c,WaitTime:m,MaxRetries:z},d.vea(f)),p(m).then(function(){return k(b,c+1,z);});g(f);});}return k(b,1,c);});}function h(a){return(a=a&&a.Y)&&a>=M.G.BA&&a<=M.G.AA;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function q(){var d,g;d="";c&&(d+=(0<d.length?"&":"")+"logs=true");f&&(d+=(0<d.length?"&":"")+"debug=true");a.languages=u.config().uh.jE;a.clientVersion=u.platform.version;a.uiVersion=u.config().uh.dF;g={};u.config().xxa&&(g["X-Netflix.request.expiry.timeout"]=u.config().xxa.toString());d=[{},{headers:g,path:u.config().uh.Fqa,payload:{data:u.json.stringify(a)},query:d}];u.config().uh&&(t.debug("Request payload",{Method:a.method},u.QE.mW(d)),t.debug("Request parameters",{Method:a.method},u.QE.mW(a)));return{wn:b,method:a.method,url:""+(u.u1.endpoint+u.config().uh.qxa)+u.platform.dn+"/cadmium/"+a.method,body:u.json.stringify(d),timeout:l.fa(z.ma),uM:b.profile?b.profile.id:void 0,$nb:!0,u9:!1,Ml:!0,aw:3,PJ:a.isExclusive};}function m(a,b){y.success=!1;y.profileId=b.uM;y.elapsedtime=u.ya.cc().fa(z.ma)-y.starttime;y.userTokens=JSON.stringify(u.Tg.Tg.getUserIdTokenKeys());y.subcode=a.errorSubCode||a.Y;y.extcode=a.errorExternalCode||a.Ec;t.error("BladeRunner command history",u.QE.mW(u.Hl));return u.json.stringify(u.Hl);}c=void 0===c?!1:c;f=void 0===f?!1:f;u=this;b=this.oc.fk({Ed:this.mfb},b);t=b.log;l=z.Ag(59);y={method:a.method,starttime:this.ya.cc().fa(z.ma)};this.Hl.push(y);this.Hl.length>this.config().E_a&&this.Hl.shift();t.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=q();g(c).then(function(b){a(b);})["catch"](function(a){var c;c={X:!1};u.oc.fk(c,a,{oq:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.geb=function(a){return 0<=["bind"].indexOf(a.method)?!0:!1;};b.vea=function(a){var b,c,d;b={};c=a.errorExternalCode||a.Ec;d=a.errorDetails||a.Ra;b.ErrorSubCode=a.errorSubCode||a.Y||M.G.bj;c&&(b.ErrorExternalCode=c);d&&(b.ErrorDetails=d);return b;};ka=d=b;ka=d=g.__decorate([h.N(),g.__param(0,h.l(c.kp)),g.__param(1,h.l(k.gd)),g.__param(2,h.l(q.rm)),g.__param(3,h.l(Q.Jt)),g.__param(4,h.l(u.Ij)),g.__param(5,h.l(p.Me)),g.__param(6,h.l(l.JA)),g.__param(7,h.l(a.Aga)),g.__param(8,h.l(n.NZ)),g.__param(9,h.l(A.fx)),g.__param(10,h.l(B.af)),g.__param(11,h.l(r.nG)),g.__param(12,h.l(W.Ht)),g.__param(13,h.l(E.qt))],ka);f.lNa=ka;},function(g,f,a){var b,d,h,m,c;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(111);d=a(658);h=a(338);m=a(339);c=a(657);f.vn=new g.Yb(function(a){a(b.JA).bA(function(){return J._cad_global.msl;});a(h.Bga).to(d.lNa).Z();a(m.Aga).to(c.kNa).Z();});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.r4a=function(a,b,d){return{ota:function(){return a.O5();},ia:b,request:d,Qg:!1};};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.P1a={Iv:["minInitVideoBitrate",-Infinity],Z8:["minHCInitVideoBitrate",-Infinity],Sy:["maxInitVideoBitrate",Infinity],qK:["minInitAudioBitrate",-Infinity],pK:["minHCInitAudioBitrate",-Infinity],eK:["maxInitAudioBitrate",Infinity],$T:["minAcceptableVideoBitrate",-Infinity],Phb:["minAllowedVideoBitrate",-Infinity],Jgb:["maxAllowedVideoBitrate",Infinity],Qhb:["minAllowedVmaf",-Infinity],Kgb:["maxAllowedVmaf",Infinity],OL:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],gU:["minRequiredBuffer",2E4],fU:["minRequiredAudioBuffer",0],Mi:["minPrebufSize",5800],Y$:["requireDownloadDataAtBuffering",!1],Z$:["requireSetupConnectionDuringBuffering",!1],L$:["rebufferingFactor",1],fq:["maxBufferingTime",2E3],nca:["useMaxPrebufSize",!0],ID:["maxPrebufSize",4E4],I8:["maxRebufSize",Infinity],y8a:["fastRebufferRecoveryThreshold",Infinity],x8a:["fastRebufferRecoverBwThrehold",3E3],bT:["initialBitrateSelectionCurve",null],Bua:["initSelectionLowerBound",-Infinity],Cua:["initSelectionUpperBound",Infinity],rW:["throughputPercentForAudio",15],Q1:["bandwidthMargin",0],S1:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],t_a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,fs:76376,scale:18862.4,gamma:3.0569}],R1:["bandwidthMarginContinuous",!1],u_a:["bandwidthMarginForAudio",!0],zba:["switchConfigBasedOnInSessionTput",!0],Q2:["conservBandwidthMargin",20],dI:["conservBandwidthMarginTputThreshold",6E3],R2:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],yCa:["switchAlgoBasedOnHistIQR",!1],ow:["switchConfigBasedOnThroughputHistory","iqr"],H8:["maxPlayerStateToSwitchConfig",-1],j8:["lowEndMarkingCriteria","iqr"],GY:["IQRThreshold",.5],J6:["histIQRCalcToUse","simple"],Qm:["bandwidthManifold",{curves:[{min:.05,max:.82,fs:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,fs:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Js:["maxTotalBufferLevelPerSession",0],hua:["highWatermarkLevel",3E4],aDa:["toStableThreshold",3E4],vW:["toUnstableThreshold",0],gba:["skipBitrateInUpswitch",!1],uca:["watermarkLevelForSkipStart",8E3],C6:["highStreamRetentionWindow",9E4],k8:["lowStreamTransitionWindow",51E4],E6:["highStreamRetentionWindowUp",5E5],m8:["lowStreamTransitionWindowUp",1E5],D6:["highStreamRetentionWindowDown",6E5],l8:["lowStreamTransitionWindowDown",0],B6:["highStreamInfeasibleBitrateFactor",.5],Oy:["lowestBufForUpswitch",9E3],GT:["lockPeriodAfterDownswitch",15E3],o8:["lowWatermarkLevel",15E3],Py:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],q8:["lowestWaterMarkLevelBufferRelaxed",!1],T8:["mediaRate",1.5],K8:["maxTrailingBufferLen",15E3],I1:["audioBufferTargetAvailableSize",262144],sca:["videoBufferTargetAvailableSize",1048576],Lwa:["maxVideoTrailingBufferSize",8388608],xwa:["maxAudioTrailingBufferSize",393216],MR:["fastUpswitchFactor",3],D4:["fastDownswitchFactor",3],QT:["maxMediaBufferAllowed",27E4],iIb:["minMediaBufferLen",1E4],hq:["maxMediaBufferAllowedInBytes",0],dba:["simulatePartialBlocks",!0],XBa:["simulateBufferFull",!0],S2:["considerConnectTime",!0],P2:["connectTimeMultiplier",1],gwa:["lowGradeModeEnterThreshold",12E4],hwa:["lowGradeModeExitThreshold",9E4],ywa:["maxDomainFailureWaitDuration",3E4],vwa:["maxAttemptsOnFailure",18],dra:["exhaustAllLocationsForFailure",!0],Ewa:["maxNetworkErrorsDuringBuffering",20],C8:["maxBufferingTimeAllowedWithNetworkError",6E4],C4:["fastDomainSelectionBwThreshold",2E3],Hba:["throughputProbingEnterThreshold",4E4],MCa:["throughputProbingExitThreshold",34E3],Tva:["locationProbingTimeout",1E4],qra:["finalLocationSelectionBwThreshold",1E4],KCa:["throughputHighConfidenceLevel",.75],LCa:["throughputLowConfidenceLevel",.4],W7:["locationStatisticsUpdateInterval",6E4],$fb:["locationSelectorPersistFailures",!0],KC:["enablePerfBasedLocationSwitch",!1],YHb:["maxRateMaxFragmentGroups",4500],Z9:["pipelineScheduleTimeoutMs",2],Ty:["maxPartialBuffersAtBufferingStart",2],a9:["minPendingBufferLen",3E3],Dv:["maxPendingBufferLen",6E3],tub:["usePtsUpdateAsSignal",!1],AR:["enableRequestPacing",!1],g7a:["enableNginxRateLimit",!1],vU:["nginxSendingRate",4E4],j7a:["enableRequestPacingToken",!1],yhb:["mediaRequestPacingSpeedBeforePlayback",.5],xhb:["mediaRequestPacingSpeed",2],d7:["initialMediaRequestToken",2E4],MT:["maxActiveRequestsSABCell100",2],ST:["maxPendingBufferLenSABCell100",500],yAa:["resetActiveRequestsAtSessionInit",!0],J8:["maxStreamingSkew",2E3],Mgb:["maxBufferOccupancyForSkewCheck",Infinity],mub:["useBufferOccupancySkipBack",!0],G8:["maxPendingBufferPercentage",10],Uy:["maxRequestsInBuffer",120],PS:["headerRequestSize",4096],Ucb:["headerCacheEstimateHeaderSize",!1],o9:["neverWipeHeaderCache",!1],VDa:["useSidxInfoFromManifestForHeaderRequestSize",!1],LR:["fastPlayHeaderRequestSize",0],JD:["maxRequestSize",0],RD:["minRequestSize",65536],bU:["minBufferLenForHeaderDownloading",1E4],ZBa:["smartHeaderPreDownloading",!1],HIb:["onlyAllowPtsUpdatePolling",!1],aib:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],xV:["reserveForSkipbackBufferMs",15E3],C9:["numExtraFragmentsAllowed",2],yn:["pipelineEnabled",!0],HD:["maxParallelConnections",3],$Ba:["socketReceiveBufferSize",0],lQ:["audioSocketReceiveBufferSize",32768],kF:["videoSocketReceiveBufferSize",65536],z6:["headersSocketReceiveBufferSize",32768],yqb:["shareDownloadTracks",!0],b9:["minTimeBetweenHeaderRequests",void 0],AW:["updatePtsIntervalMs",1E3],a2:["bufferTraceDenominator",0],bC:["bufferLevelNotifyIntervalMs",2E3],Lqa:["enableAbortTesting",!1],Bma:["abortRequestFrequency",8],sba:["streamingStatusIntervalMs",2E3],hE:["prebufferTimeLimit",6E4],cU:["minBufferLevelForTrackSwitch",2E3],i7a:["enablePenaltyForLongConnectTime",!1],T9:["penaltyFactorForLongConnectTime",2],g8:["longConnectTimeThreshold",200],n1:["additionalBufferingLongConnectTime",2E3],o1:["additionalBufferingPerFailure",8E3],dL:["rebufferCheckDuration",6E4],Oqa:["enableLookaheadHints",!1],dwa:["lookaheadFragments",2],po:["enableOCSideChannel",!0],t$:["probeRequestTimeoutMilliseconds",3E4],hJb:["probeRequestConnectTimeoutMilliseconds",8E3],KN:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],BDa:["updateDrmRequestOnNetworkFailure",!0],PT:["maxDiffAudioVideoEndPtsMs",1E3],Lgb:["maxAudioFragmentOverlapMs",80],B5a:["deferAseHeaderCache",!1],$pa:["deferAseScheduling",!1],Asb:["timeBeforeEndOfStreamBufferMark",6E3],E8:["maxFastPlayBufferInMs",2E4],D8:["maxFastPlayBitThreshold",2E8],Ngb:["maxBufferingCompleteBufferInMs",Infinity],aU:["minAudioMediaRequestSizeBytes",0],iU:["minVideoMediaRequestSizeBytes",0],PD:["minAudioMediaRequestDuration",0],TD:["minVideoMediaRequestDuration",0],dU:["minMediaRequestDuration",0],Shb:["minAudioMediaRequestDurationCache",0],dib:["minVideoMediaRequestDurationCache",0],f7a:["enableMultiFragmentRequest",!1],gF:[["useHeaderCache","usehc"],!0],FW:[["useHeaderCacheData","usehcd"],!0],ZQ:["defaultHeaderCacheSize",4],F3:["defaultHeaderCacheDataCount",4],G3:["defaultHeaderCacheDataPrefetchMs",0],w6:["headerCacheMaxPendingData",6],x6:["headerCachePriorityLimit",5],Tcb:["headerCacheAdoptBothAV",!1],qub:["usePipelineForBranchedAudio",!0],Wjb:["onlyDriveSingleChild",!1],a1a:["childBranchBatchedAmount",1E4],jU:["minimumTimeBeforeBranchDecision",2E3],dhb:["maxRequestsToAttachOnBranchActivation",void 0],c9:["minimumJustInTimeBufferLevel",3E3],Nqa:["enableJustInTimeAppends",!1],JI:["enableDelayedSeamless",!1],M_a:["branchEndPtsIntervalMs",250],vdb:["ignorePtsJustBeforeCurrentSegment",!1],Awa:["maxFragsForFittableOnBranching",300],Ikb:["pausePlaylistAtEnd",!0],wYa:["adaptiveParallelTimeoutMs",1E3],Pu:["enableAdaptiveParallelStreaming",!1],a6a:["disableBitrateSelectionOnSingleConnection",!1],pQ:["bufferThresholdToSwitchToSingleConnMs",45E3],Z1:["bufferThresholdToSwitchToParallelConnMs",35E3],U6a:["enableAPSForBranching",!1],SW:["waitForPendingConnAdaptation",!1],m9:["networkFailureResetWaitMs",2E3],l9:["networkFailureAbandonMs",6E4],UT:["maxThrottledNetworkFailures",5],qW:["throttledNetworkFailureThresholdMs",200],Lr:["abortUnsentBlocks",!0],c1:["abortStreamSelectionPeriod",2E3],L8:["maxUnsentBlocks",2],n8:["lowThroughputThreshold",400],u4:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],zsb:["timeAtEachBitrateRoundRobin",1E4],Bob:["roundRobinDirection","forward"],qcb:["hackForHttpsErrorCodes",!1],mdb:["httpsConnectErrorAsPerm",!1],nxa:["mp4ParsingInNative",!1],ff:["enableManagerDebugTraces",!1],pwa:["managerDebugMessageInterval",1E3],owa:["managerDebugMessageCount",20],Lxa:["notifyManifestCacheEom",!0],MI:["enableUsingHeaderCount",!1],aCa:["sourceBufferInOrderAppend",!0],Cn:["requireAudioStreamToEncompassVideo",!1],bna:["allowAudioToStreamPastVideo",!1],UB:["allowReissueMediaRequestAfterAbort",!1],ipa:["countGapInBuffer",!1],r1:["allowCallToStreamSelector",!1],Y1:["bufferThresholdForAbort",2E4],qba:["ase_stream_selector","optimized"],Fna:["audiostreamSelectorAlgorithm","selectaudioadaptive"],c7:["initBitrateSelectorAlgorithm","default"],c2:["bufferingSelectorAlgorithm","default"],w3:["ase_ls_failure_simulation",""],u3:["ase_dump_fragments",!1],v3:["ase_location_history",0],x3:["ase_throughput",0],Npa:["ase_simulate_verbose",!1],kl:["stallAtFrameCount",void 0],x8:["marginPredictor","simple"],WBa:["simplePercentilePredictorPercentile",25],UBa:["simplePercentilePredictorCalcToUse","simple"],VBa:["simplePercentilePredictorMethod","simple"],lub:["useBackupUnderflowTimer",!0],AKb:["useManifestDrmHeader",!0],BKb:["useOnlyManifestDrmHeader",!0],sfa:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],n9:["networkMeasurementGranularity","video_location"],Cib:["netIntrStoreWindow",36E3],sIb:["minNetIntrDuration",8E3],YTa:["fastHistoricBandwidthExpirationTime",10368E3],yUa:["bandwidthExpirationTime",5184E3],XTa:["failureExpirationTime",86400],Hla:["historyTimeOfDayGranularity",4],TTa:["expandDownloadTime",!0],jVa:["minimumMeasurementTime",500],iVa:["minimumMeasurementBytes",131072],AWa:["throughputMeasurementTimeout",2E3],zWa:["initThroughputMeasureDataSize",262144],RUa:["historicBandwidthUpdateInterval",2E3],hVa:["minimumBufferToStopProbing",1E4],SDb:["throughputPredictor","ewma"],qaa:["secondThroughputEstimator","slidingwindow"],aBa:["secondThroughputMeasureWindowInMs",3E5],RDb:["throughputMeasureWindow",5E3],TDb:["throughputWarmupTime",5E3],QDb:["throughputIQRMeasureWindow",1E3],vDb:["IQRBucketizerWindow",15E3],Bwa:["maxIQRSamples",100],gxa:["minIQRSamples",5],NDb:["connectTimeHalflife",10],GDb:["responseTimeHalflife",10],FDb:["historicThroughputHalflife",14400],EDb:["historicResponseTimeHalflife",100],DDb:["historicHttpResponseTimeHalflife",100],Qea:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],ola:["minReportedNetIntrDuration",4E3],PDb:["throughputBucketMs",500],ADb:["bucketHoltWintersWindow",2E3],NTa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy req-pacer".split(" ")],I_:["filterDefinitionOverrides",{}],BTa:["defaultFilter","throughput-ewma"],cXa:["secondaryFilter","throughput-sw"],rB:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},"req-pacer":{type:"req-pacer",sw:1E3,tb:4E4,mb:3E4}}],by:["enableHudsonFieldTest",!1],P6:["hudsonTitles",["81127954","70125931"]],bhb:["maxPartialBuffersAtHudson",1],D9:["numberOfChunksPerSegment",4],CCa:["targetContentLatency",1E4],lsb:["targetLongContentLatency",3E4],jib:["minimumTimeDelay",1],LI:["enableSessionHistoryReport",!0],e4:["earlyStageEstimatePeriod",1E4],Cva:["lateStageEstimatePeriod",3E4],RT:["maxNumSessionHistoryStored",10],hU:["minSessionHistoryDuration",3E5],Wcb:["highAndStableModelName","baseline"],j4:["enableHighAndStablePredictor",!1],eU:["minNumSessionHistory",5],nEb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],QS:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Xcb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],KI:["enableInitThroughputEstimate",!1],z1:["applyInitThroughputEstimate",!1],Dua:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrMeans:{currentHour:15.137936466264112,currentMonoTime:1.5533592424252495E12,"ens-avtp-b":.38723147282714365,"ens-avtp-last":7.278636833881816,"ens-avtp-mean":7.645354650835756,"ens-avtp-niqr":.9164307950209711,"ens-avtp-p25":7.206789836510741,"ens-avtp-p50":7.5392495750254085,"ens-avtp-p75":7.853195625145457,"ens-avtp-std":1890.0299065442302,"fns-avtp-b":.5156471603720371,"fns-avtp-last":7.394898247043087,"fns-avtp-mean":7.720412581434043,"fns-avtp-niqr":.7607496330326777,"fns-avtp-p25":7.401562072764315,"fns-avtp-p50":7.649474541536431,"fns-avtp-p75":7.887443054414084,"fns-avtp-std":1666.2825157466045,"fns-niqr-b":.18747269665025967,"fns-niqr-last":1.86623885534261,"fns-niqr-mean":4020.0354386780873,"fns-niqr-niqr":1.1631461141579456,"fns-niqr-p25":.53504898923602,"fns-niqr-p50":.726225303229194,"fns-niqr-p75":1.242351052769756,"fns-niqr-std":1666.2825157466045,intercept:0,"lns-avtp-b":.48094880098438736,"lns-avtp-last":7.359237053239481,"lns-avtp-mean":7.741498045478886,"lns-avtp-niqr":.8066874950335725,"lns-avtp-p25":7.387733349631643,"lns-avtp-p50":7.66341466705797,"lns-avtp-p75":7.91817801557748,"lns-avtp-std":1793.4228677873018,prevHour:14.921344184825413,prevMonoTime:1.5533390440510566E12,sessionCnt:24.169388290889998,timeSinceLastSession:2.0198374192701496E7},lrStd:{currentHour:6.865640901500013,currentMonoTime:1.364004355437288E8,"ens-avtp-b":.2584691537920595,"ens-avtp-last":.9989894721766466,"ens-avtp-mean":.9643206027819943,"ens-avtp-niqr":9.217134354074703,"ens-avtp-p25":1.0145221270034994,"ens-avtp-p50":1.0077653263765265,"ens-avtp-p75":1.014384099403048,"ens-avtp-std":3493.8569731733614,"fns-avtp-b":.270872729744521,"fns-avtp-last":.8922256527856904,"fns-avtp-mean":.9631055373892473,"fns-avtp-niqr":9.794120412451006,"fns-avtp-p25":.9696714991336701,"fns-avtp-p50":.9882569618688472,"fns-avtp-p75":1.0192683122081063,"fns-avtp-std":3332.139780244572,"fns-niqr-b":.3192946670619746,"fns-niqr-last":35.40213143776561,"fns-niqr-mean":6660.75906666252,"fns-niqr-niqr":8.550978136730766,"fns-niqr-p25":5.39412423399584,"fns-niqr-p50":8.615628045328721,"fns-niqr-p75":12.8578016592876,"fns-niqr-std":3332.139780244572,intercept:0,"lns-avtp-b":.282072702345461,"lns-avtp-last":.920183181440289,"lns-avtp-mean":.9634177300825915,"lns-avtp-niqr":9.46277236908144,"lns-avtp-p25":.9910526809941116,"lns-avtp-p50":.9973895193027993,"lns-avtp-p75":1.0214924879508251,"lns-avtp-std":3386.49152949358,prevHour:6.8062106735450705,prevMonoTime:1.4676929801573658E8,sessionCnt:27.412941078734494,timeSinceLastSession:5.725906972259589E7},lrWeights:{currentHour:-2.480219988909306E-4,currentMonoTime:-.0019605601123065795,"ens-avtp-b":.030002082172324713,"ens-avtp-last":.006493992808811227,"ens-avtp-mean":.02818971332256211,"ens-avtp-niqr":-.02149596695008564,"ens-avtp-p25":.025503939851905886,"ens-avtp-p50":-.03973590637292906,"ens-avtp-p75":.02654830002677231,"ens-avtp-std":-.005364609238773057,"fns-avtp-b":.003156990018105247,"fns-avtp-last":.014293274537829968,"fns-avtp-mean":.0669381230291235,"fns-avtp-niqr":.03466791553613246,"fns-avtp-p25":.003157582746026505,"fns-avtp-p50":.0523956105905824,"fns-avtp-p75":-.05674782509956824,"fns-avtp-std":.03209560096833295,"fns-niqr-b":-7.473002304028244E-4,"fns-niqr-last":.0019568255931097633,"fns-niqr-mean":-.08633242126981132,"fns-niqr-niqr":-.004089335618740389,"fns-niqr-p25":-.0021751031395086484,"fns-niqr-p50":-.003122331768672313,"fns-niqr-p75":.007288444327184066,"fns-niqr-std":.03209560096833287,intercept:6.862875813114732,"lns-avtp-b":-.0018938413688674922,"lns-avtp-last":.06676606627335506,"lns-avtp-mean":-.07603837147841763,"lns-avtp-niqr":-.016328230093415195,"lns-avtp-p25":.010303828813673513,"lns-avtp-p50":-.03589513366624033,"lns-avtp-p75":.056207400912909336,"lns-avtp-std":-.04520109870414885,prevHour:2.301420369949928E-4,prevMonoTime:.003685054780721308,sessionCnt:.005283216038814869,timeSinceLastSession:-.01411608956380438}},1:{lrMeans:{currentHour:15.134456203928675,currentMonoTime:1.553360459127433E12,"ens-avtp-b":.5283857099864471,"ens-avtp-last":8.262965687637706,"ens-avtp-mean":8.418902076257503,"ens-avtp-niqr":.49412220616859004,"ens-avtp-p25":8.149357473011756,"ens-avtp-p50":8.390031248001916,"ens-avtp-p75":8.59957129630267,"ens-avtp-std":2111.808134194941,"fns-avtp-b":.6226794650801935,"fns-avtp-last":8.40584007519461,"fns-avtp-mean":8.534636048829894,"fns-avtp-niqr":.3857773226390544,"fns-avtp-p25":8.332989060781467,"fns-avtp-p50":8.515032240428152,"fns-avtp-p75":8.675880386526348,"fns-avtp-std":1845.8852285168682,"fns-niqr-b":.21347933677439135,"fns-niqr-last":2.7647096219577483,"fns-niqr-mean":6495.223863385008,"fns-niqr-niqr":1.1972471971744498,"fns-niqr-p25":.417754032656591,"fns-niqr-p50":.5172058446238108,"fns-niqr-p75":1.0125653636288763,"fns-niqr-std":1845.8852285168682,intercept:0,"lns-avtp-b":.6033453099237509,"lns-avtp-last":8.415812181647567,"lns-avtp-mean":8.562171619279262,"lns-avtp-niqr":.41357537819056855,"lns-avtp-p25":8.345181430419174,"lns-avtp-p50":8.54253906247021,"lns-avtp-p75":8.711261794822105,"lns-avtp-std":1974.223790129235,prevHour:14.939649137256517,prevMonoTime:1.5533413406116138E12,sessionCnt:23.78952353498332,timeSinceLastSession:1.911851581933863E7},lrStd:{currentHour:6.915913563406681,currentMonoTime:1.3579546487519038E8,"ens-avtp-b":.2293871112256882,"ens-avtp-last":.7358412399626237,"ens-avtp-mean":.6643093703588823,"ens-avtp-niqr":1.07169360267822,"ens-avtp-p25":.745906641830048,"ens-avtp-p50":.6979613612146783,"ens-avtp-p75":.6885407945843879,"ens-avtp-std":3240.1297333061466,"fns-avtp-b":.23637302256741258,"fns-avtp-last":.6578310492721471,"fns-avtp-mean":.6602179870987327,"fns-avtp-niqr":1.134081009617818,"fns-avtp-p25":.7157365592980294,"fns-avtp-p50":.6876929888153775,"fns-avtp-p75":.6887095950016521,"fns-avtp-std":2989.2531011183996,"fns-niqr-b":.3023989175947571,"fns-niqr-last":188.45413775718876,"fns-niqr-mean":6183.929502016268,"fns-niqr-niqr":33.95026131965199,"fns-niqr-p25":26.357261465915563,"fns-niqr-p50":26.380090045656182,"fns-niqr-p75":43.53044500310377,"fns-niqr-std":2989.2531011183996,intercept:0,"lns-avtp-b":.24596048532404155,"lns-avtp-last":.6833105090588518,"lns-avtp-mean":.6607556120232774,"lns-avtp-niqr":1.6757909759512508,"lns-avtp-p25":.7380275856301542,"lns-avtp-p50":.6936783806450382,"lns-avtp-p75":.6875117220276126,"lns-avtp-std":3048.1088543643054,prevHour:6.8482668340195705,prevMonoTime:1.4556118772689274E8,sessionCnt:53.32066201160346,timeSinceLastSession:5.547356497303553E7},lrWeights:{currentHour:-.011871761229344389,currentMonoTime:-.0036318600724213708,"ens-avtp-b":6.986789202868642E-4,"ens-avtp-last":.011673758427760823,"ens-avtp-mean":.13608518163448968,"ens-avtp-niqr":.003289074114120798,"ens-avtp-p25":.003191593712230237,"ens-avtp-p50":-.0066247650633022084,"ens-avtp-p75":-.02430342458063187,"ens-avtp-std":-.04850809780387416,"fns-avtp-b":.03459494981020932,"fns-avtp-last":.045825189137544194,"fns-avtp-mean":.002906185911093708,"fns-avtp-niqr":-9.691590646234479E-4,"fns-avtp-p25":.01551994942837314,"fns-avtp-p50":.029373577658918765,"fns-avtp-p75":.00768497254533149,"fns-avtp-std":.05890409069070104,"fns-niqr-b":-.008291354205495876,"fns-niqr-last":7.094688122632014E-4,"fns-niqr-mean":-.16946963320808844,"fns-niqr-niqr":-.005836423713579879,"fns-niqr-p25":-.027958020496759037,"fns-niqr-p50":.022488996225378338,"fns-niqr-p75":.006740480962143502,"fns-niqr-std":.058904090690701134,intercept:8.165078062192634,"lns-avtp-b":-.01571675564523532,"lns-avtp-last":.07645655650235457,"lns-avtp-mean":.13252636589021868,"lns-avtp-niqr":.001852705659582087,"lns-avtp-p25":-.02287056515136447,"lns-avtp-p50":-.02727017463885446,"lns-avtp-p75":-.01678871891479746,"lns-avtp-std":-.10684389586829764,prevHour:.006312752532983602,prevMonoTime:7.922263883522697E-4,sessionCnt:-.0014142078702796947,timeSinceLastSession:-.010969324600447576}},2:{lrMeans:{currentHour:14.916476965235244,currentMonoTime:1.5533558212926494E12,"ens-avtp-b":.6033702623818743,"ens-avtp-last":9.07079977798437,"ens-avtp-mean":9.134353655661178,"ens-avtp-niqr":.3623797220515198,"ens-avtp-p25":8.9438379108834,"ens-avtp-p50":9.126032949875686,"ens-avtp-p75":9.286393189864482,"ens-avtp-std":2788.9769968086775,"fns-avtp-b":.6862725810071378,"fns-avtp-last":9.214723527939402,"fns-avtp-mean":9.257360798208294,"fns-avtp-niqr":.2819938242222468,"fns-avtp-p25":9.113237238279646,"fns-avtp-p50":9.252704073743296,"fns-avtp-p75":9.376480490223058,"fns-avtp-std":2363.937261606417,"fns-niqr-b":.3079747845775837,"fns-niqr-last":2.349342977897278,"fns-niqr-mean":11543.162025405922,"fns-niqr-niqr":.8353830501136797,"fns-niqr-p25":.539449003960107,"fns-niqr-p50":.6120488613618988,"fns-niqr-p75":1.025142025238165,"fns-niqr-std":2363.937261606417,intercept:0,"lns-avtp-b":.6777951321565386,"lns-avtp-last":9.242373955945844,"lns-avtp-mean":9.289167926920118,"lns-avtp-niqr":.29268472756928093,"lns-avtp-p25":9.139640688653648,"lns-avtp-p50":9.285271169565624,"lns-avtp-p75":9.411428319974624,"lns-avtp-std":2495.2347425350476,prevHour:14.812242829285893,prevMonoTime:1.5533367650419763E12,sessionCnt:22.706325003650857,timeSinceLastSession:1.9056250672805835E7},lrStd:{currentHour:6.958159398444638,currentMonoTime:1.3765789914884326E8,"ens-avtp-b":.20791212194940575,"ens-avtp-last":.5237134368233782,"ens-avtp-mean":.4313622313318821,"ens-avtp-niqr":1.0298500098014598,"ens-avtp-p25":.5419803486741355,"ens-avtp-p50":.4674794224249036,"ens-avtp-p75":.44107618204776045,"ens-avtp-std":3099.6031967305125,"fns-avtp-b":.2057216706261372,"fns-avtp-last":.4473595901777174,"fns-avtp-mean":.42416638003708,"fns-avtp-niqr":.8234513220640112,"fns-avtp-p25":.5178682322633591,"fns-avtp-p50":.45902338903605194,"fns-avtp-p75":.43391494044292445,"fns-avtp-std":2828.653607227709,"fns-niqr-b":.29378765978740723,"fns-niqr-last":215.29091108169573,"fns-niqr-mean":6147.36771938347,"fns-niqr-niqr":20.95631794508829,"fns-niqr-p25":40.09143302784156,"fns-niqr-p50":40.0917059991872,"fns-niqr-p75":76.46454385633622,"fns-niqr-std":2828.653607227709,intercept:0,"lns-avtp-b":.21393771099754127,"lns-avtp-last":.46019047514559575,"lns-avtp-mean":.42031282188319596,"lns-avtp-niqr":.9217122900046908,"lns-avtp-p25":.5307587654743611,"lns-avtp-p50":.4595139882962286,"lns-avtp-p75":.4282987444285461,"lns-avtp-std":2893.8796852190203,prevHour:6.865014634726103,prevMonoTime:1.469930475404992E8,sessionCnt:57.21379702338944,timeSinceLastSession:5.583272331188057E7},lrWeights:{currentHour:-.005994421348964647,currentMonoTime:-.00211070793241526,"ens-avtp-b":-.02447232547732549,"ens-avtp-last":.006628010901974464,"ens-avtp-mean":.09653723410014291,"ens-avtp-niqr":9.295461659569376E-4,"ens-avtp-p25":.0012695482222228938,"ens-avtp-p50":-.006429946340265358,"ens-avtp-p75":-.0018240666357782521,"ens-avtp-std":-.04861802416956936,"fns-avtp-b":.016168879730690602,"fns-avtp-last":.017384784341611354,"fns-avtp-mean":-.02557658926351166,"fns-avtp-niqr":3.2487392404244254E-4,"fns-avtp-p25":.003054291672231475,"fns-avtp-p50":.006524301521081224,"fns-avtp-p75":-.0010225597375610623,"fns-avtp-std":.018221004183639943,"fns-niqr-b":.007301915471974063,"fns-niqr-last":7.425485364153301E-4,"fns-niqr-mean":-.05147892802271394,"fns-niqr-niqr":-.001940470217320524,"fns-niqr-p25":.036234413553517725,"fns-niqr-p50":-.03524862921191027,"fns-niqr-p75":.0017027379253208021,"fns-niqr-std":.018221004183641903,intercept:9.081622862978675,"lns-avtp-b":-.03489939843656423,"lns-avtp-last":.019705353504600828,"lns-avtp-mean":.09344550455301621,"lns-avtp-niqr":4.5749884272222607E-4,"lns-avtp-p25":-.011722568647814033,"lns-avtp-p50":-.016087594727082558,"lns-avtp-p75":-.010522910223392006,"lns-avtp-std":-.04604219547608363,prevHour:.0031101128704211474,prevMonoTime:-9.098449270365904E-4,sessionCnt:-.0016748630087899665,timeSinceLastSession:-.0028086529149225895}},3:{lrMeans:{currentHour:14.863185390555186,currentMonoTime:1.553353396059636E12,"ens-avtp-b":.6515843728225397,"ens-avtp-last":9.835160560043459,"ens-avtp-mean":9.864626387517605,"ens-avtp-niqr":.30287768062622433,"ens-avtp-p25":9.712383207744509,"ens-avtp-p50":9.860345560485248,"ens-avtp-p75":9.996033168898707,"ens-avtp-std":4643.022907790445,"fns-avtp-b":.7193689607638848,"fns-avtp-last":9.907187981654845,"fns-avtp-mean":9.920454440962963,"fns-avtp-niqr":.24505403012362392,"fns-avtp-p25":9.799839579276911,"fns-avtp-p50":9.917613535901424,"fns-avtp-p75":10.025731269663444,"fns-avtp-std":3732.2129640042217,"fns-niqr-b":.4031678578759487,"fns-niqr-last":1.1753269491098228,"fns-niqr-mean":22052.618058988082,"fns-niqr-niqr":1.5068731631809027,"fns-niqr-p25":.3996162353642051,"fns-niqr-p50":.4644249735352749,"fns-niqr-p75":1.0193721160323532,"fns-niqr-std":3732.2129640042217,intercept:0,"lns-avtp-b":.713092505873196,"lns-avtp-last":9.933609828473625,"lns-avtp-mean":9.945144121988752,"lns-avtp-niqr":.257126639335263,"lns-avtp-p25":9.820890902912648,"lns-avtp-p50":9.94152946492105,"lns-avtp-p75":10.052128345697236,"lns-avtp-std":3896.5986547615607,prevHour:14.828444424077171,prevMonoTime:1.553332738875851E12,sessionCnt:21.279678298925372,timeSinceLastSession:2.0657183784891047E7},lrStd:{currentHour:6.947821212378729,currentMonoTime:1.3756061323794276E8,"ens-avtp-b":.19834188857056692,"ens-avtp-last":.4983372521531976,"ens-avtp-mean":.4192327383097373,"ens-avtp-niqr":.9075762835401722,"ens-avtp-p25":.5329637320560067,"ens-avtp-p50":.45584668612572893,"ens-avtp-p75":.4210250409846772,"ens-avtp-std":4002.7954469984215,"fns-avtp-b":.19090160405133458,"fns-avtp-last":.4348713024155281,"fns-avtp-mean":.40394998021486844,"fns-avtp-niqr":1.0660805112236655,"fns-avtp-p25":.5038688154650198,"fns-avtp-p50":.43801099282043815,"fns-avtp-p75":.40338412512671645,"fns-avtp-std":3543.8600674276213,"fns-niqr-b":.2743590168568854,"fns-niqr-last":141.1281274191549,"fns-niqr-mean":9470.610460587868,"fns-niqr-niqr":225.229351242605,"fns-niqr-p25":37.32547626585716,"fns-niqr-p50":37.325780629523,"fns-niqr-p75":89.23974801142606,"fns-niqr-std":3543.8600674276213,intercept:0,"lns-avtp-b":.1943229807098331,"lns-avtp-last":.4419652079817383,"lns-avtp-mean":.39892829574083294,"lns-avtp-niqr":2.91956505002238,"lns-avtp-p25":.5093223889354195,"lns-avtp-p50":.43503232733698466,"lns-avtp-p75":.39695315415773813,"lns-avtp-std":3599.9571758910874,prevHour:6.829137071943964,prevMonoTime:1.4742574746751267E8,sessionCnt:94.19446337605667,timeSinceLastSession:5.818167162809092E7},lrWeights:{currentHour:-.004389543791532469,currentMonoTime:-.0030344207819728818,"ens-avtp-b":-.09240427960392844,"ens-avtp-last":.010942277460710081,"ens-avtp-mean":.20096895216357133,"ens-avtp-niqr":.0032096847898172324,"ens-avtp-p25":-.005856201042576917,"ens-avtp-p50":.0017945703315946082,"ens-avtp-p75":.013290135779755425,"ens-avtp-std":-.10429624033817943,"fns-avtp-b":.033335456564662004,"fns-avtp-last":.03305046923296899,"fns-avtp-mean":-.09090160395555649,"fns-avtp-niqr":-.0010446812804401641,"fns-avtp-p25":.004912076898000752,"fns-avtp-p50":-.008494083146032963,"fns-avtp-p75":-.002989850542529556,"fns-avtp-std":.023336986139087093,"fns-niqr-b":.0024504601144316397,"fns-niqr-last":7.643316521852407E-4,"fns-niqr-mean":-.009119203062853156,"fns-niqr-niqr":-.0012594157293897756,"fns-niqr-p25":-.0422338795033952,"fns-niqr-p50":.04250587013668825,"fns-niqr-p75":.0017560870617061,"fns-niqr-std":.023336986139088925,intercept:9.861278665882926,"lns-avtp-b":-.0768634513815469,"lns-avtp-last":.019981566044227083,"lns-avtp-mean":.14111887010560764,"lns-avtp-niqr":-4.600304100335705E-4,"lns-avtp-p25":-.010343773714103076,"lns-avtp-p50":-.017237539822589385,"lns-avtp-p75":-.01599941028177654,"lns-avtp-std":-.0740283506738119,prevHour:.0018930816696335491,prevMonoTime:-.003464250273737749,sessionCnt:-.0016713463515894596,timeSinceLastSession:.0016036476749273867}}}}],ZP:["addHeaderDataToNetworkMonitor",!0],mba:["startMonitorOnLoadStart",!1],T$:["reportFailedRequestsToNetworkMonitor",!1],PU:["periodicHistoryPersistMs",0],GV:["saveVideoBitrateMs",0],uK:["needMinimumNetworkConfidence",!0],U1:["biasTowardHistoricalThroughput",!1],hza:["preferCurrentLocationThroughput",!1],gza:["preferCurrentLocationThreshold",0],egb:["logMemoryUsage",!1],eua:["headerCacheTruncateHeaderAfterParsing",!0],SZa:["audioFragmentDurationMilliseconds",null],Kub:["videoFragmentDurationMilliseconds",null],Lo:["probeServerWhenError",!0],Qr:["allowSwitchback",!0],rz:["probeDetailDenominator",100],OT:["maxDelayToReportFailure",300],wH:["allowParallelStreaming",!1],vhb:["mediaPrefetchDisabled",!1],fxa:["minBufferLevelToAllowPrefetch",5E3],qs:["editVideoFragments",!1],bn:["editAudioFragments",!0],Vob:["seamlessAudio",!1],Wob:["seamlessAudioProfiles",[]],Xob:["seamlessAudioProfilesAndTitles",{}],paa:["seamlessAudioMaximumSyncError",void 0],LJ:["insertSilentFrames",0],Jua:["insertSilentFramesOnExit",void 0],Iua:["insertSilentFramesOnEntry",void 0],Hua:["insertSilentFramesForProfile",void 0],n9a:["forceDiscontinuityAtTransition",!0],nw:["supportAudioResetOnDiscontinuity",void 0],lw:["supportAudioEasingOnDiscontinuity",void 0],Ep:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],R6a:["editCompleteFragments",!0],fib:["minimumAudioFramesPerFragment",1],Hx:["applyProfileTimestampOffset",!1],bo:["applyProfileStreamingOffset",!0],Ly:["lazyParsingSidx",!1],M8:["maximumFragmentsForLazyParsing",6E3],vza:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Wwa:["mediaSourceSupportsNegativePts",!1],QD:["minAudioPtsGap",void 0],UZa:["audioOverlapGuardSampleCount",2],zR:["enableRecordJSBridgePerf",!1],Bfa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],xsb:["throughputThresholdSelectorParam",0],jub:["upswitchDuringBufferingFactor",2],hZa:["allowUpswitchDuringBuffering",!1],bpa:["contentOverrides",void 0],U2:["contentProfileOverrides",void 0],I6:["hindsightDenominator",0],H6:["hindsightDebugDenominator",0],xJ:["hindsightAlgorithmsEnabled",["htwbr"]],RS:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],nna:["appendMediaRequestOnComplete",!1],RW:["waitForDrmToAppendMedia",!1],S4:["forceAppendHeadersAfterDrm",!1],cL:["reappendRequestsOnSkip",!1],y3:["declareBufferingCompleteAtSegmentEnd",!1],cq:["maxActiveRequestsPerSession",void 0],R7:["limitAudioDiscountByMaxAudioBitrate",!1],w1:["appendFirstHeaderOnComplete",!0],lW:["strictBufferCapacityCheck",!1],AH:["aseReportDenominator",0],E1:["aseReportIntervalMs",3E5],Vba:["translateToVp9Draft",!1],$L:["switchableAudioProfiles",[]],VZa:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],zCa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],XZa:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Kwa:["maxStartingVideoVMAF",110],SD:["minStartingVideoVMAF",1],qH:["activateSelectStartingVMAF",!1],MV:["selectStartingVMAFTDigest",-1],AE:["selectStartingVMAFMethod","fallback"],gBa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],IK:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],b6a:["disablePtsStartsEvent",!0],M$:["recordFirstFragmentOnSubBranchCreate",!0],Qwa:["mediaCacheConvertToBinaryData",!1],Q8:["mediaCacheSaveOneObject",!1],uwa:["markRequestActiveOnFirstByte",!1],tR:["earlyAppendSingleChildBranch",!0],kA:["useNativeDataViewMethods",!1]};f.Zm=f.P1a;},function(g){g.T="4.1.292";},function(g,f,a){var h,m;function b(){this.xr=this.IG=this.LO=this.ZO=this.IO=null;}function d(a){this.u=a;this.mu=[];this.Bm=new b();this.SG();}h=a(6);a(11);a(24);m=a(5);new m.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Gd=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.IO=a.ens,this.ZO=a.lns,this.LO=a.fns,this.IG=a.d,this.xr=a.t,b=!0);return b;};b.prototype.dd=function(){var a;if(h.Pa(this.IO)||h.Pa(this.ZO)||h.Pa(this.LO)||h.Pa(this.IG)||h.Pa(this.xr))return null;a={d:this.IG,t:this.xr};a.ens=this.IO;a.lns=this.ZO;a.fns=this.LO;return a;};b.prototype.get=function(){var a,b;a=this.dd();if(a){b=new Date(this.xr);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};d.prototype.SG=function(){var a;a=m.storage.get("sth");a&&this.Gd(a);};d.prototype.Gd=function(a){var c,d;c=null;d=this.u;a.forEach(function(a){var d;d=new b();d.Gd(a)?(c=!0,this.mu.push(d)):h.Pa(c)&&(c=!1);},this);this.mu=this.mu.filter(function(a){return a.IG>=d.hU;});this.mu.sort(function(a,b){return a.xr-b.xr;});return h.Pa(c)?!0:c;};d.prototype.L_=function(){var a;a=[];this.mu.forEach(function(b){a.push(b.dd());},this);return a;};d.prototype.save=function(){var a,d,f;a=this.L_();d=this.u;f=this.Bm.dd();f&&f.d>=d.hU&&(a.push(f),this.mu.push(this.Bm));a.length>d.RT&&(a=a.slice(a.length-d.RT,a.length));this.Bm=new b();a&&m.storage.set("sth",a);};d.prototype.reset=function(){this.Bm=new b();};d.prototype.z$a=function(){return this.Bm.get();};d.prototype.Dbb=function(){return this.mu.length+1;};d.prototype.zYa=function(a){this.Bm.IO=a;this.Bm.xr=m.time.ea();};d.prototype.IYa=function(a){this.Bm.ZO=a;this.Bm.xr=m.time.ea();};d.prototype.DYa=function(a,b){this.Bm.LO=a;this.Bm.xr=m.time.ea();this.Bm.IG=b;};g.T=d;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(344);g=function(){var z1p;function a(){var H1p,w1p;H1p=2;while(H1p!==5){w1p="1SIY";w1p+="bZr";w1p+="NJ";w1p+="Cp";w1p+="9";switch(H1p){case 3:this.mP={};"";H1p=6;break;H1p=5;break;case 2:this.mP={};w1p;H1p=5;break;}}}z1p=2;while(z1p!==9){switch(z1p){case 2:a.prototype.add=function(a,d,c,f){var C1p,g;C1p=2;while(C1p!==3){switch(C1p){case 2:g=this.mP;void 0===g[f]&&(g[f]=new b());g[f].add(a,d,c);C1p=3;break;}}};a.prototype.start=function(a,d){var l1p,c;l1p=2;while(l1p!==3){switch(l1p){case 14:c[d].start(a);l1p=7;break;l1p=3;break;case 4:c[d].start(a);l1p=3;break;case 2:c=this.mP;void 0===c[d]&&(c[d]=new b());l1p=4;break;}}};a.prototype.stop=function(a,b){var E1p,c;E1p=2;while(E1p!==4){switch(E1p){case 2:c=this.mP;void 0!==c[b]&&c[b].stop(a);E1p=4;break;}}};z1p=4;break;case 4:a.prototype.get=function(){var S1p,f,g,a,b,c,d;S1p=2;while(S1p!==6){switch(S1p){case 2:S1p=1;break;case 1:a=this.mP,b=Object.keys(a),c=[],d=0;S1p=5;break;case 5:S1p=d<b.length?4:7;break;case 4:f=b[d];g=a[f].get();g&&c.push({cdnid:f,avtp:g.Fa,tm:g.R3});S1p=8;break;case 8:d++;S1p=5;break;case 7:return c;break;}}};return a;break;}}}();f.HGa=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(664);new(a(5)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");g=function(){var m1p;function a(a){var K1p,L1p;K1p=2;while(K1p!==4){L1p="1SI";L1p+="Yb";L1p+="ZrNJ";L1p+="Cp";L1p+="9";switch(K1p){case 2:this.X6=a;this.rs={};L1p;K1p=4;break;}}}m1p=2;while(m1p!==7){switch(m1p){case 3:a.prototype.Uk=function(){var V1p;V1p=2;while(V1p!==1){switch(V1p){case 2:return this.tw.get();break;case 4:return this.tw.get();break;V1p=1;break;}}};a.prototype.yDa=function(a){var N1p,b,c;N1p=2;while(N1p!==3){switch(N1p){case 2:b=Object.keys(this.rs);c=this.rs[b[0]];1===b.length&&!1===c.NR?(this.tw.start(a,c.Zd),this.rH=c.Zd):1<b.length&&this.rH&&(b=this.rs[this.rH],this.tw.stop(a,this.rH),b.NR=!1,this.rH=void 0);N1p=3;break;}}};return a;break;case 4:a.prototype.Dx=function(a,b,c,d){var W1p;W1p=2;while(W1p!==1){switch(W1p){case 2:d.Zd&&(this.X6?this.tw.add(a,b,c,d.Zd):this.rH===d.Zd&&this.tw.add(a,b,c,d.Zd));W1p=1;break;}}};m1p=3;break;case 2:a.prototype.reset=function(){var Y1p;Y1p=2;while(Y1p!==1){switch(Y1p){case 2:this.tw=new b.HGa();Y1p=1;break;case 4:this.tw=new b.HGa();Y1p=9;break;Y1p=1;break;}}};a.prototype.Dz=function(a,b){var I1p;I1p=2;while(I1p!==1){switch(I1p){case 2:b.Zd&&(this.X6?this.tw.start(a,b.Zd):1===b.type&&(this.rs[b.Zd]?this.rs[b.Zd].CM+=1:this.rs[b.Zd]={Zd:b.Zd,CM:1,NR:!1},this.yDa(a)));I1p=1;break;}}};a.prototype.Fz=function(a,b){var p1p,c;p1p=2;while(p1p!==8){switch(p1p){case 1:p1p=b.Zd?5:8;break;case 2:p1p=1;break;case 5:p1p=this.X6?4:3;break;case 4:this.tw.stop(a,b.Zd);p1p=8;break;case 3:c=this.rs[b.Zd];1===b.type&&c&&(--c.CM,0===c.CM&&(c.NR&&this.tw.stop(a,b.Zd),c.NR=!1,delete this.rs[b.Zd]),this.yDa(a));p1p=8;break;}}};m1p=4;break;}}}();f.oJa=g;},function(g,f,a){var h,m,c,k,q,p;function b(a){var b;if(!a.V0){b=a.Dta();a.fh.Ex(b["default"].Fa,a.dh);a.fh.jA(b.zo?b.zo.OU:void 0,b.zo?b.zo.Lz:void 0);h.Pa(a.Lb)||(a.V0=!0);}}function d(a,b,d){var f;this.u=d;this.Al={};this.rB=d.rB;this.tka=new k(this.rB);this.JG=new p(!0);this.xG=new p(!1);this.reset();this.iu=a;this.fh=b;this.Tka=m.$k.name();this.fh.QV(this.Tka);this.dH=this.gx=0;this.yG=[];m.events.on("networkchange",function(a){this.Tka=a;this.fh.QV(a);}.bind(this));f=d.x3;f&&(f={Dc:c.xd.IF,ta:{Fa:parseInt(f,10),Zg:0},zg:{m_a:0,Zg:0},xo:{m_a:0,Zg:0}},this.get=function(){return f;});}h=a(6);m=a(5);c=a(11);a(24);f=a(25).EventEmitter;k=a(349).Bea;q=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");p=a(665).oJa;d.prototype.constructor=d;d.prototype=Object.create(f);Object.defineProperties(d.prototype,{startTime:{get:function(){return this.le;}},Dc:{get:function(){return this.dh;}},zp:{get:function(){return this.gx;}},uYa:{get:function(){return this.yG;}}});d.prototype.zTa=function(){var a,b,c;a=this.u;b=a.I_;c=this.tka;return a.NTa.reduce(function(a,d){a[d]=c.create(d,b);return a;},{});};d.prototype.reset=function(){var a,d,f;a=this.u.I_;d=this.tka;f=this.u;this.location=null;this.Al=this.zTa();this.JG.reset();this.xG.reset();this.Cr=d.create("respconn-ewma",a);this.sr=d.create("respconn-ewma",a);this.dh=c.xd.HAVE_NOTHING;this.VXa=function(){b(this);}.bind(this);this.RP=void 0;this.eu=this.Tb=this.Lb=this.le=null;this.USa=this.KP=0;this.wWa=!1;f.yAa&&(this.dH=this.gx=0,this.yG=[]);};d.prototype.RV=function(a){var b;b=this.Al;if(a!==this.location){h.R(this.RP)||(clearInterval(this.RP),this.RP=void 0);h.Pa(this.location)&&(this.KP=0,this.le=null);if(!h.Pa(a)){this.dh=c.xd.HAVE_NOTHING;for(var d in b)b[d]&&b[d].reset&&b[d].reset();this.Cr.reset();this.sr.reset();}h.Pa(this.le)||(this.KP+=(h.Pa(this.Lb)?m.time.ea():this.Lb)-this.le);this.Lb=this.le=null;this.Tb=0;this.location=a;this.fh.RV(a);}};d.prototype.QV=function(a){this.fh.QV(a);};d.prototype.CYa=function(a){this.Al.QoEEvaluator?q.warn("monitor (QoEEvaluator) already existed."):this.Al.QoEEvaluator=a;};d.prototype.Lnb=function(){delete this.Al.QoEEvaluator;};d.prototype.TB=function(a,b){var c;c=this.Al["req-pacer"];c&&c.TB(a,b);};d.prototype.pbb=function(){return this.Al["req-pacer"];};d.prototype.Dx=function(a,d,f,g){var k,p;k=this.u;p=this.Al;if(h.R(d))q.warn("addDataReceived called with undefined start time");else{k.TTa&&10>f-d?d=f-10:0===f-d&&(d=f-1);this.JG.Dx(a,d,f,g);this.xG.Dx(a,d,f,g);for(var m in p)p[m]&&p[m].add&&p[m].add(a,d,f);this.dh=Math.max(this.dh,c.xd.Ct);h.Pa(this.le)&&(this.le=d,this.Lb=null,this.V0=!1,this.Tb=0);h.Pa(this.Lb)||(d>this.Lb&&(this.le+=d-this.Lb),this.Lb=null,this.V0=!1);this.Tb+=a;this.dh<c.xd.gp&&(f-this.le>k.jVa||this.Tb>k.iVa)&&(this.dh=c.xd.gp);this.dh<c.xd.IF&&(f-this.le>k.AWa||this.Tb>k.zWa)&&(!this.wWa||this.USa>k.hVa)&&(this.dh=c.xd.IF,b(this),this.RP=setInterval(this.VXa,k.RUa));h.Pa(this.eu)||(d-this.eu>k.ola?this.iu.Kua(this.eu,d):f-d>k.ola&&this.iu.Kua(d,f));this.eu=Math.max(f,this.eu);}};d.prototype.Pr=function(a){this.Cr.add(a);this.fh.Pr(a);};d.prototype.Nr=function(a){this.sr.add(a);this.fh.Nr(a);};d.prototype.start=function(a){var b;h.Pa(this.eu)&&!h.Pa(this.Lb)&&(this.eu=a);b=this.Al;if(this.u.mba)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};d.prototype.stop=function(a){var b,c;b=this.Al;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.Lb=h.Pa(this.Lb)?a:Math.min(this.Lb,a);this.eu=null;};d.prototype.flush=function(){var a,b;a=this.Al;for(b in a)a[b]&&a[b].flush&&a[b].flush();};d.prototype.fail=function(){this.le=null;};d.prototype.V$a=function(){var a,b;a=this.Al.entropy;a&&(b=a.j0a(),a.reset());return b;};d.prototype.Dta=function(){var a,b,c,d,f,g,k;a=m.time.ea();b={};c=this.Al;d=this.u;f=d.BTa;g=d.cXa;for(k in c)c[k]&&c[k].get&&(b[k]=c[k].get(a),"iqr"===c[k].type&&(b.zo=b[k]),"tdigest"===c[k].type&&(b.im=b[k]));b.HEb=this.JG.Uk();b.VDb=this.xG.Uk();b["default"]=f&&b[f]?b[f]:b["throughput-ewma"];"none"!==d.qaa&&"none"!==g&&(b.bBa=g&&b[g]?b[g]:b["throughput-sw"]);return b;};d.prototype.get=function(){var a,b,c,d,f;a=this.Dta();b=a["default"];c=this.Cr.get();d=this.sr.get();if(a.bBa)f=a.bBa,b=h.pa(b.Fa)&&h.pa(f.Fa)&&b.Fa>f.Fa&&0<f.Fa?f:b;a.Dc=this.dh;a.ta=b;a.zg=c;a.xo=d;b=this.KP+!h.Pa(this.le)?(h.Pa(this.Lb)?m.time.ea():this.Lb)-this.le:0;a.time=b;return a;};d.prototype.Tbb=function(){var a,b,c;a={};b=this.get(!0);if(b.Dc&&b.ta){a.aseavtp=Number(b.ta.Fa).toFixed(2);a.asevartp=Number(b.ta.Zg).toFixed(2);if(b.zo){c=b.zo.OU;!c||isNaN(c.uj)||isNaN(c.tj)||isNaN(c.bi)||(a.aseniqr=0<c.bi?Number((c.uj-c.tj)/c.bi).toFixed(2):-1,a.aseiqr=Number(c.uj-c.tj).toFixed(2),a.asemedtp=Number(c.bi).toFixed(2));a.iqrsamples=b.zo.Lz;}b.im&&b.im.zs&&(a.tdigest=b.im.zs());}return a;};d.prototype.Dz=function(a,b){var c;c=b.requestId;1===++this.gx&&(this.emit("active",a),this.start(a));c&&this.yG.push(c);this.JG.Dz(a,b);this.xG.Dz(a,b);};d.prototype.X$=function(){++this.dH;};d.prototype.Fz=function(a,b,c){var d;d=c.requestId;b&&--this.dH;--this.gx;this.u.yAa&&(this.gx=Math.max(this.gx,0),this.dH=Math.max(this.dH,0));0===this.gx&&(this.stop(a),this.emit("inactive",a));d&&(b=this.yG.indexOf(d),0<=b&&this.yG.splice(b,1));this.JG.Fz(a,c);this.xG.Fz(a,c);};g.T=d;},function(g,f,a){var d,h;function b(a){this.u=a;this.SG();}d=a(6);h=a(5);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.dd();h.storage.set("nh",a);};b.prototype.irb=function(){this.xx||(this.xx=!0,this.Ar=h.time.ea());};b.prototype.urb=function(){var a;if(this.xx){a=h.time.ea();this.Gr+=a-this.Ar;this.Ar=a;this.xx=!1;this.RG=null;}};b.prototype.Kua=function(a,b){this.xx&&(b>this.Ar&&(this.Gr+=b-this.Ar,this.Ar=b),null===this.RG||a>this.RG)&&(a=b-a,this.wB.push([this.Gr-a,a]),this.LXa(),this.RG=b);};b.prototype.LXa=function(){var a;a=this.Gr-this.u.Cib;this.wB=this.wB.filter(function(b){return b[0]>a;});};b.prototype.SG=function(){var a;a=h.storage.get("nh");this.J0(a)||(this.Ar=h.time.ea(),this.Gr=0,this.xx=!1,this.RG=null,this.wB=[]);};b.prototype.J0=function(a){if(!(a&&d.has(a,"t")&&d.has(a,"s")&&d.has(a,"i")&&d.pa(a.t)&&d.pa(a.s)&&d.isArray(a.i)))return!1;this.Ar=h.time.B9(1E3*a.t);this.Gr=1E3*a.s;this.xx=!1;this.wB=a.i.map(function(a){return[1E3*a[0],a[1]];});this.RG=null;return!0;};b.prototype.dd=function(){return this.xx?{t:h.time.now()/1E3|0,s:(this.Gr+(h.time.ea()-this.Ar))/1E3|0,i:this.wB.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.g9(this.Ar)/1E3|0,s:this.Gr/1E3|0,i:this.wB.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.T=b;},function(g,f,a){var d;function b(a){var b,c;b=a.tb;c=a.mb;this.Bx=a.sw||4E3;this.FXa=b;this.gVa=c;this.reset();}d=a(5);new d.Console("ASEJS_REQUEST_PACER","media|asejs");b.prototype.lP=function(a,b){this.Tb+=b;this.Gg.push({t:a,O1:b});this.Gg.sort(function(a,b){return a.t-b.t;});};b.prototype.bH=function(){var a;if(null!==this.au&&null!==this.Dk&&0!==this.Gg.length)for(;this.au-this.Dk>this.Bx&&this.Gg.length;){a=this.Gg.shift();this.Tb-=a.O1;this.Dk=a.t;}};b.prototype.reset=function(){this.Gg=[];this.Dk=this.au=null;this.Tb=0;};b.prototype.setInterval=function(a){this.Bx=a;this.bH();};b.prototype.rbb=function(){var a;a=d.time.ea();return 8*this.Tb/(a-this.Dk);};b.prototype.B0a=function(a){return null===this.au||null===this.Dk?!0:a<=this.gVa?!0:this.rbb()<=this.FXa;};b.prototype.TB=function(a,b){null===this.au&&(this.au=a);null===this.Dk&&(this.Dk=a);a>this.au&&(this.au=a);a<this.au-this.Bx||(a<this.Dk&&(this.Dk=a),this.lP(a,b),this.bH());};g.T=b;},function(g,f,a){var d;function b(a){var b,c;b=a.sw;c=a.mw;this.Bx=b;this.i_={uhd:a.uhdl,hd:a.hdl};this.ph=Math.max(Math.ceil(1*b/c),1);this.kVa=a.mins||1;d.call(this,b,c);this.reset();}d=a(152);new(a(5)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(d.prototype);b.prototype.flush=function(){this.Ac.map(function(a,b){this.Vma(a,this.g5(b));},this);};b.prototype.j0a=function(){var a,b,c,d,f,g,h,A;a=this.i_;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.R0[b];f=this.P0[b];if(d.first){g=d.first;h=d.qz;void 0!==h&&(f[g][h]+=1);d.first=void 0;}for(var d=[],g=0,c=h=c.length+1,z=0;z<h;z++){for(var l=0,n=0;n<c;n++)l+=f[n][z];g+=l;d.push(l);}l=-1;if(g>this.kVa){for(z=l=0;z<h;z++)if(0<d[z])for(n=0;n<c;n++){A=f[n][z];0<A&&(l-=A*Math.log(1*A/d[z]));}l/=g*Math.log(2);}this.F_[b]=l;}return this.F_;};b.prototype.Vma=function(a,b){var c,g,h;for(var c=this.ph,d=this.i_;this.FO.length>=c;)this.FO.shift();for(;this.GO.length>=c;)this.GO.shift();this.FO.push(a);this.GO.push(b);a=this.FO.reduce(function(a,b){return a+b;},0);b=this.GO.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var f in d)if(d.hasOwnProperty(f)){b=this.R0[f];c=this.P0[f];g=this.Imb(a,d[f]);h=b.qz;void 0!==h?c[g][h]+=1:b.first=g;b.qz=g;}}};b.prototype.Imb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.Vma(this.Ac[0],this.g5(0));d.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.R0={};this.FO=[];this.GO=[];this.P0={};this.F_={};a=this.i_;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.P0,f=b,g,h=void 0,u=Array(h),h=g=a[b].length+1,z=0;z<h;z++){u[z]=Array(g);for(var l=0;l<g;l++)u[z][l]=0;}c[f]=u;this.R0[b]={first:void 0,qz:void 0};this.F_[b]=0;}d.prototype.reset.call(this);};g.T=b;},function(g,f,a){var d;function b(){this.mh=void 0;this.lu=0;}d=a(6);b.prototype.dd=function(){return 0!==this.lu&&this.mh?{p25:this.mh.tj,p50:this.mh.bi,p75:this.mh.uj,c:this.lu}:null;};b.prototype.Gd=function(a){if(!(!d.Pa(a)&&d.has(a,"p25")&&d.has(a,"p50")&&d.has(a,"p75")&&d.has(a,"c")&&d.isFinite(a.p25)&&d.isFinite(a.p50)&&d.isFinite(a.p75)&&d.isFinite(a.c)))return this.mh=void 0,this.lu=0,!1;this.mh={tj:a.p25,bi:a.p50,uj:a.p75};this.lu=a.c;};b.prototype.get=function(){return{OU:this.mh,Fn:this.lu};};b.prototype.set=function(a,b){this.mh=a;this.lu=b;};b.prototype.reset=function(){this.mh=void 0;this.lu=0;};b.prototype.toString=function(){return"IQRHist("+this.mh+","+this.lu+")";};g.T=b;},function(g,f,a){var d,h,m,c,k,q,p,u,z,l;function b(a){this.CTa=a;}f=a(348);d=f.zIa;h=f.xIa;m=a(347).yIa;c=a(346);k=a(345);q=a(357);p=a(670);u=a(669);z=a(668);l=a(344);b.prototype.constructor=b;b.prototype.create=function(a,b){var f,g,t,y;g=this.CTa[a];t=b[a];y={};g&&Object.keys(g).forEach(function(a){y[a]=g[a];});t&&Object.keys(t).forEach(function(a){y[a]=t[a];});switch(y.type){case"slidingwindow":f=new m(y.mw);break;case"discontiguous-ewma":f=new h(y.mw);break;case"iqr":f=new c(y.mx,y.mn,y.bw,y.iv);break;case"tdigest":f=new k(y);break;case"discrete-ewma":f=new d(y.hl);break;case"tdigest-history":f=new q(y);break;case"iqr-history":f=new p(y);break;case"avtp":f=new l();break;case"entropy":f=new u(y);break;case"req-pacer":f=new z(y);}f&&(f.type=y.type);return f;};g.T=b;},function(g){function f(a){this.oB=a;this.zd=0;this.KB=null;}f.prototype.add=function(a,b,d){null!==this.KB&&b>this.KB&&(this.zd+=b-this.KB,this.KB=null);this.oB.add(a,b-this.zd,d-this.zd,this.zd);};f.prototype.stop=function(a){null===this.KB&&(this.KB=a);};f.prototype.n$=function(a,b){return this.oB.n$(a,b);};f.prototype.get=function(){return this.oB.get();};f.prototype.reset=function(){this.oB.reset();};f.prototype.toString=function(){return this.oB.toString();};g.T=f;},function(g){function f(a,b,d){this.QB=a;this.ph=Math.floor((a+b-1)/b);this.xc=b;this.HWa=d;this.reset();}f.prototype.shift=function(){this.Ac.shift();this.Sf.shift();};f.prototype.update=function(a,b){this.Ac[a]+=b;};f.prototype.push=function(a){this.Ac.push(0);this.Sf.push(a?a:0);this.Oa+=this.xc;};f.prototype.add=function(a,b,d,f){var g,c;if(null===this.Oa){g=Math.max(Math.floor((d-b+this.xc-1)/this.xc),1);for(this.Oa=b;this.Ac.length<g;)this.push(f);}for(;this.Oa<d;)if(this.push(f),this.HWa)for(;1<this.Ac.length&&d+f-(this.Oa-this.xc*this.Ac.length+this.Sf[0])>this.QB;)this.shift();else this.Ac.length>this.ph&&this.shift();if(b>this.Oa-this.xc)this.update(this.Ac.length-1,a);else if(b==d)f=this.Ac.length-Math.max(Math.ceil((this.Oa-d)/this.xc),1),0<=f&&this.update(f,a);else for(f=1;f<=this.Ac.length;++f){g=this.Oa-f*this.xc;c=g+this.xc;if(!(g>d)){if(c<b)break;this.update(this.Ac.length-f,Math.round(a*(Math.min(c,d)-Math.max(g,b))/(d-b)));}}for(;this.Ac.length>this.ph;)this.shift();};f.prototype.reset=function(){this.Ac=[];this.Sf=[];this.Oa=null;};f.prototype.setInterval=function(a){this.ph=Math.floor((a+this.xc-1)/this.xc);};g.T=f;},function(g,f,a){var h,m,c,k;function b(a,b,c){h.call(this,a,b,c);}function d(a,c){m.call(this,new b(a,c,!1));}h=a(673);m=a(672);c=a(74).X9a;k=a(74).fcb;b.prototype=Object.create(h.prototype);b.prototype.Fa=function(){return Math.floor(8*c(this.Ac)/this.xc);};b.prototype.Zg=function(){return Math.floor(64*k(this.Ac)/(this.xc*this.xc));};b.prototype.get=function(){return{Fa:this.Fa(),Zg:this.Zg(),tEb:this.Ac.length};};b.prototype.toString=function(){return"bsw("+this.QB+","+this.xc+","+this.ph+")";};d.prototype=Object.create(m.prototype);d.prototype.setInterval=function(a){this.oB.setInterval(a);};g.T=d;},function(g,f,a){var d,h,m,c;function b(a){var b;b=nrdp.th.$Jb.match(/android-(\d*)/);b?23<b[1]?(a.nw=!1,a.lw=!1,a.Ep=void 0):(b=nrdp.th.JBb.TEb.platform.XIb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.nw=!0,a.lw=!1,a.Ep=void 0):(a.nw=!1,a.lw=!1,a.Ep=[]):(a.nw=!1,a.lw=!1,a.Ep=[]):(a.nw=!1,a.lw=!1,a.Ep=[]);}d=a(13).assert;a(54);h=a(5);m=h.qk;c=h.UMa;g.T=function(){var a,f,g;new h.Console("ASEJSMONKEY","media|asejs");if(!h.qk.Qc){a=function(a){this.bVa=a;};f=c.prototype.appendBuffer;h.MediaSource.Qc||(h.MediaSource.Qc={});"undefined"!==typeof nrdp&&nrdp.$Db&&(b(h.MediaSource.Qc),h.MediaSource.Qc.Joa=!1);h.qk.Qc={tE:{Aca:!0,bx:!0,Fga:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.zXa||this.ATa;},set:function(a){this.ATa=a;}});g=m.prototype.open;m.prototype.open=function(b,c,d,f,k,h,p){1===d&&(this.zXa=new a(this));return g.call(this,b,c,d,f,k,h,p);};m.prototype.eL=function(){this.FB=void 0;};c.prototype.appendBuffer=function(b){if(b instanceof ArrayBuffer)return f.call(this,b);if(b instanceof a)return this.cQ(b.bVa);d(!1);};}};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);d=a(11);h=a(5);g=function(){var f1p;f1p=2;while(f1p!==13){switch(f1p){case 4:a.prototype.IUa=function(a){var X1p;X1p=2;while(X1p!==1){switch(X1p){case 2:return!!this.la.gc(a).Gx;break;case 4:return~-this.la.gc(a).Gx;break;X1p=1;break;}}};a.prototype.WP=function(a){var M1p,b;M1p=2;while(M1p!==3){switch(M1p){case 2:b=this;a=this.la.gc(a);a.Gx||(a.Gx=!0,[d.L.VIDEO,d.L.AUDIO].forEach(function(a){var i1p;i1p=2;while(i1p!==1){switch(i1p){case 2:b.la.bf[a].resume();i1p=1;break;}}}));M1p=3;break;}}};a.prototype.CWa=function(a,b){var B1p,c,d;B1p=2;while(B1p!==6){switch(B1p){case 2:c=this;d=this.la.u;d.by&&(this.la.QO=b+d.CCa,this.la.RO=h.time.ea());B1p=3;break;case 3:a.$s(b);a.mob();this.la.Ff&&0<this.la.Ff.length&&(this.la.Ff.forEach(function(a){var y1p;y1p=2;while(y1p!==1){switch(y1p){case 2:c.la.UP(a,!1);y1p=1;break;case 4:c.la.UP(a,~5);y1p=3;break;y1p=1;break;}}}),this.la.Ff=void 0);this.la.FI.Xla(a);B1p=6;break;}}};a.prototype.G_=function(){var o1p,a,b;o1p=2;while(o1p!==9){switch(o1p){case 2:o1p=1;break;case 5:a=this.xi.Vm;b=this.xi.da;this.la.gc(b)&&(this.xi=void 0,this.zE(a,b));o1p=9;break;case 1:o1p=this.xi?5:9;break;}}};f1p=7;break;case 7:a.prototype.Ri=function(a){var n1p,c,f,O7p;n1p=2;function b(a,d,f){var q1p,F1p;q1p=2;while(q1p!==5){F1p="skip: unexp";F1p+="ected behaviour - a non-presenting branch does";F1p+="n't have a previous br";F1p+="anch";switch(q1p){case 2:a!==c.la.va.wj&&(a.Ce?b(a.Ce,d,f):c.K.error(F1p));a.Wa[d].Ri(f);q1p=5;break;}}}while(n1p!==6){O7p="s";O7p+="k";O7p+="ip";switch(n1p){case 4:this.la.va.wj.Ri(a);[d.L.AUDIO,d.L.VIDEO].forEach(function(d){var e1p,g,Q7p;e1p=2;while(e1p!==8){Q7p="sk";Q7p+="ip: not ";Q7p+="resuming bufferM";Q7p+="anager, audio track switch in progress";switch(e1p){case 2:e1p=1;break;case 1:e1p=c.la.ug(d)?5:8;break;case 5:g=c.la.eb.Bb[d];c.la.oo&&(g.hba=h.time.ea());f.cL?c.la.bf[d].reset():g.nF?g.Ja(Q7p):c.la.bf[d].resume();b(c.la.va.If,d,a);e1p=8;break;}}});n1p=9;break;case 9:this.la.ja.Gd(d.Ma.yd);this.la.mH();this.la.emit(O7p);n1p=6;break;case 2:c=this;f=this.la.u;n1p=4;break;}}};a.prototype.eC=function(a){var b1p,b,c;b1p=2;while(b1p!==6){switch(b1p){case 4:b1p=a<b.Fc||a>=c?3:9;break;case 5:c=0<Object.keys(b.xa&&b.xa.mj||{}).length&&!b.qg?b.ce-this.la.u.jU:b.ce;b1p=4;break;case 2:b=this.la.va.wj;b1p=5;break;case 3:return!1;break;case 9:b=this.la.XC(a,d.L.AUDIO,!0);a=this.la.XC(a,d.L.VIDEO,!0);return b&&a&&b.complete&&a.complete;break;}}};return a;break;case 2:a.prototype.zE=function(a,f){var j1p,c,g,k,h,m,t,l,n,D7p,J7p,A7p,h7p,T7p,c7p,d7p,R7p,a7p,u7p,Z7p,k7p,v7p,U7p,P7p;j1p=2;while(j1p!==49){D7p=" playerS";D7p+="tat";D7p+="e: ";J7p=" media";J7p+=".c";J7p+="urrentPts: ";A7p=" ";A7p+="curre";A7p+="nt";A7p+=" manifest: ";h7p=" ";h7p+="manifestI";h7p+="n";h7p+="de";h7p+="x: ";T7p="s";T7p+="e";T7p+="e";T7p+="k:";T7p+=" ";c7p="s";c7p+="e";c7p+="e";c7p+="k";d7p="s";d7p+="e";d7p+="e";d7p+="k";R7p="pt";R7p+="sc";R7p+="hanged";a7p="s";a7p+="eekDelay";a7p+="e";a7p+="d";u7p="seek";u7p+="De";u7p+="la";u7p+="yed";Z7p="se";Z7p+="ekFa";Z7p+="il";Z7p+="e";Z7p+="d";k7p="after seeking, player";k7p+="State ";k7p+="no longer STARTIN";k7p+="G: ";v7p="seek";v7p+="Del";v7p+="ayed";U7p="s";U7p+="e";U7p+="ekFa";U7p+="i";U7p+="led";P7p="seek, no ma";P7p+="nifest at man";P7p+="ifestIndex:";switch(j1p){case 50:this.K.warn(P7p,f),this.la.emit(U7p);j1p=49;break;case 18:this.xi={da:f,Vm:a};this.la.emit(v7p);return;break;case 20:this.la.va.rg.forEach(function(a){var r1p;r1p=2;while(r1p!==1){switch(r1p){case 2:c.la.hma(a,g.Zk&&g.Zk.Li);r1p=1;break;}}});j1p=19;break;case 11:f<this.la.xe&&k.replace&&(k.replace=!1);g=this.la.gc(this.la.xe);j1p=20;break;case 21:h=this.la.Qh?this.la.gg?Math.min(h[d.L.AUDIO].U,h[d.L.VIDEO].U):h[d.L.AUDIO].U:h[d.L.VIDEO].U;j1p=35;break;case 6:j1p=(k=this.la.gc(f))?14:50;break;case 39:this.K.warn(k7p+this.la.ja.dd());this.la.emit(Z7p);j1p=49;break;case 12:j1p=f!=this.la.xe?11:26;break;case 15:j1p=this.Fu(this.la.va.Y5(f),!1,!0)?27:26;break;case 29:a=h,m=a+this.la.va.Pc;j1p=28;break;case 33:j1p=!this.la.NP(this.la.xe+1)?32:28;break;case 22:j1p=h.length?21:51;break;case 41:j1p=this.la.ja.iva()?40:39;break;case 35:j1p=a>h?34:28;break;case 14:!k.hK&&0<f&&(m=this.la.V2(f,a));this.la.ja.Gd(d.Ma.TN);j1p=12;break;case 43:j1p=(h=this.la.xe===f&&!this.IUa(f)&&a===k.U)?42:37;break;case 51:this.xi={da:f,Vm:a},this.la.emit(u7p);j1p=49;break;case 34:j1p=this.la.yk?33:29;break;case 42:[d.L.AUDIO,d.L.VIDEO].forEach(function(a){var t1p;t1p=2;while(t1p!==1){switch(t1p){case 2:c.la.bf[a].reset(!0);t1p=1;break;}}});j1p=41;break;case 7:this.la.va.zAa();j1p=6;break;case 19:j1p=!this.la.Pja(f)?18:15;break;case 32:this.xi={da:this.la.xe+1,Vm:a};this.la.emit(a7p);return;break;case 40:return this.la.emit(R7p,m),this.la.emit(d7p),this.WP(f),a=h&&this.la.Vt()?100:0,this.la.yP(1,a),this.la.oh(),m;break;case 27:return;break;case 28:this.la.ja.Gd(d.Ma.Lh);this.la.va.fsb(a,f);j1p=43;break;case 37:this.la.B0(c7p);t=this.la.va.If;n=this.la.gc(t.da).wQ(t.da,this.la.ug.bind(this.la),a,this.la.va,t).uz;k.ica(f,this.la.u,this.la.Qh,this.la.gg,this.la.va,this.la.$a);j1p=52;break;case 52:this.la.va.rg.forEach(function(a){var g1p,b;g1p=2;while(g1p!==4){switch(g1p){case 2:b=a.O;c.la.ug(b)&&c.CWa(a,n[b]);g1p=4;break;}}});j1p=41;break;case 26:h=this.la.va.rg;t=k.ba||Infinity;l=this.la.ug.bind(this.la);h=k.ZI(l,h,t,this.la.u);j1p=22;break;case 2:c=this;k=this.la.u;h=this.la.ja.gf();m=a;k.ff&&this.la.Oh(T7p+a+h7p+f+A7p+this.la.xe+J7p+h+D7p+this.la.ja.dd());b.R(f)&&(f=this.la.xe);j1p=7;break;}}};a.prototype.seek=function(a,d){var G1p,c;G1p=2;while(G1p!==8){switch(G1p){case 2:c=a;b.R(d)&&(d=this.la.xe);G1p=4;break;case 4:this.la.va.zAa();this.la.gc(d).hK||this.la.yB||(c=this.la.Ux(d,a));return this.zE(c,d);break;}}};a.prototype.Fu=function(a,b,f){var s1p,c,H7p,z7p;s1p=2;while(s1p!==8){H7p="s";H7p+="ee";H7p+="k";z7p="p";z7p+="tschan";z7p+="g";z7p+="e";z7p+="d";switch(s1p){case 4:return c;break;case 5:s1p=b?4:3;break;case 2:c=this.la.va.Fu(a,b);s1p=5;break;case 3:c?(this.la.ja.Gd(d.Ma.TN),(a=this.la.va.wj.children[a])&&this.la.emit(z7p,a.Fc),this.la.ja.Gd(d.Ma.Lh),this.la.emit(H7p),a&&this.WP(a.da),this.la.yP(1),this.la.oh(),this.la.Vt()):f||(a=this.la.va.ybb(a),this.zE(a));return c;break;}}};f1p=4;break;}}function a(a,b){var x1p,C7p;x1p=2;while(x1p!==4){C7p="1S";C7p+="IYb";C7p+="ZrNJCp";C7p+="9";switch(x1p){case 2:this.la=a;x1p=1;break;case 9:this.la=a;x1p=0;break;x1p=1;break;case 1:this.K=b;C7p;x1p=4;break;}}}}();f.RQa=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(11);d=a(24);g=function(){function a(a){this.$H=a;this.state=new d.gZ(b.Ma.Lh);this.zv={};}a.prototype.dd=function(){return this.state.value;};a.prototype.Gd=function(a){this.state.set(a);};a.prototype.Gbb=function(){return b.Ma.name[this.state.value];};a.prototype.addListener=function(a,b){this.state.addListener(a,b);};a.prototype.paused=function(){this.state.value===b.Ma.yd&&this.state.set(b.Ma.ni);};a.prototype.zW=function(){this.state.value===b.Ma.ni&&this.state.set(b.Ma.yd);};a.prototype.iva=function(){return this.state.value===b.Ma.Lh;};a.prototype.Ey=function(){return"function"===typeof this.$H.Ey?this.$H.Ey():this.state.value===b.Ma.yd;};a.prototype.Wl=function(){return this.state.value===b.Ma.Hj||this.state.value===b.Ma.Nt;};a.prototype.We=function(){return this.state.value===b.Ma.TN;};a.prototype.t7=function(){return this.state.value===b.Ma.UN;};a.prototype.gf=function(){return this.$H.gf();};a.prototype.M5=function(){return this.$H.M5();};a.prototype.Upb=function(a,b){this.zv[a]=b;};a.prototype.kv=function(a){return!!this.zv[a];};return a;}();f.gFa=g;},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);d=a(195);h=a(11);m=a(54);c=a(5);k=a(24);a(13);g=function(){var l7p;l7p=2;function a(a,b){var E7p,J9p;E7p=2;while(E7p!==4){J9p="1S";J9p+="IYbZrN";J9p+="J";J9p+="Cp9";switch(E7p){case 2:this.Aa=a;this.K=b;J9p;E7p=4;break;}}}while(l7p!==54){switch(l7p){case 8:a.prototype.WVa=function(a,b,c,d,f,g){var p7p,z9p,D9p;p7p=2;while(p7p!==4){z9p="no";z9p+="tifyS";z9p+="tr";z9p+="eamingError: ";D9p="e";D9p+="r";D9p+="r";D9p+="o";D9p+="r";switch(p7p){case 2:a={type:D9p,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:f,manifestIndex:void 0!==g?g:this.Aa.RK};this.K.error(z9p+JSON.stringify(a));p7p=5;break;case 5:k.na(this.Aa,a.type,a);p7p=4;break;}}};a.prototype.ula=function(a,b){var W7p,H9p;W7p=2;while(W7p!==5){H9p="segme";H9p+="n";H9p+="tSta";H9p+="r";H9p+="ting";switch(W7p){case 2:b={type:H9p,segmentId:a.id,contentOffset:b};a.fE||k.na(this.Aa,b.type,b);W7p=5;break;}}};a.prototype.QVa=function(a){var V7p,b,C9p;V7p=2;while(V7p!==4){C9p="se";C9p+="g";C9p+="mentAborted";switch(V7p){case 2:b={type:C9p,segmentId:a.id};a.fE||k.na(this.Aa,b.type,b);V7p=4;break;}}};a.prototype.pUa=function(a,d){var N7p,f,g,k,K9p,m9p,w9p,S9p,E9p,l9p;N7p=2;while(N7p!==20){K9p="s";K9p+="ea";K9p+="mles";K9p+="s";m9p="r";m9p+="e";m9p+="s";m9p+="e";m9p+="t";w9p="s";w9p+="k";w9p+="i";w9p+="p";S9p="l";S9p+="o";S9p+="n";S9p+="g";E9p="lo";E9p+="n";E9p+="g";l9p="s";l9p+="eam";l9p+="l";l9p+="es";l9p+="s";switch(N7p){case 2:f={segment:a,srcsegment:d.cW,srcoffset:d.eCa,seamlessRequested:d.JV,atRequest:{},discard:{}};k=d.Vc[a];N7p=4;break;case 4:k?(g=k.weight,m(k.SH,f.atRequest)):g=this.Aa.va.tta(d.cW,a);f.atRequest.weight=g;b.ad(d.Vc,function(b,c){var L7p;L7p=2;while(L7p!==1){switch(L7p){case 2:c!=a&&(f.discard[c]={weight:b.weight},m(b.SH,f.discard[c]));L7p=1;break;}}});g=d.JV?d.JS?l9p:E9p:d.yxa?S9p:d.Ri?w9p:m9p;f.transitionType=g;d.A5a||(f.delayToTransition=d.dR);g=K9p===g?0:c.time.ea()-d.startTime;N7p=13;break;case 13:f.durationOfTransition=g;f.atTransition=d.iDa;f.srcsegmentduration=this.Aa.va.xbb(d.cW);return f;break;}}};a.prototype.TVa=function(a,b,c){var f7p,Y9p;f7p=2;while(f7p!==4){Y9p="segmen";Y9p+="tP";Y9p+="resent";Y9p+="ing";switch(f7p){case 2:c=c?this.pUa(a.id,c):void 0;a={type:Y9p,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.fE,manifestIndex:a.da};k.na(this.Aa,a.type,a);f7p=4;break;}}};l7p=12;break;case 25:a.prototype.vla=function(a,b,c,f,g,q){var y7p,p,m,W9p,p9p,I9p;y7p=2;while(y7p!==6){W9p="au";W9p+="d";W9p+="io";p9p="v";p9p+="i";p9p+="d";p9p+="eo";I9p="s";I9p+="erv";I9p+="erSwit";I9p+="ch";switch(y7p){case 4:a={type:I9p,manifestIndex:a,mediatype:p,server:c,reason:f,location:g,bitrate:q,confidence:m.Dc};m.Dc&&(a.throughput=m.ta.Fa);this.Aa.eb.Bb[b].wD&&(a.oldserver=c);d.nl.Rl(b);k.na(this.Aa,a.type,a);y7p=6;break;case 2:p=b==h.L.VIDEO?p9p:W9p;m=this.Aa.kb.Ye.get(!1);y7p=4;break;}}};a.prototype.XVa=function(a,b,c,f){var o7p,V9p;o7p=2;while(o7p!==4){V9p="up";V9p+="dateStream";V9p+="ing";V9p+="Pt";V9p+="s";switch(o7p){case 2:b={type:V9p,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(f)};d.nl.Rl(a);k.na(this.Aa,b.type,b);o7p=4;break;}}};a.prototype.DVa=function(a,b){var n7p,N9p;n7p=2;while(n7p!==5){N9p="firstRequest";N9p+="A";N9p+="ppende";N9p+="d";switch(n7p){case 2:a={type:N9p,manifestIndex:a.Pb.da,mediatype:b.O,time:c.time.ea()};k.na(this.Aa,a.type,a);n7p=5;break;}}};a.prototype.HVa=function(a,b){var q7p,L9p;q7p=2;while(q7p!==5){L9p="initialAudioT";L9p+="ra";L9p+="ck";switch(q7p){case 2:a={type:L9p,trackId:b,trackIndex:a};k.na(this.Aa,a.type,a);q7p=5;break;}}};a.prototype.yVa=function(a,b){var e7p,f9p;e7p=2;while(e7p!==3){f9p="audioT";f9p+="rackSwitchSt";f9p+="arted";switch(e7p){case 1:b=b.Qy;b={type:f9p,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};k.na(this.Aa,b.type,b);e7p=3;break;case 2:a=a.Qy;e7p=1;break;case 8:a=a.Qy;e7p=2;break;e7p=1;break;}}};a.prototype.xVa=function(a,b){var b7p,c;b7p=2;while(b7p!==4){switch(b7p){case 2:c=this;setTimeout(function(){var F7p,d,x9p;F7p=2;while(F7p!==4){x9p="audioTrack";x9p+="SwitchComplet";x9p+="e";switch(F7p){case 2:d={type:x9p,trackId:a,trackIndex:b};k.na(c.Aa,d.type,d);F7p=4;break;}}},0);b7p=4;break;}}};a.prototype.UVa=function(a,b){var Q9p,j9p;Q9p=2;while(Q9p!==5){j9p="currentStreamI";j9p+="nfea";j9p+="si";j9p+="ble";switch(Q9p){case 2:a={type:j9p,oldBitrate:a,newBitrate:b};k.na(this.Aa,a.type,a);Q9p=5;break;}}};l7p=33;break;case 20:a.prototype.JVa=function(a,b,c,d,f){var t7p,r9p;t7p=2;while(t7p!==5){r9p="m";r9p+="ani";r9p+="fe";r9p+="stRang";r9p+="e";switch(t7p){case 2:a={type:r9p,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(f)};k.na(this.Aa,a.type,a);t7p=5;break;}}};a.prototype.LVa=function(a,b){var g7p,t9p;g7p=2;while(g7p!==5){t9p="m";t9p+="axB";t9p+="itr";t9p+="ates";switch(g7p){case 2:a={type:t9p,audio:a,video:b};k.na(this.Aa,a.type,a);g7p=5;break;}}};a.prototype.KVa=function(a,b){var G7p,c,G9p,g9p;G7p=2;while(G7p!==9){G9p="notifyManife";G9p+="st";G9p+="Selected: ";g9p="manif";g9p+="estS";g9p+="ele";g9p+="ct";g9p+="ed";switch(G7p){case 1:c=this.Aa.u;a={type:g9p,index:a,replace:b.replace,ptsStarts:b.uz,streamingOffset:b.U+b.qn};c.ff&&(b=G9p+JSON.stringify(a),c.ff&&this.Aa.Oh(b));G7p=3;break;case 2:G7p=1;break;case 3:k.na(this.Aa,a.type,a);G7p=9;break;}}};a.prototype.IVa=function(a,b,c,d,f,g){var s7p,s9p;s7p=2;while(s7p!==4){s9p="mani";s9p+="fest";s9p+="Pres";s9p+="entin";s9p+="g";switch(s7p){case 2:a={type:s9p,index:a,pts:Math.floor(c),movieId:b.Ya.M,replace:b.replace,contentOffset:d};null!=f&&null!=g&&(a.previousMovieId=f,a.previousIndex=g);s7p=5;break;case 5:k.na(this.Aa,a.type,a);s7p=4;break;}}};l7p=16;break;case 16:a.prototype.Mxa=function(a,b,d,f){var X7p,g,h,p,X9p;X7p=2;while(X7p!==17){X9p="stre";X9p+="amSe";X9p+="l";X9p+="ec";X9p+="ted";switch(X7p){case 7:h.Ki.P=b.P;h.Ki.location=b.location;X7p=14;break;case 3:h.Ki||(h.Ki={});h.Ki.id=b.za;h.Ki.index=b.Pf;X7p=7;break;case 2:g=a.O;b=b.Sp(g,d);h=this.Aa.eb.Bb[g];X7p=3;break;case 14:X7p=!h.wv||h.wv!==b?13:17;break;case 13:a.PE.Crb(f,h.wv,b);h.wv=b;h=0;b.Ka&&b.Ka.Dc&&b.Ka.ta&&(h=b.Ka.ta.Fa);p=a.Pb.Pc;a={type:X9p,nativetime:c.time.ea(),mediaType:g,streamId:d,manifestIndex:b.Ya.da,trackIndex:a.E0,streamIndex:b.Pf,movieTime:Math.floor(f+p),bandwidth:h,longtermBw:h,rebuffer:0};X7p=18;break;case 18:k.na(this.Aa,a.type,a);X7p=17;break;}}};a.prototype.VVa=function(a,b,c,d,f){var M7p,M9p;M7p=2;while(M7p!==5){M9p="str";M9p+="eamPresent";M9p+="ing";switch(M7p){case 2:a={type:M9p,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:a.O,manifestIndex:d,trackIndex:a.E0,streamIndex:f};k.na(this.Aa,a.type,a);M7p=5;break;}}};a.prototype.ZVa=function(a){var i7p,i9p;i7p=2;while(i7p!==5){i9p="videoLo";i9p+="o";i9p+="ped";switch(i7p){case 2:a={type:i9p,offset:a};k.na(this.Aa,a.type,a);i7p=5;break;}}};a.prototype.tla=function(a,b,c,d,f,g,q,m){var B7p,n9p,o9p,y9p,B9p;B7p=2;while(B7p!==1){n9p="au";n9p+="di";n9p+="o";o9p="v";o9p+="i";o9p+="de";o9p+="o";y9p="locat";y9p+="ionS";y9p+="elected";B9p="lo";B9p+="cationSelect";B9p+="ed";switch(B7p){case 2:k.na(this.Aa,B9p,{type:y9p,manifestIndex:a,mediatype:b===h.L.VIDEO?o9p:n9p,location:c,locationlv:d,serverid:f,servername:g,selreason:q,seldetail:m});B7p=1;break;}}};l7p=25;break;case 33:a.prototype.BVa=function(a){var O9p,b,e9p,q9p;O9p=2;while(O9p!==9){e9p="start";e9p+="Buff";e9p+="ering";q9p="buf";q9p+="feringStart";q9p+="ed";switch(O9p){case 2:b={type:q9p,time:c.time.ea(),percentage:a||0};k.na(this.Aa,b.type,b);O9p=4;break;case 4:this.Aa.emit(e9p);this.W_=a||0;O9p=9;break;}}};a.prototype.zVa=function(){var P9p,a,b,d,f,b9p;P9p=2;while(P9p!==6){b9p="bu";b9p+="ff";b9p+="e";b9p+="ri";b9p+="ng";switch(P9p){case 1:a=this.Aa.u;b=c.time.ea();d=this.Aa.va.If;P9p=3;break;case 3:d=this.Aa.gg?d.Ng(h.L.VIDEO):d.Ng(h.L.AUDIO);f=d.ye;a=Math.min(Math.max(Math.round(100*(d.cK?(b-this.Aa.l_)/a.hE:d.Qi?d.Qi:f/a.Mi)),this.W_),99);P9p=7;break;case 7:a!=this.W_&&(b={type:b9p,time:b,percentage:a},k.na(this.Aa,b.type,b),this.W_=a);P9p=6;break;case 2:P9p=1;break;}}};a.prototype.AVa=function(){var U9p,a,b,d,f,F9p;U9p=2;while(U9p!==13){F9p="buffer";F9p+="ingC";F9p+="omp";F9p+="lete";switch(U9p){case 2:a=this.Aa.va.rg;b=a[h.L.AUDIO];U9p=4;break;case 3:this.rla();a=this.Aa.gg?this.Aa.eb.Bb[h.L.VIDEO]:this.Aa.eb.Bb[h.L.AUDIO];f=a.TH;b={type:F9p,time:c.time.ea(),actualStartPts:f,aBufferLevelMs:b?b.ye:0,vBufferLevelMs:d?d.ye:0,selector:d?d.Baa:b.Baa,initBitrate:a.Pl,skipbackBufferSizeBytes:this.Aa.kb.Sqb};this.Aa.Kd.H8a({initSelReason:a.yo,initSelectionPredictedDelay:a.GJ,buffCompleteReason:a.Zna,hashindsight:!!this.Aa.oo,hasasereport:!!this.Aa.$v});k.na(this.Aa,b.type,b);U9p=13;break;case 4:d=a[h.L.VIDEO];U9p=3;break;}}};a.prototype.rla=function(){var v9p,a,b,c,d,f,g,Q3p;v9p=2;while(v9p!==10){Q3p="upd";Q3p+="ateBu";Q3p+="f";Q3p+="ferLevel";switch(v9p){case 2:a=this.Aa.u;v9p=5;break;case 5:v9p=!this.Aa.we()?4:10;break;case 4:b=this.Aa.va.rg;c=b[h.L.AUDIO];d=b[h.L.VIDEO];v9p=8;break;case 13:c={type:Q3p,abuflbytes:c?c.xu:0,vbuflbytes:d?d.xu:0,totalabuflmsecs:f,totalvbuflmsecs:b,predictedFutureRebuffers:0,currentBandwidth:g.Dc?g.ta.Fa:0};b>a.fxa&&this.Aa.kb.Pg&&this.Aa.kb.Pg.xH(!0,this.Aa.Am.sessionId);k.na(this.Aa,c.type,c);v9p=10;break;case 8:f=c?c.ye:0;b=d?d.ye:0;this.Aa.Kd.xYa(f,b);g=this.Aa.kb.Ye.get(!1);v9p=13;break;}}};l7p=29;break;case 29:a.prototype.SUa=function(a){var k9p,d,f,g,Z3p,k3p,v3p,U3p,P3p,O3p;k9p=2;while(k9p!==13){Z3p=", o";Z3p+="sAlloca";Z3p+="torDelta: ";k3p=", jsHeapD";k3p+="el";k3p+="ta: ";v3p=",";v3p+=" fast";v3p+="MallocDel";v3p+="ta: ";U3p="memoryUsa";U3p+="ge at ti";U3p+="me: ";P3p=", syst";P3p+="emDe";P3p+="lta";P3p+=": ";O3p="mem";O3p+="oryUsage";O3p+=" ";O3p+="at t";O3p+="ime: ";switch(k9p){case 4:k9p=!b.R(this.zB)?3:14;break;case 5:b.pa(a.bM);k9p=4;break;case 2:k9p=1;break;case 1:k9p=!b.R(a)?5:13;break;case 3:d=a.nra-this.zB.nra;f=a.gua-this.zB.gua;g=a.nya-this.zB.nya;k9p=7;break;case 6:b.pa(a.bM)&&b.pa(this.zB.bM)&&(d=a.bM-this.zB.bM,4194304<d&&this.K.warn(O3p+c.time.ea(),P3p+d));k9p=14;break;case 14:this.zB=a;k9p=13;break;case 7:(4194304<d||4194304<g)&&this.K.warn(U3p+c.time.ea()+v3p+d+k3p+f+Z3p+g);k9p=6;break;}}};a.prototype.YVa=function(){var Z9p,a,u3p;Z9p=2;while(Z9p!==9){u3p="strea";u3p+="min";u3p+="gsta";u3p+="t";switch(Z9p){case 3:k.na(this.Aa,a.type,a);Z9p=9;break;case 2:this.Aa.u.egb&&c.memory.iab(this.SUa.bind(this));a={type:u3p,time:c.time.ea(),playbackTime:this.Aa.ja.gf()};this.Aa.Kd.I8a(a);Z9p=3;break;}}};a.prototype.qla=function(){var u9p,a,a3p;u9p=2;while(u9p!==3){a3p="ase";a3p+="r";a3p+="e";a3p+="port";switch(u9p){case 1:u9p=this.Aa.$v?5:3;break;case 2:u9p=1;break;case 5:a={type:a3p};this.Aa.$v.G8a(a)&&k.na(this.Aa,a.type,a);u9p=3;break;case 8:u9p=2;break;u9p=1;break;}}};a.prototype.wVa=function(){var a9p,a,R3p;a9p=2;while(a9p!==4){R3p="ase";R3p+="repor";R3p+="tenabled";switch(a9p){case 2:a={type:R3p};k.na(this.Aa,a.type,a);a9p=4;break;}}};l7p=42;break;case 42:a.prototype.GVa=function(a){var R9p,b,c,d,f,g,h,p,q,m,t,l,n,r,ba,Y,ea,V,N,ca,F,d3p,A3p,h3p,T3p,c3p;R9p=2;while(R9p!==7){d3p="h";d3p+="ind";d3p+="sightreport";switch(R9p){case 2:R9p=1;break;case 1:R9p=a?5:7;break;case 5:b={type:d3p};c=this.Aa.u.xJ;for(d in c){A3p="h";A3p+="vmafd";A3p+="p";h3p="hv";h3p+="m";h3p+="a";h3p+="fg";h3p+="r";T3p="hv";T3p+="maf";T3p+="tb";c3p="h";c3p+="t";c3p+="w";c3p+="br";f=c[d];g=0;h=0;p=0;q=0;m=0;t=0;l=void 0;n=void 0;r=!1;ba=-1;Y=-1;ea=-1;V=-1;N=-1;ca=-1;for(F in a)n=a[F],void 0===n.nd&&(l=(l=n.sols)&&l[f])&&(r=!0,p+=l.dlvdur,g+=l.dltwbr*l.dlvdur,h+=l.dlvmaf*l.dlvdur),t+=n.pbdur,q+=n.pbtwbr*n.pbdur,m+=n.pbvmaf*n.pbdur,l=n.rr,n=n.ra;0<t&&(ba=1*q/t,V=1*m/t);r&&(0<p&&(Y=1*g/p,N=1*h/p),0<p+t&&(ea=1*(g+q)/(p+t),ca=1*(h+m)/(p+t)));switch(f){case c3p:b.htwbr=ea;b.hptwbr=Y;b.pbtwbr=ba;l&&(b.rr=l,b.ra=n);break;case T3p:b.hvmaftb=ca;b.hpvmaftb=N;b.pbvmaftb=V;l&&(b.rrvmaftb=l,b.ravmaftb=n);break;case h3p:b.hvmafgr=ca;b.hpvmafgr=N;b.pbvmafgr=V;l&&(b.rrvmafgr=l,b.ravmafgr=n);break;case A3p:b.hvmafdp=ca,b.hpvmafdp=N,b.pbvmafdp=V,l&&(b.rrvmafdp=l,b.ravmafdp=n);}}this.Aa.k4&&(b.report=a);R9p=8;break;case 8:k.na(this.Aa,b.type,b);R9p=7;break;}}};a.prototype.CVa=function(a,b,c){var d9p,z3p,D3p,J3p;d9p=2;while(d9p!==1){z3p="end";z3p+="O";z3p+="fStream";D3p=" ";D3p+="le";D3p+="ngth: ";J3p="notifyEndO";J3p+="fStream ignored";J3p+=", mo";J3p+="re manifest";J3p+="s, index: ";switch(d9p){case 2:a.Wq||(b+1<c?a.Ja(J3p+b+D3p+c):(this.Aa.bf[a.O].xK(),b={type:z3p,mediaType:a.O},k.na(this.Aa,b.type,b),a.Wq=!0));d9p=1;break;}}};a.prototype.sla=function(a){var c9p,H3p;c9p=2;while(c9p!==5){H3p="cre";H3p+="atere";H3p+="ques";H3p+="t";switch(c9p){case 2:a={type:H3p,mediaRequest:a};k.na(this.Aa,a.type,a);c9p=5;break;}}};a.prototype.lq=function(a){var T9p,l3p,C3p;T9p=2;while(T9p!==1){l3p="asee";l3p+="xcepti";l3p+="on";C3p="as";C3p+="e";C3p+="except";C3p+="ion";switch(T9p){case 2:this.Aa.emit(C3p,{type:l3p,msg:a});T9p=1;break;}}};l7p=38;break;case 12:a.prototype.RVa=function(a,b){var x7p,E3p;x7p=2;while(x7p!==5){E3p="segm";E3p+="entA";E3p+="p";E3p+="p";E3p+="ended";switch(x7p){case 2:b={type:E3p,segmentId:a.id,metrics:b};a.fE||k.na(this.Aa,b.type,b);x7p=5;break;}}};a.prototype.SVa=function(a,b,c){var j7p,S3p;j7p=2;while(j7p!==5){S3p="segment";S3p+="C";S3p+="ompl";S3p+="ete";switch(j7p){case 2:a={type:S3p,mediaType:a,manifestIndex:b,segmentId:c.id};k.na(this.Aa,a.type,a);j7p=5;break;}}};a.prototype.l0=function(a,b){var r7p,w3p;r7p=2;while(r7p!==5){w3p="las";w3p+="tS";w3p+="eg";w3p+="m";w3p+="entPts";switch(r7p){case 2:b={type:w3p,segmentId:a.id,pts:Math.floor(b)};a.fE||k.na(this.Aa,b.type,b);r7p=5;break;}}};l7p=20;break;case 2:a.prototype.yr=function(a){var S7p,m3p;S7p=2;while(S7p!==5){m3p="s";m3p+="tart";m3p+="Event";switch(S7p){case 2:a={type:m3p,event:a,time:c.time.ea()};k.na(this.Aa,a.type,a);S7p=5;break;}}};a.prototype.NVa=function(){var w7p,a,K3p;w7p=2;while(w7p!==4){K3p="openCo";K3p+="m";K3p+="pl";K3p+="ete";switch(w7p){case 2:a={type:K3p};k.na(this.Aa,a.type,a);w7p=4;break;}}};a.prototype.OVa=function(a,b,c,d,f){var m7p,Y3p;m7p=2;while(m7p!==1){Y3p="pt";Y3p+="s";Y3p+="S";Y3p+="ta";Y3p+="rts";switch(m7p){case 2:this.Aa.u.b6a||(a={type:Y3p,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:f.kCa()},k.na(this.Aa,a.type,a));m7p=1;break;}}};a.prototype.FVa=function(a,b){var K7p,I3p;K7p=2;while(K7p!==5){I3p="hea";I3p+="de";I3p+="rCac";I3p+="he";I3p+="Hit";switch(K7p){case 2:a={type:I3p,movieId:a,streamId:b};k.na(this.Aa,a.type,a);K7p=5;break;}}};a.prototype.EVa=function(a,b,c,d,f){var Y7p,g,p3p;Y7p=2;while(Y7p!==9){p3p="head";p3p+="erCacheD";p3p+="ata";p3p+="Hit";switch(Y7p){case 5:this.Aa.Oka=void 0;a={type:p3p,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:f,actualStartPts:g&&g.Hk,headerCount:g&&g.wo,stats:g&&g.Kb};k.na(this.Aa,a.type,a);Y7p=9;break;case 2:g=this.Aa.Oka;Y7p=5;break;}}};a.prototype.MVa=function(a,b,c){var I7p,W3p;I7p=2;while(I7p!==5){W3p="maxPo";W3p+="sitio";W3p+="n";switch(I7p){case 2:a={type:W3p,index:a,maxPts:b,endPts:c};k.na(this.Aa,a.type,a);I7p=5;break;}}};l7p=8;break;case 38:a.prototype.Wib=function(a,b,d,f){var h9p,N3p,V3p;h9p=2;while(h9p!==5){N3p="maxv";N3p+="ideobitrate";N3p+="c";N3p+="han";N3p+="ged";V3p="m";V3p+="axvi";V3p+="deo";V3p+="bitrat";V3p+="echanged";switch(h9p){case 2:a={type:V3p,time:c.time.ea(),spts:f,maxvb_old:a,maxvb:b,reason:d};this.Aa.emit(N3p,a);h9p=5;break;}}};a.prototype.Nxa=function(){var A9p,a,L3p;A9p=2;while(A9p!==9){L3p="st";L3p+="r";L3p+="eam";L3p+="erend";switch(A9p){case 2:A9p=1;break;case 1:A9p=!this.BXa&&this.Aa.u.Lxa?5:9;break;case 5:this.BXa=!0;a={type:L3p,time:c.time.ea()};A9p=3;break;case 3:k.na(this.Aa,a.type,a);A9p=9;break;}}};return a;break;}}}();f.ENa=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(11);d=a(24);g=function(){var f3p;function a(a,b){var x3p,b7c;x3p=2;while(x3p!==3){b7c="1S";b7c+="I";b7c+="YbZ";b7c+="rN";b7c+="JCp9";switch(x3p){case 2:this.Sa=a;this.K=b;this.p0=this.O0=!1;x3p=4;break;case 4:b7c;x3p=3;break;case 14:"";x3p=4;break;x3p=3;break;}}}f3p=2;while(f3p!==6){switch(f3p){case 2:a.prototype.play=function(){var j3p,a,i7c,h7c;j3p=2;while(j3p!==3){i7c="p";i7c+="l";i7c+="a";i7c+="y";h7c="play called after pipelin";h7c+="es alr";h7c+="eady shutdown";switch(j3p){case 2:a=this;this.Sa.wla++;this.we()?this.K.warn(h7c):(this.Sa.ja.Gd(b.Ma.yd),this.Sa.lXa(),this.Sa.eb.Bb.forEach(function(b){var r3p,A7c;r3p=2;while(r3p!==1){A7c="play: not resuming bufferManager, audio ";A7c+="tr";A7c+="ack switch in progress";switch(r3p){case 2:a.Sa.ug(b.O)&&(b.nF?b.Ja(A7c):a.Sa.bf[b.O].resume());r3p=1;break;}}}),this.Sa.mH(),this.Sa.emit(i7c));j3p=3;break;}}};a.prototype.stop=function(){var t3p,a,c,d,X7c;t3p=2;while(t3p!==13){X7c="st";X7c+="o";X7c+="p";switch(t3p){case 2:a=this;c=this.Sa.ja.t7();d=this.Sa.ja.We();t3p=3;break;case 7:this.Sa.va.rg.forEach(function(a){var g3p;g3p=2;while(g3p!==1){switch(g3p){case 2:a.Dg=!1;g3p=1;break;case 4:a.Dg=+2;g3p=6;break;g3p=1;break;}}});[b.L.VIDEO,b.L.AUDIO].forEach(function(b){var G3p;G3p=2;while(G3p!==1){switch(G3p){case 2:(b=a.Sa.bf[b])&&b.pause();G3p=1;break;}}});this.Sa.emit(X7c);t3p=13;break;case 3:this.Sa.ja.Gd(b.Ma.UN);this.Sa.vO();c||d||this.Sa.va.wj.eW(!1);t3p=7;break;}}};a.prototype.suspend=function(){var s3p;s3p=2;while(s3p!==1){switch(s3p){case 4:this.O0=+9;s3p=9;break;s3p=1;break;case 2:this.O0=!0;s3p=1;break;}}};a.prototype.resume=function(){var X3p;X3p=2;while(X3p!==5){switch(X3p){case 2:this.O0=!1;this.Sa.Uh.oh();X3p=5;break;}}};a.prototype.close=function(){var M3p,a,b,Y7c,t7c,p7c;M3p=2;while(M3p!==17){Y7c="cl";Y7c+="o";Y7c+="s";Y7c+="e";t7c="en";t7c+="dp";t7c+="l";t7c+="ay";p7c="lo";p7c+="g";p7c+="da";p7c+="t";p7c+="a";switch(M3p){case 10:d.na(this.Sa,a.type,a);M3p=20;break;case 8:M3p=a.zR?7:20;break;case 14:M3p=b<a.length?13:11;break;case 11:a={type:p7c,target:t7c,fields:{bridgestat:a}};M3p=10;break;case 2:a=this.Sa.u;this.p0=!0;this.stop();M3p=3;break;case 12:b++;M3p=14;break;case 3:this.Sa.emit(Y7c);this.Sa.yx=!1;M3p=8;break;case 20:this.Sa.kb.Pg&&this.Sa.kb.Pg.xH(!0,this.Sa.Am.sessionId,!0);this.Sa.$a.Nxa();this.Sa.Qnb();M3p=17;break;case 6:a=this.Sa.FP.wg([.25,.5,.75,.9,.95,.99]),b=0;M3p=14;break;case 13:a[b]=a[b]?a[b].toFixed(1):0;M3p=12;break;case 7:this.Sa.FP.hs();M3p=6;break;}}};a.prototype.flush=function(){var i3p,B3p,a,c,f,g,h,u,F7c,U7c,D7c,T7c,G7c,s7c,P7c,K7c,I7c,u7c,e7c;i3p=2;while(i3p!==26){F7c="en";F7c+="dpla";F7c+="y";U7c="logd";U7c+="at";U7c+="a";D7c="e";D7c+="n";D7c+="dplay";T7c="l";T7c+="o";T7c+="gdata";G7c="thro";G7c+="ughput-s";G7c+="w";s7c="throughput-";s7c+="s";s7c+="w";P7c="thr";P7c+="oughp";P7c+="ut";P7c+="-sw";K7c="throug";K7c+="hput";K7c+="-s";K7c+="w";switch(i3p){case 27:try{B3p=2;while(B3p!==1){switch(B3p){case 2:this.Sa.r4(b.Ma.UN);B3p=1;break;}}}catch(y){var v7c;v7c="H";v7c+="indsight: Error evaluating";v7c+=" QoE at ";v7c+="stopping: ";p933.E7c(0);this.Sa.$a.lq(p933.a1c(y,v7c));}i3p=26;break;case 3:f={};g=c.get(!0);h={};g&&g.avtp&&g.avtp.Fa&&(f.avtp=g.avtp.Fa,f.dltm=g.avtp.R3,h.avtp=f.avtp);i3p=6;break;case 6:g&&g.cdnavtp&&(f.cdnavtp2=g.cdnavtp,f.activecdnavtp=g.activecdnavtp);c.flush();u=c.V$a();c=c.uYa;i3p=11;break;case 17:a.LI&&(g&&g[K7c]&&g[P7c].Fa&&this.Sa.Zs.IYa({avtp:g[s7c].Fa,variance:g[G7c].Zg}),this.Sa.Zs.DYa(h,g.avtp.R3),a=this.Sa.Zs.z$a(),g=this.Sa.Zs.Dbb(),a&&(a.n=g,a={type:T7c,target:D7c,fields:{ibef:a}},d.na(this.Sa,a.type,a),this.Sa.Zs.save()));i3p=16;break;case 20:c&&c.length&&(f.activeRequests=JSON.stringify(c));this.Sa.yR(b.L.VIDEO)&&(f.enableHudson=!0);Object.keys(f).length&&(f={type:U7c,target:F7c,fields:f},d.na(this.Sa,f.type,f));i3p=17;break;case 4:i3p=c?3:16;break;case 2:a=this.Sa.u;c=this.Sa.kb.Ye;i3p=4;break;case 16:this.Sa.$a.qla();i3p=15;break;case 11:i3p=u?10:20;break;case 10:for(var t in u){I7c="n";I7c+="e";u7c="n";u7c+="e";e7c="n";e7c+="e";u.hasOwnProperty(t)&&(f[e7c+t]=Number(u[t]).toFixed(6),h[u7c+t]=1*f[I7c+t]);}i3p=20;break;case 15:i3p=this.Sa.oo?27:26;break;}}};a.prototype.we=function(){var y3p;y3p=2;while(y3p!==1){switch(y3p){case 4:return this.p0&&this.Sa.va.Qua;break;y3p=1;break;case 2:return this.p0||this.Sa.va.Qua;break;}}};f3p=7;break;case 7:return a;break;}}}();f.ELa=g;},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);d=a(11);h=a(5);g=function(){var B7c;function a(a,b){var z7c,s2b;z7c=2;while(z7c!==3){s2b="1SI";s2b+="Yb";s2b+="ZrN";s2b+="JC";s2b+="p9";switch(z7c){case 2:this.wa=a;this.K=b;s2b;z7c=4;break;case 4:this.Ija=this.hx=void 0;z7c=3;break;}}}B7c=2;while(B7c!==10){switch(B7c){case 4:a.prototype.oh=function(){var N7c,a,b;N7c=2;while(N7c!==3){switch(N7c){case 2:a=this;b=this.wa.u;!this.wa.Ila||this.wa.rP||this.wa.yx||(this.wa.rP=setTimeout(function(){var y7c;y7c=2;while(y7c!==4){switch(y7c){case 2:clearTimeout(a.wa.rP);a.wa.rP=void 0;a.oka();y7c=4;break;}}},b.Z9),b.Pu&&this.wa.gg&&(this.hx||(this.hx=setTimeout(function(){var l7c,b;l7c=2;while(l7c!==9){switch(l7c){case 3:b&&a.xja(b);l7c=9;break;case 2:clearTimeout(a.hx);a.hx=void 0;l7c=4;break;case 4:b=a.wa.va.If.Ng(d.L.VIDEO);l7c=3;break;}}},b.wYa))));N7c=3;break;}}};a.prototype.xja=function(a,b){var Q7c,c,d,f,g;Q7c=2;while(Q7c!==8){switch(Q7c){case 2:c=a.O;d=this.wa.eb.Bb[c];f=d.Bo;Q7c=3;break;case 3:g=d.wv;f&&g&&(d=d.ik)&&(this.wa.ja.Wl()||this.wa.Kd.vYa(c,d,f.P,g.P,a.iua.P,b));Q7c=8;break;}}};B7c=9;break;case 9:a.prototype.mka=function(a,b){var g7c,c,f,g,k,h,C2b;g7c=2;while(g7c!==11){C2b="Still in b";C2b+="uffering ";C2b+="st";C2b+="ate while pipeline's are done";switch(g7c){case 7:g7c=!h||!k?6:13;break;case 4:g=a.Wa[d.L.AUDIO];k=!g||g.Dg;h=!f||f.Dg;c.v9||this.wa.va.Pib(a,c,this.wa.yk&&0===a.da);g7c=7;break;case 2:c=a.xa;f=a.Wa[d.L.VIDEO];g7c=4;break;case 6:g7c=(this.wa.gg&&this.nka(a,f,g),this.wa.Qh&&this.nka(a,g,f),k=!g||g.Dg,h=!f||f.Dg,!h||!k)?14:13;break;case 14:return;break;case 13:this.wa.ja.Wl()&&(this.K.warn(C2b),this.wa.Vt());b||c.TE||this.wa.yk||!a.S0a()||((b=this.wa.ja.Wl())&&this.wa.u.y3&&(this.wa.iH(),b=!1),a.aS||this.wa.va.cdb(a,b),a.CH(),f.Rta&&g.Rta&&(f=Object.keys(a.children),this.wa.u.tR&&1===f.length&&!a.children[f[0]].active&&this.wa.va.mwa(a,f[0]),this.JTa(a,c)));g7c=11;break;}}};a.prototype.JTa=function(a,d){var o7c,c,f,g,k,m,t,l,n,V2b;o7c=2;while(o7c!==22){V2b="No subbranch candid";V2b+="at";V2b+="es to dr";V2b+="ive";switch(o7c){case 2:g=this.wa.u;o7c=5;break;case 25:c.Vc||(c.Vc={cT:h.time.ea(),Ez:0});c.Vc.weight=f;o7c=23;break;case 14:0===t.length?t=m:2<t.length&&(t.sort(function(a,b){var L7c;L7c=2;while(L7c!==1){switch(L7c){case 2:return b.weight-a.weight;break;case 4:return b.weight/a.weight;break;L7c=1;break;}}}),t.length=2);o7c=13;break;case 4:k=a.kB.Aj;o7c=3;break;case 16:c=t[0].Pb;f=t[0].weight;a.kB=c;o7c=26;break;case 17:return;break;case 18:this.K.warn(V2b);o7c=17;break;case 19:o7c=0===t.length?18:16;break;case 8:m=[];t=[];b.ad(a.children,function(a,b){var S7c;S7c=2;while(S7c!==5){switch(S7c){case 2:b=d.mj[b].weight;0!==b&&(b={weight:b,Pb:a},a.DQ(g.Mi,!0)||t.push(b),m.push(b));S7c=5;break;}}});o7c=14;break;case 23:this.mka(c,!0);o7c=22;break;case 5:o7c=this.wa.kb.ldb&&a.kB&&a.q_?4:9;break;case 20:0!==l&&0!==n?(b.ad(t,function(a){var Z7c;Z7c=2;while(Z7c!==4){switch(Z7c){case 2:a.$ub=a.weight/l;a.S_a=a.exa/n;a.PDa=a.S_a-a.$ub;Z7c=4;break;}}}),t.sort(function(a,b){var R7c;R7c=2;while(R7c!==1){switch(R7c){case 4:return a.PDa+b.PDa;break;R7c=1;break;case 2:return a.PDa-b.PDa;break;}}})):t.sort(function(a,b){var M7c;M7c=2;while(M7c!==4){switch(M7c){case 2:a=Math.min.apply(null,a.Pb.Aj);b=Math.min.apply(null,b.Pb.Aj);p933.f2b(0);return p933.u2b(a,b);break;}}});o7c=19;break;case 3:Math.min(k[0]-a.q_[0],k[1]-a.q_[1])>=g.a1a?a.kB=void 0:(c=a.kB,f=d.mj[c.xa.id].weight);o7c=9;break;case 13:o7c=1<t.length?12:19;break;case 9:o7c=!c?8:25;break;case 12:c=t.reduce(function(a,b){var q7c,c7c;q7c=2;while(q7c!==4){switch(q7c){case 2:b.Aj=b.Pb.Aj;b.exa=Math.min(b.Aj[0],b.Aj[1]);p933.f2b(1);c7c=p933.A2b(48,12,19,56);return[a[0]+b.weight,a[c7c]+b.exa];break;}}},[0,0]);l=c[0];n=c[1];o7c=20;break;case 26:a.q_=c.Aj;o7c=25;break;}}};a.prototype.nka=function(a,f,g){var d7c,c,k,q,N2b;d7c=2;while(d7c!==33){N2b="dr";N2b+="ive";N2b+="Pipel";N2b+="ine, delaying ";N2b+="audio until video actualStartPts determined";switch(d7c){case 9:d7c=q.Zk&&!b.R(q.Zk.Li)?8:33;break;case 7:f.Ja(N2b);d7c=33;break;case 20:f.L7=h.time.ea();g=this.wa.eb.AS(f);g=g.Pf;d7c=17;break;case 35:g=g.Pf;d7c=34;break;case 21:return;break;case 24:f.Zeb=g.P,f.UUa(g,c),a.Vc&&++a.Vc.Ez;d7c=33;break;case 27:d7c=this.Qja(f,g).DM?26:25;break;case 8:d7c=c.Cn&&k===d.L.AUDIO&&b.R(this.wa.eb.Bb[d.L.VIDEO].Hk)?7:6;break;case 13:d7c=this.EG(f)&&!(c.AR&&!this.wa.ja.Wl()&&(q=this.wa.kb.Ye)&&(k=q.pbb(),(q=q.get())&&q.ta&&k&&!1===k.B0a(q.ta.Fa)))?12:33;break;case 11:f.Ntb(this.wa.jEa()?c.yhb:c.xhb);d7c=33;break;case 2:c=this.wa.u;k=f.O;d7c=4;break;case 15:g=f.Xb[g];d7c=27;break;case 17:d7c=b.R(g)?16:15;break;case 22:d7c=!g?21:35;break;case 25:d7c=(c=this.wa.iUa(f,g))?24:33;break;case 4:d7c=!f.Dg&&this.wa.eb.Bb[k].ik&&(void 0===f.pq||(f.$s(f.pq),void 0===f.pq))?3:33;break;case 6:d7c=(b.R(f.$h)&&(f.$h=f.vh?f.vh.index:this.wa.gc(a.da).PR(k,f.cb)),f.Yl&&f.$h>f.Yl.index)?14:13;break;case 12:d7c=c.j7a&&!this.wa.ja.Wl()&&0>=f.Wy?11:10;break;case 14:this.wa.yk&&b.R(q.ba)&&b.R(a.ba)||(f.Dg||this.wa.hma(f),this.wa.xe<this.wa.ub.length-1&&this.wa.NP(this.wa.xe+1));d7c=33;break;case 34:g=f.Xb[g];d7c=25;break;case 23:g=this.VUa(f,g);d7c=22;break;case 26:return;break;case 3:q=this.wa.gc(this.wa.xe);d7c=9;break;case 10:d7c=this.Rja(f,g)?20:23;break;case 16:return;break;}}};B7c=6;break;case 2:a.prototype.vO=function(){var W7c;W7c=2;while(W7c!==1){switch(W7c){case 2:this.hx&&(clearTimeout(this.hx),this.hx=void 0);W7c=1;break;}}};a.prototype.oka=function(){var H7c,a,b,f,Z2b;H7c=2;while(H7c!==11){Z2b="firs";Z2b+="tDri";Z2b+="veStre";Z2b+="amin";Z2b+="g";switch(H7c){case 5:void 0===this.wa.HTa&&(this.wa.HTa=!0,this.wa.$a.yr(Z2b));a=this.wa.va.rg;b=a[d.L.AUDIO];H7c=9;break;case 2:H7c=1;break;case 6:a=!a||a.Wq;b&&!b.Wq||!a||this.wa.yB||(this.wa.kb.Pg&&this.wa.kb.Pg.xH(!0,this.wa.Am.sessionId),this.wa.$a.Nxa());this.mka(this.wa.va.If);this.wa.ja.Wl()||this.wa.oe.Cgb();H7c=11;break;case 9:a=a[d.L.VIDEO];f=!a||a.Dg;(!b||b.Dg)&&f&&this.wa.yB&&this.wa.va.r1a(this.wa.xe,a?a.ba:b.ba);H7c=6;break;case 1:H7c=!this.wa.Av.O0&&!this.wa.we()?5:11;break;}}};a.prototype.EG=function(a){var w7c;w7c=2;while(w7c!==1){switch(w7c){case 2:return this.wa.we()||this.wa.ja.t7()||this.wa.ja.We()||this.wa.eb.Bb[a.O].nF||this.wa.kO?!1:!0;break;}}};B7c=4;break;case 6:a.prototype.VUa=function(a,d){var V7c,c,f,g;V7c=2;while(V7c!==12){switch(V7c){case 5:V7c=!(!c.r1&&!c.Lr||a.L7+c.c1>h.time.ea())?4:12;break;case 2:c=this.wa.u;V7c=5;break;case 4:a.L7=h.time.ea();c=this.wa.eb.AS(a);f=c.Pf;V7c=8;break;case 8:V7c=!b.R(f)?7:12;break;case 7:f=a.Xb[f];g=this.wa.oe.Tk(a.O,f.za);V7c=14;break;case 13:return c;break;case 14:V7c=g&&g.$&&(f=this.Qja(a,f),!f.DM&&f.Bl&&this.Rja(a,d))?13:12;break;}}};a.prototype.Qja=function(a,b){var j7c,d,f;function c(b){var C7c;C7c=2;while(C7c!==1){switch(C7c){case 2:0!==b.length&&(b=b[0],b.Mc<a.cb&&(b=b.Mc,a.Aob(b)),d=!0);C7c=1;break;}}}j7c=2;while(j7c!==9){switch(j7c){case 1:d=!1;this.wa.u.Lr&&a.Za.jqb(this.wa.xe,b.P,c);f=this.wa.eb.Bb[a.O];j7c=3;break;case 3:return this.wa.Ila&&b.Sb&&f.Bva&&b.Sb!==f.Bva&&(0<a.Za.Qv||0<a.Za.$o)?{DM:!0,Bl:d}:{DM:!1,Bl:d};break;case 2:j7c=1;break;}}};a.prototype.Rja=function(a,f){var x7c,c,g,k,h,m,t,l,n,M,E2b,W2b,h2b,H2b;x7c=2;while(x7c!==44){E2b=" ";E2b+=">";E2b+="=";E2b+=" ";W2b="No vac";W2b+="ancy, stalling ";W2b+="due to max frameCount:";h2b="fl";h2b+="oo";h2b+="red to 0";H2b="negative s";H2b+="cheduledBuf";H2b+="ferLe";H2b+="v";H2b+="el:";switch(x7c){case 24:m=f?c.mub?f.R_a:f.Q_a:void 0;x7c=23;break;case 31:x7c=(h=this.wa.ja.Wl())?30:28;break;case 14:0>t&&(a.Ja(H2b,t,h2b),t=0);n=f?f.cb:0;x7c=12;break;case 12:x7c=c.kl&&a.Hz>=a.cz?11:10;break;case 20:x7c=k>=c.Dv?19:18;break;case 25:return!1;break;case 19:return!1;break;case 18:M=this.wa.rh;M=this.wa.ja.kv(M.Ya.M)||M.gs;x7c=16;break;case 26:x7c=this.wa.kb.Deb?25:24;break;case 27:x7c=f&&(m=a.cb-n,this.wa.ug(f.O)&&!f.Dg&&m>=c.J8&&t>c.Mi)?26:21;break;case 28:return c.by&&a.Za.Qv>=c.bhb||!h&&0<c.hq&&g===d.L.VIDEO&&a.kt>c.hq||0<c.Js&&!h&&a.kt+(f?f.kt:0)>c.Js||void 0!==this.Ija&&a.ye>this.Ija||g===d.L.VIDEO&&this.wa.yk&&a.ye>c.E8&&(f=this.wa.kb.Ye.get(!1),f.Dc&&f.ta&&f.ta.Fa*a.$E>c.D8)?!1:!0;break;case 7:l=this.wa.ja.dd();t=a.cb+k.Pc-t;x7c=14;break;case 10:k=a.Za.Bya;x7c=20;break;case 11:return a.Ja(W2b,a.Hz+E2b+a.cz),!1;break;case 35:return!1;break;case 22:return!1;break;case 2:c=this.wa.u;g=a.O;k=a.Pb;h=this.wa.gc(k.da);m=a.ye;t=this.wa.ja.gf();x7c=7;break;case 32:return!1;break;case 21:x7c=c.Lr&&a.Za.$o>=c.L8||this.oUa(g)>=c.Uy?35:34;break;case 33:x7c=!b.R(c.cq)&&m>=c.cq||a.$E+k>=Math.max(c.QT,this.wa.kb.YBa+c.C9*h.Ya.Xgb[g])?32:31;break;case 16:x7c=l===d.Ma.yd&&m>c.Ngb&&!this.wa.yk&&!this.wa.r_&&!M||m&&k>Math.max(m*c.G8/100,c.a9)?15:27;break;case 34:m=this.wa.va.Rsb();x7c=33;break;case 23:x7c=void 0===m||m<c.Mgb?22:21;break;case 29:return!1;break;case 15:return!1;break;case 30:x7c=(k=1,a.b2<c.Ty&&(k=c.Ty),a.Za.Qv>=k)?29:28;break;}}};B7c=12;break;case 12:a.prototype.oUa=function(a){var r7c;r7c=2;while(r7c!==1){switch(r7c){case 2:return this.wa.va.Yna.reduce(function(b,c){var O7c;O7c=2;while(O7c!==1){switch(O7c){case 2:return b+c.obb(a);break;case 4:return b%c.obb(a);break;O7c=1;break;}}},0);break;}}};return a;break;}}}();f.IIa=g;},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);d=a(363);h=a(11);g=function(){var d2b;d2b=2;function a(a,b){var M2b,r2b;M2b=2;while(M2b!==4){r2b="1SI";r2b+="Yb";r2b+="Zr";r2b+="N";r2b+="JCp9";switch(M2b){case 2:this.Se=a;this.K=b;r2b;M2b=4;break;}}}while(d2b!==8){switch(d2b){case 3:a.prototype.FTa=function(a){var Q2b,b;Q2b=2;while(Q2b!==6){switch(Q2b){case 2:b=a.O;b===h.L.AUDIO&&(a.uE=!0,this.Se.Kd.GE(null));a=this.Se.eb.Bb[b];Q2b=3;break;case 3:b=a.ik;b.ko||--this.sx;d.vt.ov.L3(b);a.ik=void 0;Q2b=6;break;}}};return a;break;case 2:a.prototype.vTa=function(a,b){var K2b,c,f,e2b;K2b=2;while(K2b!==6){e2b="createDl";e2b+="T";e2b+="racks";e2b+="Sta";e2b+="rt";switch(K2b){case 4:0===this.sx&&this.Se.$a.yr(e2b);this.sx+=a.length;a=a.map(function(a){var T2b,g,j2b,i2b,O2b,J2b;T2b=2;while(T2b!==7){j2b="cr";j2b+="eat";j2b+="ed";i2b="tran";i2b+="spo";i2b+="rtreport";O2b="er";O2b+="ro";O2b+="r";J2b="networ";J2b+="kfaili";J2b+="ng";switch(T2b){case 4:g.listeners.on(g,J2b,function(){var a2b,R2b;a2b=2;while(a2b!==5){R2b="reportN";R2b+="etwo";R2b+="rkFailing: ";switch(a2b){case 2:f.ff&&c.Se.Oh(R2b+g);g.B4&&(c.Se.rh.RI.cm(g.lra,void 0,g.Wh,g.sj),c.Se.W0());a2b=5;break;}}});g.listeners.on(g,O2b,function(){var n2b,m2b,g2b,I2b;n2b=2;while(n2b!==5){m2b="NFE";m2b+="rr_MC_StreamingFailu";m2b+="re";g2b="DownloadTr";g2b+="ack fatal ";g2b+="erro";g2b+="r";I2b="DownloadTra";I2b+="ck fa";I2b+="tal";I2b+=" error";switch(n2b){case 2:f.ff&&c.Se.Oh(I2b);c.Se.yi(g2b,void 0,m2b,g.Wh,0,g.sj);n2b=5;break;}}});g.on(i2b,function(a){var X2b,t2b;X2b=2;while(X2b!==1){t2b="t";t2b+="rans";t2b+="por";t2b+="treport";switch(X2b){case 2:c.Se.emit(t2b,a);X2b=1;break;case 4:c.Se.emit("",a);X2b=2;break;X2b=1;break;}}});return g;break;case 2:g=d.vt.ov.QQ(a,b,!0,c.Se.Xp,c.Se.Am,f);g.listeners.on(g,j2b,function(){var b2b,Y2b;b2b=2;while(b2b!==5){Y2b="cre";Y2b+="a";Y2b+="teDlT";Y2b+="ra";Y2b+="cksEnd";switch(b2b){case 2:--c.sx;0===c.sx&&c.Se.$a.yr(Y2b);b2b=5;break;}}});T2b=4;break;}}});d.vt.ov.Ue();return a;break;case 2:c=this;f=this.Se.u;K2b=4;break;}}};a.prototype.GTa=function(){var w2b,a,f;w2b=2;while(w2b!==8){switch(w2b){case 2:a=this;f=[];this.Se.eb.Bb.forEach(function(a){var x2b;x2b=2;while(x2b!==5){switch(x2b){case 2:b.R(a.ik)||f.push(a.ik);a.ik=void 0;x2b=5;break;}}});this.Se.NG&&(f.push(this.Se.NG),this.Se.NG=void 0);f.forEach(function(b){var D2b;D2b=2;while(D2b!==5){switch(D2b){case 2:b.ko||--a.sx;d.vt.ov.L3(b);D2b=5;break;}}});w2b=8;break;}}};a.prototype.DUa=function(){var y2b;y2b=2;while(y2b!==1){switch(y2b){case 2:this.sx=0;y2b=1;break;case 4:this.sx=1;y2b=2;break;y2b=1;break;}}};a.prototype.Xla=function(a){var U2b,b,c,f,g,h,m,t,l;U2b=2;while(U2b!==11){switch(U2b){case 4:f=this.Se.eb.Bb[c];g=f.ik;U2b=9;break;case 9:U2b=g?8:11;break;case 8:h=[];m=this.Se.oe.bv(c);for(t in m){l=m[t];l&&!l.$&&l.ei===g&&(this.Se.oe.cqa(c,t),h.push({stream:l.stream,offset:l.offset,aa:l.aa,Zx:l.Zx,da:l.da,ws:l.ws,Es:l.Es}));}this.FTa(a);U2b=13;break;case 2:b=this;c=a.O;U2b=4;break;case 13:f.ik=d.vt.ov.QQ(c,this.Se.M,!0,this.Se.Xp,this.Se.Am,this.Se.u);h.forEach(function(c){var B2b;B2b=2;while(B2b!==1){switch(B2b){case 2:b.Se.oe.jI(a,b.Se.M,c.stream,c,c.stream.Ya.da);B2b=1;break;}}});U2b=11;break;}}};d2b=3;break;}}}();f.HIa=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(364);g=function(){var l2b;l2b=2;function a(a){var L2b,k2b;L2b=2;while(L2b!==5){k2b="1SI";k2b+="YbZrNJ";k2b+="C";k2b+="p9";switch(L2b){case 2:this.K=a;k2b;L2b=5;break;}}}while(l2b!==3){switch(l2b){case 2:a.prototype.HSa=function(a,d){var F2b,c,f1b,u1b,A1b,G1b,p2b,o2b,c2b,z2b,v2b;F2b=2;while(F2b!==13){f1b="using sab cell ";f1b+=">= 100, pipeline";f1b+="Enabled: ";u1b="u";u1b+="sing sab ";u1b+="cell >= 200, pipeline";u1b+="Ena";u1b+="bled: ";A1b=",";A1b+=" allow";A1b+="Switc";A1b+="hback";G1b=", pro";G1b+="beDetail";G1b+="Denominator: ";p2b="using sab";p2b+=" cell >= 300, ";p2b+="probeServerWhenError: ";o2b=", al";o2b+="lo";o2b+="wSwitchback";c2b=", probeDetailDeno";c2b+="mi";c2b+="nator: ";z2b="usi";z2b+="ng sab cell >= 400,";z2b+=" probeServerWh";z2b+="enError: ";v2b="apply";v2b+="ing manife";v2b+="s";v2b+="t based streamingClientConfig";switch(F2b){case 8:F2b=!a?7:6;break;case 4:F2b=c&&c.streamingClientConfig&&Object.keys(c.streamingClientConfig).length?3:9;break;case 9:a=a.cdnResponseData;F2b=8;break;case 2:d=b.cpa(d,a);c=a.steeringAdditionalInfo;F2b=4;break;case 3:return a=c.streamingClientConfig,this.K.trace(v2b+JSON.stringify(a)),this.Ela(d,a);break;case 7:return d;break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(d.set?(d.set({probeServerWhenError:!0}),d.set({probeDetailDenominator:1}),d.set({allowSwitchback:!0})):(d.Lo=!0,d.rz=1,d.Qr=!0),this.K.trace(z2b+d.Lo+c2b+d.rz+o2b+d.Qr)):300<=a?(d.set?(d.set({probeServerWhenError:!0}),d.set({probeDetailDenominator:1}),d.set({allowSwitchback:!1})):(d.Lo=!0,d.rz=1,d.Qr=!1),this.K.trace(p2b+d.Lo+G1b+d.rz+A1b+d.Qr)):200<=a?(d.set?d.set({pipelineEnabled:!1}):d.yn=!1,this.K.trace(u1b+d.yn)):100<=a&&(d.set?(d.set({pipelineEnabled:!0}),d.set({maxParallelConnections:1}),d.set({maxActiveRequestsPerSession:d.MT}),d.set({maxPendingBufferLen:d.ST})):(d.yn=!0,d.HD=1,d.cq=d.MT,d.Dv=d.ST),this.K.trace(f1b+d.yn)));return d;break;}}};a.prototype.JSa=function(a,b){var S2b;S2b=2;while(S2b!==9){switch(S2b){case 1:return b;break;case 5:this.LUa=a;for(var c in b.U2)new RegExp(c).test(a)&&(b=this.Ela(b,b.U2[c]));return b;break;case 2:S2b=!b.U2||a===this.LUa?1:5;break;}}};a.prototype.Ela=function(a,b){var q2b,c,d,f,P1b;q2b=2;while(q2b!==4){switch(q2b){case 7:return a;break;q2b=4;break;case 2:for(d in b)if(b.hasOwnProperty(d)){P1b="In";P1b+="vali";P1b+="d k";P1b+="ey";f=b[d];a.set?0===a.set((c={},c[d]=f,c))&&this.K.trace(P1b+d):a[d]=f;}q2b=5;break;case 5:return a;break;}}};return a;break;}}}();f.ZGa=g;},function(g,f,a){var d;function b(a){this.Fr=void 0;this.cVa=a;this.G0=[];this.Ud=[];}a(6);a(11);d=a(44).Gy;a(24);b.prototype.reset=function(a){this.Fr=void 0;this.G0=[];a&&(this.Ud=[]);};b.prototype.add=function(a,b){var c,f;c=b.filter(function(b,c){return d(b)||c===a.sd;});f=c.map(function(a){return a.P;});b=c.indexOf(b[a.sd]);this.Fr&&(this.Fr.length!==f.length||this.Fr.some(function(a,b){return a!==f[b];}))&&(c=this.Bsa())&&(this.Ud.push(c),this.reset(!1));void 0===this.Fr&&(this.Fr=f);this.G0.push([b,a.oDa,a.cb,a.U_a,a.coa,a.Qlb,a.ljb,a.Blb,a.zp,a.Vm,a.nsb-a.oDa]);};b.prototype.H7a=function(){for(var a=this.G0,b=[],c=[],d=0;d<a.length;d++){for(var f=a[d],g=[],h=0;h<f.length;h++)g.push(f[h]-(c[h]||0));b.push(g);c=f;}return b;};b.prototype.Bsa=function(){var a;a=this.H7a();if(0!==a.length)return{dltype:this.cVa,bitrates:this.Fr,seltrace:a};};b.prototype.get=function(){var a,b;a=this.Bsa();b=this.Ud;a&&b.push(a);if(0!==b.length)return b;};g.T=b;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(11);d=a(683);g=function(){function a(){this.CP=[];this.CP[b.L.VIDEO]=new d(b.L.VIDEO);this.CP[b.L.AUDIO]=new d(b.L.AUDIO);}a.prototype.SYa=function(a,b,d){this.CP[a].add(b,d);};a.prototype.Ibb=function(){var a;a=[];this.CP.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.G8a=function(a){var b;b=this.Ibb();a.strmsel=b;return 0<b.length;};return a;}();f.hQa=g;},function(g,f,a){var b,d,h,m,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(351);d=a(200);h=a(11);m=a(59);g=function(){function a(a,b){this.u=a;this.K=b;this.i0=this.c0=this.St=m.dc.Cf;this.aP=void 0;this.Ek=this.K.trace.bind(this.K);this.Oxa=new c(a,b);}a.prototype.oaa=function(a,b,c,d,f,g,k,t,l){var p,q,u,z,y,n,A;p=!1;a=a===h.L.AUDIO&&!!b.Ta&&this.bXa(b.stream);q=m.dc.Cf;u=b.Lf;if(a){z=b.stream.Ha;y=this.jUa(b.profile,z);n=b.pw+b.bm;if(b.Zp)b=new m.dc(b.ba-n,1E3),p=this.St.add(b).q6(y);else if(void 0!==c){A=b.f$;new m.dc(n-b.U,1E3);n=this.St.add(c.ie(A));if(A.add(z).nfb(c)||n.q6(y))p=!0,A.add(z),n=n.ie(z);n.Hxa(this.St)&&n.lessThan(m.dc.CK.j9(-8))?(p=a=!1,this.Oxa.reset(),this.St=m.dc.Cf,k=d.add(f),t(k),u.Zc("Unexpected seamless audio sync "+n.toString()+" at content pts "+b.Mc+" in stream "+b.stream.za+" following "+g.Re)):(g=d.add(n).add(f),k=this.Oxa.round(b,k,g,p),t(k),n.Hxa(this.St)&&(this.c0=m.dc.max(this.c0,n),this.i0=m.dc.min(this.i0,n),l(this.c0,this.i0),q=n.ie(this.St),this.St=n));}}return{oaa:a,E6a:p,YZa:q};};a.prototype.bXa=function(a){void 0===this.hH&&(this.hH=d.cna(this.u,a));return this.hH;};a.prototype.jUa=function(a,b){void 0===this.aP&&("object"===typeof this.u.paa&&this.u.paa[a]?(a=new m.dc(this.u.paa[a],1E3).jm(b.ga).add(new m.dc(1,b.ga)),this.aP=m.dc.min(b,a)):this.aP=b);return this.aP;};return a;}();f.PQa=g;c=function(){function a(a,b){this.u=a;this.K=b;this.EP=0;}a.prototype.round=function(a,b,c,d){this.u.Cn||(a=this.bTa(a,c,d),b=b.ie(a),b.q6(m.dc.CK.j9(2))?(c=c.ie(m.dc.CK),++this.EP):this.EP&&b.lessThan(m.dc.CK)&&(c=c.add(m.dc.CK),--this.EP));return c;};a.prototype.reset=function(){this.EP=0;};a.prototype.bTa=function(a,c,d){var f;f=a.X1a;this.u.bo&&a.stream.xj&&(f=f.ie(a.stream.xj));d&&(f=f.add(a.stream.Ha));return b.oxa(f).add(b.oxa(c));};return a;}();},function(g,f,a){var b,d,h,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);d=a(11);h=a(5);m=a(44).Gy;c=a(24).GD;k=a(354);g=function(){function a(a,b,c,f){var g;g=this;this.V=a;this.K=b;this.Kd=c;this.u=f;this.MB=[];[d.L.AUDIO,d.L.VIDEO].forEach(function(a){g.V.ug(a)&&(g.MB[a]=new q(g.K,a));});this.Yt=void 0;}Object.defineProperties(a.prototype,{Bb:{get:function(){return this.MB;},enumerable:!0,configurable:!0}});a.prototype.FD=function(a){var c,f,g,k,p,q,m,u,t,l;c=this.u;f=this.V;g=a.O;k=f.$j()[g];p=a.Pb.da;q=f.gc(p);m=this.MB[g];u=g===d.L.VIDEO?c.I1:c.sca;t=f.ja.dd();l=f.ja.gf();c=a.Za.qta();k={Du:k,U:c.Fc,qf:l,cb:c.Clb||l,Qk:a.Qx||l,km:c.km,Rv:c.Rv,s9a:c.$.length,$:[]};q={state:t,Ey:f.ja.Ey()&&!f.jEa(),jw:a.$h,buffer:k,Ur:q.Ya.Mna[g],x6a:u,ugb:!!f.i8,fGb:f.UTa,vR:!!f.$v,zp:f.kb.Ye&&f.kb.Ye.zp};void 0===q.jw&&(q.jw=f.gc(p).PR(g,k.cb));k.$=c.$;q.state!==d.Ma.yd||0!==k.$.length||b.pa(a.PE.ffb)||(g=f=void 0,a.yV&&(g=h.time.ea()-a.yV.time,f=a.yV.reason),a.Zc("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",m.Bo,"lastStreamSelected:",m.Ki,"last pipeline.reset:",f,"delta:",g));b.pa(k.U)?a.seeking&&k.qf!=k.U&&(k.qf=k.U):(k.U=0,k.cb=0);this.Kd.W0a(q);this.Kd.OYa(q);return q;};a.prototype.V0a=function(a,b,c){var p,q;a=this.MB[a];for(var d=a.tn,f="manifest",g=this.V,h=0,k=b.length-1;0<=k;k--){p=b[k];q=p.P;if(m(p)){h=Math.max(h,q);break;}else!p.inRange&&p.BC&&Array.isArray(p.BC)?f=p.BC.join("|"):this.u.lW&&!p.Vu?f="bc":p.hf?p.Og&&(f="hf"):f="av";}if(void 0===d||h!==d){a.tn=h;if(g.oo)try{this.Yt&&this.xcb();}catch(E){g.$a.lq("Hindsight: Error when handling maxbitrate chagned: "+E);}g.$a.Wib(d,h,f,c);}};a.prototype.Abb=function(a){return this.AS(a).Pf;};a.prototype.AS=function(a){var c,f,g,h,k,p,q,m,u,t,l,n,r;c=this.u;f=this.V;g=a.O;h=g==d.L.VIDEO;k=0;q=this.MB[g];if(!q.ik)return{Pf:void 0};m=this.FD(a);u=q.Ki;t=a.Pb.da;l=f.gc(t);n=l.Op(g).Xb;r=u?u.index:q.$I;if(u&&(k=u.P,u.AQ)){r=f.xka(n,k);p=n[r];if(u.P!==p.P||!u.AQ.replace&&g===d.L.VIDEO)m.state=d.Ma.Lh;u.index=r;u.P=p.P;}if(!l.Co.BW(m,t,n))return a.Zc("location selector did not find any urls"),{Pf:void 0};if(!h){p=c.$L;if(!(p&&0<p.length||a.uE)&&r&&n[r]&&u&&u.location===n[r].location)return{Pf:r,eI:!0};a.uE&&(m.state=d.Ma.Lh,r=void 0);}if(h&&c.Pu&&c.a6a&&!q.ik.bk()&&a.ye>c.pQ)return{Pf:a.Zcb,eI:!0};this.Kd.ooa(m.jw,n);m=a.PE.Aaa(m,n,void 0,this.Kd.fbb(g),q.ik.config.Lf,c.nca&&0===f.wla?c.ID:c.I8,l.RI);if(!m)return a.Zc("stream selector did not find a stream"),{Pf:void 0};f.$v&&f.$v.SYa(a.O,m,n);h&&this.V0a(g,n,a.cb);g=m.sd;n=n[g].P;u=a.ye;m.B4a&&u<c.Y1&&n<k&&f.$a.UVa(k,n);g!=r&&(h&&c.Pu&&f.Uh.xja(a,n),h||this.Kd.GE(n));b.pa(q.$I)||(q.$I=g);a.Gp||(m.Gp?(a.Gp=!0,q.Zna=m.reason):(a.cK=m.cK,a.Jz=m.Jz,a.Qi=m.Qi));f.Vt();h&&f.oe.Tpb(m.ns);return{Pf:g,eI:m.eI};};a.prototype.G4=function(a,b){var c,f,g,h,k;if(this.Yt){c=this;f=this.Yt;g=this.V;h=g.ja.gf();k=[];b&&(h=b.ba);g.va.rg.forEach(function(b){var f,p;f=c.FD(b);p=b.O;f.O=p;f.headers=g.oe.bv(p);f.qf=h;a===d.Ma.Nt&&(f.Tza=b.Za.t1(h));k[p]=f;});f.rra||f.fy(k,a)||this.$$();return f;}};a.prototype.xcb=function(){var a,b,c,f,g;a=this;b=this.Yt;c=this.u;f=this.V;g=[];b&&(this.G4(void 0),b&&!b.VB&&this.Kd.B$.q4(b));f.va.rg.forEach(function(b){var c,d;c=a.FD(b);d=b.O;c.Fl=h.time.ea();c.Xb=b.Xb;c.O=d;g[d]=c;});b=f.$j();b={oYa:b[d.L.AUDIO],hF:b[d.L.VIDEO],gK:c.Uy};this.Yt=b=new k(g,h.time.ea(),void 0,f.k4,b,c.xJ);};a.prototype.$$=function(){this.Yt=void 0;};a.prototype.Qtb=function(a){var b,c,f,g,p,q;b=this;c=a.oldValue;f=a.newValue;g=this.Yt;a=this.u;p=this.V;f===d.Ma.yd&&c!==d.Ma.yd?(g&&p.K.warn("override an existing play segment!"),q=[],p.va.rg.forEach(function(a){var c,d,f;c=b.FD(a);d=a.O;f=b.Bb[d];f.hba?(c.Fl=f.hba,f.hba=void 0):c.Fl=f.Fl;c.Xb=a.Xb;c.O=d;q[d]=c;}),f=p.$j(),f={oYa:f[d.L.AUDIO],hF:f[d.L.VIDEO],gK:a.Uy},this.Yt=g=new k(q,h.time.ea(),c,p.k4,f,a.xJ)):f!==d.Ma.yd&&c===d.Ma.yd&&g&&(this.G4(f),g&&!g.VB&&this.Kd.B$.q4(g),this.$$());};a.prototype.zcb=function(a){this.MB.forEach(function(b){b.Ki||(b.Ki={});b.Ki.AQ={replace:a};b.Ki.location=void 0;});};return a;}();f.gRa=g;q=function(){return function(a,b){this.O=b;this.K=c(h,a,"["+b+"]");this.Zc=this.K.error.bind(this.K);this.Ja=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.gb=this.K.log.bind(this.K);this.Zt=this.K.debug.bind(this.K);this.Pl=this.$I=this.Fl=this.TH=this.Hk=this.F7=this.ik=void 0;this.PK=this.Ko=0;this.connected=!1;this.N7=this.wD=this.vD=this.K7=this.wv=this.Bo=this.Ki=void 0;this.nF=!1;this.tn=this.Zna=this.yo=void 0;};}();f.FCb=q;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(24);g=a(5);d=g.qk;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,c,d){this.V=d;this.hYa=new b.wSa(a);this.gYa=c.oa;this.TSa=1E3*c.ihb/c.P_a;this.ITa=c.oR;}a.prototype.Jl=function(a){var c;c={EJb:this.gYa,OFb:this.ITa?1:0};a.ye&&(c.bs=b.hC(Math.floor(a.ye/this.TSa)+1,1,5));a.vU&&(c.limit_rate=a.vU);a.Tna&&(c.bb_reason=a.Tna);return this.$Va(c);};a.prototype.Caa=function(a,b){var c,f;try{c=new d(void 0,"notification");f=this.Jl({Tna:a});b&&f&&c.open(b,void 0,2,void 0,void 0,void 0,f);}catch(p){this.V.$a.lq("SideChannel: Error when sending sendBlackBoxNotification. Error: "+p);}};a.prototype.$Va=function(a){var b;try{b=this.fXa(a);return this.hYa.encrypt(b);}catch(k){this.V.$a.lq("SideChannel: Error when obfuscating msg. Error: "+k);}};a.prototype.fXa=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();f.YQa=g;},function(g,f,a){(function(){var s1b,d,f,h,c,q4Y,J4Y;function b(a,b){var C1b;C1b=2;while(C1b!==7){switch(C1b){case 2:this.config=a;this.zq=b;a=a.initThroughputPredictor;this.kU=a.modelMap;C1b=3;break;case 3:this.DD=a.lrParams;this.Pgb=a.maxBwPredictionMap;this.foa=a.bwThreshold;C1b=7;break;}}}s1b=2;while(s1b!==10){q4Y="1";q4Y+="S";q4Y+="IY";q4Y+="bZr";q4Y+="NJCp9";J4Y="I";J4Y+="T";J4Y+="E_AS";J4Y+="EJS";switch(s1b){case 9:b.prototype.my=function(){var V1b,a;V1b=2;while(V1b!==4){switch(V1b){case 2:a=f.time.now();return{Epa:new Date(a).getHours(),q3:a};break;}}};b.prototype.mS=function(){var N1b,a,b;N1b=2;while(N1b!==7){switch(N1b){case 5:a=0,b=0;N1b=4;break;case 2:N1b=1>this.zq.length?1:5;break;case 1:return 0;break;case 4:N1b=b<this.zq.length?3:8;break;case 3:a+=this.zq[b].get().VFb.NH;N1b=9;break;case 9:b++;N1b=4;break;case 8:return a/this.zq.length;break;}}};b.prototype.N5=function(){var Z1b,f,a,b,c,d;Z1b=2;while(Z1b!==14){switch(Z1b){case 2:Z1b=1;break;case 5:Z1b=d<c.length?4:7;break;case 6:return{t8:this.DD[b].lrWeights,r8:this.DD[b].lrMeans,s8:this.DD[b].lrStd,Ogb:this.Pgb[b]};break;case 4:f=c[d];Z1b=3;break;case 9:b=f;Z1b=7;break;case 3:Z1b=a>=this.kU[f][0]&&a<=this.kU[f][1]?9:8;break;case 8:d++;Z1b=5;break;case 7:Z1b=b?6:14;break;case 1:a=this.mS(),b=void 0,c=Object.keys(this.kU),d=0;Z1b=5;break;}}};s1b=6;break;case 5:f=a(5);h=new f.Console(J4Y);c=a(208);s1b=9;break;case 11:q4Y;s1b=10;break;case 2:d=a(6);s1b=5;break;case 6:b.prototype.zH=function(a,b){var H1b,n4Y;H1b=2;while(H1b!==1){n4Y="a";n4Y+="v";n4Y+="tp";switch(H1b){case 2:return n4Y==a?0<b?Math.log(b):null:b;break;}}};b.prototype.Osa=function(){var h1b,a,b,d,Z4Y,C4Y,z4Y,R4Y,w4Y,k4Y,t4Y,G4Y;h1b=2;while(h1b!==20){Z4Y="n";Z4Y+="i";Z4Y+="qr";C4Y="f";C4Y+="n";C4Y+="s";z4Y="a";z4Y+="v";z4Y+="t";z4Y+="p";R4Y="f";R4Y+="n";R4Y+="s";w4Y="a";w4Y+="vt";w4Y+="p";k4Y="l";k4Y+="n";k4Y+="s";t4Y="a";t4Y+="v";t4Y+="t";t4Y+="p";G4Y="e";G4Y+="n";G4Y+="s";switch(h1b){case 3:d=this.zq.length;b.uBa=d;b.fJb=this.zq[d-1].get().$Gb;b.hmb=this.zq[d-1].get().t;d=this.my();b.Epa=d.Epa;h1b=13;break;case 2:a=new c(100);b={};h1b=4;break;case 4:[{KL:G4Y,Jq:t4Y},{KL:k4Y,Jq:w4Y},{KL:R4Y,Jq:z4Y},{KL:C4Y,Jq:Z4Y}].forEach(function(c){var c4r=p933;var W1b,f,d,o1Y,X1Y,s1Y,M1Y,N4Y,O4Y,v4Y,D4Y,h4Y,A4Y,m4Y,I4Y,a4Y,g4Y,e4Y,H4Y,L4Y;W1b=2;while(W1b!==17){o1Y="l";o1Y+="a";o1Y+="s";o1Y+="t";X1Y="s";X1Y+="t";X1Y+="d";s1Y="m";s1Y+="ea";s1Y+="n";M1Y="s";M1Y+="t";M1Y+="d";N4Y="m";N4Y+="e";N4Y+="a";N4Y+="n";O4Y="m";O4Y+="e";O4Y+="a";O4Y+="n";v4Y="s";v4Y+="t";v4Y+="d";D4Y="p";D4Y+="5";D4Y+="0";h4Y="p";h4Y+="2";h4Y+="5";A4Y="p";A4Y+="7";A4Y+="5";m4Y="p";m4Y+="5";m4Y+="0";I4Y="n";I4Y+="i";I4Y+="q";I4Y+="r";a4Y="s";a4Y+="t";a4Y+="d";g4Y="me";g4Y+="a";g4Y+="n";e4Y="p";e4Y+="7";e4Y+="5";H4Y="p";H4Y+="5";H4Y+="0";L4Y="p";L4Y+="2";L4Y+="5";switch(W1b){case 2:W1b=1;break;case 1:d=0;W1b=5;break;case 9:d++;W1b=5;break;case 5:W1b=d<this.zq.length?4:8;break;case 4:f=this.zq[d].get()[c.KL][c.Jq];f&&a.vH(Number(f));W1b=9;break;case 8:d=a.ry();f=c.KL+"-"+c.Jq+"-";c4r.x4Y(0);b[c4r.r4Y(L4Y,f)]=this.zH(c.Jq,a.Gl(25));c4r.b4Y(0);b[c4r.r4Y(H4Y,f)]=this.zH(c.Jq,a.Gl(50));c4r.x4Y(0);b[c4r.r4Y(e4Y,f)]=this.zH(c.Jq,a.Gl(75));c4r.b4Y(0);b[c4r.T4Y(g4Y,f)]=this.zH(c.Jq,a.vQ());c4r.x4Y(0);b[c4r.T4Y(a4Y,f)]=a.XH();W1b=10;break;case 10:c4r.x4Y(0);b[c4r.r4Y(I4Y,f)]=0<b[f+m4Y]?(b[f+A4Y]-b[f+h4Y])/b[f+D4Y]:0;c4r.b4Y(0);b[c4r.T4Y("b",f)]=0<b[f+v4Y]||0<b[f+O4Y]?(b[f+N4Y]-b[f+M1Y])/(b[f+s1Y]+b[f+X1Y]):0;c4r.x4Y(0);b[c4r.T4Y(o1Y,f)]=this.zH(c.Jq,a.ke[d-1]);a.ke=[];W1b=17;break;}}},this);h1b=3;break;case 13:b.q3=d.q3;b.kKb=b.q3-b.hmb;b.mHb=1;return b;break;}}};b.prototype.Nsa=function(){var E1b,b,c,f,g,E1Y;function a(a,b){var d1b,c;d1b=2;while(d1b!==4){switch(d1b){case 2:c=Object.keys(a).map(function(b){var M1b;M1b=2;while(M1b!==1){switch(M1b){case 4:return a[b];break;M1b=1;break;case 2:return a[b];break;}}});return Object.keys(a).some(function(c){var K1b;K1b=2;while(K1b!==1){switch(K1b){case 2:return a[c][0]>a[c][1]||0>a[c][0]||0>a[c][1]||a[c][0]>b||a[c][1]>b;break;}}})||b!=[].concat.apply([],c).reduce(function(a,b){var T1b;T1b=2;while(T1b!==1){switch(T1b){case 4:return a>=b?a:b;break;T1b=1;break;case 2:return a>b?a:b;break;}}});break;}}}E1b=2;while(E1b!==11){E1Y="getPa";E1Y+="r";E1Y+="ams:";switch(E1b){case 3:E1b=d.R(b)?9:8;break;case 1:E1b=2>this.zq.length||this.mS()>this.foa||0>this.mS()||a(this.kU,this.foa)?5:4;break;case 2:E1b=1;break;case 4:b=this.N5();E1b=3;break;case 5:return 0;break;case 9:return 0;break;case 8:0&h.log(E1Y,JSON.stringify(b));c=this.Osa();f=0;g=!Object.keys(c).some(function(a){var b1b,d1Y;b1b=2;while(b1b!==4){d1Y="num";d1Y+="b";d1Y+="e";d1Y+="r";switch(b1b){case 2:b1b=b.t8.hasOwnProperty(a)&&b.r8.hasOwnProperty(a)&&b.s8.hasOwnProperty(a)&&d1Y==typeof c[a]?1:5;break;case 5:return!0;break;case 1:f+=(c[a]-b.r8[a])/b.s8[a]*b.t8[a];b1b=4;break;}}});f=Math.exp(f);return 0<f&&f<=b.Ogb&&g&&1<c.uBa?f:0;break;}}};g.T=b;s1b=11;break;}}}());},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(a){this.mh={};this.e0=a;this.ke=[];this.Nm=!1;this.vx=void 0;}a.prototype.vH=function(a){this.ke.length===this.e0&&this.ke.shift();Array.isArray(a)?this.ke=this.ke.concat(a):this.ke.push(a);this.Nm=!0;};a.prototype.ry=function(){return this.ke.length;};a.prototype.vQ=function(){var a;a=this.ke;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.ke.length:void 0;};a.prototype.XH=function(){var a,d;a=this.ke;d=this.vQ();if(0<a.length&&"undefined"!==typeof d)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-d*d);};a.prototype.Gl=function(a){var b,f,g;if(this.Nm||void 0===this.vx)this.vx=this.ke.slice(0).sort(function(a,b){return a-b;}),this.Nm=!1;if(void 0===this.mh[a]){b=this.vx;f=Math.floor(a/100*(b.length-1)+1)-1;g=(a/100*(b.length-1)+1)%1;this.mh[a]=f===b.length-1?b[f]:b[f]+g*(b[f+1]-b[f]);}return this.mh[a];};return a;}();f.sZ=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(a,d,f){this.GXa=d;this.RSa=f;this.K=a;}a.prototype.n$=function(a){a=this.Qdb(a,this.GXa)+this.RSa;return this.v0=isNaN(a)?NaN:this.aba(a);};a.prototype.i1a=function(a){return isNaN(this.v0)?0:this.v0>a?1:0;};a.prototype.Qdb=function(a,d){var b;b=0;if(a.length!==d.length)b=NaN;else for(var f=0;f<a.length;f++)b+=a[f]*d[f];return b;};a.prototype.aba=function(a){return 1/(1+Math.exp(-a));};return a;}();f.VLa=g;},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(6);h=a(5);m=a(690);c=a(689);k=function(){return function(){this.NH=new c.sZ(100);this.rU=new c.sZ(100);};}();g=function(){function a(a,b,c){var f,g,h;this.u=b;this.K=c;this.wP=a;f=this.ux=this.fB=this.eB=0;g=0;h=0;this.wP.length>=this.u.eU&&(this.wP.forEach(function(a){!(a=a.get().j9a)||d.R(a.avtp)||d.R(a.neuhd)||(f+=a.avtp,g+=1*a.neuhd,h++);}),this.ux=h,this.eB=f/h,this.fB=g/h);}Object.defineProperties(a.prototype,{k_a:{get:function(){return this.eB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{l_a:{get:function(){return this.fB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uBa:{get:function(){return this.ux;},enumerable:!0,configurable:!0}});a.prototype.nT=function(){return this.ux>=this.u.eU&&this.eB>=this.u.baselineHighAndStableThreshold.bwThreshold&&this.fB<this.u.baselineHighAndStableThreshold.nethreshold;};return a;}();f.Pea=g;g=function(a){function c(b,c,d){b=a.call(this,b,c,d)||this;b.YZ=[];b.E8a={};b.JCa=[];b.ks=new k();b.wP.length>=b.u.eU&&(b.tma("avtp",b.ks.NH),b.tma("neuhd",b.ks.rU));return b;}b.__extends(c,a);c.prototype.nT=function(){var a;this.N5();a=new m.VLa(this.K,this.JCa,this.A_a);a.n$(this.YZ);a=a.i1a(this.u.QS.gJb);return this.nub&&1===a&&this.ux>=this.u.eU;};c.prototype.my=function(){var a,b,c,d;a={};b=h.time.now();c=new Date(b);d=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=d;return a;};c.prototype.Esa=function(a,b,c){a="avtp"===a?this.eB:this.fB;for(var f=b.XH(),g=0,h="skew"===c?3:4,k=0;k<b.ke.length;k++)d.R(a)||d.R(f)||(g+=Math.pow(b.ke[k]-a,h));g/=b.ke.length;return!d.R(f)&&0<f?g/Math.pow(f,h)-3*("skew"===c?0:1):NaN;};c.prototype.Psa=function(a,b,c){var d;d=0;"lte"===c?d=a.reduce(function(a,c){return c<=b?a+1:a;},0)/(1*a.length):"gte"===c&&(d=a.reduce(function(a,c){return c>=b?a+1:a;},0)/(1*a.length));return d;};c.prototype.Pab=function(a){var b,c;b=a.Gl(25);c=a.Gl(50);a=a.Gl(75);return d.R(b)||d.R(c)||d.R(a)?NaN:0<c?(a-b)/c:NaN;};c.prototype.h$a=function(a,b){a="avtp"===a?this.eB:this.fB;b=b.XH();return!d.R(b)&&!d.R(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};c.prototype.oJ=function(a,b){a=a.Gl(b);return d.R(a)?NaN:a;};c.prototype.normalize=function(a,b,c){return!isNaN(a)&&0<c?(a-b)/c:NaN;};c.prototype.N5=function(){var a,b,c,f,g,h,k,p,q,m,t,l;a=this;b=this.u.QS.DD.t8;c=this.u.QS.DD.r8;f=this.u.QS.DD.s8;p=[];l=0;this.nub=!Object.keys(b).some(function(u){var z;t=NaN;if(!(b.hasOwnProperty(u)&&c.hasOwnProperty(u)&&f.hasOwnProperty(u)&&!d.R(a.ks)&&a.ks.NH&&a.ks.rU)||1>a.ux||"number"!==typeof b[u]||"number"!==typeof c[u]||"number"!==typeof f[u])return!0;g=b[u];h=c[u];k=f[u];p=u.split("_",2);q=p[0];m=p[1];switch(q){case"avtp":z=a.ks.NH;break;case"neuhd":z=a.ks.rU;break;default:z=void 0;}if("avtp"===q||"neuhd"===q){if(z)switch(m){case"last":t=z.ke[a.ux-1];break;case"mean":t="avtp"===q?a.eB:a.fB;break;case"niqr":t=a.Pab(z);break;case"skew":t=a.Esa(q,z,"skew");break;case"kurtosis":t=a.Esa(q,z,"kurtosis");break;case"std":t=z.XH();break;case"b":t=a.h$a(q,z);break;default:-1!==u.search("[p][1-9]?[1-9]")&&(t=a.oJ(z,Number(u.split("_p",2)[1])));}}else switch(u){case"fracAbove20Mbps":z=a.ks.NH;t=d.R(z)?NaN:a.Psa(z.ke,2E4,"gte");break;case"fracBelow20p":z=a.ks.rU;t=d.R(z)?NaN:a.Psa(z.ke,.15,"lte");break;case"hour_current":t=a.my().currentHour;break;case"session_ct":t=a.ux;break;case"intercept":t=g,a.A_a=t;}t=a.normalize(t,h,k);if(isNaN(t))return!0;"intercept"!==u&&(a.YZ.push(t),a.JCa.push(g),a.E8a[u]=l,l+=1);});};c.prototype.tma=function(a,b){this.wP.forEach(function(c){c=c.get().j9a;!c||"avtp"!==a&&"neuhd"!==a||d.R(c[a])||b.vH(Number(c[a]));});};return c;}(g);f.iKa=g;},function(g){function f(a,b,f){var c,d;c=[];f.forEach(function(a){c.push(a[b].aa);});f=c.filter(function(b){return b<=a;});0<f.length?(f=f[f.length-1],d=c.lastIndexOf(f)):(f=c[0],d=0);return{Hn:f,sd:d};}function a(a,b,f){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*f*1/8;}function b(a,b,f,c,g){var d,h,k,m,t,l;d=a.Bg;h=f+d.U;f=a.nk[d.HJ];a=a.X1;k={wM:!0,waitUntil:void 0,NJ:!1};m=f.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===m)return{NJ:!0};t=g-1-(m.index-1);c=d.yM+c;l=0;l=m.index<d.Cg?l+f.slice(d.et,m.index).reduce(function(a,b){return a+b.aa;},0):l+d.yM;l=l+b.slice(d.Cg,m.index).reduce(function(a,b){return a+b.Hn;},0);c-=l;if(t>=a.gK||c>=a.hF)for(k.wM=!1,m=m.index;m<g&&(t>=a.gK||c>=a.hF);)k.waitUntil=f[m].U+f[m].duration-d.U,c=m<d.Cg?c-f[m].aa:c-b[m].Hn,--t,m+=1;return k;}g.T={sJ:function(d){var L,A,B,M,r,Q,W,E,ka,R,ba,Y,ea;for(var g,h=d.Bg,c=d.Sk,k=c.Zj,q=d.nk,p=!0,u=[],l,n=k=Math.min(c.gq,k);n>=h.Cg;n--){g=d.nk[0][n].U-d.Bg.U;n<k&&(g=Math.min(u[n+1].startTime,g));c=q[0][n].aa;l=h.tu*q[0][n].duration*1/8;a:{L=void 0;r=c+l;l=d.Vo;Q=h.zn;W=l.trace;E=1*l.Lk;A=g+Q-l.timestamp;B=Math.floor(1*A/E);M=0+(A-B*E)/E*a(W,B,E);if(M>=r)L=A-1*r/M*(A-B*E);else for(A=B;M<r;){--A;if(0>A){L=-1;break a;}B=a(W,A,E);if(M+B>=r){L=1*(r-M)/B*E;L=(A+1)*E-L;break;}M+=B;}L=L+l.timestamp-Q;}if(0>L){p=!1;break;}u[n]={startTime:L,endTime:g,UQ:g,Hn:c,sd:0};}g={Ji:p,Cq:u,Wp:!1,Nv:0===u.length};if(!1===g.Ji||!0===g.Nv)return g;a:{h=d.Bg;k=d.Sk;q=k.Zj;p=d.nk;c=u=0;g=g.Cq;L=n=0;q=Math.min(k.gq,q);for(Q=h.Cg;Q<=q;Q++){M=g[Q];r=M.sd;l=p[r][Q].duration;E=Q===h.Cg?0:g[Q-1].endTime;r=b(d,g,E,u,Q);if(r.NJ){g={Ji:!1,Wp:!0};break a;}r.wM||(E=r.waitUntil);B=M.UQ;R=d.Vo;ka=h.zn;M=0;r=R.trace;W=1*R.Lk;A=Math.max(0,E+ka-R.timestamp);R=B+ka-R.timestamp;if(!(E>=B)){ba=Math.max(0,Math.floor(1*A/W));Y=1*R/W;if(ba===Math.floor(Y))M+=(R-A)/W*a(r,ba,W);else for(Y=Math.ceil(Y),ka=ba,B=Y,ba*W<A&&(ka++,M+=(ba*W+W-A)/W*a(r,ba,W)),Y*W>R&&(M+=(R-B*W)/W*a(r,Y,W),B--),A=ka;A<=B;A++)M+=a(r,A,W);}W=h.tu*l*1/8;c+=W;r=f(M-W,Q,p);M=r.Hn;r=r.sd;W=M+W;ka=d.Vo;B=A=0;R=ka.trace;Y=Math.max(0,E+h.zn-ka.timestamp);ka=1*ka.Lk;ea=ba=Math.max(0,Math.floor(1*Y/ka));for(ea*ka<Y&&(ba+=1,Y=ea*ka+ka-Y,ea=Y/ka*a(R,ea,ka),A=W-B<ea?A+(W-B)/ea*1*Y:A+Y,B+=ea);B<W;)Y=a(R,ba,ka),A=W-B<Y?A+(W-B)/Y*1*ka:A+ka,B+=Y,ba+=1;W=A;g[Q].startTime=E;g[Q].endTime=E+W;g[Q].Hn=M;g[Q].sd=r;Q<=k.Zj&&(u+=M,L+=l,n+=l*d.Xb[r].P);}g={Ji:!0,Wp:!1,Cq:g,i6a:0<L?1*n/L:0,U3:L,T3:u,S3:c};}return g;}};},function(g){function f(b,d){void 0===b&&(b=[]);void 0===d&&(d=a);this.data=b;this.length=this.data.length;this.compare=d;if(0<this.length)for(b=(this.length>>1)-1;0<=b;b--)this.lka(b);}function a(a,d){return a<d?-1:a>d?1:0;}f.prototype.constructor=f;f.prototype.push=function(a){this.data.push(a);this.length++;this.TXa(this.length-1);};f.prototype.pop=function(){var a,d;if(0!==this.length){a=this.data[0];d=this.data.pop();this.length--;0<this.length&&(this.data[0]=d,this.lka(0));return a;}};f.prototype.aE=function(){return this.data[0];};f.prototype.TXa=function(a){for(var b=this.data,f=this.compare,g=b[a],c,h;0<a;){c=a-1>>1;h=b[c];if(0<=f(g,h))break;b[a]=h;a=c;}b[a]=g;};f.prototype.lka=function(a){for(var b=this.data,f=this.compare,g=this.length>>1,c=b[a],h,q,p;a<g;){h=(a<<1)+1;q=b[h];p=h+1;p<this.length&&0>f(b[p],q)&&(h=p,q=b[p]);if(0<=f(q,c))break;b[a]=q;a=h;}b[a]=c;};g.T={PPa:f};},function(g,f,a){var n,L,A,B;function b(a,b,c){this.Sna=this.qTa(a,b,c);}function d(){}function h(){}function m(){}function c(a){this.c1a=a;}function k(){}function q(){}function p(){}function u(){this.N3={};}function l(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}n=a(13).assert;f=a(194).eda;L=a(352).ARa;A=a(194).ZFa;new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");B=a(151).SPa||a(151);b.prototype.constructor=b;b.prototype.qTa=function(a,b,c){n(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);n(0<c,"expect buffer_step_sec > 0. but got "+c);for(var d=[];a<b;a+=c)d.push(a);d[d.length-1]<b&&d.push(b);return d;};b.prototype.fv=function(a){return this.qUa(a,this.Sna);};b.prototype.qUa=function(a,b){a=this.$5a(a,b);if(0===a)throw new d();if(a===b.length)throw new h();return a;};b.prototype.$5a=function(a,b){n(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;n(!1,"expect not coming here in digitize()");};b.prototype.HS=function(){return l(this.Sna.length-1);};d.prototype=Error();h.prototype=Error();m.prototype=Error();c.prototype.constructor=c;c.prototype.VERSION="0.5";c.prototype.yHa=-20;c.prototype.xHa=20;c.prototype.wHa=void 0;c.prototype.qHa=new f(void 0);c.prototype.sHa=0;c.prototype.rHa=1;c.prototype.BHa=!1;c.prototype.uHa=!0;c.prototype.tHa=!0;c.prototype.zHa=void 0;c.prototype.oHa=!0;c.prototype.pHa=0;c.prototype.wE=function(a){n(void 0!==a.QCa,"expect recipe.time_varying_bandwidth !== undefined");return this.YWa(this.c1a,a.QCa,void 0!==a.ixa?a.ixa:this.yHa,void 0!==a.Nwa?a.Nwa:this.xHa,void 0!==a.Mwa?a.Mwa:this.wHa,void 0!==a.Pna?a.Pna:this.qHa,void 0!==a.Vqa?a.Vqa:this.sHa,void 0!==a.aoa?a.aoa:this.rHa,void 0!==a.Uqb?a.Uqb:this.BHa,void 0!==a.pcb?a.pcb:this.uHa,void 0!==a.Lta?a.Lta:this.tHa,void 0!==a.Aza?a.Aza:this.zHa,void 0!==a.dna?a.dna:this.oHa,void 0!==a.Ina?a.Ina:this.pHa);};c.prototype.YWa=function(a,c,f,g,l,t,z,y,r,ea,V,N,ca,F){var S,Q,E,R,sa,W,Y,J,aa,da,ga,la,ia,ma,qa,oa,na,pa,ta,ua;function M(a){return a[W];}B.Oaa("dp: ");n(f<=t.Af,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");n(t.Af<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");n(f<=z,"expect min_buffer_sec <= end_buffer_sec");n(z<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==l&&n(t.Ti<=l,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+t.Ti+" and "+l);S=new b(f,g,y);y=new u();Q=0;E=t;y.put([0,S.fv(t.Af)],[Q,E,void 0,void 0,c,void 0,void 0,void 0]);R=E=0;c=a.kcb();n(a.jD()==c.length,"expect chunk_map.get_n_epoch() == durations_sec.length");W=-1;for(Y in c){for(var W=W+1,ka=!0,ba=a.Sh.map(M),D=S.HS(),va=0;va<D.length;va++){J=D[va];if(y.B7([W,J])){sa=y.get([W,J]);for(var P=sa[0],T=sa[1],Qa=sa[4],X=0;X<ba.length;X++){c=ba[X];B.update("epoch-ibuf-chunk loop");t=void 0!==N?N(c.VK):c.VK;aa=Qa.Kp();try{sa=this.STa(T,c,aa,F);da=sa[0];ga=sa[1];la=sa[2];ia=sa[3];ma=sa[4];qa=sa[5];}catch(Xa){if(Xa instanceof L)continue;else if(Xa instanceof d){E+=1;continue;}else throw Xa;}oa=Q=!1;try{na=S.fv(ia.Af);ea&&S.fv(da);V&&S.fv(ga);if(void 0!==l)if(V){if(la.Ti>l)throw new m();}else if(ia.Ti>l)throw new m();}catch(Xa){if(Xa instanceof d)na=void 0,E+=1;else if(Xa instanceof h)ca?Q=!0:R+=1,na=void 0;else if(Xa instanceof m)ca?oa=Q=!0:R+=1,na=void 0;else throw Xa;}try{if(Q&&oa){n(void 0!==l,"expect max_buffer_kb !== undefined");ta=V?la.Ti-l:ia.Ti-l;n(0<=ta,"pause dlnd kb cannot be -ve but is "+ta);try{pa=ia.plb(ta);}catch(Xa){if(Xa instanceof A)throw new d();throw Xa;}aa.Cya(pa);ma+=pa;n(ia.Af<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");na=S.fv(ia.Af);}else if(Q&&!oa){pa=V?la.Af-g+1E-8:ia.Af-g+1E-8;n(0<=pa,"pause dlnd kb cannot be -ve but is "+pa);try{ia.Qya(pa);}catch(Xa){if(Xa instanceof A)throw new d();throw Xa;}aa.Cya(pa);ma+=pa;n(f<=ia.Af,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");n(ia.Af<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");na=S.fv(ia.Af);}else pa=0;}catch(Xa){if(Xa instanceof d)na=void 0,E+=1,pa=void 0;else if(Xa instanceof L)continue;else throw Xa;}Q=y.B7([W+1,na])?y.get([W+1,na])[0]:-Infinity;this.XXa(ia,na,c,t,J,W+1,Q,y,P,X,aa,ma,qa,pa)&&(ka=!1);}}}if(ka){--W;break;}}try{ua=this.zka(W+1,S.fv(z),y,r,S);}catch(Xa){if(Xa instanceof k)try{ua=this.zka(W+1,S.fv(z),y,!r,S);}catch(Me){if(Me instanceof k){if(E>R)throw new q();throw new p();}throw Me;}else throw Xa;}J=ua;for(f=[];-1<W;W--)sa=y.get([W+1,J]),Q=sa[0],E=sa[1],g=sa[3],l=sa[5],z=sa[6],r=sa[7],sa=sa[2],c=a.Sh[sa][W],ea=c.Bs(),t=c.VK,f.unshift({pua:W,Q6:sa,info:{qEb:ea,VK:t,wEb:E.Af,vEb:E.Ti,RFb:l,ta:z,SIb:r}}),J=g;return f;};c.prototype.zka=function(a,b,c,d,f){var g,h;g=!1;h=f.HS()[0];for(f=f.HS()[f.HS().length-1];;){if(b<h||b>f){g=!0;break;}if(c.B7([a,b]))break;else b=d?b-1:b+1;}if(g)throw new k();return b;};c.prototype.XXa=function(a,b,c,d,f,g,h,k,p,q,m,u,l,t){c=p+d*c.Gn;return void 0!==b&&c>h?(k.put([g,b],[c,a,q,f,m,u,l,t]),!0):!1;};c.prototype.STa=function(a,b,c,f){var g,h,k;f=(b.Bs()+f)*b.Gn;c=c.t6a(f);f/=c;g=a.Af-c;h=a.Af+b.Gn;k=a.Kp();k.add(b,void 0);a=a.Kp();a.add(b,void 0);try{a.Qya(c);}catch(ba){if(ba instanceof A)throw new d();throw ba;}return[g,h,k,a,c,f];};k.prototype=Error();q.prototype=new k();p.prototype=new k();u.prototype={$ba:function(a){return a.join(",");},put:function(a,b){this.N3[this.$ba(a)]=b;},get:function(a){return this.N3[this.$ba(a)];},B7:function(a){return this.$ba(a)in this.N3;}};g.T={RIa:c,Awb:b,Lvb:d,Mvb:h};},function(g,f,a){var A,B,r,S,Q,W,E,ka,R,ba;function b(a){var b,c,d;c=a.Vo;b=a.Bg;d=a.Sk.ba-b.U;c.timestamp>b.zn&&R.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.zn);a=[];for(var f,g=c.timestamp,h=0;h<c.trace.length;h++)g>=b.zn&&(a.push(c.trace[h]),f=c.trace[h]),g+=c.Lk,d-=c.Lk;for(;0<d;)a.push(f),d-=c.Lk;b=c.Lk;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new Q(a,c,!1);}function d(a,b){return a.Ry<b.Ry?1:a.Ry>b.Ry?-1:0;}function h(a){for(var b=a.Bg,c=a.Sk,d=c.Zj,f=a.nk,g=!0,h,k=[],p,q=d=Math.min(c.gq,d);q>=b.Cg;q--){ba.update("backward step loop");h=a.nk[0][q].U-a.Bg.U;q<d&&(A(void 0!==k[q+1],"expect solution[(fragIndex + 1)] !== undefined"),h=Math.min(k[q+1].startTime,h));c=f[0][q].aa;p=b.tu*f[0][q].duration*1/8;p=n(c+p,h,a.Vo,b.zn);if(0>p){g=!1;break;}k[q]={startTime:p,endTime:h,UQ:h,Hn:c,sd:0};}return{Ji:g,Cq:k,Wp:!1,Nv:0===k.length?!0:!1};}function m(a,b){var r,M,S,Q,E,R,W;for(var c=a.Bg,d=a.Sk,f=d.Zj,g=a.nk,h=0,k=0,p=b.Cq,q,m,t=0,z=0,n,y,f=Math.min(d.gq,f),B=c.Cg;B<=f;B++){ba.update("forward step loop");q=p[B];b=q.sd;n=g[b][B].duration;y=B===c.Cg?0:p[B-1].endTime;m=0;b=L(a,p,y,h,B);if(b.NJ)return{Ji:!1,Wp:!0};b.wM||(m=b.waitUntil-y,y=b.waitUntil);A(0<=m,"expect waittime >= 0 but got "+m);r=q.UQ;S=a.Vo;M=c.zn;q=0;b=S.trace;m=1*S.Lk;Q=Math.max(0,y+M-S.timestamp);S=r+M-S.timestamp;if(!(y>=r)){E=Math.max(0,Math.floor(1*Q/m));R=1*S/m;if(E===Math.floor(R))q+=(S-Q)/m*l(b,E,m);else for(R=Math.ceil(R),M=E,r=R,E*m<Q&&(M++,q+=(E*m+m-Q)/m*l(b,E,m)),R*m>S&&(q+=(S-r*m)/m*l(b,R,m),r--),Q=M;Q<=r;Q++)q+=l(b,Q,m);}m=c.tu*n*1/8;k+=m;b=u(q-m,B,g);q=b.Hn;b=b.sd;m=q+m;M=a.Vo;r=Q=0;S=M.trace;R=Math.max(0,y+c.zn-M.timestamp);M=1*M.Lk;W=E=Math.max(0,Math.floor(1*R/M));for(W*M<R&&(E+=1,R=W*M+M-R,W=R/M*l(S,W,M),Q=m-r<W?Q+(m-r)/W*1*R:Q+R,r+=W);r<m;)ba.update("getDownloadTime"),R=l(S,E,M),Q=m-r<R?Q+(m-r)/R*1*M:Q+M,r+=R,E+=1;m=Q;p[B].startTime=y;p[B].endTime=y+m;p[B].Hn=q;p[B].sd=b;B<=d.Zj&&(h+=q,z+=n,t=void 0!=g[b][B].vc?t+n*g[b][B].vc:t+n*a.Xb[b].vc);}return{Ji:!0,Wp:!1,Cq:p,oqa:0<z?1*t/z:0,U3:z,T3:h,S3:k};}function c(a){a=a.Bg.$;for(var b=[],c,d=0;d<a.length;d++)ba.update("get prebuffered chunks loop"),c=a[d],A(void 0!==c.vc,"expect frag.vmaf !== undefined"),c=new B(c.aa,c.duration/1E3,c.vc),b.push(c);return b;}function k(a){var b,c,d,f;b=a.nk;c=a.Bg;d=a.Sk;f=d.Zj;a=a.Xb;for(var g=[],h,f=Math.min(d.gq,f),k=0;k<b.length;k++){for(var d=[],p=c.Cg;p<=f;p++)ba.update("get chunk map from play segment"),h=b[k][p],h=new B(h.aa,h.duration/1E3,void 0!==h.vc?h.vc:a[k].vc),d.push(h);g.push(d);}return new r(g,!1);}function q(a,b){A(a.jD()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,d=0,f,g,h=0;h<b.length;h++)ba.update("calculate twvmaf"),A(b[h].pua===h,"expect stream_choices[idx].i_epoch === idx"),g=a.Sh[b[h].Q6][h],f=g.VK,g=g.Gn,c+=f*g,d+=g;return{oqa:c/d,U3:1E3*d};}function p(a,b,c){var d,f;A(a.jD()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");d=0;f=0;c=c.Bg.tu;for(var g,h=0;h<b.length;h++)ba.update("calculate Bytes"),A(b[h].pua===h,"expect stream_choices[idx].i_epoch === idx"),g=a.Sh[b[h].Q6][h],d+=g.aa,f+=c*g.Gn*1E3/8;return{T3:d,S3:f};}function u(a,b,c){var d,f;d=[];c.forEach(function(a){d.push(a[b].aa);});c=d.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],f=d.lastIndexOf(c)):(c=d[0],f=0);return{Hn:c,sd:f};}function l(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function n(a,b,c,d){var f,g,h,k,p;f=c.trace;g=1*c.Lk;p=b+d-c.timestamp;k=Math.floor(1*p/g);b=0+(p-k*g)/g*l(f,k,g);if(b>=a)h=p-1*a/b*(p-k*g);else for(p=k;b<a;){ba.update("find download start time");--p;if(0>p)return-1;k=l(f,p,g);if(b+k>=a){a=1*(a-b)/k*g;h=(p+1)*g-a;break;}b+=k;}return h+c.timestamp-d;}function L(a,b,c,d,f){var g,h,k,p,q,m;g=a.Bg;h=c+g.U;c=a.nk[g.HJ];a=a.X1;k={wM:!0,waitUntil:void 0,NJ:!1};p=c.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===p)return{NJ:!0};q=f-1-(p.index-1);d=g.yM+d;m=0;m=p.index<g.Cg?m+c.slice(g.et,p.index).reduce(function(a,b){return a+b.aa;},0):m+g.yM;m=m+b.slice(g.Cg,p.index).reduce(function(a,b){return a+b.Hn;},0);d-=m;if(q>=a.gK||d>=a.hF)for(k.wM=!1,p=p.index;p<f&&(q>=a.gK||d>=a.hF);)ba.update("check buffer vacancy"),k.waitUntil=c[p].U+c[p].duration-g.U,d=p<g.Cg?d-c[p].aa:d-b[p].Hn,--q,p+=1;k.coa=d;k.xEb=q;return k;}A=a(13).assert;B=a(353).PGa;r=a(353).QGa;S=a(694).RIa;Q=a(352).zRa;W=a(194).eda;E=a(693).PPa;ka=a(48);R=new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");ba=a(151).SPa||a(151);g.T={lfb:function(a){var b;b=h(a);return!1===b.Ji||!0===b.Nv?b:m(a,b);},sJ:function(a){var b,c,f,g,k,p,q,u,l,t,z,y,B,L,r,S;R.debug("greedy DEBUG false");ba.Oaa("greedy-"+(a.xaa?"segvmaf":"dlvmaf")+": ");c=a.nk;b=a.nk;f=a.Bg;g=a.Sk;k=g.Zj;p=a.Xb;k=Math.min(g.gq,k);for(y=f.Cg;y<=k;y++){b[0][y].Ox=b[0][y].aa;for(z=1;z<b.length;z++)b[z][y].Ox=b[z][y].aa,b[z-1][y].Ox===b[z][y].Ox&&(b[z][y].Ox=b[z-1][y].Ox+1);z=0;f=b[z][y];f.Ry=Infinity;f.Pf=z;for(z=1;z<b.length;z++)f=b[z][y],g=b[z-1][y],q=8*f.Ox/f.duration,u=8*g.Ox/g.duration,a.xaa&&void 0!==f.vc?(l=f.vc,t=g.vc):(l=p[z].vc,t=p[z-1].vc),f.Ry=(l-t)/(q-u),f.Pf=z,A(void 0!==g.Ry&&!isNaN(g.Ry),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.Ji||!0===b.Nv)return b;k=a.nk;f=a.Bg;g=a.Sk;p=g.Zj;p=Math.min(g.gq,p);g=[];for(f=f.Cg;f<=p;f++)g.push(k[1][f]);for(k=new E(g,d);0<k.length;){ba.update("upgrade frags");p=k.pop();f=a;g=b;q=p;u=f.nk;l=f.Bg;r=f.Sk;t=r.Zj;z=!0;y=JSON.parse(JSON.stringify(g.Cq));void 0!==q.Pf&&A(y[q.index].sd+1===q.Pf,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");t=Math.min(r.gq,t);for(var M=q.index;M>=l.Cg;M--){S=M===q.index?y[M].sd+1:y[M].sd;r=f.nk[S][M].U-f.Bg.U;if(M<t)if(A(void 0!==y[M+1],"expect solution[(fragIndex + 1)] !== undefined"),L=y[M+1].startTime,L<r)r=L;else if(M!==q.index)break;L=u[S][M].aa;B=l.tu*u[S][M].duration*1/8;B=n(L+B,r,f.Vo,l.zn);if(0>B){z=!1;break;}y[M]={startTime:B,endTime:r,UQ:r,Hn:L,sd:S};}f={Ji:z,Cq:y,Nv:g.Nv};!0===f.Ji&&(b=f,p.Pf+1<c.length&&k.push(c[p.Pf+1][p.index]));}return m(a,b);},dp:function(a){var d,f,g,m,u,l;ba.Oaa("dp-"+(a.xaa?"segvmaf":"dlvmaf")+": ");d=h(a);if(!1===d.Ji||!0===d.Nv)return d;f=k(a);g=new S(f);m=c(a);m={QCa:b(a),Ina:a.Bg.tu,ixa:0,Nwa:240,Mwa:8*a.X1.hF/1E3,aoa:.5,Pna:new W(m),Vqa:0,TGb:void 0,Lta:void 0,Aza:void 0,dna:!0};g=g.wE(m);m=q(f,g);f=p(f,g,a);u=[];l=a.Bg.Cg;g.forEach(function(a){u[l]={sd:a.Q6};l++;});ka(m,d);ka(f,d);d.Cq=u;return d;}};},function(g,f,a){var h,m;function b(){}function d(a,b){return function(c){c.xaa=b;return a(c);};}h=a(695);m=a(692);b.prototype.constructor=b;b.prototype.create=function(a){var b;switch(a){case"htwbr":b=m.sJ;break;case"hvmaftb":b=h.lfb;break;case"hvmafgr":b=h.sJ;break;case"hvmafdp":b=h.dp;break;case"hvmafgr-dlvmaf":b=d(h.sJ,!1);break;case"hvmafgr-segvmaf":b=d(h.sJ,!0);break;case"hvmafdp-dlvmaf":b=d(h.dp,!1);break;case"hvmafdp-segvmaf":b=d(h.dp,!0);}return b;};g.T=b;},function(g,f,a){var d,h;function b(a,b,f,g){this.V=a;this.K=b;this.Zc=this.K.error.bind(this.K);this.Ja=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.gb=this.K.log.bind(this.K);this.FSa=new h();this.u=g;this.gP=[];this.Dk=void 0;a=g.RS;d.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(11);a(5);d=a(152);a(354);h=a(696);b.prototype=Object.create(d.prototype);b.prototype.add=function(a,b,f){this.Dk||(this.Dk=b);d.prototype.add.call(this,a,b,f);};b.prototype.k$a=function(){var a;if(0!==this.gP.length){a=[];this.gP.forEach(function(b){b&&b.VB&&a.push(b.zs());});return a;}};b.prototype.Xd=function(){this.gP=[];};b.prototype.Sbb=function(){var a,b,f;a=this.get(this.u.RS.fillS);if(0===a[0]||null===a[0]){a.some(function(a,c){if(a)return b=a,f=c,!0;});if(b)for(var g=0;g<f;g++)a[g]=b;}a={trace:a,timestamp:this.Dk,Lk:this.xc};d.prototype.reset.call(this);this.Dk=void 0;return a;};b.prototype.q4=function(a){var b,d,f,g,h,m;if(a&&!a.VB){d=a.Sk.eva;d&&(a.K$=this.t1(a),a.oV=!1);if((b=this.Sbb())&&b.trace&&b.trace.length){f=a.Bg.zn;g=b.timestamp;if(g>f){h=b.Lk;m=b.trace[0];f=Math.ceil(1*(g-f)/h);b.timestamp=g-f*h;for(g=0;g<f;g++)b.trace.splice(0,0,m);}b.trace.length&&b.trace.pop();}a.Vo=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.k0a(a),a.hya=b,d&&b&&(a.oV=b.Ji),a.VB=!0,this.gP.push(a));}};b.prototype.k0a=function(a){var g,h;for(var b=this.u.xJ,d={Ji:!1,Wp:!1},f=0;f<b.length;f++){g=b[f];h=this.FSa.create(g);h&&(h=h(a),d[g]=h,d.Ji=d.Ji||h.Ji,d.Wp=d.Wp||h.Wp);}return d;};b.prototype.t1=function(a){var b;a=a.Sk;b="";1E3>a.zM&&(b+=a.eEa);1E3>a.d1&&(b=b+(""!==b?",":"")+a.tna);1E3<=a.zM&&1E3<=a.d1&&(b="media");return b;};g.T=b;},function(g,f,a){var b,d,h,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);d=a(5);h=a(359);m=a(11);c=a(697);k=a(691);q=a(688);g=function(){var F1Y;F1Y=2;function a(a,b,d,f,g,p,l){var l1Y,i1Y,u,t,z,Q1Y,Q4w,k4w,T4w,Z1Y;l1Y=2;while(l1Y!==32){Q4w="b";Q4w+="a";Q4w+="seli";Q4w+="n";Q4w+="e";k4w="1";k4w+="SIYbZr";k4w+="NJCp";k4w+="9";T4w="L";T4w+="R";switch(l1Y){case 26:l1Y=l&&1<l.length&&(g.KI&&(this.IJ=new q.fzb(g,l),this.aT=this.IJ.Nsa()),g.j4)?25:33;break;case 14:p933.P4w(0);Z1Y=p933.z4w(11,100000,8,20,899961);this.ala=0===Math.floor(Z1Y*Math.random())%g.a2;this.jn=this.SS=this.jua=this.IQ=this.Ao=void 0;this.Bba=this.ZV=this.$V=this.Aba=this.IU=this.JU=0;this.DB=h(g,p);l1Y=10;break;case 10:b=this.Ika(d);void 0!==b&&void 0!==b.tj&&void 0!==b.bi&&void 0!==b.uj&&(u=(b.uj-b.tj)/b.bi);this.AXa=[g.Fna,g.qba];l1Y=18;break;case 35:l1Y=34;break;case 16:l1Y=a.oo?15:27;break;case 27:this.Q_=!1;l1Y=26;break;case 21:this.uB=new k.iKa(l,g,this.K);l1Y=23;break;case 9:this.Ja=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.u=g;this.AG=null;l1Y=14;break;case 33:g.SW&&(this.uP=this.tP=!1);l1Y=32;break;case 22:l1Y=Q1Y===T4w?21:35;break;case 23:this.Q_=this.uB.nT();l1Y=33;break;case 15:try{i1Y=2;while(i1Y!==3){switch(i1Y){case 2:t=a.$j();z=new c(a,this.K,{bufferSize:t},g);this.Nb.CYa(z);this.Tla=z;i1Y=3;break;}}}catch(E){var h4w;h4w="Hindsight: Error wh";h4w+="en creatin";h4w+="g QoEEvaluator: ";p933.s4w(1);a.$a.lq(p933.z4w(E,h4w));}l1Y=27;break;case 2:this.K=b;this.Nb=f;k4w;this.V=a;l1Y=9;break;case 24:this.uB=new k.Pea(l,g,this.K);l1Y=23;break;case 25:Q1Y=g.Wcb;l1Y=Q1Y===Q4w?24:22;break;case 18:f=g.uK?m.xd.gp:m.xd.Ct;d&&d.Dc>=f&&d.ta&&u&&this.EUa(d,b,u);l1Y=16;break;case 34:this.uB=new k.Pea(l,g,this.K);l1Y=23;break;}}}while(F1Y!==24){switch(F1Y){case 2:Object.defineProperties(a.prototype,{Drb:{get:function(){var U1Y;U1Y=2;while(U1Y!==1){switch(U1Y){case 4:return this.AXa;break;U1Y=1;break;case 2:return this.AXa;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{nT:{get:function(){var P1Y;P1Y=2;while(P1Y!==1){switch(P1Y){case 2:return this.Q_;break;case 4:return this.Q_;break;P1Y=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{B$:{get:function(){var y1Y;y1Y=2;while(y1Y!==1){switch(y1Y){case 2:return this.Tla;break;case 4:return this.Tla;break;y1Y=1;break;}}},enumerable:!0,configurable:!0}});F1Y=4;break;case 4:a.prototype.CBa=function(a,c,d){var u1Y;u1Y=2;while(u1Y!==4){switch(u1Y){case 2:this.jn=a;b.R(c)||(this.jua=c);b.R(d)||(this.SS=d);u1Y=4;break;}}};a.prototype.fca=function(a){var Y1Y;Y1Y=2;while(Y1Y!==5){switch(Y1Y){case 2:this.u=a;this.DB.fca(a);Y1Y=5;break;}}};a.prototype.R_=function(a,c,d,f){var j1Y,g,d1J,j1J;j1Y=2;while(j1Y!==6){d1J="a";d1J+="v";d1J+="g";j1J="i";j1J+="q";j1J+="r";switch(j1Y){case 2:g=this.u;j1Y=5;break;case 5:j1Y=a===j1J?4:8;break;case 4:j1Y=void 0!==f?3:9;break;case 3:return c.ta&&d&&b.pa(f)&&c.ta.Fa<g.dI&&f>g.GY;break;case 9:return!1;break;case 7:return c.ta?c.ta.Fa<g.dI:!0;break;case 8:j1Y=a===d1J?7:9;break;}}};a.prototype.Ika=function(a){var W1Y,K1Y,V1J;W1Y=2;while(W1Y!==4){V1J="td";V1J+="ig";V1J+="est";switch(W1Y){case 5:return a;break;case 1:a=a.im;W1Y=5;break;case 3:W1Y=9;break;case 2:K1Y=this.u.J6;W1Y=K1Y===V1J?1:3;break;case 9:a=a.zo&&a.zo.OU;W1Y=5;break;}}};F1Y=7;break;case 10:a.prototype.xYa=function(a,b){var T1Y,c,f,g;T1Y=2;while(T1Y!==13){switch(T1Y){case 4:void 0===this.Pj&&(this.Pj={startTime:d.time.ea(),Tr:[],pt:[],M7:void 0,H7:void 0});c=Math.floor((d.time.ea()-this.Pj.startTime)/c.bC);T1Y=9;break;case 2:c=this.u;T1Y=5;break;case 5:T1Y=this.ala?4:13;break;case 9:f=this.Pj.H7;g=this.Pj.M7?c-this.Pj.M7-1:c;T1Y=7;break;case 6:this.Pj.Tr[g]=a,this.Pj.pt[g]=b;T1Y=14;break;case 14:this.Pj.H7=c;T1Y=13;break;case 7:T1Y=void 0===f||c>f?6:14;break;}}};a.prototype.zjb=function(){var r1Y,a,b1Y;r1Y=2;while(r1Y!==3){switch(r1Y){case 5:r1Y=a.oo?4:3;break;case 2:a=this.V;r1Y=5;break;case 8:a=this.V;r1Y=3;break;r1Y=5;break;case 6:r1Y=a.oo?3:2;break;r1Y=a.oo?4:3;break;case 4:try{b1Y=2;while(b1Y!==5){switch(b1Y){case 2:this.Nb.Lnb();this.Tla.Xd();b1Y=5;break;}}}catch(z){var O1J;O1J="H";O1J+="ind";O1J+="sight: Error d";O1J+="u";O1J+="ring clean up: ";p933.s4w(1);a.$a.lq(p933.w4w(z,O1J));}r1Y=3;break;}}};a.prototype.Ijb=function(a){var x1Y;x1Y=2;while(x1Y!==1){switch(x1Y){case 2:this.u.Pu&&a===m.L.VIDEO&&(this.Bba=this.Aba=this.ZV=this.$V=this.IU=this.JU=0);x1Y=1;break;}}};a.prototype.Njb=function(a,b,c,d){var J1Y;J1Y=2;while(J1Y!==1){switch(J1Y){case 2:this.u.Pu&&a===m.L.VIDEO&&(d?(this.JU+=b,this.IU+=c):(this.$V+=b,this.ZV+=c));J1Y=1;break;}}};a.prototype.Hjb=function(a,b){var q1Y;q1Y=2;while(q1Y!==1){switch(q1Y){case 2:a===m.L.VIDEO&&(this.Lub=b);q1Y=1;break;}}};a.prototype.W0a=function(a){var n1Y,b,c,d,f,g,Y1J,u1J;n1Y=2;while(n1Y!==7){Y1J="i";Y1J+="q";Y1J+="r";u1J="n";u1J+="o";u1J+="n";u1J+="e";switch(n1Y){case 2:b=this.u;n1Y=5;break;case 8:c&&c.Dc>=g&&this.R_(b.ow,c,d,f)&&(this.Ao=!0,this.IQ=a.state);n1Y=7;break;case 5:n1Y=u1J!==b.ow&&!0!==this.Ao&&a.state<=b.H8?4:7;break;case 4:c=this.Nb.get();Y1J===b.ow&&(d=this.Ika(c),void 0!==d&&void 0!==d.tj&&void 0!==d.bi&&void 0!==d.uj&&(f=(d.uj-d.tj)/d.bi));g=b.uK?m.xd.gp:m.xd.Ct;n1Y=8;break;}}};F1Y=15;break;case 7:a.prototype.EUa=function(a,b,c){var f1Y,d;f1Y=2;while(f1Y!==9){switch(f1Y){case 2:d=this.u;this.R_(d.ow,a,b,c)?this.Ao=!0:this.Ao=!1;f1Y=4;break;case 4:this.IQ=0;this.R_(d.j8,a,b,c)&&(this.leb=!0);f1Y=9;break;}}};a.prototype.fbb=function(a){var p1Y;p1Y=2;while(p1Y!==1){switch(p1Y){case 2:return 1===a?this.DB.eza:this.DB.dza;break;}}};a.prototype.GE=function(a){var c1Y;c1Y=2;while(c1Y!==5){switch(c1Y){case 2:this.DB.GE(a);this.AG=a;c1Y=5;break;}}};F1Y=13;break;case 13:a.prototype.ooa=function(a,b){var V1Y;V1Y=2;while(V1Y!==1){switch(V1Y){case 2:this.DB.wJb&&a&&this.DB.ooa(b,a);V1Y=1;break;}}};a.prototype.tWa=function(a){var B1Y,b;B1Y=2;while(B1Y!==14){switch(B1Y){case 2:b=this.u;B1Y=5;break;case 4:return!0;break;case 9:B1Y=this.uP&&b.yn&&!a.bk()?8:7;break;case 3:this.tP&&(this.tP=!1);B1Y=9;break;case 5:B1Y=this.tP&&a.bk()?4:3;break;case 7:this.uP&&(this.uP=!1);return!1;break;case 8:return!0;break;}}};a.prototype.vYa=function(a,b,c,d,f,g){var S1Y,h;S1Y=2;while(S1Y!==4){switch(S1Y){case 2:h=this.u;h.SW&&this.tWa(b)||!c||!d||!(c=g?Math.min(c,d,g):Math.min(c,d))||(this.Nb.get(!1),a=this.V.ZC(a),b.track.bk()&&a>h.pQ&&c===f?(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:1}),h.set({maxActiveRequestsPerSession:2}),h.set({maxPendingBufferLen:500})):(h.yn=!0,h.HD=1,h.cq=2,h.Dv=500),b.track.$za({type:b.track.config.type,connections:1,openrange:!1,pipeline:!0,socketBufferSize:h.kF,minRequestSize:h.RD}),this.Aba++,h.SW&&(this.tP=!0)):h.yn&&!b.bk()&&(a<h.Z1||c!==f)&&(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:3}),h.set({maxActiveRequestsPerSession:3}),h.set({maxPendingBufferLen:12E3})):(h.yn=!0,h.HD=3,h.cq=3,h.Dv=12E3),b.track.$za({type:b.config.type,connections:3,openrange:!1,pipeline:!0,socketBufferSize:h.kF,minRequestSize:h.RD}),this.Bba++,h.SW&&(this.uP=!0)));S1Y=4;break;}}};F1Y=10;break;case 15:a.prototype.OYa=function(a){var G1Y;G1Y=2;while(G1Y!==5){switch(G1Y){case 2:a.Ao=this.Ao;a.aT=this.aT;G1Y=5;break;}}};F1Y=27;break;case 27:a.prototype.H8a=function(a){var t1Y,c,d,f,g,h,k,p,q,e1J,a1J;t1Y=2;while(t1Y!==35){e1J="star";e1J+="tpl";e1J+="ay";a1J="l";a1J+="og";a1J+="d";a1J+="a";a1J+="ta";switch(t1Y){case 2:c={};d=this.u;t1Y=4;break;case 20:k=this.SS;t1Y=19;break;case 4:f=this.V;g={type:a1J,target:e1J,fields:{}};g.fields=c;Object.keys(a).forEach(function(b){var k1Y;k1Y=2;while(k1Y!==1){switch(k1Y){case 2:c[b]=a[b];k1Y=1;break;case 4:c[b]=a[b];k1Y=0;break;k1Y=1;break;}}});h=this.Nb.get();h&&h.ta&&(h=h.ta.Fa);t1Y=14;break;case 14:c.actualbw=h;c.isConserv=this.Ao;c.ccs=this.IQ;c.isLowEnd=this.leb;c.histdiscbw=this.jn;t1Y=20;break;case 19:t1Y=k?18:25;break;case 18:p=function(a){var w1Y;w1Y=2;while(w1Y!==1){switch(w1Y){case 2:return b.pa(a)?Number(a).toFixed(2):-1;break;}}};h=[p(k.min||void 0),p(k.M9||void 0),p(k.tj||void 0),p(k.bi||void 0),p(k.uj||void 0),p(k.N9||void 0),p(k.max||void 0)];q=[];k=b.isArray(k.pg)&&k.pg.reduce(function(a,b){var R1Y,c;R1Y=2;while(R1Y!==9){switch(R1Y){case 2:c=p(b.Ie||void 0);R1Y=5;break;case 5:b=p(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});return a;break;}}},q);c.histtdc=k;t1Y=26;break;case 26:c.histtd=h;t1Y=25;break;case 25:c.histage=this.jua;d.KI&&this.IJ&&(c.histsessionstat=this.IJ.Osa(),c.initbwestimate=this.IJ.Nsa(),c.avghistbw=this.IJ.mS());d.j4&&this.uB&&(c.ishighstable=this.Q_,c.avg_avtp=this.uB.k_a,c.avg_ne=Number(this.uB.l_a).toFixed(4));f.kb&&(d=f.$j(),c.maxAudioBufferAllowedBytes=d[m.L.AUDIO],c.maxVideoBufferAllowedBytes=d[m.L.VIDEO]);f.emit(g.type,g);t1Y=35;break;}}};a.prototype.I8a=function(a){var z1Y,b,c,d,f,g,h,k,p,J1J;z1Y=2;while(z1Y!==19){J1J="n";J1J+="o";J1J+="n";J1J+="e";switch(z1Y){case 2:b=this.u;c=this.V;z1Y=4;break;case 4:d=this.Nb.get(!0);f=[];g=this;[m.L.VIDEO,m.L.AUDIO].forEach(function(a){var C1Y,h;C1Y=2;while(C1Y!==3){switch(C1Y){case 1:C1Y=c.ug(a)?5:3;break;case 2:C1Y=1;break;case 4:void 0!==h&&(a===m.L.VIDEO&&(b.Pu&&(h.parallelDownloadMs=g.JU,h.parallelDownloadBytes=g.IU,h.singleDownloadMs=g.$V,h.singleDownloadBytes=g.ZV,h.switchFromParallelToSingle=g.Aba,h.switchFromSingleToParallel=g.Bba),d&&d.Dc&&d.ta&&(h.asetput=d.ta,h.aseiqr=d.zo,h.tdigest=d.im&&d.im.zs()||void 0),d&&d.avtp&&(h.avtp=d.avtp.Fa)),f.push(h));C1Y=3;break;case 5:h=g.V.Jbb(a);C1Y=4;break;}}});z1Y=7;break;case 7:a.stat=f;h=0;k=0;p=0;d.Dc&&(h=d.ta?d.ta.Fa:0,k=d.zg?d.zg.Fa:0,p=d.xo?d.xo.Fa:0);z1Y=11;break;case 11:a.location={responseTime:k,httpResponseTime:p,bandwidth:h,confidence:d.Dc,name:this.Lub};this.ala&&(a.bt={startTime:this.Pj.startTime,audioMs:this.Pj.Tr,videoMs:this.Pj.pt},this.Pj.Tr=[],this.Pj.pt=[],this.Pj.M7=this.Pj.H7);J1J!==b.ow&&(a.isConserv=this.Ao,a.ccs=this.IQ);z1Y=19;break;}}};return a;break;}}}();f.SEa=g;},function(g,f,a){var b,d,h,m,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(25);d=a(195);h=a(366);m=a(40);c=a(5);a=function(a){function f(b,c,d,f,g,h,k){var p;p=a.call(this,b)||this;p.V=b;p.nf=c;p.B_=d;p.dXa=f;p.K=g;p.YXa=h;p.u=k;p.mf=b;p.sp=[Object.create(null),Object.create(null)];p.Ek=p.K.trace.bind(p.K);return p;}b.__extends(f,a);f.prototype.bv=function(a){return this.sp[a];};f.prototype.Tk=function(a,b){return this.sp[a][b];};f.prototype.Uta=function(a){return!!this.Tk(1,a);};f.prototype.Ima=function(a){this.sp[a.O][a.za]=a;};f.prototype.cqa=function(a,b){delete this.sp[a][b];};f.prototype.Vnb=function(a){var b,c,d,f;b=this.sp[0];for(c in b){d=b[c];if(d&&d.eA){f=d.Unb();a(f,d);}}};f.prototype.Foa=function(a){this.v_===a.za&&(this.v_=void 0);};f.prototype.j1a=function(){this.$t=void 0;};f.prototype.Tpb=function(a){var b,c;if(a)this.$t=a;else if(!(this.$t&&0<this.$t.length||(a=this.u,a.ZBa))){d.nl.Rl(1);b=this.V;if(!(b.ZC(1)<a.bU))for(a=b.If.Ng(1).Xb,b=0;b<a.length;++b){c=a[b];if(c.hf&&c.inRange&&!c.Og&&!this.Uta(c.za)){this.$t=[b];break;}}}};f.prototype.Cgb=function(){var a,c,f;if(this.$t&&0!==this.$t.length&&!this.v_){a=this.V;d.nl.Rl(1);for(var a=a.If,b=a.Ng(1);0<this.$t.length;){c=this.$t.shift();if(c=b.Xb[c]){f=c.za;if(!this.Uta(f)&&c.hf){this.v_=f;this.jI(b,a.M,c,{offset:0,JL:!0});break;}}}}};f.prototype.Wtb=function(a,b,c){var d;d=this;b.forEach(function(b){var f;f=d.Tk(a,b.za);f&&!b.ed&&(f.stream.ed?b.NQ(f.stream):(f.FK||(f.FK=[]),f.FK.push(c)));});};f.prototype.jI=function(a,b,c,f,g,h){var k,p,q,m;k=a.O;d.nl.Rl(k);p=c.za;if(!this.lTa(a,c.Ya.da,b,p,f.ws)){b=this.Tk(k,p);if(!b){f.aa=this.PTa(k,c.Aq,c.tg);p=!!f.Zx;b=this.mf.eb.Bb[k];q=void 0!==g&&g!==a.Pb.da;h=!f.ws||p||q||h?this.mf.NG:b.ik;c.url&&(b.N7=c.url);b=this.s_(k,c,h,f);if(!b.Pv()){this.mf.yi("MediaRequest open failed (2)",a.Pb.da,"NFErr_MC_StreamingFailure");return;}}void 0!==g&&(m=this.V.gc(g));f.ws&&m&&(m.Ya.Tc[k]=b);}this.B_.oh();};f.prototype.s_=function(a,b,c,f){var g,k;g=this;k=this.Tk(a,b.za);if(k)return k;a=d.nl.Rl(a);b=new h.Sca(b,this.u,c.track,f,this,!1,a);b.addEventListener("headerRequestCancelled",function(a){g.sUa(a.request);});b.yc(this.V,void 0);this.Ima(b);this.nf.sla(b);return b;};f.prototype.lca=function(a,b){var c,f;c=this;f=[];this.sp.forEach(function(g,h){var p,q;d.nl.Rl(h);h=a[h];for(var k in g){p=g[k];if("function"===typeof p.EW){q=p.EW(h,b);1===q||2===q?f.push(p):3===q&&c.yi("swapUrl failure");}}});return f;};f.prototype.ai=function(a){var b,f,g,h;b=a.O;f=d.nl.Rl(b);if(this.V.we())f.warn("header onrequestcomplete ignored, session shutdown:",a.toString());else{g=a.da;h=this.V.gc(g);h?(this.V.na("logdata",{type:"logdata",target:"startplay",cd:{usedNativeDataView:a.wub}}),a.GK>a.Zjb&&(this.mf.eb.Bb[b].F7=a.GK),a.JL&&this.Foa(a),this.Mka(a),a.Ml?this.mf.OP():a.Zx&&(f.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),this.V.sR(h.Ya.M)),this.Wka=c.time.ea(),this.mf.bf[b].Rib(),this.B_.oka(),this.V.fob()):f.warn("header onrequestcomplete but unknown manifestIndex:",g);}};f.prototype.Mka=function(a){var b,c,f,g,k;b=this.u;c=d.nl.Rl(a.O);f=a.$;if(b.u3){g=f.length;c.trace("fragment count:",g);for(var h=0;h<g;++h){k=f.get(h);c.trace("fragment: "+h+", startPts: "+k.U+", duration: "+k.duration+", offset: "+k.offset);}}this.yja(a);if(b.IK&&b.IK.enabled&&void 0===f.Mn&&b.IK.simulatedFallback){g=f.length;b=[];for(h=0;h<g;++h)b[h]=Math.max(0,a.stream.vc+this.mf.FWa(h));f.pqb(b);}};f.prototype.yja=function(a){var b,c,f,g,h,k,p,q,m,l,t,n;b=this;c=this.u;f=a.O;g=d.nl.Rl(f);h=a.da;k=this.V.gc(h);if(k){p=k.Ya;q=a.$;m=a.eA?60:q.length;l=q.get(m-1);t=a.za;a.Zk={Li:l.U+l.duration,bfb:l.U,lastIndex:m-1};p.Mta(f,q);a.FK&&(a.FK.forEach(function(c){var d;d=b.V.gc(c);d?(c=d.Ya.Sp(f,t))&&c!==a.stream&&!c.ed&&c.NQ(a.stream):g.warn("otherManifestIndexes bad value:",c);}),a.FK=void 0);m=p.Sp(f,t);l=p.Xp()?c.Awa:0;n=this.V.$j()[f];1===f&&0<c.hq&&(n=Math.min(n,c.hq));m.zDa(n,l);p.Tc[f]&&a!==p.Tc[f]?a.ws&&(k=p.Tc[f],c=a.stream,m=k&&k.stream,g.warn("first header received for non-current track (trackId "+c.fb+"streamId "+c.za+"), expected track "+(m&&m.fb)+", stream "+(m&&m.za)+", "+k)):(p.Tc[f]=a,c=this.V.If,0===h&&(m=this.V.gg?c.Ng(1).cb:c.Ng(0).cb,k.wQ(h,this.mf.ug.bind(this.mf),m,this.mf.va,c)),k.YK=!1,k.tQ(h,this.mf.gc.bind(this.mf),this.u,this.mf.Qh,this.mf.gg,this.mf.va,this.mf.$a,this.mf.K5.bind(this.mf)),this.mf.OP());this.dXa.G_();a.eA||this.nf.OVa(h,f,t,p.M,q);this.B_.oh();}else g.warn("addFragments for stale manifestIndex:",h);};f.prototype.lTa=function(a,b,c,d,f){return this.YXa&&this.mf.kb.Pg&&(c=this.mf.kb.Pg.h8(c,d))&&this.Jma(a,b,c,!1,f)?!0:!1;};f.prototype.Jma=function(a,b,c,f,g){d.nl.Rl(a.O);b=this.V.gc(b);if(!b)return!1;b=b.Ya.Sp(a.O,c.za);if(f!==!!c.Ml)return!1;this.Ima(c);c.cZa(b);this.yja(c);c.Ml&&this.mf.OP();g&&this.nf.FVa(c.M,c.za);void 0!==a.pq&&a.$s(a.pq);return!0;};f.prototype.PTa=function(a,b,c){var d;d=this.u;if(c)return d.LR?d.LR:d.PS;if(d.VDa&&b)return b.offset+b.size;a=this.mf.eb.Bb[a];return a.F7?a.F7+128:2292+12*Math.ceil(this.mf.Dm/2E3);};f.prototype.sUa=function(a){this.cqa(a.O,a.za);};f.prototype.yi=function(a,b){a={type:"streamingFailure",msg:a,manifestIndex:b};this.na(a.type,a);};return f;}(a(83));f.gKa=a;m.li(g.EventEmitter,a);},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(25);h=a(5).gr;g=function(a){function c(b){var c;c=a.call(this)||this;c.Pla=b;c.OO=b.groupId;c.Rf=new d.Jw();c.Rf.on(c,h.wd.dG,c.dP);c.Rf.on(c,h.wd.Vw,c.YG);return c;}b.__extends(c,a);c.prototype.Yjb=function(a,b,c){h.prototype.open.call(this,a,b,c);};c.prototype.Xpb=function(a){this.OO=a;};Object.defineProperties(c.prototype,{groupId:{get:function(){return this.OO;},enumerable:!0,configurable:!0}});c.prototype.Xd=function(){this.Rf&&this.Rf.clear();h.prototype.Xd.call(this);};c.prototype.dP=function(a){this.Pla.mmb(a.probed,a.affected);this.Xd();};c.prototype.YG=function(a){this.Pla.jmb(a.probed,a.affected);this.Xd();};return c;}(h);f.kFa=g;},function(g,f,a){var d,h,m;function b(a,b){this.TG=a;this.qx=0===Math.floor(1E6*Math.random())%b.rz;this.groupId=1;this.config=b;this.vs={};this.Yv={};}d=a(6);h=a(5);new h.Console("ASEJS_PROBE_MANAGER","asejs");m=a(700).kFa;b.prototype.constructor=b;b.prototype.lmb=function(a,b){var c,f,g,k,m,l,t,n,r,S,Q;c=this.TG;f=a.Db;g=c.qCa(a.url);k=c.FT(a.url);m=this.config;l=h.time.ea();n=b;r=[];S=g.ck[0];Q=!1;t=this.vs[f];if(!t)t=this.vs[f]={count:0,Rg:l,Ws:!1,error:b,Maa:[],u$:{}};else if(t.Rg>=l-m.qW)return;t.Ws||(S&&k.id===S.id&&(a.isPrimary=!0),t.Rg=l,t.Ws=!1,t.error=b,++t.count,g&&g.Wc&&0!==g.Wc.length&&(d.forEach(g.Wc,function(b){var c,d,g;c=b.Sb.id;d=c+"-"+f;g=this.Yv[d];if(void 0===g||void 0===g.cV)g&&g.ml&&clearTimeout(g.ml),b=this.rpa(b.url,a,c),this.Yv[d]={X:!1,count:0,cV:b.ak()},r.push(b.ak()),Q=!0;-1===t.Maa.indexOf(c)&&t.Maa.push(c);},this),this.qx&&0<r.length&&(g={type:"logdata",target:"endplay",fields:{}},b=n,n={ts:h.time.ea(),es:b.$ma,fc:b.Wh,fn:b.mra,nc:b.sj,pb:r,gid:this.groupId},b.zJ&&(n.hc=b.zJ),g.fields.errpb={type:"array",value:n,adjust:["ts"]},c.fz(g)),Q&&this.groupId++));};b.prototype.rpa=function(a,b,d){var c,f,g;c=this.TG.FT(b.url);c&&c.Ka&&c.Ka.xo&&c.Ka.xo.Fa||Math.random(0,1);c=new m(this);f=a.split("?");g="random="+parseInt(1E7*Math.random(),10);c.Yjb(1<f.length?a+"&"+g:a+"?"+g,b,d);return c;};b.prototype.mmb=function(a,b){var c,d,f,g,k,m,l,t;c=this.TG;d=this.config;f=b.Db;g=this.vs[f];m=a.url;l=this.Yv[a.Db+"-"+f];if(g&&(k=g.error,l)){l&&l.ml&&clearTimeout(l.ml);l.X=!0;l.count=0;l.cV=void 0;g.u$[a.Db]=!0;(l=this.vs[a.Db])&&!0===l.Ws&&d.Qr&&(c.AAa(a.Db,l.error.pM[1]),this.qx&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.errst={type:"array",value:{ts:h.time.ea(),id:a.requestId,servid:b.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.fz(l)),this.vs[a.Db]=void 0);if(m!==b.url){t=this.Yv[f+"-"+f];t&&t.X||(f=(f=c.FT(m))&&f.Ka&&f.Ka.xo&&f.Ka.xo.Fa||Math.random(0,1)*d.OT,f=Math.min(f,d.OT),setTimeout(function(){var d;if(!(!1!==g.Ws||t&&t.X)&&(g.Ws=!0,c.cm(k.pM[0],k.pM[1],b.url,k),this.qx)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:h.time.ea(),id:a.requestId,servid:b.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.fz(d);}}.bind(this),f));}this.qx&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:h.time.ea(),id:a.requestId,result:1,servid:a.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.fz(l));}};b.prototype.jmb=function(a,b){var c,f,g,k,m,l,t,n,r,S;c=this.TG;f=parseInt(b.Db,10);g=this.vs[f];k=parseInt(a.Db,10);m=this.Yv[k+"-"+f];l=0;r=this.config;if(m&&g){m.X=!1;m.cV=void 0;g.u$[k]=!1;n=g.Maa;if(r.Qr&&k===f&&b.isPrimary){S=c.FT(b.url);S=S&&S.Ka&&S.Ka.xo&&S.Ka.xo.Fa||300*Math.random(0,1);S=S*Math.pow(2,m.count);S=Math.min(S,12E4);S=S+Math.random(0,1)*(1E4>S?100:1E4);m.ml=setTimeout(function(){var c;m.ml=void 0;c=this.rpa(a.url,b,k);c.Xpb(a.groupId);m.cV=c.ak();}.bind(this),S);}++m.count;k===f&&(l=0,n.forEach(function(a){!1===g.u$[a]&&l++;}),n.length===l&&g.count>=r.UT&&(t=g.error,g.Ws=!0,d.forEach(c.qCa(b.url).Wc,function(a){var b;c.cm(t.pM[0],t.pM[1],a.url,t);if(this.qx){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.ea(),id:-1,servid:a.Sb.id},adjust:["ts"]};c.fz(b);}},this)));this.qx&&(f={type:"logdata",target:"endplay",fields:{}},f.fields.pbres={type:"array",value:{ts:h.time.ea(),id:a.requestId,result:0,servid:a.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.fz(f));}};b.prototype.hca=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.TG;b=a.rBa(b);c=this.vs[b];d=this.Yv[b+"-"+b];c&&c.Ws&&this.config.Qr&&(a.AAa(c.error.$ma,!1),this.qx&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:h.time.ea(),id:-1,servid:b},adjust:["ts"]},a.fz(c)),this.vs[b]=void 0,d&&d.ml&&clearTimeout(d.ml));}};b.prototype.reset=function(){var a,b,d;a=this.Yv;for(d in a)a.hasOwnProperty(d)&&(b=a[d+"-"+d])&&b.ml&&clearTimeout(b.ml);this.Yv={};this.vs={};};g.T=b;},function(g,f,a){var b,d,h,m,c,k,q,p,u,l,n,r,A,B,M,S;Object.defineProperty(f,"__esModule",{value:!0});g=a(25);b=a(6);d=a(11);h=a(5);m=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");c=a(701);a=a(40);k=h.qk;q=k.yt;p={};u={};l=[d.Ef.$q,!1];n=[d.Ef.$q,!0];r=[d.Ef.ax,!1];A=[d.Ef.ax,!0];B=[d.Ef.URL,!0];M=[-1,!1];S=[d.Ef.ax,!1];p[q.uvb]=r;p[q.SHa]=r;p[q.Jda]=r;p[q.dIa]=r;p[q.WHa]=A;p[q.oGa]=A;p[q.jda]=S;p[q.mX]=S;p[q.pGa]=M;p[q.qGa]=S;p[q.rGa]=S;p[q.lGa]=r;p[q.nGa]=r;p[q.ida]=l;p[q.mGa]=r;p[q.kGa]=S;p[q.Iwb]=A;p[q.cKa]=S;p[q.Nea]=S;p[q.Mea]=S;p[q.xY]=S;p[q.Kea]=S;p[q.bKa]=B;p[q.zY]=A;p[q.uN]=B;p[q.AY]=n;p[q.BY]=A;p[q.eKa]=B;p[q.vN]=S;p[q.Oea]=A;p[q.dKa]=A;p[q.ZHa]=A;p[q.THa]=r;p[q.BQa]=r;p[q.JHa]=r;p[q.KHa]=r;p[q.LHa]=r;p[q.MHa]=r;p[q.NHa]=r;p[q.OHa]=r;p[q.PHa]=r;p[q.QHa]=r;p[q.RHa]=r;p[q.UHa]=r;p[q.VHa]=r;p[q.XHa]=r;p[q.YHa]=r;p[q.$Ha]=r;p[q.aIa]=r;p[q.bIa]=r;p[q.cIa]=r;p[q.eIa]=r;p[q.fIa]=r;p[q.AQa]=S;p[q.TIMEOUT]=l;u[q.jda]=!0;u[q.Nea]=!0;u[q.Mea]=!0;u[q.Kea]=!0;u[q.Jda]=!0;l=function(){var C1J;function a(a,b,d){var b1J,f,L6L,J4L,A4L,P4L,K4L,E4L;b1J=2;while(b1J!==18){L6L="startBuffe";L6L+="r";L6L+="ing";J4L="reques";J4L+="tComp";J4L+="lete";A4L="req";A4L+="uestPro";A4L+="gress";P4L="1SIY";P4L+="bZ";P4L+="rNJ";P4L+="Cp9";K4L="u";K4L+="n";K4L+="de";K4L+="r";K4L+="flow";E4L="n";E4L+="et";E4L+="wo";E4L+="rkF";E4L+="ailed";switch(b1J){case 9:this.Co.on(E4L,this.ycb.bind(this));this.xD=h.time.ea();this.RQ=0;f=this.hca.bind(this);a.on(K4L,this.I9.bind(this));b1J=13;break;case 19:this.Idb();b1J=18;break;case 2:this.Co=b;this.config=d;P4L;p[q.xY]=d.mdb?A:S;b1J=9;break;case 13:a.on(A4L,f);a.on(J4L,f);a.on(L6L,this.yjb.bind(this));this.Gba={};this.s$=new c(b,d);b1J=19;break;}}}C1J=2;while(C1J!==12){switch(C1J){case 14:a.prototype.Idb=function(){var f1J,b,c,d,f,k6L,l6L,Y6L;function a(a){var S1J,b,c,d;S1J=2;while(S1J!==3){switch(S1J){case 2:b=a.length;S1J=1;break;case 5:d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;S1J=1;break;case 1:S1J=b?5:4;break;case 7:S1J=b?6:2;break;S1J=b?5:4;break;case 14:return a;break;S1J=3;break;case 4:return a;break;}}}f1J=2;while(f1J!==11){k6L="manif";k6L+="est";k6L+="Ad";k6L+="d";k6L+="ed";l6L="Initialized n";l6L+="etwork fai";l6L+="lure si";l6L+="mulation \"";Y6L="ma";Y6L+="nifestAd";Y6L+="ded";switch(f1J){case 3:f={n:0};f1J=9;break;case 2:b=this;c=this.Co;d=this.config.w3;f1J=3;break;case 8:c.on(Y6L,function(){var G1J,d;G1J=2;while(G1J!==9){switch(G1J){case 5:f.n=f.n||0;c.Kra(function(a,b,c,g){var m1J;m1J=2;while(m1J!==1){switch(m1J){case 2:f[g.id]||(f[g.id]=!0,d.push(g.id));m1J=1;break;}}});a(d).forEach(function(a){var c1J;c1J=2;while(c1J!==5){switch(c1J){case 2:setTimeout(function(){var M1J;M1J=2;while(M1J!==1){switch(M1J){case 2:b.cm({url:a},k.yt.BY);M1J=1;break;}}},4E3+f.n);f.n+=1E3;c1J=5;break;}}});G1J=9;break;case 2:d=[];G1J=5;break;}}});f1J=7;break;case 7:p933.d4L(0);m.warn(p933.B4L(l6L,'"',d));f1J=11;break;case 9:f1J=d==="1"?8:6;break;case 6:f1J=d==="2"?14:13;break;case 14:c.on(k6L,function(){var Z1J,a;Z1J=2;while(Z1J!==9){switch(Z1J){case 2:a=[];f.n=f.n||0;Z1J=4;break;case 4:c.Kra(function(b,c,d,g){var A1J;A1J=2;while(A1J!==1){switch(A1J){case 2:f[g.id]||(f[g.id]=!0,a.push({P:d.P,url:g.id}));A1J=1;break;}}});a.sort(function(a,b){var B1J;B1J=2;while(B1J!==1){switch(B1J){case 2:return b.P-a.P;break;case 4:return b.P/a.P;break;B1J=1;break;}}}).map(function(a){var t1J;t1J=2;while(t1J!==1){switch(t1J){case 4:return a.url;break;t1J=1;break;case 2:return a.url;break;}}}).forEach(function(a){var D1J;D1J=2;while(D1J!==5){switch(D1J){case 2:setTimeout(function(){var F1J;F1J=2;while(F1J!==1){switch(F1J){case 2:c.ey()||b.cm({url:a},k.yt.uN);F1J=1;break;}}},5E3*Math.random());f.n+=1E3;D1J=5;break;}}});Z1J=9;break;}}});f1J=7;break;case 13:return;break;}}};return a;break;case 2:a.prototype.kqb=function(a){var E1J;E1J=2;while(E1J!==1){switch(E1J){case 2:this.WV=a;E1J=1;break;case 4:this.WV=a;E1J=6;break;E1J=1;break;}}};a.prototype.cm=function(a,c,f,g){var r1J,h,q,l,t,n,z,y,A,B,f6L,F6L,G6L,n6L,X6L;r1J=2;while(r1J!==23){f6L="Unmapped failure code in JS";f6L+="ASE e";f6L+="rror director : ";F6L=" :";F6L+=" critical e";F6L+="rror count = ";G6L=" ";G6L+="o";G6L+="n";G6L+=" ";n6L="F";n6L+="ai";n6L+="l";n6L+="ur";n6L+="e ";X6L="Invalid ";X6L+="affect";X6L+="ed for network failure";switch(r1J){case 6:r1J=f&&b.isArray(p[f])?14:24;break;case 2:h=this;q=k.yt.name;l=f?q[f]:void 0;q={};t=this.config;r1J=8;break;case 26:m.error(X6L);return;break;case 11:r1J=z!==M?10:23;break;case 18:A=z[0];B=z[1];t.Lo?b.forEach(q,function(b,k){var X1J,H6L;X1J=2;while(X1J!==5){H6L="er";H6L+="r";H6L+="or";switch(X1J){case 2:z===S||z===r?h.s$.lmb({url:void 0!==a.url?a.url:b[0],Db:k},{$ma:k,pM:z,zJ:c,Wh:f,mra:l,sj:g}):b.some(function(a){var H1J;H1J=2;while(H1J!==5){switch(H1J){case 2:n.cm(A,B,a);return A===d.Ef.ax;break;}}});!t.po||0!==c&&void 0!==c||(b=void 0!==a.url?a.url:b[0],h.WV&&b&&h.WV.Caa(H6L,b));X1J=5;break;}}}):b.forEach(q,function(b,f){var L1J,p6L;L1J=2;while(L1J!==5){p6L="e";p6L+="r";p6L+="r";p6L+="o";p6L+="r";switch(L1J){case 1:b.some(function(a){var y1J;y1J=2;while(y1J!==5){switch(y1J){case 2:n.cm(A,B,a);return A===d.Ef.ax;break;}}}),!t.po||0!==c&&void 0!==c||(b=void 0!==a.url?a.url:b[0],h.WV&&b&&h.WV.Caa(p6L,b));L1J=5;break;case 2:L1J=z!==S||h.aob(f)?1:5;break;}}});r1J=23;break;case 15:r1J=void 0!==a.host&&void 0!==a.port?27:26;break;case 20:y=n.rBa(a.url);r1J=19;break;case 8:n=this.Co;m.warn(n6L+l+G6L+JSON.stringify(a)+F6L+this.RQ);r1J=6;break;case 19:y&&(q[y]=[a.url]);r1J=18;break;case 27:q=n.Kpb(a.host,a.port);r1J=18;break;case 14:z=p[f];this.wT={zJ:c,Wh:f,mra:l,sj:g};u[f]&&++this.RQ;r1J=11;break;case 10:r1J=void 0!==a.url?20:15;break;case 24:p933.d4L(1);m.error(p933.B4L(f6L,f));r1J=23;break;}}};a.prototype.aob=function(a){var W1J,b,c,d;W1J=2;while(W1J!==13){switch(W1J){case 3:W1J=d?9:14;break;case 2:b=h.time.ea();c=this.config;d=this.Gba[a];W1J=3;break;case 9:W1J=d.Rg<this.xD?8:7;break;case 7:W1J=!(d.Rg>=b-c.qW||d.Ws||(d.Rg=b,++d.count,d.count<c.UT))?6:13;break;case 14:this.Gba[a]={Rg:b,count:1};W1J=13;break;case 6:return d.Ws=!0;break;case 8:d.Rg=b,d.count=1;W1J=13;break;}}};a.prototype.ycb=function(a){var o1J,b,c,d,f,g,k,p,r6L,g6L,U6L,V6L,q6L,u6L;o1J=2;while(o1J!==6){r6L="st";r6L+="reamingFa";r6L+="ilure";g6L=" ";g6L+="ms";g6L+=" a";g6L+="g";g6L+="o";U6L="N";U6L+="etw";U6L+="ork h";U6L+="a";U6L+="s failed ";V6L=" last ";V6L+="success was";V6L+=" ";q6L="tempo";q6L+="r";q6L+="ari";q6L+="l";q6L+="y";u6L="perm";u6L+="anen";u6L+="tl";u6L+="y";switch(o1J){case 2:b=this;c=h.time.ea()-this.xD;d=a;p=this.config;o1J=9;break;case 9:p933.D4L(2);m.warn(p933.B4L(a?u6L:q6L,c,V6L,U6L,g6L));!a&&c>p.l9&&(d=!0);d?(this.sE&&(clearTimeout(this.sE),this.sE=void 0),this.Goa(),this.s$.reset(),this.wT&&(f=this.wT.Wh,g=this.wT.zJ,k=this.wT.sj),this.emit(r6L,{qeb:a,$jb:f,akb:g,bkb:k})):this.sE||(this.sE=setTimeout(function(){var N1J;N1J=2;while(N1J!==5){switch(N1J){case 2:b.sE=void 0;b.lL();N1J=5;break;}}},p.m9));o1J=6;break;}}};a.prototype.lL=function(a){var v1J,y6L;v1J=2;while(v1J!==1){y6L="netwo";y6L+="rkFailureR";y6L+="ese";y6L+="t";switch(v1J){case 2:this.sE||(this.Co.lL(!!a),this.Gba={},this.emit(y6L));v1J=1;break;}}};a.prototype.hca=function(a){var l1J,b;l1J=2;while(l1J!==9){switch(l1J){case 2:b=this.config;this.xD=Math.max(a.timestamp||h.time.ea(),this.xD);this.Goa();l1J=3;break;case 3:b.Lo&&this.s$.hca(a);l1J=9;break;}}};a.prototype.yjb=function(){var x1J;x1J=2;while(x1J!==1){switch(x1J){case 2:this.RQ=0;x1J=1;break;case 4:this.RQ=3;x1J=3;break;x1J=1;break;}}};C1J=7;break;case 7:a.prototype.I9=function(a){var I1J,b,c,f,Q6L,O6L;I1J=2;while(I1J!==8){Q6L="m";Q6L+="s";O6L="Settin";O6L+="g underflow timeo";O6L+="u";O6L+="t in ";switch(I1J){case 4:f=c.C8;this.xD=Math.max(a||h.time.ea(),this.xD);c.lub&&!this.qM&&(m.info(O6L+f+Q6L),this.qM=setTimeout(function(){var K1J,e6L,h6L;K1J=2;while(K1J!==4){e6L="ms, si";e6L+="nce underflow wit";e6L+="h no ";e6L+="succe";e6L+="ss";h6L="Forcing permanent";h6L+=" networ";h6L+="k f";h6L+="ailure after ";switch(K1J){case 2:p933.d4L(0);m.info(p933.N4L(h6L,e6L,f));b.qM=void 0;K1J=5;break;case 5:b.Co.cm(d.Ef.$q,!0);K1J=4;break;}}},f));I1J=8;break;case 2:b=this;c=this.config;I1J=4;break;}}};a.prototype.Goa=function(){var q1J,S6L;q1J=2;while(q1J!==1){S6L="Clear";S6L+="ed underfl";S6L+="ow timeout";switch(q1J){case 2:this.qM&&(clearTimeout(this.qM),this.qM=void 0,m.info(S6L));q1J=1;break;}}};C1J=14;break;}}}();f.rJa=l;a.li(g.EventEmitter,l);},function(g,f,a){var b,d,h,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(25);d=a(153);h=a(380);m=a(702);c=a(24);k=a(13);q=a(59);g=function(){function a(a,b,c,d,f,g,h,k,p){void 0===b&&(b=!1);void 0===d&&(d=0);this.qn=0;this.Ld=a;this.replace=b;this.F0=c;this.U=d;this.ba=f;this.T7=g;this.Co=h;this.RI=k;this.K=p;}a.Xra=function(b,c,d,f,g){var k,p,q;k=g.hBa;p=b.ug(1);q=new h.Tca({Ic:String(f.movieId),da:g.da,Ia:f,vya:b.ug(0),Aya:p,tg:g.tg,Zr:g.Zr,config:c,K:d},function(){});p=(p=(p=p?a.Lka(f,1,k[1]):void 0)&&q.ES(p))&&p.Xb;q.uJ&&p&&p.forEach(function(a){a.nn||(a.tg=!0);});return a.Xja(b,c,d,f,q,k,g);};a.Xja=function(d,f,g,h,k,p,q){var u,l,t,n,z,y,A;u=q.U;l=q.ba;t=q.c3;n=q.u6;z=q.Zaa;q=q.nAa;q?(y=q.T7,t=q.Co,A=q.RI,t.tH(h)):(y=new b.Jw(),t=t(h),y.on(t,"logdata",function(a){c.na(d,a.type,a);}),A=new m.rJa(d,t,f),y.on(A,"streamingFailure",function(b){a.vUa(b,d,g,A);},d),y.on(A,"networkFailureReset",n,d));f.po&&z&&A.kqb(z);return new a(k,!!q,p,u,l,y,t,A,g);};a.Lka=function(a,b,c){a=a[0===b?"audio_tracks":"video_tracks"];k.assert(a&&c<a.length,"Expected valid selected track index, but got MediaType: "+b+", Index: "+c+"."+("ManifestTracks length: "+(a&&a.length)));return a[c].track_id;};a.XWa=function(a,b,c,d){var f,g;f=b;g=Math.abs(a.Li-b.Li);g<=c.PT?f=a.Li>b.Li?a:b:g>c.PT&&(f=a.Li<b.Li?a:b,d.warn("maxPts between streams is largely different. Choosing lower maxPts:",f));return f;};a.vUa=function(a,b,c,d){var f,g,h;f=a.qeb;g=a.$jb;h=a.akb;a=a.bkb;c.warn("Streaming failure, state is "+b.ja.Gbb()+" is permanent: "+f+", last error code: "+g+", last http code: "+h+", last native code: "+a);f?(c.warn(" > Permanent failure, done"),b.yi("Permanent failure",void 0,"NFErr_MC_StreamingFailure",g,h,a)):b.ja.Wl()?(c.warn(" > We are buffering, calling it!"),b.yi("Temporary failure while buffering",void 0,"NFErr_MC_StreamingFailure",a,h,a)):(c.warn(" > Resetting failures"),d.lL());};Object.defineProperties(a.prototype,{Ya:{get:function(){return this.Ld;},enumerable:!0,configurable:!0}});a.prototype.Op=function(a){return this.Ld.ES(this.qS(a));};a.prototype.qS=function(b){return a.Lka(this.Ld.Ia,b,this.rS(b));};a.prototype.rS=function(a){return this.F0[a];};a.prototype.dsa=function(a,b){return this.k6(a,b)+(0===a?this.Ld.Ia.video_tracks.length:0);};a.prototype.k6=function(a,b){var c;c=-1;(a=this.Ld.Ia[0===a?"audio_tracks":"video_tracks"])&&a.some(function(a,d){if(a.track_id===b)return c=d,!0;});return c;};a.prototype.Xd=function(){this.Ld.q5a();delete this.Ld;};a.prototype.gca=function(a,b){this.Ld.gca(a,b);};a.prototype.clone=function(b){return a.Xja(b,b.u,this.K,this.Ld.Ia,this.Ld,this.F0,{U:this.U,ba:this.ba,c3:function(a){return b.BO(a);},u6:b.M_,Zaa:b.HB,nAa:this.replace?b.Aab():void 0});};a.prototype.dca=function(a){this.F0[0]=a;};a.prototype.Tsa=function(){return this.Zk?this.Zk.Li:this.ba?this.ba:this.Ld.Ia.duration;};a.prototype.wQ=function(a,b,c,d,f,g,h){var k,p,q,m;if(g){k=g.Wa[1].Yl;g=g.Wa[0].Yl;if(!k||!g)return{uz:[],ro:[]};p=k.ba;q=g.ba;k=q-p;h||(p=void 0);q-=g.U;}m=this.vra(b,f.Wa,c,p,k,q);a===d.Ju&&[1,0].forEach(function(a){var b;b=f.Ng(a);b&&(b.vh=m[a]);});return{uz:m.map(function(a){return a.U;}),ro:m};};a.prototype.v0a=function(a,b,c){var d,f,g;d=this.Ld.Tc[a];if(d&&d.stream.ed){if(this.ro&&this.ro[a]&&this.ro[a].U<=b&&this.ro[a].ba>b)return this.ro[a].Fc;a=d.$;f=a.Fi(b,void 0,!0);g=void 0;c&&(b=d.stream.Yf(f).RR(b))&&(g=b.Fd);void 0===g&&(g=a.fg(f));return g;}};a.prototype.tQ=function(a,b,c,f,g,h,k,p){var q,m,l;if(!this.YK){q=this.Ld.Tc[0]&&this.Ld.Tc[0].stream.ed;m=this.Ld.Tc[1]&&this.Ld.Tc[1].stream.ed;if(!(f&&!q||g&&!m)){this.ica(a,c,f,g,h,k);q=[0,0];0===a||this.hK||this.replace||(l=b(a-1),l=d.eQ(this.Ld.M,l.Ld.M),l=this.wQ(a,function(a){return[f,g][a];},this.U,h,h.If,h.If,l),q=l.uz);this.U=q[1];this.uz=q;this.ro=l&&l.ro;this.loa(a,b);k.JVa(a,this.qn,this.U,this.Zk.Li,g?this.Ld.Tc[1].Zk.Li:this.Ld.Tc[0].Zk.Li);this.YK=!0;for(a+=1;a<p();++a)l=b(a),l.YK=!1,l.tQ(a,b,c,f,g,h,k,p);}}};a.prototype.loa=function(a,b){0===a||this.replace?this.qn=0:(a=b(a-1),this.qn=a.qn+a.Tsa()-this.U);};a.prototype.ica=function(b,c,d,f,g,h){var k,p,q,m,l,t;k=this;p=this.Ld.Tc[0];q=this.Ld.Tc[1];if((!d||p&&p.stream.ed)&&(!f||q&&q.stream.ed)){m=function(a){return[d,f][a];};l=this.ba||Infinity;t=this.ZI(m,g.If.Wa,l,c);p=t.map(function(a){return{Li:a.ba,bfb:a.U,lastIndex:a.index};});this.Zk=p=f?!c.Cn||c.bn?p[1]:a.XWa(p[0],p[1],c,this.K):p[0];h.MVa(b,f?this.Ld.Tc[1].Zk.Li:this.Ld.Tc[0].Zk.Li,p.Li);b=g.H4(b);0<b.length&&b.forEach(function(a){var b;b=a.xa.ba;b&&b<l&&(t=k.ZI(m,a.Wa,b,c));b=a.Wa[1];a=a.Wa[0];b&&b.BL(t[1]);a&&a.BL(t[0]);});}};a.prototype.PR=function(a,b){var c;c=this.Ld.Tc[a];if(c&&c.stream.ed){if(b=c.$.Fi(b),-1!==b)return b;}else if(a=this.Ld.Mna[a])return Math.round(b/a);};a.prototype.vra=function(a,b,c,d,f,g){var h;h=this;return this.wma(a)?[1,0].map(function(k){if(!a(k))return{};k=b[k].ura(h.Ld.Tc[k].stream,c,d,f,g);c=k.U;return k;}).reverse():[];};a.prototype.ZI=function(a,b,c,d){var f;f=this;return this.wma(a)?[1,0].map(function(g){var h;if(!a(g))return{};h=f.Ld.Tc[g].stream;g=b[g].P8a(h,c);c=d.kl?new q.dc(g.xb,h.Ha.ga).wf:g.ba;return g;}).reverse():[];};a.prototype.wma=function(a){var b,c;b=this.Ld.Tc;if(!b)return!1;c=b[1];c=!a(1)||c&&c.stream.ed;b=b[0];a=!a(0)||b&&b.stream.ed;return c&&a?!0:!1;};return a;}();f.hga=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(a,d,f,g,c,h,q,p,l,n){this.id=a;this.da=d;this.U=f;this.sI=c;this.mj=h;this.TE=q;this.co=p;this.atb=l;this.Xya=n;this.ba=g||Infinity;this.co="number"===typeof p?p:this.ba;}a.prototype.toString=function(){return"segmentId: "+this.id+"playlistSegmentId: "+this.Xya+" manifestIndex: "+this.da+" pts: "+this.U+"-"+this.ba+" defaultKey: "+this.sI+" dests: "+JSON.stringify(this.mj)+" terminal: "+!!this.TE;};a.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.da,"startPts:":this.U,endPts:this.ba,defaultKey:this.sI,"dests:":this.mj,terminal:!!this.TE,beginJITPts:this.co,playlistSegmentId:this.Xya};};return a;}();f.SQa=g;},function(g,f,a){var b,d,h,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(13);a(5);h=a(58);m=a(24);c=a(210);k=a(94);q=a(201);g=function(a){function f(b,c,d,g,h,p){c=a.call(this,b,g,h,p)||this;c.HO=d;c.xk=void 0;c.H_=f.zA.INIT;c.LDb=g.offset;c.T_=k.pk.prototype.toString.call(c)+" multiple";c.JB(b.url,g.offset,8,0);return c;}b.__extends(f,a);Object.defineProperties(f.prototype,{data:{get:function(){return this.xk;},enumerable:!0,configurable:!0}});f.prototype.ai=function(a){var b,g;this.xk=this.xk?m.Um(this.xk,a.response):a.response;a.eL();switch(this.H_){case f.zA.INIT:b=new DataView(this.xk);g=b.getUint32(0);b=b.getUint32(4);h.FG(b);this.JB(a.url,a.offset+a.aa,g,0);c.pA.prototype.ai.call(this,a);this.H_=f.zA.$fa;break;case f.zA.$fa:b=new DataView(this.xk);g=b.getUint32(this.Kja-8);b=b.getUint32(this.Kja-4);h.FG(b);this.JB(a.url,a.offset+a.aa,g-8,0);this.H_=f.zA.Yfa;c.pA.prototype.ai.call(this,a);break;case f.zA.Yfa:c.pA.prototype.ai.call(this,a);break;default:d.assert(!1);}};f.prototype.JB=function(a,b,c,d){a=new q.NM(this.stream,this.HO,this.T_+" ("+this.sa.length+")",{M:this.M,O:this.O,za:this.za,P:this.P,offset:b,aa:c,url:a,location:this.location,Db:this.Db,responseType:d},this,this.K);this.push(a);this.Kja=this.sa.reduce(function(a,b){return a+b.aa;},0);};f.zA={INIT:0,$fa:1,Yfa:2,name:["INIT","MOOF","MDAT"]};return f;}(c.pA);f.jFa=g;},function(g,f,a){var b,d,h,m,c,k,q;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);a(13);d=a(6);g=a(40);h=a(5);m=a(94);c=a(209);k=a(154);q=h.qk;a=function(a){function c(b,c,d,f,g,h,k){c=this;c=["cache","edit"].filter(function(a,b){return[h,f.Ta][b];});c=c.length?"("+c.join(",")+")":"";void 0===f.responseType&&(f.responseType=q.Qc&&!q.Qc.tE.bx?0:1);c=a.call(this,b,d,c,f,g,k)||this;m.pk.call(c,b,f);c.NUa=f.ifb;c.Rf.on(c,q.wd.KAb,c.bWa);c.Rf.on(c,q.wd.JAb,c.aWa);return c;}b.__extends(c,a);c.prototype.yc=function(a,b){k.yw.prototype.yc.call(this,a,b);this.Nb||!a.u.ZP&&this.Vb||(this.Nb=a.kb.Ye);};c.prototype.Pv=function(){var a;a={start:this.offset,end:this.offset+this.aa-1};void 0!==this.Mc&&0<=this.Mc&&void 0!==this.Re&&(this.iO=this.mla(this.iO,!0),a={start:0,end:-1});return q.prototype.open.call(this,this.iO,a,this.hO,{},void 0,void 0,this.tja);};c.prototype.EW=function(a,b){var c,d;if(this.complete)return 0;c=this.Zla;d=a[c];if(!d)return this.K.warn("updateUrl, missing stream for streamId:",c,"mediaRequest:",this,"streamMap:",a),1;if(!d.url)return this.K.warn("updateurl, missing url for streamId:",c,"mediaRequest:",this,"stream:",d),2;a=this.mla(d.url,!1);return this.url===a||(b(this,d.location,d.Sb),this.ZL(a))?0:(this.K.warn("swapUrl failed: ",this.UC),3);};c.prototype.eP=function(){this.ld||(this.ld=!0,this.bk=this.track.bk(),this.ky(this),this.hk=0,this.el=this.qc);};c.prototype.zla=function(){var a;a=this.qc;this.wl=h.time.ea()-this.qc;this.jy(this);this.el=a;};c.prototype.Bla=function(){var a;a=this.qc;this.wl=h.time.ea()-this.qc;this.YC(this);this.el=a;this.hk=this.ne;};c.prototype.bWa=function(){var a;a=this.afb;this.Hg=!0;this.Nb&&(this.Nb.Dz(a,{requestId:this.Fm(),Zd:this.Db,type:this.O}),this.Nb.X$());};c.prototype.dP=function(){var a;a=this.qc;this.wl=h.time.ea()-this.qc;this.Nb&&this.Hg&&this.Nb.Fz(h.time.ea(),this.Hg,{requestId:this.Fm(),Zd:this.Db,type:this.O});this.Hg=this.ld=!1;this.Wu(this);this.el=a;this.hk=this.ne;this.Xd();};c.prototype.aWa=function(){this.Nb&&(this.Nb.Dx(this.IHb,this.afb,this.$eb,{requestId:this.Fm(),Zd:this.Db,type:this.O}),this.Nb.Fz(this.$eb,this.Hg,{requestId:this.Fm(),Zd:this.Db,type:this.O}));this.Hg=!1;};c.prototype.eTa=function(a,b,c,d){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?d:a-c;};c.prototype.mla=function(a,b){var c,f;if(d.R(this.Mc)||0>this.Mc||d.R(this.Re))return a;c=[];f=this.eTa(this.Mc,this.Re-1,this.NUa,this.Sa.u.jib);c.push("ptsRange/"+this.Mc+"-"+(this.Re-1));0<f&&b&&c.push("timeDelay/"+f);a=a.split("?");b=a[0];for(var f="",g=0;g<c.length;g++)f+="/"+c[g];return a[1]?b+(f+"?"+a[1]):b+f;};return c;}(c.sF);f.fFa=a;g.li(m.pk,a,!1);},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(13);g=a(40);d=a(212);a=a(155);h=function(){function a(b,d){this.qa=[];this.Fg=void 0;this.Tb=0;this.K=b;d&&d.length&&(Array.isArray(d)?(this.qa=d.slice(),this.zG(0,this.qa.length)):d instanceof a&&(this.qa=d.qa.slice(),this.zG(0,this.qa.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.qa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.qa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.qa[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rg:{get:function(){return this.qa[this.qa.length-1];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bb:{get:function(){return this.first&&this.first.bb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return this.Rg&&this.Rg.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{epa:{get:function(){return this.Fg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Tb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.first&&this.first.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oo:{get:function(){return this.first&&this.first.Oo;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.qa;},enumerable:!0,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.qa.length);return this.qa[a];};a.prototype.push=function(a){this.qa.push(a);this.zG(this.qa.length-1);return this.length;};a.prototype.unshift=function(a){this.qa.unshift(a);this.zG(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.qa.length)return this.z0(this.qa.length-1),this.qa.pop();};a.prototype.shift=function(){if(0!==this.qa.length)return this.z0(0),this.qa.shift();};a.prototype.splice=function(a,b){for(var c,d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];0>a&&(a+=this.qa.length);0>a&&(a=0);a>this.qa.length&&(a=this.qa.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.qa.length-a);0<b&&this.z0(a,a+b);f=(c=this.qa).splice.apply(c,[a,b].concat(d));0<d.length&&this.zG(a,a+arguments.length-2);return f;};a.prototype.slice=function(b,d){void 0===b&&(b=0);void 0===d&&(d=this.qa.length);0>b&&(b+=this.qa.length);if(b>=this.qa.length)return new a(this.K);d>this.qa.length&&(d=this.qa.length);0>d&&(d+=this.qa.length);return new a(this.K,this.qa.slice(b,d));};a.prototype.Vl=function(a){if(0===this.qa.length||a.bb>=this.xb)this.push(a);else if(a.xb<=this.bb)this.unshift(a);else{for(var c=0,d=this.qa.length-1,f;c<d-1;)f=Math.floor((d+c)/2),b.assert(f!==d&&f!==c),a.bb>=this.qa[f].xb?c=f:d=f;b.assert(c!==d);b.assert(this.qa[c].xb<=a.bb&&this.qa[d].bb>=a.xb);this.splice(d,0,a);}};a.prototype.remove=function(a){a=this.qa.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=b.map(function(a){return a.qa;});return new a(this.K,Array.prototype.concat.apply(this.qa,b));};a.prototype.forEach=function(a){var b;b=this;this.qa.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.qa.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.qa.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.qa.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.qa.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.indexOf=function(a){return this.qa.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.qa.some(function(d,f){c=f;return a(d,f,b);})?this.qa[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.qa.some(function(d,f){c=f;return a(d,f,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.K,this.qa.filter(function(a,d){return b(a,d,c);}));};a.prototype.YR=function(a){for(var b=this.qa.length-1;0<=b;--b)a(this.qa[b],b,this);};a.prototype.jba=function(a){for(var b=this.qa.length-1;0<=b;--b)if(a(this.qa[b],b,this))return!0;return!1;};a.prototype.QR=function(a){if(this.empty||a<this.Mc||a>=this.Re)return-1;for(var b=0,c=this.qa.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.qa[d].Mc&&a<this.qa[d].Re){c=d;break;}a<this.qa[d].Re?c=d-1:b=d+1;}return c;};a.prototype.WC=function(a){if(this.empty||a<this.Fc||a>=this.ce)return-1;for(var b=0,c=this.qa.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.qa[d].Fc&&a<this.qa[d].ce){c=d;break;}a<this.qa[d].ce?c=d-1:b=d+1;}return c;};a.prototype.wra=function(a){a=this.QR(a);return 0<=a?this.qa[a]:void 0;};a.prototype.xra=function(a){a=this.WC(a);return 0<=a?this.qa[a]:void 0;};a.prototype.QP=function(a){var b;b=this.qa[a].xb;for(a+=1;a<this.qa.length&&b===this.qa[a].bb;++a)b=this.qa[a].xb;a<this.qa.length?void 0===this.Fg?this.Fg=new d.tF(this,{xb:b}):this.Fg.Naa(b):void 0===this.Fg?this.Fg=new d.tF(this,{}):this.Fg.y2();};a.prototype.bB=function(a,b){for(var c=a;c<b;++c)this.Tb+=this.qa[c].aa;void 0===this.Fg||0===a?this.QP(0):this.Fg.xb===this.xb?this.QP(a-1):this.qa[a].bb===this.Fg.xb&&this.QP(a);};a.prototype.Br=function(a,b){var c;if(0===a)this.Fg=void 0,b<this.length&&this.QP(b);else{c=this.Fg;c.xb>this.qa[a-1].xb&&(b<this.length?c.Naa(this.qa[a-1].xb):c.y2());}for(;a<b;++a)this.Tb-=this.qa[a].aa;};a.prototype.zG=function(a,b){void 0===b&&(b=a+1);this.bB(a,b);};a.prototype.z0=function(a,b){void 0===b&&(b=a+1);this.Br(a,b);};return a;}();f.$W=h;g.li(a.OM,h);},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});a(13);g=function(){function a(a,b){this.ac=a;this.lB=b;this.wr();}Object.defineProperties(a.prototype,{length:{get:function(){return this.gu;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.gu;},enumerable:!0,configurable:!0}});a.prototype.B9a=function(){return this.tB&&this.tB.get(0);};a.prototype.q_a=function(){return this.gB&&this.gB.get(this.gB.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.ac.length;++b)if(this.Sf[b+1]>a)return this.ac[b].get(a-this.Sf[b]);};a.prototype.push=function(a){this.ac[this.lB(a)].push(a);this.wr();return this.gu;};a.prototype.shift=function(){var a;if(this.tB){a=this.tB.shift();this.wr();return a;}};a.prototype.pop=function(){var a;if(this.gB){a=this.gB.pop();this.wr();return a;}};a.prototype.unshift=function(a){this.ac[this.lB(a)].unshift(a);this.wr();return this.gu;};a.prototype.Vl=function(a){var b;b=this.lB(a);this.ac[b].Vl(a);this.wr();};a.prototype.remove=function(a){var b;b=this.ac.some(function(b){return b.remove(a);});b&&this.wr();return b;};a.prototype.splice=function(a,b){var t,n,r,A;for(var d,c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];for(var f=[],g,h=a+Math.max(0,b),l=0;l<this.ac.length;++l){t=this.ac[l];n=this.Sf[l];r=this.Sf[l+1];if(a<r){A=a-n;n=Math.min(h-n,t.length);void 0===g&&0<A&&n<t.length?Array.prototype.push.apply(f,t.splice.apply(t,[A,n-A].concat(c))):(Array.prototype.push.apply(f,t.splice(A,n-A)),void 0===g&&(g=0<l&&0===A?l-1:l));a=r;if(a>=h)break;}}if(c.length&&void 0!==g){for(h=this.lB(c[0]);0<g&&h<g&&this.ac[g].empty;)--g;for(;c.length&&h===g;){this.ac[g].push(c.shift());if(!c.length)break;h=this.lB(c[0]);}for(;c.length&&++g<this.ac.length&&this.ac[g].empty;)for(;c.length&&h===g;){this.ac[g].push(c.shift());if(!c.length)break;h=this.lB(c[0]);}c.length&&(d=this.ac[g]).splice.apply(d,[0,0].concat(c));}this.wr();return f;};a.prototype.find=function(a){var b,d;b=this;return this.ac.some(function(c,f){d=c.find(b.qu(a,f));return void 0!==d;})?d:void 0;};a.prototype.findIndex=function(a){var d;for(var b=0;b<this.ac.length;++b){d=this.ac[b].findIndex(this.qu(a,b));if(-1!==d)return d+this.Sf[b];}return-1;};a.prototype.indexOf=function(a){var d;for(var b=0;b<this.ac.length;++b){d=this.ac[b].indexOf(a);if(-1!==d)return d+this.Sf[b];}return-1;};a.prototype.map=function(a){var b,d;b=this;d=this.ac.map(function(c,d){return c.map(b.qu(a,d));});return Array.prototype.concat.apply([],d);};a.prototype.reduce=function(a,b){var d;d=this;return this.ac.reduce(function(b,f,g){return f.reduce(d.fYa(a,g),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.ac.forEach(function(d,c){d.forEach(b.qu(a,c));});};a.prototype.YR=function(a){for(var b=this.ac.length-1;0<=b;--b)this.ac[b].YR(this.qu(a,b));};a.prototype.some=function(a){var b;b=this;return this.ac.some(function(d,c){return d.some(b.qu(a,c));});};a.prototype.jba=function(a){for(var b=this.ac.length-1;0<=b;--b)if(this.ac[b].jba(this.qu(a,b)))return!0;return!1;};a.prototype.every=function(a){var b;b=this;return this.ac.every(function(d,c){return d.every(b.qu(a,c));});};a.prototype.k9a=function(a,b){var h,l;function d(b){return b.reduce(function(b,c,d,f){return void 0===c?b:void 0===b?d:0>a(c,f[b])?d:b;},void 0);}for(var c=this,f=this.ac.map(function(){return 0;}),g=this.ac.filter(function(a){return a.empty;}).length;g<this.ac.length;){h=f.map(function(a,b){return a<c.ac[b].length?c.ac[b].get(a):void 0;});l=d(h);b(h[l],this.Sf[l]+f[l],this);++f[l];f[l]===this.ac[l].length&&++g;}};a.prototype.move=function(a){return this.remove(a)?(this.Vl(a),!0):!1;};a.prototype.zqb=function(){var a;if(this.ac[1].length){a=this.ac[1].shift();this.ac[0].push(a);this.wr();}};a.prototype.yra=function(a){for(var b=-1,d=0;d<this.ac.length;++d)if(b=a(this.ac[d]),-1!==b){b+=this.Sf[d];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.wr=function(){var b;this.gu=0;this.Sf=[0];this.gB=this.tB=void 0;for(var a=0;a<this.ac.length;++a){b=this.ac[a];this.gu+=b.length;this.Sf.push(this.Sf[this.Sf.length-1]+b.length);!this.tB&&b.length&&(this.tB=b);b.length&&(this.gB=b);}};a.prototype.qu=function(a,b){var d,c;d=this;c=this.Sf[b];return function(b,f){return a(b,c+f,d);};};a.prototype.fYa=function(a,b){var d,c;d=this;c=this.Sf[b];return function(b,f,g){return a(b,f,c+g,d);};};return a;}();f.WGa=g;},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);a(13);d=a(708);h=a(707);g=a(155);m=a(83);c=a(40);k=a(212);a=function(a){function c(b,c){var d,f;d=this;f=[new h.$W(b),new h.$W(b),new h.$W(b)];d=a.call(this,f,function(a){return a.complete?d.empty||a.bb<=d.E1a?0:1:a.active?1:2;})||this;d.ec=f[0];d.ld=f[1];d.yp=f[2];d.Km=0;d.b_=0;d.K=b;m.call(d,c);return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{aa:{get:function(){return this.ec.aa+this.ld.aa+this.yp.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{vDa:{get:function(){return this.yp;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{active:{get:function(){return this.ld;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.ec;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bnb:{get:function(){return this.Km;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Toa:{get:function(){return this.ec.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Rv:{get:function(){return this.ec.aa+this.ld.aa-this.Km;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{first:{get:function(){return this.B9a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Rg:{get:function(){return this.q_a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{c4:{get:function(){return!this.ec.empty||this.yp.empty||this.ld.empty?this.first:this.ld.bb<this.yp.bb?this.ld.first:this.yp.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Dva:{get:function(){return this.yp.empty||this.ld.empty?this.Rg:this.ld.xb<this.yp.xb?this.yp.Rg:this.ld.Rg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Fra:{get:function(){return this.yp.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ga:{get:function(){return this.first&&this.first.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bb:{get:function(){return this.c4&&this.c4.bb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{xb:{get:function(){return this.Dva&&this.Dva.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Oo:{get:function(){return this.first&&this.first.Oo;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{C1a:{get:function(){return this.ec.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Gkb:{get:function(){return this.ld.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Fdb:{get:function(){return this.Re-this.B1a||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{E1a:{get:function(){return this.ec.empty?this.bb:this.ec.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{B1a:{get:function(){return this.ec.empty?this.Mc:this.ec.Re;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{M2:{get:function(){return this.ec.empty?this.Fc:this.ec.ce;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{D1a:{get:function(){return this.ec.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{S9:{get:function(){return this.ld.ce||this.ec.ce;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{$o:{get:function(){return this.yp.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{zp:{get:function(){return this.ld.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{OV:{get:function(){return this.ec.concat(this.ld);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{epa:{get:function(){return this.Fg;},enumerable:!0,configurable:!0}});c.prototype.bB=function(a){var b;a.Bl?++this.b_:this.Km+=a.ne;if(this.empty)this.Fg=new k.tF(this,{});else if(a.bb!==this.xb&&a.bb===this.Fg.xb){b=a.xb;this.k9a(function(a,b){return a.bb-b.bb;},function(a){b=a.bb===b?a.xb:b;});b===this.xb&&this.Fg.y2();}a.iqb(this);};c.prototype.Br=function(a){a.Bl?--this.b_:this.Km-=a.ne;this.empty?this.Fg=void 0:a.bb!==this.xb&&a.xb<this.Fg.xb&&a.bb>=this.Fg.bb&&this.Fg.Naa(a.bb);a.Eoa();};c.prototype.push=function(b){this.bB(b);return a.prototype.push.call(this,b);};c.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.Br(b);return b;};c.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.Br(b);return b;};c.prototype.unshift=function(b){this.bB(b);return a.prototype.unshift.call(this,b);};c.prototype.Vl=function(b){this.bB(b);a.prototype.Vl.call(this,b);};c.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.Br(b);return!0;};c.prototype.splice=function(b,c){for(var d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];f=a.prototype.splice.apply(this,[b,c].concat(d));d.forEach(this.bB.bind(this));f.forEach(this.Br.bind(this));return f;};c.prototype.zmb=function(a){var b;b=this;this.reduce(function(c,d,f){d.Bl&&(a&&a(d,f,b),0===c.length||c[0].end!==f?c.unshift({start:f,end:f+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};c.prototype.QR=function(a){return this.yra(function(b){return b.QR(a);});};c.prototype.WC=function(a){return this.yra(function(b){return b.WC(a);});};c.prototype.wra=function(a){a=this.QR(a);return-1!==a?this.get(a):void 0;};c.prototype.xra=function(a){a=this.WC(a);return-1!==a?this.get(a):void 0;};c.prototype.jz=function(a){this.move(a);this.ky(a);};c.prototype.DK=function(a){this.Km+=a.ne-a.hk;this.YC(a);};c.prototype.ai=function(a){for(this.Km+=a.ne-a.hk;this.ld.first&&this.ld.first.complete&&(this.ec.empty?this.ld.first===this.c4:this.ld.first.bb===this.ec.xb);)this.zqb();this.Wu(a);};c.prototype.DU=function(a,b){this.Km-=a.ne;++this.b_;this.bS(a,b);};return c;}(d.WGa);f.eFa=a;c.li(m,a,!1);c.li(g.OM,a);},function(g,f,a){var d,h,m,c,k,q,p,l,n,y;function b(a,c){var d;d=a.Ce?b(a.Ce,c):[];d.push({Pb:a.xa.id,axa:a.Wa[c].Za});return d;}d=a(0);h=a(13);m=a(6);c=a(11);k=a(5);f=a(25);q=a(211);p=a(709);l=a(706);n=a(705);y=a(83);a=a(54);y=function(a){function f(b,c,d,f,g,h){var k;k=a.call(this,f)||this;k.V=b;k.nf=c;k.$b=d;k.$G=f;k.Rj=g;k.u=h;k.yBa(f.K);k.$la();return k;}d.__extends(f,a);Object.defineProperties(f.prototype,{Rz:{get:function(){return 0<this.Ez;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{nba:{get:function(){return!this.lx;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ez:{get:function(){return this.sa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{$o:{get:function(){return this.sa.$o;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Qx:{get:function(){return this.sa.M2||(this.di?this.di.Qx:0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ye:{get:function(){return this.Lja();},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{xu:{get:function(){return this.m_();},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Aj:{get:function(){return this.dTa();},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{wu:{get:function(){return this.ZSa();},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{$E:{get:function(){return this.sa.C1a;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{kt:{get:function(){return this.Mja();},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Qv:{get:function(){return this.kUa();},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Bya:{get:function(){return this.q0a();},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{NS:{get:function(){return this.sa.length>this.sa.$o;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{zp:{get:function(){return this.sa.zp;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{di:{get:function(){return this.$b.Ce&&this.$b.Ce.Wa[this.Rj].Za;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ukb:{get:function(){return this.sa.length-this.Im;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return this.sa;},enumerable:!0,configurable:!0}});f.prototype.yBa=function(a){this.K=a;this.Zc=this.K.error.bind(this.K);this.Ja=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.gb=this.K.log.bind(this.K);};f.prototype.q0a=function(){return this.u.Lr?this.sa.Gkb:this.sa.Fdb;};f.prototype.p4a=function(a,b,c,d){var f,g;f=this.u;this.u.JD&&a.$j()[this.Rj]-this.Kka()<b.aa&&(b.JD=this.u.JD);m.R(d)||(b.location=d.location,b.Db=d.Sb,b.Laa=d.jl);if(f.po){g=this.V&&this.V.HB;g&&(b.VV=g.Jl({ye:this.$G.ye,vU:f.g7a?f.vU:void 0}));}h.assert(!b.Up);b=f.f7a?new n.jFa(d,f,c.track,b,this.sa,this.K):a.yR(this.Rj)?new l.fFa(d,f,c.track,b,this.sa,!1,this.K):q.aX.create(d,f,c.track,b,this.sa,!1,this.K);b.yc(a,this.$G);this.TB(b);this.nf.sla(b);return b;};f.prototype.dZa=function(a,b){var c;c=this.$G;b.yc(a,this.$G);b.p1=!0;this.TB(b);b.complete?(this.p_(b),this.nf.Mxa(c,a.gc(b.Ya.da).Ya,b.za,b.Fc),this.bF(),this.Wu(b)):(b.active&&this.ky(b),b.Zza&&this.jy(b));};f.prototype.reset=function(){this.sa.forEach(function(a){a.Xd();});this.$la();};f.prototype.BAa=function(){this.lx=!1;};f.prototype.kYa=function(){this.sa.forEach(function(a){a.abort();});this.reset();};f.prototype.TB=function(a){this.sa.Vl(a);this.p_(a);a.Zp&&(this.lx=!1);};f.prototype.bF=function(){var a,b,c;b=this.$G.O;a=this.$b;if(a.active&&this.Im!==this.sa.length){if(a=a.Ce){c=a.ita(b);if(0!==c&&(a.Wa[b].CH(),c=a.ita(b),0!==c))return;}for(var c=this.u.dhb,d=0;this.Im<this.sa.length;){if(a=this.sa.get(this.Im)){if(this.sa.Fra&&this.sa.Fra.bb<a.bb)break;if(!a.By())break;this.V.bf[b].PZa(a);++d;m.pa(this.Fc)||(this.Fc=a.Fc);}++this.Im;if(!m.R(c)&&d>=c)break;}}};f.prototype.$mb=function(a){var d;for(var b,c=0;c<this.sa.length;++c){d=this.sa.get(c);d&&a<d.ce&&(m.R(b)&&(b=c),d.Ph=!1);}m.R(b)||(this.Im=b,this.bF());};f.prototype.jqb=function(a,b,c){var d;d=this.u;0!==this.sa.$o&&this.sa.vDa.first.P!==b&&(d.ff&&this.Oh("setSelectedBitrate new bitrate: "+b),this.mYa(a,c));};f.prototype.lYa=function(a){a=this.sa.WC(a);if(-1!==a)for(;++a<this.sa.length;)this.Rt(this.sa.get(a));this.x0();this.bF();};f.prototype.mYa=function(a,b){var c,d,f;c=this;d=[];if(0!==this.sa.$o){f=this.sa.S9;this.sa.vDa.jba(function(b){if(!m.R(a)&&b.Ya.da!==a||b.Zp||f>b.Fc)return!0;b.UR&&(c.lx=!1);if(!c.Rt(b))return c.Ja("request abort failed:",b.toString()),!0;d.unshift(b);});this.x0();d.length&&"function"===typeof b&&b(d);}};f.prototype.uV=function(){this.x0();};f.prototype.Bmb=function(a,c){var d,f,g,h;d=this.u;f=a;g=this.V.kb.YBa;if(a>g){f=a-g;h=function(a,b){var g,h,k;g=!1;h=0;k=b.some(function(b){if(f<b.ce)return g&&a.p_(b),!0;++h;b.Ph||(a.Ja("pruning unappended request:",b&&b.toString()),d.ff&&a.Oh("prune pts:"+f+" unappended request:"+(b&&b.toString())),b.UR&&(a.lx=!1,g=!0),a.Rt(b,c)||a.Zc("MediaRequest.abort error:",b.Wh));});0<h&&(b.splice(0,h),a.Im-=Math.min(h,a.Im));return k;};b(this.$b,this.Rj).some(function(a){a=a.axa;return h(a,a.sa);});return f;}};f.prototype.Rab=function(){return this.sa.empty?null:Math.min(this.sa.epa.ce,this.sa.S9);};f.prototype.qta=function(){var a,c,d,f,g,h;a=this.u;c=null;d=null;f=0;g=0;h=[];b(this.$b,this.Rj).forEach(function(b){var k;b=b.axa.sa;m.pa(b.Fc)&&(null===d||b.Fc<d)&&(d=b.Fc);k=a.Lr?b.S9:b.ce;m.pa(k)&&(null===c||k>c)&&(c=k);f+=b.Rv;g=a.dba?g+b.bnb:g+b.Toa;Array.prototype.push.apply(h,b.OV.$);});return{Clb:c,Fc:d,Rv:f,km:g,$:h};};f.prototype.XC=function(a,b,c){return this.yka(a,!1,b,c);};f.prototype.S8a=function(a){return this.yka(a,!0,void 0,void 0);};f.prototype.lca=function(a,b){var c,d;c=this;d=[];this.sa.forEach(function(f){var g;g=f.EW(a[f.O],b);1===g||2===g?d.push(f):3===g&&c.yi("swapUrl failure");});return d;};f.prototype.Ri=function(a){this.u.cL&&this.$mb(a);};f.prototype.Ov=function(a){a.Cy&&a.By()&&this.bF();this.jy(a);};f.prototype.ai=function(a){a.Cy&&!a.Ph&&this.bF();this.Wu(a);};f.prototype.t1=function(a){var b,d,f;b=this.Rj===c.L.VIDEO?"v_":"a_";d=this.sa;f=d.WC(a);a=0<=f?d.get(f):void 0;return(d=0<=f&&f+1<d.length?d.get(f+1):void 0)&&a?a.ce!==d.Fc?b+"rg":a.complete&&d.complete?b+"uk":b+"fd":b+"rm";};f.prototype.kUa=function(){return this.sa.zp+(this.u.Lr?0:this.sa.$o);};f.prototype.dTa=function(){return void 0===this.sa.Fc?0:this.sa.ce-this.sa.Fc;};f.prototype.ZSa=function(){var a,b;a=this.m_(!0);b=this.Lja(0,!0);return{aa:a,wf:b};};f.prototype.Lja=function(a,b){void 0===a&&(a=this.V.ja.gf());a=b?Math.max(this.sa.Fc,a):a;return Math.max(this.sa.M2-a,0)||0;};f.prototype.m_=function(a){var b;b=this.sa.D1a;return a||!this.di?b:b+(this.di.sa.M2>=this.sa.Fc?this.di.m_():0);};f.prototype.Mja=function(){return this.sa.Toa+(this.di?this.di.Mja():0);};f.prototype.Kka=function(a){return(this.$b.Ce&&this.$b.Ce.Wa&&void 0!==a&&this.$b.Ce.Wa[a]?this.$b.Ce.Wa[a].Za.Kka(a):0)+this.sa.aa;};f.prototype.$la=function(){this.sa=new p.eFa(this.K,this);this.Im=0;this.Fc=null;this.lx=!1;};f.prototype.p_=function(a){this.lx?a.UR=!1:this.lx=a.UR=!0;};f.prototype.Rt=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};f.prototype.x0=function(){var a,b;a=this;b=0;this.sa.zmb(function(c,d){d<a.Im&&++b;});this.Im-=b;};f.prototype.yka=function(a,b,c,d){for(var f,g=this;g;){f=g.sa;if(f.length&&(f=b?f.wra(a):f.xra(a))&&(void 0===c||c===f.Ya.da))return f;if(d)break;g=g.di;}};f.prototype.yi=function(a){a={type:"streamingFailure",msg:a};this.na(a.type,a);};f.prototype.Oh=function(a){a={type:"managerdebugevent",message:"@"+k.time.ea()+", "+a};this.na(a.type,a);};return f;}(y);a(f.EventEmitter,y.prototype);g.T=y;},function(g,f,a){var b,d,h,m,c,k,q,p,l,n;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(83);d=a(5);h=a(710);m=a(6);c=a(200);k=a(11);q=a(59);p=a(358);l=a(24);n=a(13);a=function(a){function f(b,c,f,g,k,q,m,t){var u;u=a.call(this,g)||this;u.V=b;u.nf=c;u.K=f;u.Pb=g;u.O=k;u.cb=q;u.Baa=m;u.u=t;u.vja=!1;u.kb=b.kb;u.XUa();u.Odb=q;u.cb=q;u.PE=new p.LZ(void 0,m,t,g.Ce?g.Ce.Wa[k].PE:void 0);u.L7=d.time.ea();u.Zeb=void 0;u.Za=new h(b,c,g,u,k,t);u.Za.addEventListener("streamingFailure",function(a){b.yi(a.msg,u.Pb.da);});t.ff&&u.Za.addEventListener("managerdebugevent",function(a){l.na(b,a.type,a);});u.Zhb=1===k?t.iU:t.aU;u.dU=(1===k?t.TD:t.PD)||t.dU;u.Gp=!1;u.b2=0;u.Wy=t.d7;u.nza=d.time.ea();u.hH=!1;t.kl&&(u.cz=0,u.Hz=0,u.Sx=0);return u;}b.__extends(f,a);Object.defineProperties(f.prototype,{Rz:{get:function(){return this.Za.Rz;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{nba:{get:function(){return this.Za.nba;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ii:{get:function(){return this.Pb.xa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Qx:{get:function(){return this.Za.Qx;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ye:{get:function(){return this.Za.ye;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{xu:{get:function(){return this.Za.xu;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Aj:{get:function(){return this.Za.Aj;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{wu:{get:function(){return this.Za.wu;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{$E:{get:function(){return this.Za.$E;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{kt:{get:function(){return this.Za.kt;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Q_a:{get:function(){var a;a=this.V.$j()[this.O];return this.Za.kt/a;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{R_a:{get:function(){var a;a=this.V.$j()[this.O];return this.Za.qta().km/a;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{NS:{get:function(){return this.Za.NS;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ez:{get:function(){return this.Za.Ez;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Xb:{get:function(){return this.Pb.vta(this.O);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Dg:{get:function(){return this.vja;},set:function(a){this.vja=a;},enumerable:!0,configurable:!0}});f.prototype.reset=function(a,b){this.Gp=!1;this.seeking=void 0;this.Dg=!1;this.Za.reset();a&&(this.uE=!0);this.yV={reason:b,time:d.time.ea()};};f.prototype.Ri=function(a){this.Za.Ri(a);this.Wy=this.u.d7;};f.prototype.CH=function(){this.Za.bF();};f.prototype.LBa=function(a,b,d){var f;this.ema=b;this.E0=d;d=this.V;f=this.O;d.oe.Wtb(f,b.Xb,a);0===f&&(this.hH=c.cna(this.u,b.Xb[0]));d.uUa(this,b.Qy);this.o0a(b.Xb);d.oe.j1a();this.Dg=!1;};f.prototype.cqb=function(a,b){var c;if(this.u.UB){c=this.Za.Rab();null!==c?(this.cb=c,this.$h=c===a?b:this.V.gc(this.Pb.da).PR(this.O,this.cb)):(this.Ja("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.cb=a,this.$h=b);}else this.cb=a,this.$h=b;};f.prototype.$s=function(a){var b,c,d;if(this.vh&&this.vh.U===a)b=this.vh.index,c=a;else{d=this.V.gc(this.Pb.da);b=d.Ya.Tc[this.O];if(!b||!b.stream.ed){this.pq=a;return;}c=b.$;this.vh=this.ura(b.stream,a,void 0,void 0);if(void 0===this.vh){if(b=c.length-1,c=c.fg(b),this.Ja("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",d.tg),d.tg){this.pq=a;return;}}else b=this.vh.index,c=this.vh.U;}this.$h=b;this.cb=c;this.pq=void 0;};f.prototype.oob=function(a){this.$s(a);this.Dg=!1;this.ba=void 0;this.Za.BAa();};f.prototype.nob=function(a){this.vh=a;this.Dg=!1;this.ba=void 0;this.$h=this.vh.index;this.cb=this.vh.U;this.pq=void 0;this.Za.BAa();};f.prototype.Aob=function(a){var b;b=this.V.gc(this.Pb.da).Ya.Tc[this.O];if(b&&b.stream.ed){for(var c=b.$;0<this.$h&&this.cb>a;)this.cb=c.fg(--this.$h);this.$h<this.vh.index&&(this.vh=b.stream.Yf(this.$h));this.pq=void 0;}else this.pq=a;};f.prototype.Gub=function(a){var b,c;b=this.ema.Sp(a);c="verifying streamId: "+a+" stream's track: "+(b?b.za:"unknown")+" currentTrack: "+this.ema.fb;return b?!0:(this.V.Oh(c),this.V.Oh("unknown streamId: "+a),!1);};f.prototype.o0a=function(a){this.iua=a.reduce(function(a,b){return b.inRange&&b.hf&&!b.Og&&b.P>a.P?b:a;},a[0]);this.Zcb=a.indexOf(this.iua);};f.prototype.S7a=function(a){return 1===this.O?0:this.hH?0:this.u.Cn?a&&a.wf||0:this.u.bn&&a?-a.wf:0;};f.prototype.FL=function(){return 1===this.O&&this.u.qs||0===this.O&&this.u.bn;};f.prototype.ura=function(a,b,c,d,f){var g,h,k,p,q,m,l;n.assert(b>=a.$.fg(0));g=this.u;h=this.FL();k=a.$;p=b+0;0===this.O&&void 0===d&&h&&g.bo&&!g.Hx&&a.xj&&(b=Math.max(a.$.fg(0),b+a.xj.wf));q=k.Fi(p,void 0,!0);this.V.yR(this.O)&&(q=Math.floor(q/g.D9)*g.D9);m=a.Yf(q);if(m.ba<b)return m;if(h){p=1===this.O?p:b;l=m.RR(p);l?(0<l.em&&m.Dj({start:l.em}),0!==this.O||g.Wwa||l.Fd<(g.bo&&!g.Hx&&a.xj?Math.floor(a.xj.wf):0)&&m.Bqa()):p>=m.ba&&q<k.length-1&&(m=a.Yf(q+1));}1===this.O&&c&&m.ba===c&&q<k.length-1?m=a.Yf(q+1):0===this.O&&!h&&void 0!==d&&!g.Cn&&(c=b+d,c-m.U>g.Lgb||m.U<c-f)&&(m=a.Yf(q+1));h&&0===this.O&&!m.Ta&&(g.LJ||g.Jua||g.R6a)&&void 0!==d&&m.Dj({});m.CL(b);return m;};f.prototype.P8a=function(a,b){var c,d,f,g,h;d=this.u;if(d.kl&&(c=this.ZTa(a,b)))return c;c=a.$;f=c.Ha;g=b?b+this.S7a(f):c.OC(c.length-1);f=c.Fi(g,void 0,!0);c=a.Yf(f);0===f||c.U!==b||1!==this.O&&d.Cn||(--f,c=a.Yf(f));if(this.FL()){g=1===this.O?g:b;if(g<c.ba){h=c.U8a(g);h&&0!==h.em?c.Dj({end:h.em}):0===this.O&&(h||g<c.U)&&0!==f?c=a.Yf(f-1):1===this.O&&h&&0!==f&&(c=a.Yf(f-1));}0!==this.O||c.Ta||!d.LJ&&!d.Iua||c.Dj();}else 0===this.O&&!d.Cn&&b-c.U<c.duration/2&&0!==f&&(c=a.Yf(f-1));c.CL(b);return c;};f.prototype.BL=function(a){this.Yl=a;this.ba=a.ba;};f.prototype.UUa=function(a,b){var c,f,g,h,k,p;c=this.u;f=this.Pb;g=a.url;h=this.O;k=this.V.eb.Bb[h];b=b.$;p=this.$h;p>=b.length?this.Ja("makeRequest nextFragmentIndex:",p,"past fragments length:",b.length,"fastplay:",this.V.yk):(b=this.V.yR(h)?this.eUa(a,p):this.fUa(a,p))?(p=b.b4.FC(a.Ha),this.Hz+=p,this.V.ja.Wl()&&++this.b2,b.Zp&&1===h&&this.nf.l0(f.xa,b.ba),this.V.H0(h,b.U),b.HBa(new q.dc(f.Pc,1E3)),d.time.ea(),f=this.Za.p4a(this.V,b,k.ik,a),f.Pv()?(f.Hz=p,k.Bva=a.Sb,m.pa(k.Pl)||(k.yo=a.jl,k.GJ=a.GJ||-1,k.Pl=a.P,k.Ldb=a.zaa,m.R(a.zaa)||this.V.Kd.CBa(a.zaa,a.Ul,a.Wk)),g&&(k.N7=b.url),c.AR&&this.kb.Ye.TB(d.time.ea(),b.aa),this.V.EG(this)||this.Ja("!continueDriving in requestCreated"),this.cqb(f.Re,b.vK),this.V.oTa(this),this.V.oh()):(this.Ja("MediaRequest.open error: "+f.Wh+" native: "+f.sj),7!==f.readyState&&(this.Ja("makeRequest caught:",f.Wh),this.V.yi("MediaRequest open failed (1)",this.Pb.da,"NFErr_MC_StreamingFailure")))):this.Ja("makeRequest unable to get valid fragment");};f.prototype.jz=function(a){a.ba&&a.U&&(this.Wy-=a.ba-a.U);this.ky(a);};f.prototype.Ov=function(a){this.jy(a);};f.prototype.ai=function(a){this.Wu(a);};f.prototype.Ntb=function(a){var b;b=d.time.ea();this.Wy+=a*(b-this.nza);this.nza=b;};f.prototype.mob=function(){this.Wy=this.u.d7;};f.prototype.CQ=function(a){var b,c;b=this.u;if(!b.kl){c=this.Pb;!c.xa.TE||this.V.yB||this.V.hP||(m.R(a)&&(a=this.V.ja.gf()||0),a-=c.Pc,this.Dg&&!this.Wq&&a+b.Asb>=this.ba&&0===this.Za.Qv&&0===this.Za.$o&&this.nf.CVa(this,this.V.xe,this.V.ub.length));}};f.prototype.Nta=function(a){var b,c,d,f;b=this.u;c=this.Pb;d=a.Ya.da;f=this.V;f.ja.t7()||f.ja.We()||(this.nf.XVa(a.O,d,this.E0,this.Qx),b.kl&&(this.Sx+=a.Hz,this.Ja("handleRequestDone, adding frames:",a.Hz,"total frames:",this.Sx,"needed frames:",c.Ng(a.O).cz)),f.Vt()||(b=c.Ng(k.L.VIDEO))&&!b.Gp&&b.NS&&f.eb.AS(b),this.CQ(),f.scb(a),f.Uh.EG(this)&&f.Uh.oh());};f.prototype.toJSON=function(){return{started:this.Rz,startOfSequence:this.nba,segmentId:this.ii,requestedBufferLevel:this.Aj,manifestIndex:this.Pb.da,hasFragments:this.NS};};f.prototype.XUa=function(){this.K=l.GD(d,this.K,"["+this.O+"]");this.Zc=this.K.error.bind(this.K);this.Ja=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.gb=this.K.log.bind(this.K);this.Zt=this.K.debug.bind(this.K);this.Za&&this.Za.yBa(this.K);};f.prototype.fUa=function(a,b){var c,d;c=a.$;d=b===this.vh.index;b===this.Yl.index?(a=a.Msa(this.Yl),a.CL(this.Yl.pw),a.y8()):d?(a=a.Msa(this.vh),a.CL(this.vh.pw)):a=a.Yf(b);a.vK=b+1;if(!a.Ta&&!this.V.Xp)for(++b;b<c.length&&b<this.Yl.index&&(a.aa<this.Zhb||a.duration<this.dU);++b)a.q1(c.get(b)),a.vK=b+1;return a;};f.prototype.eUa=function(a,b){var c,f;c=this.u;f=a.$;a=a.Yf(b);a.vK=b+1;if(!a.Ta)for(++b;b<f.length&&b<this.Yl.index&&(a.duration<this.dU||0!==b%c.D9);++b)a.q1(f.get(b)),a.vK=b+1;a.ifb=this.V.QO+(d.time.ea()-this.V.RO);return a;};f.prototype.ZTa=function(a,b){var d,f;d=this.u;if(d.kl){f=a.$;if(f){if(1===this.O)b=f.Fi(d.kl*a.Ha.wf,void 0,!0),f=a.Yf(b),f.Dj({start:0,end:d.kl-b*f.b4.FC(a.Ha)}),this.cz=d.kl;else{d=c.bta(d,this.V.Fv)+d.UZa*a.Ha.wf;b+=d;d=Math.ceil(b/a.Ha.wf);b=f.Fi(b,void 0,!0);for(var g=0,h=0;h<b;++h)f=a.Yf(h),g+=f.b4.FC(a.Ha);g=d-g;f=a.Yf(b);f.Dj({end:g});this.cz=d;}f.y8();return f;}}};return f;}(g);f.Dha=a;},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(48);h=a(6);m=a(711);g=a(83);c=a(11);k=a(153);q=a(5);p=a(24).GD;a=function(a){function f(b,d,f,g,k,l,t,u,n,z){var y,r;y=a.call(this,b)||this;y.V=b;y.nf=d;y.K=f;y.kb=g;y.xa=l;y.U=t;y.da=u;y.Ce=n;y.active=!1;y.u=b.u;y.Ce=n;y.xa=l;y.U=t;y.co=l.co;y.children=Object.create(null);y.Gq=[];y.yWa=l.id&&l.id.length?"{"+l.id+"}":"";y.K=p(q,f,y.yWa);y.Zc=y.K.error.bind(y.K);y.Ja=y.K.warn.bind(y.K);y.Ek=y.K.trace.bind(y.K);y.gb=y.K.log.bind(y.K);y.Zt=y.K.debug.bind(y.K);d=b.gc(u);y.Pc=d.qn;y.j0=d.Ya.M;y.da=u;y.Vc=void 0;h.pa(z)||(z=t);y.Wa=[];r=k.Drb;[c.L.AUDIO,c.L.VIDEO].forEach(function(a){var c;if(b.ug(a)){c=new m.Dha(b,y.nf,y.K,y,a,z,r[a],y.u);y.Wa[a]=c;}});y.Aua(u);return y;}b.__extends(f,a);Object.defineProperties(f.prototype,{M:{get:function(){return this.j0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Aj:{get:function(){return[this.Wa[0].Aj,this.Wa[1].Aj];},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{wu:{get:function(){return[this.Wa[0].wu,this.Wa[1].wu];},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{qn:{get:function(){return this.V.gc(this.da).qn;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Mc:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Re:{get:function(){return this.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return h.pa(this.rka)?this.rka:this.xa.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Fc:{get:function(){return this.U+this.Pc;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ce:{get:function(){return this.ba+this.Pc;},enumerable:!0,configurable:!0}});f.prototype.toJSON=function(){return{segment:this.xa.id,active:this.active,branchOffset:this.Pc,manifestIndex:this.da,contentStartPts:this.U,contentEndPts:this.ba,playerStartPts:this.Fc,playerEndPts:this.ce,pipelines:this.Wa,previousBranch:this.Ce};};f.prototype.$pb=function(a){this.da=a;};f.prototype.Ng=function(a){return this.Wa[a];};f.prototype.vta=function(a){return this.V.gc(this.da).Op(a).Xb;};f.prototype.obb=function(a){return this.Wa[a].Ez;};f.prototype.ZC=function(a){return this.Wa[a].ye;};f.prototype.Aua=function(a){var b;b=this.V.gc(a);this.Wa.forEach(function(c){var d,f;d=c.O;f=b.Op(d);f&&(d=b.dsa(d,f.fb),c.LBa(a,f,d));});};f.prototype.Saa=function(a,b,c){var d,f,g,h,p,q,m,l,t,u;d=this;f=this.u;g=this.V;h=this.xa;p=this.da;q=g.gc(p);m=g.M;if(a){l=g.gc(a.da);l&&(m=l.Ya.M);}m=k.eQ(q.Ya.M,m);t=g.ug.bind(g);a=q.wQ(p,t,h.U,g.va,this,a,m);g=a.uz;u=a.ro;void 0===b&&(b=[0,1]);0===u.length||b.forEach(function(a){var b,g;b=d.Wa[a];c&&(b.vh=u[a]);g=q.ZI(t,d.Wa,h.ba,f);b.BL(g[a]);});return g;};f.prototype.aAa=function(a){var b,c,d,f,g;b=this.V;c=this.Wa[0];void 0===a&&(a=c.Odb);d=new m.Dha(b,this.nf,this.K,this,0,a,c.Baa,this.u);d.uE=!0;d.yV={reason:"audioTrackChange",time:q.time.ea()};this.Wa[0]=d;f=this.da;g=b.gc(f);b=g.Op(0);g=g.dsa(0,b.fb);d.LBa(f,b,g);this.Saa(this.Ce,[0],!0);d.$s(a);c.reset(!0,"audioTrackChange");h.ad(this.children,function(a){a&&a.aAa();});};f.prototype.CH=function(){this.Wa.forEach(function(a){a.CH();});};f.prototype.Xd=function(){this.Ce&&(this.Ce=this.Ce.children[this.xa.id]=void 0);h.ad(this.children,function(a){a&&a.Ce&&(a.Ce=void 0);});this.children=Object.create(null);this.kB=void 0;};f.prototype.ita=function(a){return this.Wa[a].Za.Ukb;};f.prototype.n0a=function(a){var b,c;b=this.dUa();b=this.Fka(a,b);if(0>b)return-1;b=a.OC(b);c=this.ba;c=this.Fka(a,this.co||c);return 0>c?-1:Math.max(b,a.fg(c));};f.prototype.zoa=function(){var a,b;if(!("number"!==typeof this.co||this.co>=this.ba)){a=this.V.gc(this.da).Ya.Tc[c.L.VIDEO];if(a){a=a.$;b=this.n0a(a);if(!(0>b)&&(b=a.Fi(b,0,!0),!(0>b)&&(b=this.Gka(b,a),(a=b<a.length&&a.OC(b))&&a<this.ba)))return a;}}};f.prototype.Ktb=function(a){this.Pc+=a;};f.prototype.CDa=function(a){var b,d,f;b=this;this.rka=a;d=this.V;f=d.gc(this.da);this.Wa.forEach(function(g){var h,k,p;h=g.O;k=f.Ya.Tc[h];p=k.$.Fi(a-1,0,!0);k=k.stream.Yf(p);g.BL(k);if(p=g.Za.S8a(k.Mc))p.y8(),h===c.L.VIDEO&&b.nf.l0(b.xa,k.ba);g.Za.lYa(a);d.bf[h].C0a(b.xa.id,a);g.cb>k.ba&&g.$s(k.ba);});};f.prototype.s2=function(a,b,d,f,g,h){var k,p,m,l,t,u;k=this.u;p=this.V;m=this.Wa[c.L.AUDIO];l=this.Wa[c.L.VIDEO];t=m?m.ye:0;u=l?l.ye:0;if(!f&&!g)return!0;if(d&&a.Ko>=k.Mi&&(k.Y$&&(h=a.Ko+1E3),k.Z$&&(!b.connected||!a.connected)))return!1;k.ff&&p.Oh("Branch checkBufferingComplete, audio: "+t+" video: "+u);if(k.kl){if(this.XSa)return this.Ja("checkBufferingComplete ignored because stallAtFrameCount already hit"),!0;a=l&&l.Sx<l.cz;if(!(m&&m.Sx<m.cz||a))return this.Ja("checkBufferingComplete with enough frames, declare bufferingComplete","audio:",m?m.Sx:"n/a","video:",l?l.Sx:"n/a"),this.XSa=!0,p.iH(),!0;}h=this.DQ(h);g&&(t>=k.Mi||h)&&(g=p.dB.fb,this.NSa(g,p.rh.k6(0,g)),p.dB=void 0);if(h)return p.iH(),!0;if(f){f=!l||u>k.Mi;if((!m||t>k.Mi)&&f&&(m=q.time.ea()-p.l_,m>=k.hE))return this.Ja("buffering longer than limit: "+m+" >= "+k.hE+", audio buffer: "+t+" ms, video buffer: "+u+" ms"),p.iH(),!0;this.nf.zVa();}return!1;};f.prototype.DQ=function(a,b){var d,f,g,h,k,p,q,m;d=this.u;f=this.V;g=this.Wa[c.L.AUDIO];h=this.Wa[c.L.VIDEO];k=g?b?g.Aj:g.ye:0;b=h?b?h.Aj:h.ye:0;a||(a=d.Mi);p=!f.Qh||g.Dg&&0===g.Za.Qv;q=!f.gg||h.Dg&&0===h.Za.Qv;m=p&&q;p=!p&&k<d.Mi;if(!m&&(p||!q&&b<a))return!1;if(h&&h.Gp||!f.gg)return!0;a=g?g.Za.$o:0;h=h?h.Za.$o:0;d=d.Lr&&(0!==a||0!==h);if(m&&!d)if(this.V.hP&&0===k&&0===b)this.Ja("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};f.prototype.Ppb=function(a){var b,c;b=this.u;c=this.V;this.Wa.forEach(function(a){a.seeking=void 0;});a&&(b.ff&&this.Wa.forEach(function(a){var b;if(a){b=c.bf[a.O]||{};a="bufferingComplete: , mediaType: "+a.O+", bufferLevelBytes: "+a.xu+", totalBufferMs: "+a.$E+", totalBufferBytes: "+a.kt+", partials: "+a.Za.Qv+", streamingPts: "+a.cb+", completeStreamingPts: "+a.Qx+", fragments: "+JSON.stringify(a.Za.$)+", toAppend: "+JSON.stringify(b.zi);c.Oh(a);}}),this.nf.AVa());};f.prototype.psa=function(){var a,b;a=!0;b={};this.Wa.map(function(d){var f;f=d.O===c.L.VIDEO?"v":"a";d=d.wu;b[f+"buflmsec"]=d.wf;b[f+"buflbytes"]=d.aa;a=a&&0<d.wf;});return{JS:a,SH:b};};f.prototype.eW=function(a,b){var c,d,f;c=this;d=q.time.ea();f={};h.ad(this.children,function(a){var b,g;if(a){a.Vc?(a.Vc.y6a=d-a.Vc.cT,a.Vc.cT=void 0,b=a.Vc.weight):b=c.kb.tta(c.xa.id,a.xa.id);g=a.psa();f[a.xa.id]={weight:b,SH:g.SH,JS:g.JS};}});b={requestTime:d,JV:a,A5a:b,cW:this.xa.id,Vc:f};a||(a=this.V.ja.gf(),b.eCa=a-this.U+this.Pc,b.dR=0,b.startTime=d);this.Gq.unshift(b);return b;};f.prototype.G1a=function(a){var b,c;b=this.Gq[0];b.JV&&(b.eCa=this.ba-this.U);c=a.psa();b.iDa={};d(c.SH,b.iDa);b.JS=a.wu.every(function(a){return 0<a.wf;});this.Gq=[];return b;};f.prototype.Ri=function(a){var b;b=this.xa;a-=this.Pc;if(b.U<a&&a<b.ba)this.Gq.shift();else if(b=this.Gq[0])b.Ri=!0;};f.prototype.S0a=function(){var a,b,c,d;a=this;b=this.kb;c=this.V;d=!0;h.ad(this.xa.mj,function(f,g){(f=b.gD(g))?(g=c.gc(f.da),f=g.Ya,f.Tc[0]&&f.Tc[1]&&f.Tc[0].stream.ed&&f.Tc[1].stream.ed||(d=!1),a.V.ja.kv(f.M)||g.gs||(d=!1)):a.Ja("invalid segment:",g,"in dests:",a.xa.mj);});return d;};f.prototype.reset=function(a,b){this.Wa.forEach(function(c){(h.R(b)||c.O===b)&&c.reset(!1,a);});this.Ce&&this.Ce.reset(a,b);};f.prototype.NSa=function(a,b){this.nf.xVa(a,b);};f.prototype.dUa=function(){var a,b;a=this.V;b=0;this.Wa.forEach(function(c){c=a.bf[c.O].yab()||0;c>b&&(b=c);});return b;};f.prototype.Fka=function(a,b){return a.Fi(b-1,0,!0);};f.prototype.Gka=function(a,b){var c,d;c=this.xa.atb;d=a>=b.length-1;if(!c||d)return d?b.length-1:a;this.HUa(c,b.OC(a))&&(a=this.Gka(a+1,b));return a;};f.prototype.HUa=function(a,b){var d,f;if(!a)return!1;for(var c=0;c<a.length;c++){d=a[c][0];f=a[c][1];if(b<d)break;if(b>=d&&b<f)return!0;}return!1;};return f;}(g);f.VFa=a;},function(g,f,a){var b,d,h,m,c,k,q,p,l;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);d=a(11);h=a(48);m=a(5);c=a(712);k=a(704);q=a(375);p=a(24);l=a(13);g=function(){function a(a,b,c,d,f,g,h){this.V=a;this.nf=b;this.K=c;this.Kd=d;this.u=h;this.Zc=this.K.error.bind(this.K);this.Ja=this.K.warn.bind(this.K);this.Ek=this.K.trace.bind(this.K);this.gb=this.K.log.bind(this.K);this.ul=[];this.Sj={};f?(this.k_=!0,this.oWa(f,g)):(this.zk=this.t_("",0,0,void 0,void 0,{},!0),this.zk.v9=!0,this.zk.ba=Infinity,this.HP=[this.zk]);this.$b=this.zO(this.zk,this.zk.U,0,void 0,g);this.$b.active=!0;this.iP=this.WO=void 0;}Object.defineProperties(a.prototype,{Xp:{get:function(){return!!this.k_;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qua:{get:function(){return 0===this.$b.Wa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{JJ:{get:function(){return this.zk;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Th:{get:function(){return this.$b.xa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ju:{get:function(){return this.$b.da;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{If:{get:function(){return this.$b;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rg:{get:function(){return this.$b.Wa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Yna:{get:function(){return this.ul;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Pc:{get:function(){return this.$b.Pc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bf:{get:function(){return this.V.bf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wj:{get:function(){return this.WO?this.WO:this.Yna[0];},enumerable:!0,configurable:!0}});a.prototype.gD=function(a){return this.Sj[a];};a.prototype.Y5=function(a){return"m"+a;};a.prototype.ZC=function(a){return(a=this.$b.Wa[a])?a.ye:0;};a.prototype.tta=function(a,b){var c;c=this.Sj[a];if(c)return(a=c.mj[b])&&a.weight;this.Ja("getSegmentWeight, unknown segment:",a);};a.prototype.ybb=function(a){var b;b=this.Sj[a];if(b)return b.U;this.Ja("getSegmentStartPts, unknown segment:",a);};a.prototype.ibb=function(){var a;a=this.wj.xa;return a&&("number"===typeof a.co?a.co:a.ba);};a.prototype.xbb=function(a){var c;c=this.Sj[a];if(!c)this.Ja("getSegmentDuration, unknown segment:",a);else if(b.pa(c.ba)&&isFinite(c.ba)&&b.pa(c.U)&&isFinite(c.U))return c.ba-c.U;};a.prototype.H4=function(a){return this.ul.filter(function(b){if(b.da===a)return!0;});};a.prototype.N8a=function(a,b){return this.vka(a,!1,b);};a.prototype.M8a=function(a,b){return this.vka(a,!0,b);};a.prototype.Wnb=function(a,c){b.ad(this.ul,function(b){b.da===a&&(b.da=c);});b.ad(this.Sj,function(b){b.da===a&&(b.da=c);});};a.prototype.zAa=function(){var a;a=this;b.ad(this.ul,function(b){b.Pc=a.V.gc(b.da).qn;});};a.prototype.SV=function(a){b.ad(this.ul,function(b){b.vta(d.L.VIDEO).forEach(function(b){h(q.y1(b.df,b.P,a),b);});});};a.prototype.H4a=function(){this.ul.forEach(function(a){a.active=!1;});};a.prototype.Amb=function(){var a;for(;0<this.ul.length;){a=this.ul[0];if(!a.active)break;if(a===this.$b)break;if(!a.Wa.every(function(a){return 0===a.Ez;}))break;a.Xd();this.ul.shift();}};a.prototype.r1a=function(a,b){var c,d;c=this.$b;if(c.fwa)a=c.fwa;else{d=this.$b.Pc;a=this.zO(c.xa,0,a,c);a.Wa.forEach(function(a){a.$s(0);a.BL(c.Wa[a.O].Yl);});a.Pc=d+b;c.fwa=a;}this.aB(a,c);};a.prototype.PYa=function(a,b,c){var d,f;if(!this.k_){this.k_=!0;d=this.Y5(0);this.zk.id=d;this.Sj[d]=this.zk;this.zk.ba=this.V.oab().Tsa();this.zk.fE=!0;}f=this.Y5(a);a=this.t_(f,a,b,c,void 0,{},!0);a.fE=!0;this.HP.forEach(function(a){a.mj={};a.mj[f]={weight:100};a.sI=f;a.TE=!1;});this.HP=[a];};a.prototype.Fu=function(a,c){var d,f,g,h;d=this.wj;f=d.eW(c);g=d.xa;h=d.children[a];if(c){if(!g.mj[a])return this.$b.Ja("chooseNextSegment, invalid destination:",a,"for current segment:",g.id),!1;if(d.qg)return d.qg===a;d.qg=a;h&&d.aS?this.aB(h,d):this.u.JI&&(a=d.zoa(),b.R(a)||d.CDa(a));return!0;}if(void 0!==d.qg)return!1;if(!h)return f.yxa=!0,!1;c||(f.yxa=!h.DQ());this.V.B0("chooseNextSegment");d.aS=void 0;d.qg=a;this.aB(h,d);return!0;};a.prototype.cdb=function(a,c){var d,f,g,h,k,p,q;d=this;h=a.xa;c&&!a.qg&&(a.qg=h.sI,a.eW(!0,!0));a.children=Object.create(null);if(this.u.Wjb)if(a.qg)f=this.Sj[a.qg],g=this.u_(f,a),a.children[a.qg]=g;else{b.ad(h.mj,function(a,c){f=d.Sj[c];a=f.weight;if(b.R(q)||a>q)k=f,p=c,q=a;});k&&(g=this.u_(k,a),a.children[p]=g);}else b.ad(h.mj,function(b,c){a.qg&&c!==a.qg||(f=d.Sj[c],g=d.u_(f,a),a.children[c]=g);});a.qg&&(c=a.children[a.qg])&&this.aB(c,a);a.aS=!0;};a.prototype.Rsb=function(){var a;a=0;b.ad(this.ul,function(b){b.Wa.forEach(function(b){a+=b.Za.zp;});});return a;};a.prototype.fsb=function(a,b){var c,d;c=this.$Ta(a,b);if(c){c!==this.$b.xa&&(this.H4a(),d=this.zO(c,a,b,this.$b),d.Ce=void 0,d.Saa(void 0,void 0,!0),this.ySa(this.$b),this.aB(d,this.$b));c===this.wj.xa&&(this.wj.Gq.shift(),d&&(d.Gq=this.wj.Gq,d.qg=this.wj.qg));this.nf.ula(c,this.$b.Pc);this.$b.aS=void 0;}else this.Ja("findSegment no segment for manifestIndex:",b);};a.prototype.mwa=function(a,b){var c;c=a.xa;b||(b=c.sI);p.tL(c.id);a.qg||(a.qg=b,a.eW(!0,!0));(b=a.children[a.qg])&&this.aB(b,a);};a.prototype.zBa=function(a,b){if(this.$b!==a){if(b)for(b=this.$b;b&&b!==a;)b.active=!1,b=b.Ce;this.$b=a;}};a.prototype.ap=function(a,b){var c,d,f,g,h;c=this;if(this.Xp){d=this.u;f=this.wj;g=f.xa;h=p.tL(g.id);!f.qg&&!g.TE&&f.ba-b<=d.jU&&(this.Ja(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.mwa(f));}this.$b.Wa.forEach(function(a){c.V.ug(a.O)&&c.bf[a.O].ap(b);});};a.prototype.Zib=function(a,b){var c,f;if(this.Xp){c=this.WO;if(this.u.vdb&&a&&this.iP&&a.U===this.iP)this.Ek("Ignoring pts that wiggled back into previous segment",this.iP);else if(a=a.Lf.Pb,!c||a.xa.id!==c.xa.id){f=c&&c.Wa[d.L.VIDEO].Yl;this.iP=f&&f.U;this.WO=a;this.SSa(c);c=c&&c.G1a(a);this.nf.TVa(a.xa,b,c);}}};a.prototype.Xd=function(){this.ETa(this.$b);};a.prototype.Pib=function(a,b,c){b.v9||(b.U=this.V.gta(a,b.U,!0),c||(b.ba=this.V.gta(a,b.ba,!1)),b.v9=!0);};a.prototype.eca=function(a,c){var d;p.tL(a);d=this.Sj[a];d?(b.ad(d.mj,function(a,b){a.weight=c[b]||0;}),a=this.Eka(d.mj),d.co="number"===typeof a?d.U+a:d.ba):this.Ja("updateChoiceMapEntry, unknown segment:",a);};a.prototype.Vka=function(a,b,c){var d;d=b?c.Re:c.ce;return(b?c.Mc:c.Fc)<=a&&a<d;};a.prototype.vka=function(a,c,d){var k;for(var f=this.V,g=this.$b;g;){if((!b.pa(d)||f.m7(d,g.da))&&this.Vka(a,c,g))return g;g=g.Ce;}if(c)for(var g=Object.keys(this.$b.children),h=0;h<g.length;h++){k=this.$b.children[g[h]];if((!b.pa(d)||f.m7(d,k.da))&&this.Vka(a,c,k))return k;}};a.prototype.u_=function(a,b){var c,f;c=this.zO(a,a.U,a.da,b);f=c.Saa(b,void 0,this.u.M$);[d.L.VIDEO,d.L.AUDIO].forEach(function(a){var g,h;g=c.Wa[a];h=b.Wa[a];a===d.L.VIDEO&&(h=h.cb+b.Pc,c.Pc=h-f[a],c.U=f[a]);g.$s(f[a]);});this.nf.ula(a,c.Pc);return c;};a.prototype.ySa=function(a){for(var b=[a.xa.id];a.Ce;)a=a.Ce,b.unshift(a.xa.id);this.a_(a);};a.prototype.a_=function(a){var c,d,f;c=this;d=a.xa;b.ad(a.children,function(a){a&&c.a_(a);});a.Wa.forEach(function(a){a.Za.kYa();});a.active=!1;a.Xd();f=-1;this.ul.some(function(b,c){return b===a?(f=c,!0):!1;});-1!==f?this.ul.splice(f,1):this.Ja("Unable to find branch:",a,"in branches array");this.nf.QVa(d);};a.prototype.aB=function(a,c){var d,f,g,h,k,p;d=this;f=c.xa;c.da!==a.da&&this.V.bla(a.da);a.active=!0;if(this.u.JI&&this.$b.active){g=this.$b.zoa();if(!b.R(g)){h=this.$b.ba;this.$b.CDa(g);a.Ktb(this.$b.ba-h);}}a.Wa.forEach(function(a){a.CH();});k=m.time.ea();p={};b.ad(c.children,function(b){b&&(b.Vc&&(b.Vc.ye=b.Wa.map(function(a){return a.wu.wf;}),b.Vc.y6a=k-b.Vc.cT,b.Vc.cT=void 0,p[b.xa.id]=b.Vc),b.xa.id!==a.xa.id&&d.a_(b));});c.children=Object.create(null);c.children[a.xa.id]=a;c.kB=void 0;this.zBa(a);this.nf.RVa(a.xa,p);1<Object.keys(f.mj).length&&a.DQ();};a.prototype.ETa=function(a){var b;b=this;0!==a.Wa.length&&(a.Wa.forEach(function(a){a.Za.reset();a.PE=void 0;a.active&&b.Zc("Destroying active pipeline!");}),a.Wa=[],a.Xd());};a.prototype.SSa=function(a){var b,c;if(a){b=m.time.ea();c=a.Gq[0];c&&void 0===c.dR?c.dR=b-c.requestTime:c||(this.Ja("missing metrics for branch:",a.xa.id),c={cW:a.xa.id,JV:!0,dR:0,Vc:{}},a.Gq.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.$Ta=function(a,c){var d,f,h,k;l.assert(0<=a);for(var g in this.Sj){h=this.Sj[g];if(this.V.m7(h.da,c)){if(h.U<=a&&(Infinity===h.ba||void 0===h.ba||a<h.ba))return h;k=Math.min(Math.abs(a-h.U),Math.abs(a-h.ba));if(b.R(d)||k<d)d=k,f=h;}}return f;};a.prototype.t_=function(a,b,c,d,f,g,h,p,q){b=new k.SQa(a,b,c,d,f,g,h,p,q);return this.Sj[a]=b;};a.prototype.oWa=function(a,c){var d,f,g;d=this;this.zk=void 0;this.HP=[];f=null;g=null;b.ad(a.segments,function(a,h){var k,p,q,m,l,t;k=a.startTimeMs;p=a.endTimeMs;q={};b.ad(a.next,function(b,c){q[c]={weight:b.weight||0,rKb:b.transitionHint||a.transitionHint,P6a:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});l=d.Eka(q);"number"===typeof l&&(m=k+l);t=a.defaultNext;b.R(t)&&(t=Object.keys(q)[0]);l=b.R(t);m=d.t_(h,0,k,p,t,q,l,m,a.transitionDelayZones);k<=c&&(c<p||b.R(p))?d.zk=m:k>c&&(!f||k<g)&&(f=h,g=k);l&&d.HP.push(m);});this.zk||(this.zk=f?this.Sj[f]:this.Sj[a.initialSegment]);};a.prototype.Eka=function(a){var c,f;f=0;b.ad(a,function(a){var b,g;b=a.weight||0;f+=0<b?1:0;g=a.earliestSkipRequestOffset;0<b&&a.transitionHint===d.tQa.Dda&&"number"===typeof g&&(void 0===c||c>g)&&(c=g);});return 1<f&&c;};a.prototype.zO=function(a,b,d,f,g){a=new c.VFa(this.V,this.nf,this.K,this,this.Kd,a,b,d,f,g);this.ul.push(a);return a;};return a;}();f.WFa=g;},function(g,f,a){var b,d,h,m,c,k,q,p,l,n,r,L,A,B,M,S,Q,W,E,ka,R,ba,Y,F,V,N,D,J,P,O,ha;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(25);h=a(6);m=a(713);c=a(195);k=a(703);q=a(11);p=a(699);l=a(381);n=a(362);r=a(698);L=a(687);A=a(686);B=a(351);M=a(684);S=a(153);Q=a(5);W=Q.qk;E=Q.Promise;ka=Q.MediaSource;R=a(83);ba=a(24);a(13);Y=a(682);F=a(681);V=a(680);N=a(679);D=a(54);J=a(678);P=a(677);O=a(676);g=a(40);ha=a(196).MCb;a=function(a){var w6L;w6L=2;while(w6L!==134){switch(w6L){case 23:f.prototype.oab=function(){var p8L,a;p8L=2;while(p8L!==4){switch(p8L){case 2:a=this.ub[0];return a.tg?this.ub[1]:a;break;}}};f.prototype.Aab=function(){var w4r=p933;var n8L,t3L,N3L;n8L=2;while(n8L!==1){switch(n8L){case 2:w4r.e8m(1);t3L=w4r.g8m(11,2,23);return this.ub[this.ub.length-t3L];break;case 4:w4r.H8m(2);N3L=w4r.G1m(11,13);return this.ub[this.ub.length%N3L];break;n8L=1;break;}}};f.prototype.K5=function(){var G8L;G8L=2;while(G8L!==1){switch(G8L){case 2:return this.ub.length;break;case 4:return this.ub.length;break;G8L=1;break;}}};f.prototype.m7=function(a,b){var F8L;F8L=2;while(F8L!==9){switch(F8L){case 5:a=this.ub[a];b=this.ub[b];return a.tg&&b.hK||b.tg&&a.hK;break;case 2:F8L=a===b?1:5;break;case 1:return!0;break;}}};f.prototype.p5=function(a){var f8L;f8L=2;while(f8L!==5){switch(f8L){case 2:f8L=(a=this.va.wj.children[a])?1:5;break;case 1:return{Pc:a.Pc,Fc:a.Fc,ce:a.ce,Mc:a.Mc,Re:a.Re};break;}}};f.prototype.T5=function(){var u8L,a;u8L=2;while(u8L!==4){switch(u8L){case 2:a=this.va.wj;return{id:a.xa.id,Pc:a.Pc,Fc:a.Fc,ce:a.ce,Mc:a.Mc,Re:a.Re};break;}}};f.prototype.gqb=function(){var q8L;q8L=2;while(q8L!==5){switch(q8L){case 2:this.hP=!1;this.va.rg.forEach(function(a){var V8L;V8L=2;while(V8L!==1){switch(V8L){case 4:a.CQ();V8L=4;break;V8L=1;break;case 2:a.CQ();V8L=1;break;}}});q8L=5;break;}}};f.prototype.eca=function(a,b){var U8L;U8L=2;while(U8L!==1){switch(U8L){case 2:return this.va.eca(a,b);break;case 4:return this.va.eca(a,b);break;U8L=1;break;}}};f.prototype.nTa=function(){var g8L,a,b;g8L=2;while(g8L!==9){switch(g8L){case 1:g8L=b<this.ub.length?5:3;break;case 4:++b;g8L=1;break;case 2:b=0;g8L=1;break;case 5:a=this.ub[b],a.T7.clear(),a.Xd();g8L=4;break;case 3:this.ub.length=0;g8L=9;break;}}};f.prototype.BO=function(a){var r8L,b;r8L=2;while(r8L!==3){switch(r8L){case 2:b=new n.Mfa(this,this.kb.Ye,this.kb.AD,!this.yk,this.u);b.tH(a);return b;break;}}};f.prototype.open=function(){var y8L,a,b,c,d,f,g,k,p,m,P8m,J8m,m8m,X8m,o8m,a8m,M8m,c8m,N8m,U8m,V8m;y8L=2;while(y8L!==28){P8m="NFEr";P8m+="r_MC_StreamingInitFail";P8m+="ure";J8m="startPts must be a positive nu";J8m+="m";J8m+="ber, not ";m8m="he";m8m+="a";m8m+="d";m8m+="er";m8m+="s";X8m="c";X8m+="reateMediaSourc";X8m+="eEnd";o8m="NFErr_MC_";o8m+="St";o8m+="reamingInitFailure";a8m="ex";a8m+="ce";a8m+="ption in ";a8m+="init";M8m="Er";M8m+="ro";M8m+="r";M8m+=":";c8m="createMedia";c8m+="S";c8m+="ourceStart";N8m="E";N8m+="r";N8m+="ro";N8m+="r";N8m+=":";U8m="st";U8m+="a";U8m+="rtp";U8m+="lay";V8m="l";V8m+="ogda";V8m+="ta";switch(y8L){case 3:b=this.u;y8L=9;break;case 34:this.$a.LVa(d[q.L.AUDIO],d[q.L.VIDEO]);m=function(){var w8L,A8m;w8L=2;while(w8L!==5){A8m="shutdo";A8m+="wn de";A8m+="tec";A8m+="ted b";A8m+="efore startRequests";switch(w8L){case 2:a.$a.NVa();a.we()?a.Ja(A8m):a.vXa(c);w8L=5;break;}}};b.B5a?setTimeout(function(){var W8L;W8L=2;while(W8L!==1){switch(W8L){case 4:a.Oja(c).then(m);W8L=3;break;W8L=1;break;case 2:a.Oja(c).then(m);W8L=1;break;}}},0):this.Oja(c).then(function(){var m8L;m8L=2;while(m8L!==1){switch(m8L){case 4:setTimeout(m,7);m8L=5;break;m8L=1;break;case 2:setTimeout(m,0);m8L=1;break;}}});d={type:V8m,target:U8m,fields:{audiogapconfig:b.QD,audiogapdpi:this.Pe.Qc&&this.Pe.Qc.QD}};this.emit(d.type,d);y8L=28;break;case 23:throw this.Ek(N8m,p.error),p.error;y8L=22;break;case 17:this.$a.yr(c8m);p=new ka(this.ja.$H);y8L=15;break;case 5:y8L=!h.pa(this.jH)||0>this.jH?4:3;break;case 6:this.gg&&(d.push(1),f.push(1));this.Qh&&(d.push(q.L.AUDIO),f.push(0));this.FI.DUa();this.mXa();y8L=11;break;case 24:y8L=!p.m1(d)?23:22;break;case 15:y8L=1===p.readyState?27:29;break;case 1:a=this;y8L=5;break;case 29:this.Ek(M8m,p.error),this.yi(a8m,void 0,o8m);y8L=28;break;case 27:this.$a.yr(X8m);p.Qc||(p.Qc=ka.Qc);this.Pe=p;y8L=24;break;case 9:c=this.M;d=[];f=[m8m];y8L=6;break;case 22:p.sourceBuffers.forEach(function(c){var Q8L,d,k8m,r8m,R8m,b8m,l8m;Q8L=2;while(Q8L!==14){k8m="m";k8m+="anagerdeb";k8m+="ugevent";r8m="l";r8m+="og";r8m+="d";r8m+="at";r8m+="a";R8m="e";R8m+="r";R8m+="r";R8m+="o";R8m+="r";b8m="r";b8m+="equest";b8m+="Appe";b8m+="nde";b8m+="d";l8m="he";l8m+="ad";l8m+="erAp";l8m+="pended";switch(Q8L){case 2:d=c.O;c=new B.YFa(a,a.eb.Bb[d].K,d,p,c,a.oe.bv(d),b);c.addEventListener(l8m,a.rUa.bind(a));Q8L=3;break;case 3:c.addEventListener(b8m,a.tUa.bind(a));c.addEventListener(R8m,function(b){var h8L,q8m;h8L=2;while(h8L!==1){q8m="N";q8m+="FE";q8m+="r";q8m+="r_MC_Str";q8m+="eamingFailure";switch(h8L){case 2:a.yi(b.errorstr,void 0,q8m);h8L=1;break;}}});Q8L=8;break;case 8:c.addEventListener(r8m,function(b){var e8L;e8L=2;while(e8L!==1){switch(e8L){case 4:ba.na(a,b.type,b);e8L=7;break;e8L=1;break;case 2:ba.na(a,b.type,b);e8L=1;break;}}});b.ff&&c.addEventListener(k8m,function(b){var S8L;S8L=2;while(S8L!==1){switch(S8L){case 2:ba.na(a,b.type,b);S8L=1;break;case 4:ba.na(a,b.type,b);S8L=7;break;S8L=1;break;}}});a.bf[d]=c;Q8L=14;break;}}});this.$v&&this.$a.wVa();d=this.L5();y8L=34;break;case 4:this.yi(J8m+this.jH,void 0,P8m);y8L=28;break;case 11:this.vP=!1;g=b.wH;this.kb.Pg&&this.kb.Pg.xH(g,this.Am.sessionId);k=this.FI.vTa(f,this.M);f.forEach(function(b,c){var O8L,n8m;O8L=2;while(O8L!==1){n8m="h";n8m+="e";n8m+="ad";n8m+="e";n8m+="rs";switch(O8L){case 2:n8m===b?a.NG=k[c]:a.eb.Bb[b].ik=k[c];O8L=1;break;}}});y8L=17;break;case 2:y8L=1;break;}}};f.prototype.flush=function(){var o8L;o8L=2;while(o8L!==1){switch(o8L){case 4:this.Av.flush();o8L=5;break;o8L=1;break;case 2:this.Av.flush();o8L=1;break;}}};w6L=43;break;case 2:b.__extends(f,a);Object.defineProperties(f.prototype,{If:{get:function(){var j6L;j6L=2;while(j6L!==1){switch(j6L){case 4:return this.va.If;break;j6L=1;break;case 2:return this.va.If;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{M:{get:function(){var i6L;i6L=2;while(i6L!==1){switch(i6L){case 2:return String(this.rh.Ya.M);break;case 4:return String(this.rh.Ya.M);break;i6L=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{oa:{get:function(){var s6L,I8m;s6L=2;while(s6L!==1){I8m="de";I8m+="pre";I8m+="cate";I8m+="d";switch(s6L){case 4:throw Error("");s6L=7;break;s6L=1;break;case 2:throw Error(I8m);s6L=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Xp:{get:function(){var x6L;x6L=2;while(x6L!==1){switch(x6L){case 2:return this.va.Xp;break;case 4:return this.va.Xp;break;x6L=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Fv:{get:function(){var Z6L;Z6L=2;while(Z6L!==1){switch(Z6L){case 4:return this.Pe.Qc;break;Z6L=1;break;case 2:return this.Pe.Qc;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Qh:{get:function(){var T6L;T6L=2;while(T6L!==1){switch(T6L){case 4:return this.ug(q.L.AUDIO);break;T6L=1;break;case 2:return this.ug(q.L.AUDIO);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{gg:{get:function(){var a6L;a6L=2;while(a6L!==1){switch(a6L){case 4:return this.ug(q.L.VIDEO);break;a6L=1;break;case 2:return this.ug(q.L.VIDEO);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{attributes:{get:function(){var C6L;C6L=2;while(C6L!==1){switch(C6L){case 2:return this.e_;break;case 4:return this.e_;break;C6L=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{T7:{get:function(){var R6L;R6L=2;while(R6L!==1){switch(R6L){case 2:return this.Rf;break;case 4:return this.Rf;break;R6L=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{da:{get:function(){var b6L;b6L=2;while(b6L!==1){switch(b6L){case 4:return this.xe;break;b6L=1;break;case 2:return this.xe;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{RK:{get:function(){var c6L;c6L=2;while(c6L!==1){switch(c6L){case 2:return 0<=this.XO?this.XO:0;break;case 4:return 7<this.XO?this.XO:6;break;c6L=1;break;}}},enumerable:!0,configurable:!0}});w6L=11;break;case 50:f.prototype.stop=function(){var b8L;b8L=2;while(b8L!==1){switch(b8L){case 2:this.Av.stop();b8L=1;break;case 4:this.Av.stop();b8L=9;break;b8L=1;break;}}};f.prototype.zE=function(a,b){var c8L;c8L=2;while(c8L!==1){switch(c8L){case 4:return this.Ro.zE(a,b);break;c8L=1;break;case 2:return this.Ro.zE(a,b);break;}}};f.prototype.seek=function(a,b){var t8L;t8L=2;while(t8L!==1){switch(t8L){case 4:return this.Ro.seek(a,b);break;t8L=1;break;case 2:return this.Ro.seek(a,b);break;}}};f.prototype.Dtb=function(a){var N8L,b,c,d,f,d8L,F8m,O8m,z8m,y8m,B8m;N8L=2;while(N8L!==17){F8m="u";F8m+="n";F8m+="derf";F8m+="low";O8m="bra";O8m+="nchOffset";O8m+=":";z8m="entry.";z8m+="man";z8m+="ifestOf";z8m+="fset:";y8m="c";y8m+="ont";y8m+="e";y8m+="n";y8m+="tPts:";B8m="underflow: going to";B8m+=" BUFFERING ";B8m+="at ";B8m+="player pts:";switch(N8L){case 9:f=c.QT;this.bf.forEach(function(b){var B8L;B8L=2;while(B8L!==1){switch(B8L){case 2:f=Math.max(0,Math.min(f,b.zab-a));B8L=1;break;}}});N8L=7;break;case 2:b=this;c=this.u;d=this.Ux(this.RK,a);this.Ja(B8m,a,y8m,d,z8m,this.rh.qn,O8m,this.va.Pc);N8L=9;break;case 7:c.by&&(this.QO=d+c.lsb,this.RO=Q.time.ea());this.va.rg.forEach(function(d){var D8L,f,g,p8m,K8m,i8m,S8m,d8m,C8m,L8m,h8m,D8m,j8m,w8m;D8L=2;while(D8L!==8){p8m="re";p8m+="bu";p8m+="ffer";K8m=",";K8m+=" ";K8m+="toAppend: ";i8m=", fr";i8m+="agment";i8m+="s: ";S8m=", c";S8m+="om";S8m+="pleteStreamingP";S8m+="ts: ";d8m=", str";d8m+="e";d8m+="amingP";d8m+="ts: ";C8m=", part";C8m+="i";C8m+="als: ";L8m=", totalBu";L8m+="f";L8m+="fe";L8m+="rBytes: ";h8m=", ";h8m+="totalBuf";h8m+="ferMs: ";D8m=", b";D8m+="ufferL";D8m+="e";D8m+="v";D8m+="elBytes: ";j8m=", me";j8m+="diaType";j8m+=": ";w8m="un";w8m+="de";w8m+="rflow";w8m+=":";w8m+=" ";switch(D8L){case 2:f=d.O;c.ff&&(g=b.bf[f],g=w8m+a+j8m+f+D8m+d.xu+h8m+d.$E+L8m+d.kt+C8m+d.Za.Qv+d8m+d.cb+S8m+d.Qx+i8m+JSON.stringify(d.Za.$)+K8m+JSON.stringify(g.zi));c.ff&&b.Oh(g);d.Gp=!1;c.po&&b.HB&&(d=b.HB,f=b.eb.Bb[f],d.Caa(p8m,f.N7));D8L=8;break;}}});this.emit(F8m);this.yP(2);this.Uh.oh();N8L=11;break;case 11:N8L=this.oo?10:20;break;case 10:try{d8L=2;while(d8L!==1){switch(d8L){case 2:this.r4(q.Ma.Hj);d8L=1;break;case 4:this.r4(q.Ma.Hj);d8L=7;break;d8L=1;break;}}}catch(qb){var t8m;t8m="Hindsight: Er";t8m+="ror when evaluating QoE at Buffering:";t8m+=" ";p933.H8m(0);this.$a.lq(p933.G1m(qb,t8m));}N8L=20;break;case 18:f>c.y8a&&d>c.x8a&&this.iH();N8L=17;break;case 20:d=this.kb.Ye.get(!1);d=d.Dc?d.ta.Fa:0;N8L=18;break;}}};f.prototype.Ri=function(a){var E8L;E8L=2;while(E8L!==1){switch(E8L){case 2:this.Ro.Ri(a);E8L=1;break;case 4:this.Ro.Ri(a);E8L=3;break;E8L=1;break;}}};f.prototype.Fu=function(a,b,c){var K8L;K8L=2;while(K8L!==1){switch(K8L){case 2:return this.Ro.Fu(a,b,c);break;case 4:return this.Ro.Fu(a,b,c);break;K8L=1;break;}}};f.prototype.bla=function(a){var P8L,b;P8L=2;while(P8L!==9){switch(P8L){case 4:this.$a.KVa(a,b);this.eb.zcb(b.replace);P8L=9;break;case 2:this.xe=a;b=this.ub[a];P8L=4;break;}}};f.prototype.tH=function(a,b){var A8L,c,d,f,g,p,m,l,t,G8m,s8m,E8m,W8m,u8m,Y8m,T8m,x8m,Q8m,Z8m,v8m,f8m;A8L=2;while(A8L!==41){G8m="addManifest:";G8m+=" pipelines already shutdow";G8m+="n";s8m=",";s8m+=" ";E8m=") la";E8m+="stStre";E8m+="amA";E8m+="p";E8m+="pended: (";W8m=",";W8m+=" ";u8m=" ";u8m+="str";u8m+="eamC";u8m+="ount: (";Y8m=" pl";Y8m+="ay";Y8m+="e";Y8m+="rSt";Y8m+="ate: ";T8m="addMan";T8m+="ifest, c";T8m+="u";T8m+="r";T8m+="rentPts: ";x8m="addManifes";x8m+="t ignored, p";x8m+="ipelines";x8m+=" already set EOS:";Q8m="v";Q8m+="ide";Q8m+="o_tracks";Z8m="a";Z8m+="ud";Z8m+="io_tr";Z8m+="acks";v8m="bo";v8m+="o";v8m+="le";v8m+="a";v8m+="n";f8m="addManifest in fastplay but not drm ";f8m+="manifest, leaving spa";f8m+="ce";f8m+=" for it";switch(A8L){case 28:return!0;break;case 29:A8L=this.Qh&&h.R(b)||this.gg&&h.R(f)?28:44;break;case 10:b.replace&&1!==g?g=1:this.yk&&!b.replace&&1===g&&(this.Ja(f8m),g=this.ub[0].clone(this),g.v8a=!0,this.ub.push(g),g=this.ub.length);f=b.U||0;p=b.ba;this.oe.Vnb(function(a,b){var J8L;J8L=2;while(J8L!==1){switch(J8L){case 2:a?c.oe.Mka(b):c.XD(b);J8L=1;break;}}});A8L=17;break;case 27:t=this.L5();b.replace&&l.forEach(function(a,b){var Y2L,d,f;Y2L=2;while(Y2L!==9){switch(Y2L){case 4:f=c.ub[0].Ya.As(b);f&&Object.keys(d).forEach(function(a){var l2L,c;l2L=2;while(l2L!==4){switch(l2L){case 2:c=f[a];c&&c.ed&&(d[a].NQ(c),a=m.dK,a[b]>t[b]&&(t[b]=a[b]));l2L=4;break;}}});Y2L=9;break;case 5:Y2L=d?4:9;break;case 2:d=m.As(b);Y2L=5;break;}}});l.forEach(function(a,b){var k2L,f;k2L=2;while(k2L!==4){switch(k2L){case 2:f=m.As(b);f&&Object.keys(f).forEach(function(a){var X2L,g;X2L=2;while(X2L!==3){switch(X2L){case 4:f[a].zDa(g,m.Xp()?d.Awa:0);X2L=3;break;case 2:g=c.$j(t)[b];1===b&&0<d.hq&&(g=Math.min(g,d.hq));X2L=4;break;}}});k2L=4;break;}}});a.hK=a.replace;a.gs=b.gs;v8m===typeof b.Jx?(a.Jx=b.Jx,a.Gx=b.Jx):(a.Jx=!0,a.Gx=!0);this.ub[g]&&this.ub[g].Xd();A8L=35;break;case 17:a=k.hga.Xra(this,this.u,this.K,a,{da:g,hBa:b.Ssb||[this.rh.rS(0),this.rh.rS(1)],tg:!1,Zr:b.Zr||this.j_,U:f,ba:p,c3:function(a){var L2L;L2L=2;while(L2L!==1){switch(L2L){case 2:return c.BO(a);break;case 4:return c.BO(a);break;L2L=1;break;}}},u6:this.M_,Zaa:this.HB,nAa:b.replace?this.ub[this.ub.length-1]:void 0});m=a.Ya;l=[Z8m,Q8m];A8L=27;break;case 13:b||(b={});b.h$&&(this.hP=!0);g=this.ub.length;A8L=10;break;case 2:c=this;d=this.u;A8L=4;break;case 9:f=this.va.rg;g=f[q.L.AUDIO];f=f[q.L.VIDEO];A8L=6;break;case 6:A8L=this.Qh&&g.Wq||this.gg&&f.Wq?14:13;break;case 44:this.pP(a,g);this.OP();return!0;break;case 14:this.Ja(x8m,g.Wq,f.Wq);A8L=41;break;case 4:A8L=this.we()?3:9;break;case 35:this.ub[g]=a;a.loa(g,this.gc.bind(this));b.replace||this.va.PYa(g,f,p);b=this.eb.Bb[q.L.AUDIO].Bo;f=this.eb.Bb[q.L.VIDEO].Bo;d.ff&&this.Oh(T8m+this.ja.gf()+Y8m+this.ja.dd()+u8m+a.Op(0).Xb.length+W8m+a.Op(1).Xb.length+E8m+b+s8m+f+")");A8L=29;break;case 3:this.Ja(G8m);A8L=41;break;}}};f.prototype.WP=function(a){var H2L;H2L=2;while(H2L!==1){switch(H2L){case 4:return this.Ro.WP(a);break;H2L=1;break;case 2:return this.Ro.WP(a);break;}}};f.prototype.sR=function(a){var p2L,b,c,d,f,A2m,e2m,H2m,g2m;p2L=2;while(p2L!==13){A2m=" ready";A2m+="St";A2m+="a";A2m+="te";A2m+=": ";e2m=" for ";e2m+="m";e2m+="ovieI";e2m+="d";e2m+=": ";H2m=",";H2m+=" ";g2m="drmRe";g2m+="ady at strea";g2m+="ming pts: ";switch(p2L){case 5:p2L=!this.we()?4:13;break;case 2:c=this.u;p2L=5;break;case 4:h.R(b)&&(b=!0);d=this.va.rg;f=d[q.L.AUDIO];p2L=8;break;case 8:d=d[q.L.VIDEO];c.ff&&this.Oh(g2m+f.cb+H2m+d.cb+e2m+a+A2m+b);p2L=6;break;case 6:p933.H8m(0);this.ja.Upb(p933.G1m("",a),b);b&&(this.bf.forEach(function(a){var n2L;n2L=2;while(n2L!==5){switch(n2L){case 2:c.S4&&a.l9a();c.RW&&a.resume();n2L=5;break;}}}),this.yk&&this.NP(this.Ro.xi?this.Ro.xi.da:this.xe+1),this.Ro.G_());p2L=13;break;}}};f.prototype.kv=function(){var G2L;G2L=2;while(G2L!==1){switch(G2L){case 2:return this.ja.kv(this.rh.Ya.M)||this.rh.gs;break;}}};f.prototype.Pja=function(a){var F2L,b,c,d,f;F2L=2;while(F2L!==20){switch(F2L){case 4:b=this.va.rg;c=b[q.L.AUDIO];b=b[q.L.VIDEO];F2L=8;break;case 1:F2L=a>=this.ub.length?5:4;break;case 2:F2L=1;break;case 7:d=!b||b.Dg;f=this.ub[a];b=f.Ya;F2L=13;break;case 5:return!1;break;case 8:c=!c||c.Dg;F2L=7;break;case 13:F2L=!(a===this.xe+1&&f.replace||c&&d)||!this.ja.kv(b.M)&&!f.gs?12:11;break;case 12:return!1;break;case 11:a=!this.gg||b.Tc[q.L.VIDEO]&&b.Tc[q.L.VIDEO].stream.ed;return(!this.Qh||b.Tc[q.L.AUDIO]&&b.Tc[q.L.AUDIO].stream.ed)&&a?!0:!1;break;}}};w6L=59;break;case 59:f.prototype.OP=function(){var f2L;f2L=2;while(f2L!==1){switch(f2L){case 2:this.NP(this.xe+1);f2L=1;break;case 4:this.NP(this.xe-9);f2L=2;break;f2L=1;break;}}};f.prototype.NP=function(a){var u2L,b;u2L=2;while(u2L!==14){switch(u2L){case 9:return!1;break;case 1:u2L=!this.Pja(a)?5:4;break;case 2:u2L=1;break;case 4:b=this.ub[a];u2L=3;break;case 5:return!1;break;case 3:u2L=b.v8a||!b.replace?9:8;break;case 8:this.CXa(a);this.Uh.oh();return!0;break;}}};f.prototype.CXa=function(a){var q2L,b,c,d,f,N2m,U2m,V2m;q2L=2;while(q2L!==15){N2m=",";N2m+=" ";U2m=",";U2m+=" str";U2m+="eamingPts: ";V2m="switchMan";V2m+="ifest";V2m+=" man";V2m+="ife";V2m+="stIndex: ";switch(q2L){case 2:b=this.ub[a];c=this.va.If;q2L=4;break;case 12:f=this.xe;d?this.va.Wnb(f,a):c.$pb(a);c.Aua(a);[q.L.VIDEO,q.L.AUDIO].forEach(function(a){var V2L,d;V2L=2;while(V2L!==4){switch(V2L){case 2:d=c.Ng(a);d&&!b.replace&&(b.ro?d.nob(b.ro[a]):(a=b.uz[a],d.oob(a)));V2L=4;break;}}}.bind(this));this.bla(a);b.ica(a,this.u,this.Qh,this.gg,this.va,this.$a);q2L=17;break;case 7:this.u.ff&&this.Oh(V2m+a+U2m+d+N2m+f);d=this.yk;this.yk=!1;b.Jx&&(b.Gx=!0);q2L=12;break;case 4:d=c.Ng(q.L.AUDIO);d=d?d.cb:void 0;f=c.Ng(q.L.VIDEO);f=f?f.cb:void 0;q2L=7;break;case 17:this.Ro.G_();this.Uh.oh();q2L=15;break;}}};f.prototype.wjb=function(){var U2L,a,b,c,c2m;U2L=2;while(U2L!==13){c2m="onAudioTrack";c2m+="Sw";c2m+="it";c2m+="chStarted ignored, no audio pipe";c2m+="line";switch(U2L){case 5:U2L=a?4:14;break;case 2:a=this.va.If.Ng(q.L.AUDIO);U2L=5;break;case 7:c.nF=!1;this.Uh.oh();U2L=13;break;case 4:b=this.ja.gf();c=this.eb.Bb[a.O];(b=a.Za.XC(b))&&b.Lf!=a&&(a=b.Lf);this.BWa(a);U2L=7;break;case 14:this.Ja(c2m);U2L=13;break;}}};f.prototype.gsb=function(a){var g2L,b,c,d,f,R2m,b2m,l2m,m2m,X2m,o2m,a2m,M2m;g2L=2;while(g2L!==22){R2m="switchTra";R2m+="cks ";R2m+="can't find t";R2m+="rackId:";b2m="switchTracks re";b2m+="j";b2m+="ected, bu";b2m+="ffe";b2m+="rLevelMs";l2m="switchTracks reje";l2m+="cted, buff";l2m+="ering";m2m="switchTracks rej";m2m+="ected, previous swit";m2m+="ch still in progress: ";X2m=" t";X2m+="o";X2m+=": ";o2m="sw";o2m+="it";o2m+="c";o2m+="hTrack";o2m+="s current: ";a2m="switchTracks rejected, previous s";a2m+="witch ";a2m+="sti";a2m+="ll waiting to start";M2m="switchTracks";M2m+=" re";M2m+="jected, audio dis";M2m+="ab";M2m+="led";switch(g2L){case 4:return this.Ja(M2m),!1;break;case 3:g2L=this.dB?9:8;break;case 12:d=this.va.ZC(q.L.VIDEO);g2L=11;break;case 13:return this.Ja(a2m),!1;break;case 26:b.ff&&this.Oh(o2m+f+X2m+d.fb);c.sU={fb:a};this.uXa(this.va.If.Ng(q.L.AUDIO));g2L=23;break;case 9:return this.Ja(m2m+JSON.stringify(this.dB)),!1;break;case 27:return!1;break;case 18:g2L=!d?17:16;break;case 14:g2L=c.nF?13:12;break;case 23:return!0;break;case 11:g2L=d<b.cU?10:20;break;case 7:return this.Ja(l2m),!1;break;case 8:g2L=this.ja.Wl()?7:6;break;case 10:return this.Ja(b2m,d,"<",b.cU),!1;break;case 2:b=this.u;g2L=5;break;case 15:g2L=f===d.fb?27:26;break;case 5:g2L=!this.Qh?4:3;break;case 6:c=this.eb.Bb[q.L.AUDIO];g2L=14;break;case 20:a=a.$B;d=this.rh.Ya.ES(a);g2L=18;break;case 16:f=this.rh.qS(0);g2L=15;break;case 17:return this.Ja(R2m,a),!1;break;}}};f.prototype.SV=function(a,b){var r2L;r2L=2;while(r2L!==1){switch(r2L){case 2:void 0!==b?this.gc(b).Op(1).Xb.forEach(function(b){var y2L;y2L=2;while(y2L!==1){switch(y2L){case 2:D(l.y1(b.df,b.P,a),b);y2L=1;break;}}}):(this.j_=a,this.va.SV(a));r2L=1;break;}}};f.prototype.XC=function(a,b,c){var O2L;O2L=2;while(O2L!==1){switch(O2L){case 2:return this.va.wj.Wa[b].Za.XC(a,void 0,c);break;}}};f.prototype.eC=function(a){var Q2L;Q2L=2;while(Q2L!==1){switch(Q2L){case 4:return this.Ro.eC(a);break;Q2L=1;break;case 2:return this.Ro.eC(a);break;}}};f.prototype.r4=function(a,b){var h2L,c,d;h2L=2;while(h2L!==8){switch(h2L){case 4:d=this.Kd.B$;a&&!a.VB&&d.q4(a);b?c.$$():(b=d.k$a(),this.$a.GVa(b));h2L=8;break;case 2:c=this.eb;a=c.G4(a,b);h2L=4;break;}}};f.prototype.xka=function(a,b){var e2L,c,d,f,r2m,q2m;e2L=2;while(e2L!==14){r2m="findNewS";r2m+="treamIndex unable to find stream f";r2m+="or bitrate: ";q2m=" re";q2m+="tu";q2m+="rning i";q2m+="ndex: ";switch(e2L){case 5:e2L=(d=a[f],d.hf&&!d.Og&&d.inRange)?4:8;break;case 2:f=a.length-1;e2L=1;break;case 4:e2L=d.P<=b?3:9;break;case 8:--f;e2L=1;break;case 1:e2L=0<=f?5:7;break;case 9:c=f;e2L=8;break;case 3:return f;break;case 7:p933.H8m(3);this.Ja(p933.g8m(b,q2m,r2m,c));return c;break;}}};f.prototype.oTa=function(a){var S2L,b;S2L=2;while(S2L!==3){switch(S2L){case 2:b=this.eb.Bb[a.O];S2L=5;break;case 5:b.Ki&&b.Ki.AQ&&(b.Ki.AQ=void 0);a.uE&&(b.Bo=void 0,b.Ki=void 0,b.$I=void 0,b.Pl=void 0,a.uE=void 0);S2L=3;break;}}};f.prototype.w0a=function(a,b,c){var w2L;w2L=2;while(w2L!==1){switch(w2L){case 2:return this.ub[b].v0a(q.L.VIDEO,a,c||!1);break;}}};w6L=70;break;case 11:Object.defineProperties(f.prototype,{rh:{get:function(){var t6L;t6L=2;while(t6L!==1){switch(t6L){case 2:return this.ub[this.xe];break;case 4:return this.ub[this.xe];break;t6L=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Zs:{get:function(){var N6L;N6L=2;while(N6L!==1){switch(N6L){case 4:return this.kb.Zs;break;N6L=1;break;case 2:return this.kb.Zs;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{$v:{get:function(){var B6L;B6L=2;while(B6L!==1){switch(B6L){case 4:return this.SWa;break;B6L=1;break;case 2:return this.SWa;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{i8:{get:function(){var D6L;D6L=2;while(D6L!==1){switch(D6L){case 2:return this.yB;break;case 4:return this.yB;break;D6L=1;break;}}},enumerable:!0,configurable:!0}});f.prototype.ug=function(a){var d6L;d6L=2;while(d6L!==1){switch(d6L){case 2:return this.M0[a];break;case 4:return this.M0[a];break;d6L=1;break;}}};f.prototype.L5=function(){var E6L;E6L=2;while(E6L!==1){switch(E6L){case 2:return(this.ub||[]).reduce(function(a,b){var K6L,c;K6L=2;while(K6L!==3){switch(K6L){case 2:c=b.Ya;[q.L.AUDIO,q.L.VIDEO].forEach(function(b){var P6L;P6L=2;while(P6L!==1){switch(P6L){case 2:c.dK[b]>a[b]&&(a[b]=c.dK[b]);P6L=1;break;}}});return a;break;}}},[0,0]);break;}}};f.prototype.$j=function(a){var A6L;A6L=2;while(A6L!==5){switch(A6L){case 2:a=a||this.L5();return this.kb.$j(a[0],a[1]);break;}}};f.prototype.wwa=function(){var J6L,a;J6L=2;while(J6L!==3){switch(J6L){case 2:a=0;h.forEach(this.rh.Ya.Ia.audio_tracks,function(b){var L8L;L8L=2;while(L8L!==1){switch(L8L){case 2:h.forEach(b.streams,function(b){var Y8L;Y8L=2;while(Y8L!==1){switch(Y8L){case 2:a=Math.max(a,b.bitrate);Y8L=1;break;}}});L8L=1;break;}}});return a;break;}}};f.prototype.jEa=function(){var l8L;l8L=2;while(l8L!==1){switch(l8L){case 2:return this.u.tub?!this.vP:!1;break;case 4:return this.u.tub?-this.vP:+2;break;l8L=1;break;}}};f.prototype.yR=function(a){var k8L;k8L=2;while(k8L!==1){switch(k8L){case 4:return this.u.by||a!=q.L.VIDEO;break;k8L=1;break;case 2:return this.u.by&&a===q.L.VIDEO;break;}}};f.prototype.ZC=function(a){var X8L;X8L=2;while(X8L!==1){switch(X8L){case 2:return this.va.ZC(a);break;case 4:return this.va.ZC(a);break;X8L=1;break;}}};f.prototype.gc=function(a){var H8L;H8L=2;while(H8L!==1){switch(H8L){case 4:return this.ub[a];break;H8L=1;break;case 2:return this.ub[a];break;}}};w6L=23;break;case 83:f.prototype.Oja=function(a){var b2L,b,c,d,f,z2m,J2m;b2L=2;while(b2L!==14){z2m="c";z2m+="atc";z2m+="h";J2m="checkFor";J2m+="HcdS";J2m+="tart";switch(b2L){case 4:b2L=!this.ZXa||!this.kb.Pg?3:9;break;case 2:b=this;c=this.u;b2L=4;break;case 3:return this.kb.e0a(),E.resolve();break;case 9:d=function(a,b){var c2L,c,d,f,g,k,p,k2m;c2L=2;while(c2L!==13){k2m="adoptPipe";k2m+="line ";k2m+="no hea";k2m+="der for streamId:";switch(c2L){case 9:c2L=p&&(d=p.za,c=p.Up.stream,h.R(b.jn)||this.Kd.CBa(b.jn,b.Ul,b.Wk),g.yo=b.yo,g.Pl=b.Pl,g.Ldb=b.jn,a.Gub(d))?8:13;break;case 8:c2L=!p.Up?7:6;break;case 2:f=a.O;g=this.eb.Bb[f];c2L=4;break;case 4:k=!this.yk&&!this.r_&&f===q.L.VIDEO;p=b[f];c2L=9;break;case 7:a.Zc(k2m,d);c2L=13;break;case 14:return b=this.oe.Tk(f,d).$,b=b.Fi(a.cb,void 0,!0),k=c.Yf(b),c=k.U,a.FL()&&(k=k.RR(a.cb))&&0<k.Fd&&(c=k.Fd),a.cb!==c&&(a.cb=c,a.$h=b,this.H0(f,c)),this.DSa(a,p.data),g.b9a=!0,f===q.L.AUDIO&&this.Kd.GE(p.Up.P),d;break;case 6:c2L=this.oe.Jma(a,this.xe,p.Up,k,!0)?14:13;break;}}}.bind(this);this.$a.yr(J2m);this.ub.forEach(function(b){var t2L;t2L=2;while(t2L!==1){switch(t2L){case 2:S.eQ(b.Ya.M,a)&&(f=b);t2L=1;break;}}});return this.kb.Pg.rgb(a,f?f.Ya:void 0).then(function(a){var N2L,f,g,k,B2m,I2m,n2m,P2m;N2L=2;while(N2L!==10){B2m="ad";B2m+="op";B2m+="tHc";B2m+="dEnd";I2m="adopt";I2m+="H";I2m+="c";I2m+="dStart";n2m="head";n2m+="erC";n2m+="acheDataNotF";n2m+="o";n2m+="und";P2m="check";P2m+="ForHcdEn";P2m+="d";switch(N2L){case 2:b.$a.yr(P2m);N2L=5;break;case 5:N2L=h.R(a)?4:3;break;case 4:c.wH||b.PP(n2m);N2L=10;break;case 3:f=b.va.rg;g=f[q.L.AUDIO];f=f[q.L.VIDEO];b.$a.yr(I2m);N2L=6;break;case 6:k=!0;b.gg&&(k=d(f,a));!b.Qh||c.Tcb&&!k||d(g,a);b.Oka=a;b.$a.yr(B2m);N2L=10;break;}}}).then(function(){var B2L,y2m;B2L=2;while(B2L!==1){y2m="a";y2m+="doptedComp";y2m+="let";y2m+="edRequests";switch(B2L){case 2:c.wH||b.Ff&&0!==b.Ff.length||b.PP(y2m);B2L=1;break;}}})[z2m](function(a){var D2L,O2m;D2L=2;while(D2L!==1){O2m="he";O2m+="aderCache:look";O2m+="upDataPromise caught";O2m+=" err";O2m+="or:";switch(D2L){case 4:b.Ja("",a);D2L=2;break;D2L=1;break;case 2:b.Ja(O2m,a);D2L=1;break;}}});break;}}};f.prototype.DSa=function(a,b){var d2L,c,d,f,p,g,k,j2m,w2m;d2L=2;while(d2L!==20){j2m="a";j2m+="doptDa";j2m+="ta, not ad";j2m+="opting failed mediaRequest:";w2m="adoptData, not a";w2m+="doptin";w2m+="g aborted ";w2m+="mediaRequest:";switch(d2L){case 2:d2L=1;break;case 8:c=a.O,g=this.eb.Bb[c];d2L=7;break;case 7:d2L=0<b.length?6:13;break;case 5:c=a.Pb;d=c.xa;f=Math.min(this.ub[0].ba||Infinity,c.ba||Infinity);this.kO=!0;d2L=8;break;case 1:d2L=0!==b.length?5:20;break;case 11:d2L=k||this.Ff&&this.Ff.length?10:20;break;case 13:k&&k.Lf.Nta(k);this.kO=!1;d2L=11;break;case 6:p=b.shift();d2L=14;break;case 10:b=this.ub[a.Pb.da],d=b.PR(c,a.cb),void 0!==d?(a.$h=d,a.vh=b.Ya.Tc[c].stream.Yf(a.$h)):a.$h=a.Yl?a.Yl.index+1:a.$h+1;d2L=20;break;case 14:7===p.readyState?a.Ja(w2m,p.toString()):6===p.readyState?(a.Ja(j2m,p.toString()),this.Rt(a,p,!1)):a.cb>=p.Mc&&a.cb<p.Re&&(a.cb<f||!h.pa(f))?(this.ESa(a,p),a.cb=p.Re,h.pa(f)&&a.cb>=f&&this.$a.l0(d,p.Re),c===q.L.AUDIO&&this.Kd.GE(p.P),p.complete?(g.Ko+=p.duration,p.Vfb&&(g.PK+=p.duration),k=p):(this.Ff||(this.Ff=[]),this.Ff.push(p))):this.Rt(a,p,!1);d2L=7;break;}}};f.prototype.ESa=function(a,b){var E2L,c,L2m,h2m,D2m;E2L=2;while(E2L!==9){L2m=",";L2m+=" ";L2m+="p";L2m+="ts:";L2m+=" ";h2m=", s";h2m+="t";h2m+="ate";h2m+=":";h2m+=" ";D2m="adoptM";D2m+="ediaRequ";D2m+="est: type:";D2m+=" ";switch(E2L){case 2:c=a.O;this.u.ff&&this.Oh(D2m+c+h2m+b.readyState+L2m+b.Mc);E2L=4;break;case 4:this.H0(c,b.Mc);a.Za.dZa(this,b);E2L=9;break;}}};f.prototype.pP=function(a,b,c,d){var K2L,f,g,k;K2L=2;while(K2L!==7){switch(K2L){case 9:a.y6=!0;a.tQ(b,this.gc.bind(this),this.u,this.Qh,this.gg,this.va,this.$a,this.K5.bind(this));K2L=7;break;case 2:f=this;g=a.Ya.M;k=a.Co;this.va.rg.forEach(function(p){var P2L,m,l,t,d2m,C2m;P2L=2;while(P2L!==6){d2m="requestHeadersFrom";d2m+="Manifest, unable to updat";d2m+="e urls";C2m="requestHeadersFromManifest, sh";C2m+="utdown detec";C2m+="te";C2m+="d";switch(P2L){case 4:l=a.Op(m);P2L=3;break;case 5:P2L=f.ug(m)&&(h.R(d)||m===d)?4:6;break;case 3:P2L=f.we()?9:8;break;case 2:m=p.O;P2L=5;break;case 9:f.Ja(C2m);P2L=6;break;case 8:t=f.eb.FD(p);k.BW(t,b,l.Xb)?(t=f.eb.Bb[m],t=f.xka(l.Xb,t.Bo?t.Bo.P:0),l=l.Xb[t],(t=f.oe.Tk(m,l.za))&&t.$?a.gca(p.O,t,b):f.oe.jI(p,g,l,{offset:0,JL:!1,Zx:m===q.L.VIDEO,ws:!0},b,c)):p.Ja(d2m);P2L=6;break;}}});K2L=9;break;}}};f.prototype.B0=function(a,b){var A2L,c;A2L=2;while(A2L!==3){switch(A2L){case 2:c=this;this.va.If.reset(a,b);(void 0===b?[q.L.AUDIO,q.L.VIDEO]:[b]).forEach(function(a){var J2L;J2L=2;while(J2L!==4){switch(J2L){case 2:c.bf[a].reset();J2L=1;break;case 1:c.WWa(a);c.Kd.Ijb(a);J2L=4;break;}}});A2L=3;break;}}};f.prototype.WWa=function(a){var L3L;L3L=2;while(L3L!==8){switch(L3L){case 2:a=this.eb.Bb[a];a.wv=void 0;a.K7=void 0;L3L=4;break;case 4:a.Ko=0;a.PK=0;a.connected=!1;L3L=8;break;}}};f.prototype.H0=function(a,b){var Y3L,c,d,S2m;Y3L=2;while(Y3L!==8){S2m="p";S2m+="tsch";S2m+="anged";switch(Y3L){case 5:Y3L=c.Ng(a)?4:8;break;case 2:c=this.va.If;Y3L=5;break;case 4:d=this.eb.Bb[a];h.R(d.Hk)&&(d.Hk=b,a===q.L.VIDEO&&this.Qh&&(a=this.eb.Bb[q.L.AUDIO],h.R(a.Hk)&&(c=c.Ng(q.L.AUDIO),c.$s(b)),this.emit(S2m,b)));h.R(d.TH)&&(d.TH=b);Y3L=8;break;}}};f.prototype.scb=function(a){var l3L,b,i2m;l3L=2;while(l3L!==4){i2m="a";i2m+="ll";i2m+="Com";i2m+="pl";i2m+="eted";switch(l3L){case 5:this.Ff&&(a=this.Ff.indexOf(a),-1!=a&&this.Ff.splice(a,1),0===this.Ff.length&&(this.Ff=void 0,b.wH||this.kO||this.PP(i2m)));l3L=4;break;case 2:b=this.u;l3L=5;break;}}};f.prototype.mH=function(){var k3L,a,b,c,d,f,g,k,p,K2m;k3L=2;while(k3L!==16){K2m="nu";K2m+="m";K2m+="b";K2m+="e";K2m+="r";switch(k3L){case 2:a=this;b=this.u;c=this.RK;k3L=3;break;case 6:this.vP=!0;p=b.AW;k3L=13;break;case 3:d=this.ub[c];f=this.va.If;g=this.ja.gf()||0;k=this.Ux(c,g);k3L=6;break;case 13:k3L=b.JI||b.Nqa?12:11;break;case 12:c=this.va.ibb(),K2m===typeof c&&c-b.c9<=k&&(p=Math.min(p,b.M_a));k3L=11;break;case 11:this.kb.Pg&&d.Zk&&d.Zk.Li-g<=b.fxa&&this.kb.Pg.xH(!0,this.Am.sessionId);this.ja.dd()===q.Ma.yd&&([q.L.VIDEO,q.L.AUDIO].forEach(function(b){var X3L,c,d,m,l,t,u,p2m;X3L=2;while(X3L!==13){p2m="Un";p2m+="able to fi";p2m+="nd ";p2m+="request presenting a";p2m+="t playerPts:";switch(X3L){case 1:X3L=a.ug(b)?5:13;break;case 5:c=f.Ng(b);X3L=4;break;case 2:X3L=1;break;case 4:X3L=c?3:13;break;case 3:t=c;c.CQ(g);X3L=8;break;case 8:(u=c.Za.XC(g))&&!u.Ph&&(u=a.bf[b].Web);u?(t=u.ce-g,t<p&&(p=t),l=a.eb.Bb[b],m=u.Ya.da,t=u.Lf,a.gg&&b!==q.L.VIDEO||(a.va.Zib(u,u.bm),m>a.XO?(a.XO=m,d=0<m?m-1:null,a.$a.IVa(m,a.ub[m],g,u.bm,null!==d?a.ub[d].Ya.M:null,d),k=a.Ux(m,g)):a.yB&&u.bm!=l.efb&&a.$a.ZVa(u.bm)),l.efb=u.bm,d=u.za,d!=l.K7&&(l.K7=d,b=a.ub[m].Ya.Sp(b,d),m=a.Ux(m,u.Fc),a.$a.VVa(t,u.Fc,m,b.Ya.da,b.Pf)),u=u.P,h.R(u)||u==c.Sya||(c.Sya=u)):c.Ja(p2m,g);a.DWa(t,g);a.va.Amb();X3L=13;break;}}}),this.va.ap(g,k));this.Uh.oh();p=Math.max(p,1);k3L=18;break;case 18:this.pu&&clearTimeout(this.pu);this.pu=setTimeout(this.mH.bind(this),p);k3L=16;break;}}};f.prototype.EG=function(a){var H3L;H3L=2;while(H3L!==1){switch(H3L){case 2:return this.Uh.EG(a);break;case 4:return this.Uh.EG(a);break;H3L=1;break;}}};f.prototype.oh=function(){var p3L;p3L=2;while(p3L!==1){switch(p3L){case 4:return this.Uh.oh();break;p3L=1;break;case 2:return this.Uh.oh();break;}}};f.prototype.UP=function(a,b){var n3L;n3L=2;while(n3L!==1){switch(n3L){case 2:return this.Rt(a.Lf,a,b);break;case 4:return this.Rt(a.Lf,a,b);break;n3L=1;break;}}};w6L=98;break;case 98:f.prototype.Rt=function(a,b,c){var G3L,d,f;G3L=2;while(G3L!==14){switch(G3L){case 6:return f;break;case 2:d=this.u;f=b.abort();b.Xd();G3L=3;break;case 3:b.Rf&&b.Rf.clear();d.UB||a.Za.uV(b);this.bf[a.O].uV(b);!0===c&&this.Uh.oh();G3L=6;break;}}};f.prototype.uXa=function(a){var F3L,b,c,F2m;F3L=2;while(F3L!==3){F2m="no ";F2m+="newAu";F2m+="dioTrack";F2m+=" se";F2m+="t";switch(F3L){case 2:b=a.O;F3L=5;break;case 5:c=this.eb.Bb[b];h.R(c.sU)?a.Ja(F2m):(this.bf[b].pause(),c.nF=!0,a=this.rh.Op(0),c=this.rh.Ya.ES(c.sU.fb),this.$a.yVa(a,c));F3L=3;break;}}};f.prototype.BWa=function(a){var f3L,b,d,f,g,h,k,p,m,f2m,t2m;f3L=2;while(f3L!==33){f2m="a";f2m+="udio";f2m+="Sw";f2m+="itch";t2m="au";t2m+="dioTra";t2m+="ckChang";t2m+="e";switch(f3L){case 2:b=this;d=this.u;f=a.O;f3L=3;break;case 3:c.nl.Rl(f);g=a.Pb;h=this.eb.Bb[f];this.dB=h.sU;k=this.rh;k.qS(f);f3L=13;break;case 17:h.Bo=void 0;h.Ki=void 0;h.$I=void 0;h.Pl=void 0;this.B0(t2m,f);this.va.zBa(g,!0);h=function(a){var q3L,b,c,d;q3L=2;while(q3L!==8){switch(q3L){case 9:k.Op(f).Xb.some(function(a){var V3L;V3L=2;while(V3L!==4){switch(V3L){case 5:return d;break;case 2:d=b.oe.Tk(f,a.za);V3L=1;break;case 1:V3L=!(d&&d.stream&&d.stream.$&&m<d.stream.$.fg(0))?5:4;break;case 7:return d;break;V3L=4;break;}}})?(c.Ya.Tc[q.L.AUDIO]=d,c.YK=!1,d.stream.ed&&k.tQ(this.xe,this.gc.bind(this),this.u,this.Qh,this.gg,this.va,this.$a,this.K5.bind(this))):(c.Ya.Tc[q.L.AUDIO]=void 0,c.YK=!1,this.pP(k,a,!0,q.L.AUDIO));q3L=8;break;case 2:b=this;c=this.ub[a];c.dca(p);q3L=3;break;case 3:q3L=c.y6?9:8;break;}}}.bind(this);f3L=23;break;case 13:p=k.k6(f,this.dB.fb);m=this.ja.gf()-g.Pc;this.Ff&&0<this.Ff.length&&(this.Ff=this.Ff.filter(function(c){var u3L;u3L=2;while(u3L!==4){switch(u3L){case 1:return!0;break;case 8:return+1;break;u3L=4;break;case 5:b.Rt(a,c,!1);u3L=4;break;case 2:u3L=c.O!==f?1:5;break;}}}),0===this.Ff.length&&(this.Ff=void 0,d.wH||this.PP(f2m)));d=this.kb.jsa(k.Ya.Ia,[p],f);this.e_[f]=d[f];this.FI.Xla(a);h.sU=void 0;f3L=17;break;case 23:d=this.xe;f3L=22;break;case 22:f3L=d<this.ub.length?21:34;break;case 21:h(d);f3L=35;break;case 34:g.aAa(m);f3L=33;break;case 35:++d;f3L=22;break;}}};f.prototype.I0=function(a,b,c){var U3L,d,Z2m,v2m;U3L=2;while(U3L!==4){Z2m="video_loc";Z2m+="at";Z2m+="ion";v2m="lo";v2m+="cat";v2m+="i";v2m+="o";v2m+="n";switch(U3L){case 2:d=this.u.n9;h.R(b)||h.R(c)||(a.location=b,a.Db=c,(v2m===d||Z2m===d&&a.O===q.L.VIDEO)&&this.kb.Ye.RV(b),this.Kd.Hjb(a.O,b));U3L=4;break;}}};f.prototype.W0=function(){var g3L,a,b,c,d,f,g,k,p,Y2m,T2m;g3L=2;while(g3L!==16){Y2m="ma";Y2m+="n";Y2m+="ife";Y2m+="sts:";T2m="upd";T2m+="ateRequestUrls, no ma";T2m+="n";T2m+="ifestEntry";T2m+=":";switch(g3L){case 7:f=d.Co;g=[d.Ya.As(0),d.Ya.As(1)];this.va.rg.forEach(function(c){var r3L,d,x2m,Q2m;r3L=2;while(r3L!==8){x2m="location sele";x2m+="ctor is go";x2m+="ne, session has ";x2m+="been closed";Q2m="location";Q2m+=" selector returned null stre";Q2m+="a";Q2m+="mList";switch(r3L){case 1:r3L=a.ug(c.O)?5:8;break;case 4:d=a.eb.FD(c);f.BW(d,a.xe,c.Xb)?(k=c.Za.lca(g,a.I0.bind(a)),0<k.length&&b.push.apply(b,k)):c.Ja(Q2m);r3L=8;break;case 2:r3L=1;break;case 5:r3L=f?4:9;break;case 9:c.Ja(x2m);r3L=8;break;}}});k=this.oe.lca(g,this.I0.bind(this));0<k.length&&b.push.apply(b,k);g3L=11;break;case 2:a=this;b=[];c=0;g3L=3;break;case 9:g3L=!d?8:7;break;case 3:d=this.rh;g3L=9;break;case 10:p={};b.forEach(function(b){var y3L,d;y3L=2;while(y3L!==4){switch(y3L){case 2:d=b.da;b.Vb&&d>a.xe&&(p[b.da]=!0,++c);y3L=4;break;}}});h.ad(p,function(b,c){var O3L;O3L=2;while(O3L!==1){switch(O3L){case 2:a.pP(a.ub[c],c);O3L=1;break;}}});return c===b.length?!0:!1;break;case 8:return this.Zc(T2m,this.xe,Y2m,this.ub.length),!1;break;case 11:g3L=0<b.length?10:17;break;case 17:return!0;break;}}};f.prototype.DWa=function(a,b){var Q3L,c;Q3L=2;while(Q3L!==3){switch(Q3L){case 2:c=this.bf[a.O];a=a.Za.Bmb(b,function(a){var h3L;h3L=2;while(h3L!==1){switch(h3L){case 2:c.uV(a);h3L=1;break;case 4:c.uV(a);h3L=0;break;h3L=1;break;}}});h.R(a)||this.Uh.oh();Q3L=3;break;}}};f.prototype.rUa=function(a){var e3L,b,c;e3L=2;while(e3L!==7){switch(e3L){case 4:a=this.ub[a.manifestIndex].Ya.Sp(c,a.streamId);this.iXa(this.va.If.Ng(c),a);this.u=this.dpa.JSa(a.df,this.u);e3L=8;break;case 2:b=this;c=a.mediaType;e3L=4;break;case 8:this.ub.forEach(function(a,c){var S3L;S3L=2;while(S3L!==1){switch(S3L){case 2:a.y6||0===c||b.pP(a,c);S3L=1;break;}}});e3L=7;break;}}};f.prototype.tUa=function(a){var w3L,b;w3L=2;while(w3L!==8){switch(w3L){case 9:a.Zp&&this.$a.SVa(b.O,a.Ya.da,b.Pb.xa);w3L=8;break;case 2:a=a.request;b=a.Lf;b.Rta=!0;a.UR&&this.$a.DVa(b,a);w3L=9;break;}}};f.prototype.iXa=function(a,b){var W3L;W3L=2;while(W3L!==1){switch(W3L){case 2:this.eb.Bb[a.O].Bo={id:b.za,index:b.Pf,P:b.P,ta:b.Ka&&b.Ka.Dc&&b.Ka.ta?b.Ka.ta.Fa:0,location:b.location};W3L=1;break;}}};f.prototype.i7=function(a){var m3L,b,c,d,f;m3L=2;while(m3L!==13){switch(m3L){case 2:b={};c=this.va.rg;d=this.bf;m3L=3;break;case 3:m3L=c?9:14;break;case 6:a&&d&&(a=d[q.L.VIDEO],d=d[q.L.AUDIO],a&&d&&(b.atoappend=JSON.stringify(a.zi),b.vtoappend=JSON.stringify(d.zi)));m3L=14;break;case 9:f=c[q.L.VIDEO];c=c[q.L.AUDIO];f&&c&&(b.vspts=f.cb,b.aspts=c.cb,b.vbuflbytes=f.xu,b.abuflbytes=c.xu,b.vbuflmsec=f.ye,b.abuflmsec=c.ye,a&&(b.a=c.Za.$.toJSON(),b.v=f.Za.$.toJSON()));m3L=6;break;case 14:return b;break;}}};f.prototype.Jbb=function(a){var o3L,b,c,d,f,g,h;o3L=2;while(o3L!==13){switch(o3L){case 5:o3L=b?4:13;break;case 2:b=this.va.If.Ng(a);o3L=5;break;case 7:g=this.va.Pc;h=this.$j()[a];return{type:a,availableMediaBuffer:h-d,completeBuffer:b.ye,incompleteBuffer:f,playbackBitrate:b.Sya,streamingBitrate:c,streamingTime:b.cb+g,usedMediaBuffer:d,toappend:b.Uub};break;case 4:c=this.eb.Bb[a];d=b.kt;c=c.Bo?c.Bo.P:0;f=b.Za.Bya;o3L=7;break;}}};f.prototype.fob=function(){var I3L,a,u2m;I3L=2;while(I3L!==4){u2m="req";u2m+="ue";u2m+="stGarbage";u2m+="Collectio";u2m+="n";switch(I3L){case 2:a={type:u2m,time:Q.time.ea()};ba.na(this,a.type,a);I3L=4;break;}}};w6L=115;break;case 115:f.prototype.Oh=function(a){var M3L,E2m,W2m;M3L=2;while(M3L!==5){E2m=",";E2m+=" ";W2m="man";W2m+="ager";W2m+="deb";W2m+="ug";W2m+="event";switch(M3L){case 2:a={type:W2m,message:"@"+Q.time.ea()+E2m+a};ba.na(this,a.type,a);M3L=5;break;}}};f.prototype.yi=function(a,b,c,d,f,g){var z3L,s2m;z3L=2;while(z3L!==1){s2m="N";s2m+="FE";s2m+="rr_MC_Streamin";s2m+="gFailure";switch(z3L){case 2:this.yx||(h.R(c)&&(c=s2m),this.yx=!0,this.$a.WVa(c,a,d,f,g,b));z3L=1;break;}}};f.prototype.M_=function(){var v3L,G2m;v3L=2;while(v3L!==3){G2m="Net";G2m+="work f";G2m+="ailures r";G2m+="eset!";switch(v3L){case 2:this.Ja(G2m);this.yx=!1;this.W0();this.Uh.oh();v3L=3;break;}}};f.prototype.FWa=function(a){var j3L,b;j3L=2;while(j3L!==9){switch(j3L){case 2:b=this.u.IK.fallbackBound;void 0===this.TP&&(this.TP=[]);j3L=4;break;case 4:void 0===this.TP[a]&&(this.TP[a]=Math.floor(2*Math.random()*b)-b);return this.TP[a];break;}}};f.prototype.uUa=function(a,b){var i3L;i3L=2;while(i3L!==1){switch(i3L){case 2:this.e_[a.O]=this.kb.ksa(b);i3L=1;break;}}};f.prototype.mTa=function(a,b,d,f){var s3L,g,h,k,p,m,H4m,g4m;s3L=2;while(s3L!==20){H4m="sta";H4m+="rtpl";H4m+="a";H4m+="y";g4m="lo";g4m+="g";g4m+="data";switch(s3L){case 3:k=g.Ya.Sp(a,d);d=this.eb.Bb[a];s3L=8;break;case 7:g=h.J5().filter(function(a){var x3L,D3L;x3L=2;while(x3L!==1){switch(x3L){case 2:return void 0!==a.mc[k.za];break;case 4:p933.e8m(4);D3L=p933.G1m(16,19,14,21,4);return D3L==a.mc[k.za];break;x3L=1;break;}}})[0],p=g.children.filter(function(a){var Z3L;Z3L=2;while(Z3L!==1){switch(Z3L){case 2:return a.Wc.some(function(a){var T3L;T3L=2;while(T3L!==1){switch(T3L){case 4:return a.stream.id!=k.za;break;T3L=1;break;case 2:return a.stream.id===k.za;break;}}});break;}}})[0],k.aV=g.id,k.q$=p.id;s3L=6;break;case 6:g=k.location===k.aV;p=k.Sb===k.q$;f&&k.Sb&&!d.wD?(m=q.Ne.Pt,k.jl=q.Ne.name[m],this.$a.vla(b,a,k.Sb,k.jl,k.location,k.P),d.wD=k.Sb):!f&&k.Sb&&k.Sb!==d.wD&&(m=k.jl,m=p?void 0===d.wD?q.Ne.Pt:h.CE===q.Ne.nZ?q.Ne.vQa:q.Ne.eX:q.Ne.uQa,k.jl=q.Ne.name[m],this.$a.vla(b,a,k.Sb,k.jl,k.location,k.P),d.wD=k.Sb);d.vD||(p={type:g4m,target:H4m,fields:{}},a===q.L.AUDIO?p.fields.alocid=k.location:a===q.L.VIDEO&&(p.fields.locid=k.location),this.emit(p.type,p));s3L=11;break;case 2:c.nl.Rl(a);g=this.ub[b];h=g.Co;s3L=3;break;case 8:s3L=void 0===k.aV||void 0===k.q$?7:6;break;case 11:f&&k.location&&!d.vD?(m=q.Ne.Pt,k.jl=q.Ne.name[m],this.$a.tla(b,a,k.location,k.X7,k.Sb,k.Nz,k.jl,k.rq),d.vD=k.location):!f&&k.location&&k.location!==d.vD&&(m=k.jl,m=g?void 0===d.vD?q.Ne.Pt:h.CE===q.Ne.nZ?q.Ne.xLa:q.Ne.eX:q.Ne.wLa,k.jl=q.Ne.name[m],this.$a.tla(b,a,k.location,k.X7,k.Sb,k.Nz,k.jl,k.rq),k.rq=void 0,d.vD=k.location);this.u.Lo||(k.yva=k.location,k.Ava=k.Sb);s3L=20;break;}}};f.prototype.jz=function(a){var a3L,e4m;a3L=2;while(a3L!==1){e4m="requestError i";e4m+="gnored, pipelines shutdow";e4m+="n, mediaRequest:";switch(a3L){case 2:this.we()?this.Ja(e4m,a):(a.Vb||this.$a.Mxa(a.Lf,this.ub[a.Ya.da].Ya,a.za,a.Fc),this.mTa(a.O,a.Ya.da,a.za,a.Vb),this.I0(a,a.location,a.Db));a3L=1;break;}}};f.prototype.Ov=function(a){var C3L,A4m;C3L=2;while(C3L!==1){A4m="onfirstbyte ign";A4m+="ored, pip";A4m+="eline";A4m+="s shutdown, mediaRe";A4m+="quest:";switch(C3L){case 2:this.we()?this.Ja(A4m,a):a.p1||(this.eb.Bb[a.O].connected=!0);C3L=1;break;}}};f.prototype.DK=function(a){var R3L,b,U4m,V4m;R3L=2;while(R3L!==8){U4m="requ";U4m+="e";U4m+="stPro";U4m+="gress";V4m="onprogress ignored,";V4m+=" pipeli";V4m+="n";V4m+="e";V4m+="s shutdown, mediaRequest:";switch(R3L){case 2:R3L=1;break;case 1:R3L=this.we()?5:4;break;case 5:this.Ja(V4m,a);R3L=8;break;case 4:b=a.qc;this.u.zR&&this.FP.push(a.vT);this.emit(U4m,{timestamp:b,url:a.url});R3L=8;break;}}};f.prototype.ai=function(a){var b3L,c4m,N4m;b3L=2;while(b3L!==1){c4m="re";c4m+="questCo";c4m+="mplete";N4m="oncomplete ign";N4m+="ore";N4m+="d, pipelines shutdown, med";N4m+="iaRequest:";switch(b3L){case 2:this.we()?this.Ja(N4m,a):(this.yx&&(this.yx=!1,this.ub[a.da].RI.lL(!0)),a.p1||a.Vb||this.Kd.Njb(a.O,a.duration,a.ne,a.bk),a.Vb||a.Lf.Nta(a),this.u.zR&&this.FP.push(a.vT),this.emit(c4m,{timestamp:a.qc,mediaRequest:a}));b3L=1;break;}}};f.prototype.XD=function(a){var c3L,b,m4m,X4m,o4m,a4m,M4m;c3L=2;while(c3L!==4){m4m="N";m4m+="FErr_MC_St";m4m+="reamingFailure";X4m="unkn";X4m+="o";X4m+="w";X4m+="n";o4m=", error";o4m+="msg";o4m+=": ";a4m="MP4 par";a4m+="s";a4m+="ing error";a4m+=" on: ";M4m="requestError ig";M4m+="nored, p";M4m+="ipelines";M4m+=" shutd";M4m+="own, mediaRequest:";switch(c3L){case 2:b=a.Wh;this.we()?this.Ja(M4m,a):a.Vb&&a.parseError?(this.Ja(a4m+a+o4m,a.parseError),this.yi(a.parseError)):(this.u.qcb&&b===W.yt.xY&&0<a.ne&&(b=W.yt.mX),this.ub[a.da].RI.cm({url:a.url},a.status,b,a.sj),this.W0()||this.yi(a.UC||X4m,void 0,m4m,b,a.status,a.sj));c3L=4;break;}}};return f;break;case 43:f.prototype.paused=function(){var I8L;I8L=2;while(I8L!==1){switch(I8L){case 2:this.ja.paused();I8L=1;break;case 4:this.ja.paused();I8L=2;break;I8L=1;break;}}};f.prototype.zW=function(){var M8L;M8L=2;while(M8L!==1){switch(M8L){case 4:this.ja.zW();M8L=7;break;M8L=1;break;case 2:this.ja.zW();M8L=1;break;}}};f.prototype.close=function(){var z8L;z8L=2;while(z8L!==1){switch(z8L){case 4:this.Av.close();z8L=8;break;z8L=1;break;case 2:this.Av.close();z8L=1;break;}}};f.prototype.Qnb=function(){var v8L;v8L=2;while(v8L!==1){switch(v8L){case 4:this.kb.JWa(this);v8L=3;break;v8L=1;break;case 2:this.kb.JWa(this);v8L=1;break;}}};f.prototype.Xd=function(){var j8L,a,l4m;j8L=2;while(j8L!==12){l4m="Error on ";l4m+="Med";l4m+="iaS";l4m+="ource destroy: ";switch(j8L){case 2:this.Kd.zjb();this.vO();this.va.Xd();this.FI.GTa();this.ja.Gd(q.Ma.TN);this.nTa();j8L=7;break;case 7:this.Rf.clear();a=this.Pe;j8L=14;break;case 14:this.Pe=void 0;h.R(a)||a.$m()||this.Ja(l4m,a.error);j8L=12;break;}}};f.prototype.suspend=function(){var i8L;i8L=2;while(i8L!==1){switch(i8L){case 4:this.Av.suspend();i8L=2;break;i8L=1;break;case 2:this.Av.suspend();i8L=1;break;}}};f.prototype.resume=function(){var s8L;s8L=2;while(s8L!==1){switch(s8L){case 4:this.Av.resume();s8L=0;break;s8L=1;break;case 2:this.Av.resume();s8L=1;break;}}};f.prototype.we=function(){var x8L;x8L=2;while(x8L!==1){switch(x8L){case 2:return this.Av.p0||this.va.Qua;break;case 4:return this.Av.p0&&this.va.Qua;break;x8L=1;break;}}};f.prototype.lXa=function(){var Z8L,a;Z8L=2;while(Z8L!==7){switch(Z8L){case 2:a=this.u;this.pu&&clearTimeout(this.pu);this.pu=setTimeout(this.mH.bind(this),a.AW);Z8L=3;break;case 3:this.pO||(this.pO=setInterval(this.$a.rla.bind(this.$a),a.bC));this.BP||(this.BP=setInterval(this.$a.YVa.bind(this.$a),a.sba));this.$v&&!this.nO&&(this.nO=setInterval(this.$a.qla.bind(this.$a),a.E1));Z8L=7;break;}}};f.prototype.mXa=function(){var T8L,a,b,c;T8L=2;while(T8L!==7){switch(T8L){case 4:T8L=b.GV?3:7;break;case 2:a=this;b=this.u;T8L=4;break;case 3:this.BG&&clearInterval(this.BG);c=-1;T8L=8;break;case 8:this.BG=setInterval(function(){var a8L,b,b4m;a8L=2;while(a8L!==4){b4m="v";b4m+="b";switch(a8L){case 2:b=a.eb.Bb[q.L.VIDEO];(b=b.wv&&b.wv.P)&&c!==b&&(Q.storage.set(b4m,b),c=b);a8L=4;break;}}},b.GV);T8L=7;break;}}};f.prototype.vO=function(){var C8L;C8L=2;while(C8L!==6){switch(C8L){case 2:this.pu&&(clearTimeout(this.pu),this.pu=void 0);this.pO&&(clearInterval(this.pO),this.pO=void 0);this.BP&&(clearInterval(this.BP),this.BP=void 0);this.nO&&(clearInterval(this.nO),this.nO=void 0);C8L=3;break;case 3:this.iB&&(clearTimeout(this.iB),this.iB=void 0);this.C_&&(clearTimeout(this.C_),this.C_=void 0);this.BG&&(clearInterval(this.BG),this.BG=void 0);this.Uh.vO();C8L=6;break;}}};f.prototype.play=function(){var R8L;R8L=2;while(R8L!==1){switch(R8L){case 2:this.Av.play();R8L=1;break;case 4:this.Av.play();R8L=0;break;R8L=1;break;}}};w6L=50;break;case 70:f.prototype.Ux=function(a,b){var W2L,c,d;W2L=2;while(W2L!==8){switch(W2L){case 2:void 0===a&&(a=this.RK);d=this.va.N8a(b,a);W2L=4;break;case 4:d?c=d.Pc:(d=this.va.H4(a),0<d.length&&(d=d[0],c=d.Pc));h.pa(c)||(c=this.ub[a].qn);p933.e8m(2);return p933.G1m(c,b);break;}}};f.prototype.V2=function(a,b){var m2L,c,d;m2L=2;while(m2L!==8){switch(m2L){case 4:d?c=d.Pc:(d=this.va.H4(a),0<d.length&&(d=d[0],c=d.Pc));h.pa(c)||(c=this.ub[a].qn);p933.e8m(0);return p933.G1m(c,b);break;case 2:void 0===a&&(a=this.RK);d=this.va.M8a(b,a);m2L=4;break;}}};f.prototype.gta=function(a,b,c){var o2L,d;o2L=2;while(o2L!==7){switch(o2L){case 4:o2L=!a.length?3:9;break;case 3:return b;break;case 9:b=a[q.L.VIDEO];return c?b.U:b.ba;break;case 2:d=this.gc(a.da);a=c?d.vra(this.ug.bind(this),a.Wa,b):d.ZI(this.ug.bind(this),a.Wa,b,this.u);o2L=4;break;}}};f.prototype.iUa=function(a,b){var I2L,c,d;I2L=2;while(I2L!==14){switch(I2L){case 8:return d;break;case 3:d.JL&&this.oe.Foa(d);I2L=14;break;case 4:I2L=d&&!d.$?3:9;break;case 9:I2L=d?8:7;break;case 2:c=this.u;d=this.oe.Tk(a.O,b.za);I2L=4;break;case 6:this.oe.jI(a,this.M,b,{url:b.url,offset:0}),this.oe.Xka=Q.time.ea();I2L=14;break;case 7:I2L=h.R(c.b9)||h.R(this.oe.Wka)||h.R(this.oe.Xka)||(d=Q.time.ea(),!(d-this.oe.Wka<c.b9||d-this.oe.Xka<c.b9))?6:14;break;}}};f.prototype.Vt=function(){var M2L;M2L=2;while(M2L!==1){switch(M2L){case 2:return this.va.If.s2(this.eb.Bb[q.L.VIDEO],this.eb.Bb[q.L.AUDIO],this.gg,this.ja.Wl(),void 0!==this.dB,this.u.Mi);break;}}};f.prototype.iH=function(){var z2L;z2L=2;while(z2L!==9){switch(z2L){case 3:this.Uh.oh();z2L=9;break;case 2:this.va.If.Ppb(this.ja.Wl());this.mH();this.iB&&(clearTimeout(this.iB),this.iB=void 0);this.ja.Gd(q.Ma.yd);z2L=3;break;}}};f.prototype.hma=function(a,b){var v2L,j2L;v2L=2;while(v2L!==7){switch(v2L){case 3:this.Vt();v2L=9;break;case 8:try{j2L=2;while(j2L!==1){switch(j2L){case 2:this.r4(q.Ma.UN,{ba:a.ba});j2L=1;break;}}}catch(Fa){var R4m;R4m="Hindsigh";R4m+="t: Error evaluating QoE at endOfStre";R4m+="am: ";p933.H8m(0);this.$a.lq(p933.G1m(Fa,R4m));}v2L=7;break;case 2:a.Dg=!0;a.ba=h.pa(b)?b:a.cb;a.Wq=!1;a.CQ();v2L=3;break;case 9:v2L=this.oo&&a.O===q.L.VIDEO?8:7;break;}}};f.prototype.NWa=function(){var i2L,a;i2L=2;while(i2L!==4){switch(i2L){case 2:a=this.kb.Ye;a&&(a=a.get())&&a.avtp&&this.Zs.zYa({avtp:a.avtp.Fa});i2L=4;break;}}};f.prototype.vXa=function(a){var s2L,b,c,k4m,r4m,q4m;s2L=2;while(s2L!==8){k4m="startup, ";k4m+="playerState no long";k4m+="er STARTING:";r4m="fai";r4m+="led to start a";r4m+="ud";r4m+="io pipeline";q4m="failed to sta";q4m+="rt video pi";q4m+="pe";q4m+="lin";q4m+="e";switch(s2L){case 9:this.gg&&!this.lma(a,b)?this.Ja(q4m):this.Qh&&!this.lma(a,c)?this.Ja(r4m):(this.Ila=!0,this.ub[0].y6=!0,c=this.eb.Bb[q.L.VIDEO],b=this.eb.Bb[q.L.AUDIO],(c&&0<c.Ko||b&&0<b.Ko)&&this.$a.EVa(a,b?b.Ko:0,c?c.Ko:0,b?b.PK:0,c?c.PK:0),this.ja.iva()?(this.yP(0),this.Qh&&(a=this.rh.rS(0),c=this.rh.qS(0),this.$a.HVa(a,c))):this.Ja(k4m,this.ja.dd()));s2L=8;break;case 3:b=b[q.L.VIDEO];s2L=9;break;case 2:this.ja.Gd(q.Ma.Lh);b=this.va.rg;c=b[q.L.AUDIO];s2L=3;break;}}};f.prototype.lma=function(a,b){var x2L,c,d,P4m,J4m;x2L=2;while(x2L!==13){P4m="NFErr_MC_S";P4m+="tr";P4m+="eamingInitFa";P4m+="ilure";J4m="st";J4m+="a";J4m+="rtPipeline failed";switch(x2L){case 8:x2L=this.oe.Tk(c,d.za)?7:6;break;case 9:d=b.Xb[d];x2L=8;break;case 2:c=b.O;d=this.eb.Abb(b);x2L=4;break;case 4:x2L=h.R(d)?3:9;break;case 3:return this.we()||this.yi(J4m,b.Pb.da,P4m),!1;break;case 7:return!0;break;case 6:this.oe.jI(b,a,d,{offset:0,Zx:!this.yk&&!this.r_&&c===q.L.VIDEO,ws:!this.eb.Bb[c].b9a},d.Ya.da);return!0;break;}}};f.prototype.yP=function(a,b){var Z2L,c,d,f,g;Z2L=2;while(Z2L!==17){switch(Z2L){case 8:g.TH=void 0;this.vP=!1;this.ja.Gd(2===a?q.Ma.Nt:q.Ma.Hj);this.$a.BVa(b);this.va.rg.forEach(function(b){var T2L;T2L=2;while(T2L!==5){switch(T2L){case 2:b.b2=0;b.seeking=0===a||1===a;T2L=5;break;}}});this.l_=Q.time.ea();f.Fl=g.Fl=this.l_;Z2L=10;break;case 2:c=this;d=this.u;f=this.eb.Bb[q.L.AUDIO]||{};g=this.eb.Bb[q.L.VIDEO]||{};f.TH=void 0;Z2L=8;break;case 10:0===a&&(!this.gg||0<g.Ko)&&(!this.Qh||0<f.Ko)&&this.Vt();d.LI&&(this.C_=setTimeout(function(){var a2L;a2L=2;while(a2L!==1){switch(a2L){case 2:c.NWa();a2L=1;break;case 4:c.NWa();a2L=0;break;a2L=1;break;}}},d.e4));this.ja.Wl()&&(this.iB=setTimeout(function(){var C2L;C2L=2;while(C2L!==1){switch(C2L){case 4:c.Vt();C2L=5;break;C2L=1;break;case 2:c.Vt();C2L=1;break;}}},d.hE));this.Uh.oh();Z2L=17;break;}}};f.prototype.PP=function(a){var R2L,b,n4m;R2L=2;while(R2L!==4){n4m="w";n4m+="ipe";n4m+="Head";n4m+="erCache";n4m+=":";switch(R2L){case 2:b=this.u;b.o9||(b.ff&&this.Oh(n4m+a),this.kb.hoa(),this.Ff&&(this.Ff=void 0));R2L=4;break;}}};w6L=83;break;}}function f(b,c,f,g,l,t,u,n,z,y){var W6L,B,D4m,j4m,w4m,O4m,z4m,B4m,I4m;W6L=2;while(W6L!==66){D4m="mana";D4m+="gerd";D4m+="eb";D4m+="ugevent";j4m="s";j4m+="tr";j4m+="eam";j4m+="ingFailure";w4m="media|";w4m+="a";w4m+="sejs";O4m="A";O4m+="S";O4m+="E";O4m+="J";O4m+="S";z4m="1S";z4m+="IYb";z4m+="Zr";z4m+="NJCp9";B4m="mediacac";B4m+="h";B4m+="e";I4m="SideChannel: p";I4m+="bcid";I4m+="/xid is missing.";switch(W6L){case 61:g=null;z.LI&&(g=B.kb.Zs.mu);z.zR&&(B.FP=new ha(z.Bfa.c,z.Bfa.maxc));f=k.hga.Xra(B,B.u,B.K,c,{da:0,hBa:f,tg:!!l.tg,Zr:y||B.j_,U:0,ba:l.ba,c3:function(a){var M6L;M6L=2;while(M6L!==1){switch(M6L){case 2:return B.BO(a);break;case 4:return B.BO(a);break;M6L=1;break;}}},u6:B.M_,Zaa:B.HB});f.tg=l.tg;f.Jx=!0;W6L=55;break;case 53:W6L=(z.oca||z.vw)&&B.kb.Pg?52:51;break;case 7:B.Ja=B.K.warn.bind(B.K);B.Ek=B.K.trace.bind(B.K);B.$a=new J.ENa(B,B.K);W6L=13;break;case 51:z.po&&(t&&t.MU&&t.oa?B.HB=new L.YQa(t.MU,{oa:t.oa,oR:t.oR,ihb:z.KN.mx,P_a:z.KN.lv},B):B.$a.lq(I4m));z.by&&(B.QO=B.jH+z.CCa,B.RO=Q.time.ea());g=Math.floor(1E6*Math.random());B.oo=0===g%z.I6&&0<z.xJ.length;W6L=47;break;case 40:B.Rf=new d.Jw();B.Ro=new O.RQa(B,B.K);B.Uh=new V.IIa(B,B.K);B.FI=new F.HIa(B,B.K);W6L=36;break;case 52:B.Rf.on(B.kb.Pg,B4m,function(a){var o6L,y4m;o6L=2;while(o6L!==1){y4m="m";y4m+="ed";y4m+="iacac";y4m+="h";y4m+="e";switch(o6L){case 4:ba.na(B,"",a);o6L=0;break;o6L=1;break;case 2:ba.na(B,y4m,a);o6L=1;break;}}});W6L=51;break;case 29:B.e_=u;B.yx=!1;B.vP=!1;B.NG=void 0;B.wla=0;B.XO=-1;W6L=40;break;case 33:B.jH=g||0;B.QO=0;B.RO=0;B.xe=0;W6L=29;break;case 2:B=a.call(this)||this;B.kO=!1;B.j_=[];z4m;B.K=new Q.Console(O4m,w4m,"("+t.sessionId+")");B.Zc=B.K.error.bind(B.K);W6L=7;break;case 62:t=B.BO(c).Hbb();W6L=61;break;case 23:B.yB=l.i8;B.rP=void 0;B.UTa=Q.time.ea()+l.eGb;B.ja=new P.gFa(n);B.Dm=c.duration;W6L=33;break;case 74:l=z.Xcb;for(var S in l){z=l[S];l.hasOwnProperty(S)&&z&&(B.u[S]=z);}W6L=72;break;case 15:B.hP=l.h$;B.yk=!!l.tg;B.r_=!!l.gs;b=!!l.gF;B.ZXa=!!l.FW;W6L=23;break;case 20:B.kb=b;B.Am=t;z=B.dpa.HSa(c,z);z.by&&(h.R(z.P6)||0===z.P6.length||-1===z.P6.indexOf(String(c.movieId)))&&(z.by=!1);B.u=z;W6L=15;break;case 36:W6L=z.ff&&B.kb.Pg?54:53;break;case 65:B.oe=new p.gKa(B,B.$a,B.Uh,B.Ro,B.K,b,B.u);B.Rf.on(B.oe,j4m,function(a){var I6L;I6L=2;while(I6L!==1){switch(I6L){case 2:B.yi(a.msg,a.manifestIndex);I6L=1;break;}}});B.bf=[];W6L=62;break;case 54:B.Rf.on(B.kb.Pg,D4m,function(a){var m6L;m6L=2;while(m6L!==1){switch(m6L){case 4:ba.na(B,a.type,a);m6L=3;break;m6L=1;break;case 2:ba.na(B,a.type,a);m6L=1;break;}}});W6L=53;break;case 55:f.Gx=!0;B.ub=[f];B.Kd=new r.SEa(B,B.K,t,B.kb.Ye,z,B.wwa(),g);W6L=75;break;case 13:B.dpa=new Y.ZGa(B.K);B.Av=new N.ELa(B,B.K);B.M0=[!0,!0];l.JKb?B.M0[q.L.AUDIO]=!1:l.fEb&&(B.M0[q.L.VIDEO]=!1);W6L=20;break;case 47:t&&t.$f&&(B.oo=!1,z.Pu&&!z.U6a&&(z.set?z.set({enableAdaptiveParallelStreaming:!1}):z.Pu=!1));B.k4=B.oo&&0===g%z.H6;0===Math.floor(1E6*Math.random())%z.AH&&(B.SWa=new M.hQa());W6L=65;break;case 72:B.Kd.fca(B.u);W6L=71;break;case 75:W6L=z.j4&&B.Kd.nT?74:71;break;case 71:B.va=new m.WFa(B,B.$a,B.K,B.Kd,c.choiceMap,B.jH,B.u);B.eb=new A.gRa(B,B.K,B.Kd,B.u);B.oo&&B.ja.addListener(function(a){var z6L,v6L;z6L=2;while(z6L!==1){switch(z6L){case 2:try{v6L=2;while(v6L!==1){switch(v6L){case 2:B.eb.Qtb.bind(B.eb)(a);v6L=1;break;}}}catch(wd){var h4m;h4m="Hindsight: Error when adding updatePla";h4m+="ySegment ";h4m+="Listener: ";p933.H8m(0);B.$a.lq(p933.g8m(wd,h4m));}z6L=1;break;}}});R.call(B);return B;break;}}}}(R);f.XQa=a;g.li(d.EventEmitter,a);},function(g,f,a){var d,h,m,c,k,q;function b(a,b,f){k=f;q=f.map(function(a,b){return a.hf&&a.inRange&&!a.Og?b:null;}).filter(function(a){return null!==a;});if(null===c)return a=h(f),c=f[a].P,new m(a);if(!q.length)return null;a=q.filter(function(a){return f[a].P==c;})[0];return void 0===a?(d.log("Defaulting to first stream due to unvalid bitrate requested: "+c),new m(q[0])):new m(a);}a(6);a(11);f=a(44);a=a(5);d=f.console;h=f.J4;m=f.np;c=null;k=null;q=null;a.P0a&&(a.P0a.PE={yc:function(){q=k=c=null;},Aaa:function(a){c=a;},QGb:function(){return{all:k,ODa:q};}});g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,f,a){(function(){var L4m,b,M74;L4m=2;while(L4m!==8){M74="1S";M74+="I";M74+="YbZ";M74+="rNJCp9";switch(L4m){case 2:a(6);b=a(11);a(44);g.T={checkBuffering:function(a,f,g,c,h){var G4r=p933;var C4m,k,m,l,t,n,r,B,d74,u74,y74,X74,i4m,K4m,p4m;C4m=2;while(C4m!==38){d74="ma";d74+="x";d74+="size";u74="nore";u74+="buf";u74+="f";y74="outofr";y74+="a";y74+="ng";y74+="e";X74="h";X74+="i";X74+="ght";X74+="p";switch(C4m){case 32:--h;C4m=31;break;case 40:0<l&&l<f.P&&(t=Math.min(g,Math.max(h.dL*(f.P/l-1),t)));return{complete:!1,Jz:t,Qi:d(t)};break;case 9:C4m=m>=g?8:7;break;case 22:return{complete:!0,reason:X74};break;case 16:return l<f.P&&(t=Math.min(g,Math.max(h.dL*(f.P/l-1),t))),{complete:!1,Jz:t,Qi:(n-k.Rv)/(n+(t-(k.cb-k.qf))*f.P/8)};break;case 25:r=f.$.$l(a);C4m=24;break;case 19:n=0;k.$.forEach(function(a){var S4m;S4m=2;while(S4m!==1){switch(S4m){case 2:n+=a.U+a.duration>k.qf?a.aa:0;S4m=1;break;}}});C4m=17;break;case 10:C4m=!l?20:19;break;case 17:C4m=!f.$||!f.$.length?16:15;break;case 26:return{complete:!0,reason:y74};break;case 31:C4m=h>a?30:41;break;case 21:t=f.$.$c(a);h=Math.min(a+Math.floor(h.dL/t),f.$.length-1);B=f.$.$l(h);G4r.H74(0);i4m=G4r.J74(80,88);t=i4m*r/l-k.qf;C4m=32;break;case 15:a=f.$.Fi(k.cb);C4m=27;break;case 27:C4m=-1===a?26:25;break;case 4:l=f.ta||0;t=0;C4m=9;break;case 41:return{complete:!0,reason:u74};break;case 7:C4m=l<=h.n8&&(0<l||!h.u4)?6:14;break;case 14:G4r.H74(1);K4m=G4r.S74(11,11);t=h.Mi*(a.state===b.Ma.Nt?h.L$:K4m);h.i7a&&f.Ka&&f.Ka.zg&&f.Ka.zg.Fa>h.g8&&(t+=h.n1+f.Ka.zg.Fa*h.T9);c&&(t+=c.RQ*h.o1);t=g?Math.min(g,t):t;C4m=10;break;case 24:C4m=m>=t?23:40;break;case 2:k=a.buffer;m=a.ye||k.Qk-k.qf;C4m=4;break;case 30:c=f.$.get(h);G4r.H74(0);p4m=G4r.J74(18,26);B=p4m*B/l-c.U-t;C4m=28;break;case 23:C4m=l>f.P*h.MR?22:21;break;case 44:return t=Math.min(g,m+B),{complete:!1,Jz:t,Qi:d(t)};break;case 43:B=c.offset;C4m=42;break;case 28:C4m=0<B?44:43;break;case 8:return{complete:!0,reason:d74};break;case 6:return{complete:!1,cK:!0};break;case 42:--h;C4m=31;break;case 20:return{complete:!1,Jz:t};break;}}function d(a){var d4m;d4m=2;while(d4m!==5){switch(d4m){case 2:a=f.$.OR(k.qf+a,void 0,!0);return(n-k.Rv)/(n+(a.offset+a.aa)-r);break;}}}}};M74;L4m=8;break;}}}());},function(g,f,a){(function(){var R84,d,f,h,c,o5A;function b(a,b,f,g){var U84,k,n5A,D5A,n84;U84=2;while(U84!==11){n5A="player miss";n5A+="ing ";n5A+="streamingIn";n5A+="dex";D5A="Must have at least one ";D5A+="selected st";D5A+="ream";switch(U84){case 3:p933.k5A(0);n84=p933.L5A(8,151,19);g=f.length-n84;U84=9;break;case 4:b=c(g);U84=3;break;case 6:return b.sd=g,b;break;case 2:h(!d.R(g),D5A);h(d.pa(b.jw),n5A);U84=4;break;case 8:k=f[g];U84=7;break;case 7:U84=k.Ka&&k.Ka.ta&&k.P<k.Ka.ta.Fa-a.xsb?6:14;break;case 9:U84=-1<g?8:13;break;case 14:--g;U84=9;break;case 13:b.sd=0;return b;break;}}}R84=2;while(R84!==13){o5A="1SI";o5A+="Y";o5A+="bZr";o5A+="NJC";o5A+="p9";switch(R84){case 8:c=f.np;f=a(197);g.T={STARTING:f.STARTING,BUFFERING:f.BUFFERING,REBUFFERING:f.REBUFFERING,PLAYING:b,PAUSED:b};o5A;R84=13;break;case 2:d=a(6);a(11);f=a(44);a(5);h=f.assert;R84=8;break;}}}());},function(g,f,a){var d;function b(a,b,c){return new d(c.length-1);}a(6);d=a(44).np;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,f,a){var d;function b(){return new d(0);}a(6);d=a(44).np;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,f,a){(function(){var Z5A,h,c,k,q,p,l,n,r,L,A,Y5A;function b(a,b){var z5A,c;z5A=2;while(z5A!==3){switch(z5A){case 2:c=void 0;b.some(function(b){var m5A,d;m5A=2;while(m5A!==3){switch(m5A){case 2:d=b.profiles;m5A=5;break;case 5:(d=d&&0<=d.indexOf(a))&&(c=b.override);return d;break;}}});return c;break;}}}function d(a,b,c,d){var s5A,g,m,l,t,u,n,z,y,A,U5A,W5A,I5A,G5A,C5A,P5A,O5A,i5A,p5A,Q5A,y5A,F5A,w5A,H5A,a5A,R5A,E5A,K5A,g5A,x5A,A5A,T5A,q5A;s5A=2;while(s5A!==28){U5A=", ";U5A+="str";U5A+="eam";U5A+="ingPts = ";W5A=", la";W5A+="stUpswi";W5A+="tchPts ";W5A+="= ";I5A="  Upsw";I5A+="it";I5A+="ch allowe";I5A+="d";I5A+=". lastDownswitchPts = ";G5A="m";G5A+="s";C5A=",";C5A+=" buf";C5A+="fer level = ";P5A=", la";P5A+="stUp";P5A+="switchPts = ";O5A="  Upswitch not al";O5A+="lowe";O5A+="d. lastDowns";O5A+="witchPts =";O5A+=" ";i5A="kbp";i5A+="s, stre";i5A+="amingPts :";p5A=",";p5A+=" a";p5A+="udio throughput";p5A+=":";Q5A=" k";Q5A+="bp";Q5A+="s, p";Q5A+="rofile :";y5A="select";y5A+="AudioStream: selected stream";y5A+=" :";F5A=" k";F5A+="b";F5A+="p";F5A+="s";w5A=" ";w5A+="kbps,";w5A+=" t";w5A+="o";w5A+=" ";H5A="swit";H5A+="chin";H5A+="g ";H5A+="audio";H5A+=" from ";a5A="d";a5A+="o";a5A+="w";a5A+="n";R5A="u";R5A+="p";E5A=" ";E5A+="k";E5A+="b";E5A+="p";E5A+="s";K5A=" ";K5A+="kbps";K5A+=" ";K5A+="> ";g5A="throughput ";g5A+="f";g5A+="or";g5A+=" ";g5A+="audio ";x5A="Must hav";x5A+="e at";x5A+=" least ";x5A+="one";x5A+=" selected stream";A5A=" kbps";A5A+=", try";A5A+=" t";A5A+="o downswitc";A5A+="h";T5A=" k";T5A+="b";T5A+="ps";T5A+=" < ";q5A="throu";q5A+="ghput fo";q5A+="r audi";q5A+="o ";switch(s5A){case 21:s5A=++n<l.length?35:32;break;case 6:t=c[d];s5A=14;break;case 25:n--;s5A=17;break;case 4:s5A=!(a&&a.$L&&0<=a.$L.indexOf(g))?3:9;break;case 14:u=t.P;n=l.indexOf(d);z=t.ta;y=a.XZa;s5A=10;break;case 35:s5A=(u=l[n],A=c[u],r(A)&&z>y.xDa*A.P)?34:21;break;case 3:return new L(d);break;case 34:m=u;s5A=32;break;case 18:q&&k.log(q5A+z+T5A+y.vqa+"*"+u+A5A),--n;s5A=17;break;case 17:s5A=0<=n?16:32;break;case 2:p(!h.R(d),x5A);g=c[d].df;s5A=4;break;case 24:s5A=n<l.length-1&&z>y.xDa*u&&(q&&k.log(g5A+z+K5A+y.xDa+"*"+u+E5A),u=b.buffer,A=u.Qk-u.qf,t.$&&t.$.length)?23:32;break;case 9:m=d;a.zCa.some(function(d){var M5A,f,h,k,p,m,q;M5A=2;while(M5A!==13){switch(M5A){case 4:M5A=h?3:14;break;case 7:q=b.buffer.Du;M5A=6;break;case 6:l=c.filter(function(a){var u5A,b;u5A=2;while(u5A!==4){switch(u5A){case 2:b=a.P;return b>=p&&b<=m&&0<=f.indexOf(a.df)&&b*k/8<q;break;}}}).map(function(a){var v5A;v5A=2;while(v5A!==1){switch(v5A){case 2:return a.Pf;break;case 4:return a.Pf;break;v5A=1;break;}}});M5A=14;break;case 14:return h;break;case 3:k=(d=d.ZD)&&d.fU||a.fU;p=d&&d.gIb||-Infinity;m=d&&d.wwa||Infinity;M5A=7;break;case 2:f=d.profiles;h=f&&0<=f.indexOf(g);M5A=4;break;}}});s5A=7;break;case 16:u=l[n];s5A=15;break;case 20:m=0;s5A=32;break;case 27:s5A=r(A)&&(0==n||A.P*y.vqa<z)?26:25;break;case 23:s5A=f(A,u.cb,y,b.Ey)?22:33;break;case 7:s5A=l&&1<l.length?6:32;break;case 32:z=c[m];m!==d&&q&&k.log((m>d?R5A:a5A)+H5A+t.P+w5A+z.P+F5A);q&&k.log(y5A+z.P+Q5A+g+p5A+z.ta+i5A+b.buffer.cb);return new L(m);break;case 26:m=u;s5A=32;break;case 33:q&&k.log(O5A+this.vv+P5A+this.yT+C5A+A+G5A);s5A=32;break;case 19:s5A=n&&z<y.vqa*u?18:24;break;case 15:A=c[u];s5A=27;break;case 10:s5A=0>n?20:19;break;case 22:q&&k.log(I5A+this.vv+W5A+this.yT+U5A+u.cb);s5A=21;break;}}}function f(a,b,c,d){var B5A;B5A=2;while(B5A!==1){switch(B5A){case 2:return d&&a>c.Oy&&(h.R(this.vv)||this.yT>this.vv||b-this.vv>c.GT);break;}}}Z5A=2;while(Z5A!==10){Y5A="1SIYbZrNJ";Y5A+="Cp";Y5A+="9";switch(Z5A){case 14:L=c.np;A=a(355);g.T={STARTING:function(a,c,d,f){var S5A,g,h,X5A,r5A,V5A;S5A=2;while(S5A!==14){X5A=" ";X5A+="k";X5A+="bp";X5A+="s, profile";X5A+=" :";r5A="selectAu";r5A+="dioStreamStarting: ";r5A+="selected stream :";V5A="selectAudi";V5A+="oStre";V5A+="amStarting: ove";V5A+="rriding config with ";switch(S5A){case 3:g={minInitAudioBitrate:a.qK,minHCInitAudioBitrate:a.pK,maxInitAudioBitrate:a.eK,minRequiredAudioBuffer:a.fU},q&&k.log(V5A+JSON.stringify(h)),l(h,g);S5A=9;break;case 9:a=A[n.Ma.name[n.Ma.Lh]](g,c,d,f);d=d[a.sd];q&&k.log(r5A+d.P+X5A+d.df);return a;break;case 2:g=a;h=d[f||0].df;S5A=4;break;case 4:S5A=(h=a&&a.$L&&0<=a.$L.indexOf(h)?b(h,a.zCa):b(h,a.VZa))?3:9;break;}}},BUFFERING:d,REBUFFERING:d,PLAYING:d,PAUSED:d};Z5A=11;break;case 4:k=c.console;q=c.debug;p=c.assert;l=a(48);n=a(11);r=c.Gy;Z5A=14;break;case 2:h=a(6);c=a(44);Z5A=4;break;case 11:Y5A;Z5A=10;break;}}}());},function(g,f,a){var d,h,m,c;function b(a,b,f){var g,k;g=this.X_;b=b.buffer.cb;k="forward"===a.Bob;if(d.R(g))return g=k?h(f):h(f,f.length),this.Y_=b,this.X_=g,new c(g);m(f[g])||(g=h(f,g),this.Y_=b,this.X_=g);if(0>g)return null;if(b>this.Y_+a.zsb){a=f.map(function(a,b){return a.hf&&a.inRange&&!a.Og?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;k?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.X_=a[g];this.Y_=b;return new c(a[g]);}return new c(g);}d=a(6);a(11);f=a(44);h=f.J4;m=f.Gy;c=f.np;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,f,a){function b(a){this.data=a;this.right=this.left=null;}function d(a){this.Ad=null;this.Qj=a;this.size=0;}f=a(356);b.prototype.rf=function(a){return a?this.right:this.left;};b.prototype.gm=function(a,b){a?this.right=b:this.left=b;};d.prototype=new f();d.prototype.Vl=function(a){if(null===this.Ad)return this.Ad=new b(a),this.size++,!0;for(var d=0,c=null,f=this.Ad;;){if(null===f)return f=new b(a),c.gm(d,f),ret=!0,this.size++,!0;if(0===this.Qj(f.data,a))return!1;d=0>this.Qj(f.data,a);c=f;f=f.rf(d);}};d.prototype.remove=function(a){var d,c,f,l,h;if(null===this.Ad)return!1;d=new b(void 0);c=d;c.right=this.Ad;for(var f=null,g=null,h=1;null!==c.rf(h);){f=c;c=c.rf(h);l=this.Qj(a,c.data);h=0<l;0===l&&(g=c);}return null!==g?(g.data=c.data,f.gm(f.right===c,c.rf(null===c.left)),this.Ad=d.right,this.size--,!0):!1;};g.T=d;},function(g,f,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function d(a){this.Ad=null;this.Qj=a;this.size=0;}function h(a){return null!==a&&a.red;}function m(a,b){var c;c=a.rf(!b);a.gm(!b,c.rf(b));c.gm(b,a);a.red=!0;c.red=!1;return c;}function c(a,b){a.gm(!b,m(a.rf(!b),!b));return m(a,b);}f=a(356);b.prototype.rf=function(a){return a?this.right:this.left;};b.prototype.gm=function(a,b){a?this.right=b:this.left=b;};d.prototype=new f();d.prototype.Vl=function(a){var d,f,g,k,l,t,n,r,M;d=!1;if(null===this.Ad)this.Ad=new b(a),d=!0,this.size++;else{f=new b(void 0);g=0;k=0;l=null;t=f;n=null;r=this.Ad;for(t.right=this.Ad;;){null===r?(r=new b(a),n.gm(g,r),d=!0,this.size++):h(r.left)&&h(r.right)&&(r.red=!0,r.left.red=!1,r.right.red=!1);if(h(r)&&h(n)){M=t.right===l;r===n.rf(k)?t.gm(M,m(l,!k)):t.gm(M,c(l,!k));}M=this.Qj(r.data,a);if(0===M)break;k=g;g=0>M;null!==l&&(t=l);l=n;n=r;r=r.rf(g);}this.Ad=f.right;}this.Ad.red=!1;return d;};d.prototype.remove=function(a){var d,f,n,g,r,t,M;if(null===this.Ad)return!1;d=new b(void 0);f=d;f.right=this.Ad;for(var g=null,k,l=null,t=1;null!==f.rf(t);){n=t;k=g;g=f;f=f.rf(t);r=this.Qj(a,f.data);t=0<r;0===r&&(l=f);if(!h(f)&&!h(f.rf(t)))if(h(f.rf(!t)))k=m(f,t),g.gm(n,k),g=k;else if(!h(f.rf(!t))&&(r=g.rf(!n),null!==r))if(h(r.rf(!n))||h(r.rf(n))){M=k.right===g;h(r.rf(n))?k.gm(M,c(g,n)):h(r.rf(!n))&&k.gm(M,m(g,n));n=k.rf(M);n.red=!0;f.red=!0;n.left.red=!1;n.right.red=!1;}else g.red=!1,r.red=!0,f.red=!0;}null!==l&&(l.data=f.data,g.gm(g.right===f,f.rf(null===f.left)),this.size--);this.Ad=d.right;null!==this.Ad&&(this.Ad.red=!1);return null!==l;};g.T=d;},function(g,f,a){g.T={YPa:a(723),hwb:a(722)};},function(g,f,a){var d;function b(a,b,c){a=c.map(function(a,b){return a.hf&&a.inRange&&!a.Og?b:null;}).filter(function(a){return null!==a;});return a.length?new d(a[Math.floor(Math.random()*a.length)]):null;}a(11);d=a(44).np;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,f,a){var d,h,m,c;function b(a,b,f,g){if(d.R(g))a=h(f);else if(m(f[g]))a=g;else if(a=h(f,g),0>a)return null;return new c(a);}d=a(6);a(11);f=a(44);h=f.J4;m=f.Gy;c=f.np;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(){}a.una=function(a,d){var b;return a.some(function(a){b=a;return d(a);})?b:void 0;};a.XB=function(a,d){var b;b=-1;return a.some(function(a,c){b=c;return d(a);})?b:-1;};a.hIb=function(a){return function(b,f){return a(b)<a(f)?b:f;};};return a;}();f.LM=g;},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});b=a(11);d=a(5);h=a(6);m=a(727);c=new d.Console("ASEJS_STREAM_SELECTOR","media|asejs");k=[b.Ma.name[b.Ma.Lh],b.Ma.name[b.Ma.Hj],b.Ma.name[b.Ma.Nt],b.Ma.name[b.Ma.yd],b.Ma.name[b.Ma.ni],"checkBuffering"];q={first:a(726),random:a(725),optimized:a(197),roundrobin:a(721),selectaudio:a(355),selectaudioadaptive:a(720),"default":a(197),lowest:a(719),highest:a(718),throughputthreshold:a(717),checkdefault:a(716),testscript:a(715)};p={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};g=function(){var j5A;function a(a,b,c,d){var t8A,f,Q8q;t8A=2;while(t8A!==7){Q8q="1S";Q8q+="IY";Q8q+="bZrNJ";Q8q+="Cp";Q8q+="9";switch(t8A){case 9:b=b||this.u.qba;t8A=8;break;case 2:f=this;this.u=c;Q8q;d&&(this.ox=d.ox,this.PO=d.PO);t8A=9;break;case 8:this.Kd=k.reduce(function(a,c){var b8A;b8A=2;while(b8A!==5){switch(b8A){case 2:a[c]=((q[b]||q[p[c]])[c]||q[p[c]][c]).bind(f);return a;break;}}},{});t8A=7;break;}}}j5A=2;while(j5A!==6){switch(j5A){case 2:a.prototype.Aaa=function(a,f,g,k,p,q,l){var c8A,d8A,t,u,n,z,r,y,A,B,L,M,S,F,D,A8q,S8A;c8A=2;while(c8A!==56){A8q="Str";A8q+="eam selector called ";A8q+="with invalid player st";A8q+="ate ";switch(c8A){case 49:p=f[t.sd];t.reason&&(p.jl=t.reason,p.zaa=t.Fs,p.GJ=t.GJ,p.Ul=t.Ul,p.Wk=t.Wk);h.pa(A)&&p.P<f[A].P&&(this.U_=g.cb);a.state!==b.Ma.yd&&a.state!==b.Ma.ni?(q=this.s2(a,p,q,l),(t.Gp=q.complete)?t.reason=q.reason:(t.Gp=!1,t.Jz=q.Jz,t.cK=q.cK,t.Qi=q.Qi)):t.Gp=!0;c8A=45;break;case 12:S=L[M-1].za;A=m.LM.XB(f,function(a){var e8A;e8A=2;while(e8A!==1){switch(e8A){case 4:return a.za==S;break;e8A=1;break;case 2:return a.za===S;break;}}});c8A=10;break;case 10:c8A=!(0<=A)?20:19;break;case 61:c8A=d8A===b.Ma.Nt?62:60;break;case 41:++L;c8A=44;break;case 60:c8A=d8A===b.Ma.yd?35:59;break;case 32:L=a.ye||g.Qk-g.qf;p=void 0;B=!1;c8A=29;break;case 26:y.lW?L=D.filter(function(a){var k8A;k8A=2;while(k8A!==1){switch(k8A){case 4:return a.Vu;break;k8A=1;break;case 2:return a.Vu;break;}}}):y.Ly||a.state===b.Ma.yd||a.state===b.Ma.ni||(L=D.filter(function(a){var l8A;l8A=2;while(l8A!==1){switch(l8A){case 2:return!a.TBa;break;case 4:return~a.TBa;break;l8A=1;break;}}}));D=0<L.length?L:D.slice(0,1);void 0!==A&&(L=m.LM.XB(D,function(a){var D8A;D8A=2;while(D8A!==1){switch(D8A){case 4:return a.P<=f[A].P;break;D8A=1;break;case 2:return a.P>f[A].P;break;}}}),B=0<L?L-1:0===L?0:D.length-1);c8A=23;break;case 36:p.$&&p.$.length||(B=!0,t.ns.push(L));c8A=53;break;case 8:h.pa(A)&&a&&a.state===b.Ma.Lh&&(A=this.ox=void 0);h.pa(A)&&A>=f.length&&(A=this.ox=void 0);L=g.$;M=L.length;c8A=13;break;case 22:this.Z_=this.U_=void 0;c8A=21;break;case 23:d8A=a.state;c8A=d8A===b.Ma.Lh?22:63;break;case 34:c8A=t.So?33:64;break;case 37:c8A=(p=f[L],p.hf&&p.inRange&&!p.Og)?36:54;break;case 15:D.length||(D=f.filter(function(a){var L8A;L8A=2;while(L8A!==1){switch(L8A){case 4:return a||a.hf||~a.Og;break;L8A=1;break;case 2:return a&&a.hf&&!a.Og;break;}}}),D.forEach(function(a){var N8A;N8A=2;while(N8A!==1){switch(N8A){case 4:a.inRange=-3;N8A=6;break;N8A=1;break;case 2:a.inRange=!0;N8A=1;break;}}}));L=D;c8A=26;break;case 63:c8A=d8A===b.Ma.Hj?62:61;break;case 43:c8A=(p=f[L],p.hf&&p.inRange&&!p.Og)?42:41;break;case 38:c8A=0<=L?37:53;break;case 44:c8A=L<f.length?43:40;break;case 2:g=a&&a.buffer;n=a&&a.state;z=d.time.ea();y=this.u;A=this.ox;c8A=8;break;case 58:return c.error(A8q+b.Ma.name[a.state]),null;break;case 42:p.$&&p.$.length||(B=!0,t.ns.push(L));c8A=40;break;case 51:return null;break;case 13:c8A=0<M?12:19;break;case 19:h.R(A)&&(A=this.ox);this.YR(f,function(c){var J8A;J8A=2;while(J8A!==1){switch(J8A){case 2:c.hf&&c.inRange&&!c.Og&&c.Ka&&c.Ka.Dc?(u!==c.Ka&&(u=c.Ka,a&&a.Ao&&c.Ka&&(c.Ka.Ao=!0),n===b.Ma.Lh&&y.KI&&a.aT&&y.z1&&(c.Ka.ta.Fa=a.aT),r=Math.floor(k(c.Ka,a.buffer)),r=0===r?1:r),c.ta=r):c.ta=void 0;J8A=1;break;}}});n===b.Ma.Lh&&h.pa(A)&&(n=b.Ma.Hj);D=f.filter(function(a){var h8A;h8A=2;while(h8A!==1){switch(h8A){case 2:return a&&a.hf&&a.inRange&&!a.Og;break;}}});c8A=15;break;case 64:p=function(a){var o8A;o8A=2;while(o8A!==1){switch(o8A){case 2:return m.LM.XB(f,function(b){var Z8A;Z8A=2;while(Z8A!==1){switch(Z8A){case 2:return b===D[a];break;case 4:return b!==D[a];break;Z8A=1;break;}}});break;}}},t.sd=p(t.sd),t.ns&&(t.ns=t.ns.map(p));c8A=52;break;case 20:F=L[M-1].P,L=m.LM.XB(f,function(a){var f8A;f8A=2;while(f8A!==1){switch(f8A){case 4:return a.P>=F;break;f8A=1;break;case 2:return a.P>F;break;}}}),A=0<L?L-1:0===L?0:f.length-1;c8A=19;break;case 52:c8A=!t||null===t.sd?51:50;break;case 50:this.ox=t.sd;c8A=49;break;case 33:c8A=(t.ns=[],f.forEach(function(a,b){var n8A;n8A=2;while(n8A!==4){switch(n8A){case 2:a===t.So&&(t.sd=b);a.rba&&t.ns.push(b);a.rba=!1;n8A=4;break;}}}),!t.ns.length)?32:52;break;case 21:this.PO=b.tN.Lh;c8A=35;break;case 40:c8A=!B?39:53;break;case 39:L=t.sd-1;c8A=38;break;case 54:--L;c8A=38;break;case 45:a.vR&&(t.cb=g.cb,q=a&&a.jw,l=p.$,t.Vm=l&&void 0!==q&&!isNaN(q)&&0<=q&&q<l.length?l.fg(q):g.cb,t.Qlb=p.ta||0,t.ljb=p.Ka&&p.Ka.ta&&p.Ka.ta.Fa||0,t.U_a=g.Qk-g.qf,t.coa=g.km,t.Blb=n,t.zp=a&&a.zp,t.oDa=z,t.nsb=d.time.ea());return t;break;case 29:c8A=y.ZBa&&L>y.bU?28:53;break;case 28:p933.P8q(0);S8A=p933.G8q(16,9,26);L=t.sd+S8A;c8A=44;break;case 35:t=this.Kd[b.Ma.name[n]].call(this,y,a,D,B,k,p);c8A=34;break;case 59:c8A=d8A===b.Ma.ni?35:58;break;case 53:B||(t.ns=void 0);c8A=52;break;case 62:this.PO=b.tN.Lh;c8A=35;break;}}};a.prototype.s2=function(a,b,c,d){var z8A;z8A=2;while(z8A!==1){switch(z8A){case 2:return this.Kd.checkBuffering.call(this,a,b,c,d,this.u);break;}}};a.prototype.Crb=function(a,b,c){var m8A;m8A=2;while(m8A!==1){switch(m8A){case 2:h.R(b)?this.U_=this.Z_=void 0:b.P<c.P&&(this.Z_=a);m8A=1;break;}}};j5A=4;break;case 4:a.prototype.YR=function(a,b){var s8A,c,q8A;s8A=2;while(s8A!==3){switch(s8A){case 5:b(a[c],c,a);s8A=4;break;case 1:s8A=0<=c?5:3;break;case 2:p933.g8q(1);q8A=p933.G8q(20,20);c=a.length-q8A;s8A=1;break;case 4:--c;s8A=1;break;case 14:++c;s8A=9;break;s8A=1;break;}}};Object.defineProperties(a.prototype,{vv:{get:function(){var M8A;M8A=2;while(M8A!==1){switch(M8A){case 2:return this.U_;break;case 4:return this.U_;break;M8A=1;break;}}},enumerable:!0,configurable:!0}});j5A=9;break;case 9:Object.defineProperties(a.prototype,{yT:{get:function(){var u8A;u8A=2;while(u8A!==1){switch(u8A){case 2:return this.Z_;break;case 4:return this.Z_;break;u8A=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ffb:{get:function(){var v8A;v8A=2;while(v8A!==1){switch(v8A){case 4:return this.ox;break;v8A=1;break;case 2:return this.ox;break;}}},enumerable:!0,configurable:!0}});return a;break;}}}();f.LZ=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(40);d=a(94);a=function(a){function f(b,f,g,h,m){h=a.call(this,b,f,h,m)||this;f.aa=g.byteLength;d.pk.call(h,b,f);h.FB=g;h.YSa=f.aa;return h;}b.__extends(f,a);Object.defineProperties(f.prototype,{Vb:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{bk:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{vT:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{qc:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{sj:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Wh:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{response:{get:function(){return this.FB;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Vfb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{readyState:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ne:{get:function(){return this.YSa;},enumerable:!0,configurable:!0}});f.prototype.By=function(){return!0;};f.prototype.WB=function(a){return this.Ph=a.appendBuffer(this.response,this);};f.prototype.ak=function(){return-1;};f.prototype.abort=function(){return!0;};f.prototype.Xd=function(){};f.prototype.ZL=function(){return!1;};return f;}(a(154).yw);f.dFa=a;g.li(d.pk,a);},function(g,f,a){var d,h,m,c;function b(a){return{mediaType:a.O,streamId:a.za,movieId:a.M,bitrate:a.P,location:a.location,serverId:a.Db,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ga,frameDuration:a.stream.Ha&&a.stream.Ha.vd,encrypted:a.Ml};}Object.defineProperty(f,"__esModule",{value:!0});d=a(6);h=a(729);m=a(365);c=a(59);f.bMa={AN:"movieEntry",$Ja:"header",PY:"metadata",ZJa:"headerData",GJa:"sizes",FJa:"durations",Aea:"fragments",lMa:"response",Yi:"billboard",Kt:{lifespan:259200}};f.gsa=function(a,b,c){var d,f;d=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(f={Ej:c.startTicks,offset:c.offset,ga:c.timescale,sizes:new Uint32Array(b.sizes),$c:new Uint32Array(b.durations)});return{Vb:!0,O:a.mediaType,M:a.movieId,za:a.streamId,P:a.bitrate,location:a.location,Db:a.serverId,aa:a.bytes,offset:a.offset,Es:d,Ml:a.encrypted,ga:a.timescale,Ha:a.frameDuration,ge:a.saveToDisk,$:f};};f.fsa=function(a,b){var c,d,f;b=b.response;c=a.startTicks;d=a.durationTicks;void 0!==c&&void 0!==d&&(f=c+d);return{Vb:!1,O:a.mediaType,M:a.movieId,za:a.streamId,P:a.bitrate,location:a.location,Db:a.serverId,aa:a.bytes,offset:a.offset,response:b,ga:a.timescale,bb:a.startTicks,Ll:d,ge:a.saveToDisk,xb:f};};f.cta=function(a){return{Rd:a.priority,M:a.movieId,headers:{},wo:0,vC:0,OS:0,ge:a.saveToDisk,Kb:a.stats,Pl:a.firstSelectedStreamBitrate,yo:a.initSelectionReason,jn:a.histDiscountedThroughputValue,Wk:a.histTdigest,Ul:a.histAge,Hk:void 0};};f.eta=function(a,b,f,g){var k,p;k={headers:{},data:{}};f.forEach(function(d){var f,p;f=d.O;if(f=g&&g.Sp(f,d.za))if(d.$&&f.zU(d.ga,d.Ha?new c.dc(d.Ha,d.ga):void 0,d.$),d.Vb&&f&&f.ed)void 0===k.headers&&(k.headers={}),k.headers[d.za]=new m.bX(f,{aa:d.aa,offset:d.offset,Es:d.Es,Ml:d.Ml,eA:!1},a);else{if(d.response instanceof ArrayBuffer&&void 0!==f.$&&void 0!==d.bb&&void 0!==d.ga&&void 0!==d.xb){p=f.$.OR(new c.dc(d.bb,d.ga).wf);void 0!==p&&(f=new h.dFa(f,{ga:d.ga,bb:d.bb,xb:d.xb,index:p.index,offset:d.offset,aa:d.aa},d.response,b,a),void 0===k.data&&(k.data={}),k.data[d.za]||(k.data[d.za]=[]),k.data[d.za].push(f));}}else a.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+d.za+" movieId: "+d.M);});if(!d.R(k.data)){p=k.data;Object.keys(p).forEach(function(a){p[a].sort(function(a,b){return a.bb-b.bb;});});}return k;};f.Ysa=function(a){return{mediaType:a.O,streamId:a.za,movieId:a.M,bitrate:a.P,location:a.location,serverId:a.Db,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ga,startTicks:a.bb,durationTicks:a.Ll};};f.hab=b;f.dab=function(a){var c,d,f,g;c=b(a);a.stream.ed&&a.stream&&a.stream.$&&(d={timescale:a.stream.$.ga,startTicks:a.stream.$.Ej,offset:a.stream.$.$l(0)},g=a.stream.$.HE,f=g.sizes.buffer,g=g.$c.buffer);return{mediaType:c.mediaType,streamId:c.streamId,movieId:c.movieId,bitrate:c.bitrate,location:c.location,serverId:c.serverId,saveToDisk:!0,offset:c.offset,bytes:c.bytes,timescale:c.timescale,frameDuration:c.frameDuration,headerData:a.Es,encrypted:a.Ml,fragments:d,sizes:f,durations:g};};f.dta=function(a){return{priority:a.Rd,movieId:a.M,saveToDisk:a.ge,firstSelectedStreamBitrate:a.Pl,initSelectionReason:a.yo,histDiscountedThroughputValue:a.jn,histTdigest:a.Wk,histAge:a.Ul};};f.heb=function(a){return!d.has(a,"startTicks");};f.Uua=function(a){return!a.Es||!a.ga||!a.$||void 0===a.$.Ej||void 0===a.$.offset||void 0===a.$.$c||!a.$.$c.length||void 0===a.$.sizes||!a.$.sizes.length;};f.Tua=function(a){return void 0===a.aa||void 0===a.offset||void 0===a.ga||void 0===a.bb||void 0===a.Ll;};},function(g,f,a){var m,c;function b(a,c,d){Object.keys(a).forEach(function(f){var g,h;if(m.Ve(a[f]))if(a[f].jT){g=a[f];h=d+g.offset;a[f]=c.slice(h,h+g.byteLength);}else a[f]=b(a[f],c,d);});return a;}function d(a,b,c){Object.keys(a).forEach(function(f){var g;if(m.jT(a[f])){g=a[f];b.push(g);a[f]={jT:!0,offset:c.o3,byteLength:g.byteLength};c.o3+=g.byteLength;}else m.Ve(a[f])&&d(a[f],b,c);});return a;}function h(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}m=a(108);c=a(48);g.T={c2a:function(a){var b,f,g;b=c(a,{});a=[];b=d(b,a,{o3:0});b=JSON.stringify(b);f=new ArrayBuffer(b.length+4);g=new DataView(f);g.setUint32(0,b.length);for(var k=4,m=0,l=b.length;m<l;m++)g.setUint8(k,b.charCodeAt(m)),k++;a=[f].concat(a);return h.apply(null,a);},b2a:function(a){var c;c=new DataView(a,0,4).getInt32(0);for(var d=new Uint8Array(a,4,c),f="",g=0;g<d.byteLength;g++)f+=String.fromCharCode(d[g]);c=4+c;f=JSON.parse(f);return b(f,a,c);}};},function(g,f,a){var h;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function d(a,b){var c,f,g;c=[];if(h.Ve(b)){f={};g={};g[a]=f;c.push(g);c=Object.keys(b).reduce(function(c,g){var k,p,m;k=b[g];m={};h.jT(k)?(p=a+".__embed__."+g,m[p]=k,c.push(m)):h.Ve(k)?(p=a+".__sub__."+g,k=d(p,k),f[g]=k[0][p],c=c.concat(k.slice(1))):f[g]=k;return c;},c);}else g={},g[a]=b,c.push(g);return c;}h=a(108);g.T={f6a:d,Sdb:function(a){var c,n;c=Object.keys(a).map(function(a){return a.split(".");});c.sort(b);for(var d=c[0],f=d.length,d=a[d.join(".")],g=1;g<c.length;g++)for(var h=!1,m=!1,l=d,t=f;t<c[g].length;t++){n=c[g][t];switch(n){case"__metadata__":break;case"__sub__":m=!0;break;case"__embed__":h=!0;break;default:m?(l=l[n],m=!1):h&&(l[n]=a[c[g].join(".")],h=!1);}}return d;},keb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,f,a){function b(a){return a;}function d(){return b;}a(6);g.T={iJ:d,a6:d};},function(g,f,a){var b,d,h,m;b=a(6);d=a(108);h={};h[d.sm.Ew]=function(a){return a;};h[d.sm.VN]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[d.sm.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};m={};m[d.sm.Ew]=function(a){return a;};m[d.sm.VN]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,f=a.length;d<f;d++)c[d]=a.charCodeAt(d);return b;};m[d.sm.OBJECT]=function(a){return b.R(a)||b.Pa(a)?a:m[d.sm.VN](JSON.stringify(a));};g.T={iJ:function(a){return h[a]||h[d.sm.Ew];},a6:function(a){return m[a]||m[d.sm.Ew];}};},function(g){function f(a){if(!(this instanceof f))return new f(a);if("undefined"===typeof a)this.Qj=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Qj=a;}this.Gm=[];}function a(d,f){var g,c,h,q,p,l,t;g=d.Gm;c=d.Qj;h=2*f+1;q=2*f+2;p=g[f];l=g[h];t=g[q];l&&c(l.Rd,p.Rd)&&(!t||c(l.Rd,t.Rd))?(b(g,f,h),a(d,h)):t&&c(t.Rd,p.Rd)&&(b(g,f,q),a(d,q));}function b(a,b,f){var c;c=a[b];a[b]=a[f];a[f]=c;}f.prototype.clear=function(){this.Gm=[];};f.prototype.Vl=function(a,f){this.Gm.push({Rd:a,value:f});a=this.Gm;f=this.Qj;for(var d=a.length-1,c=0===d?null:Math.floor((d-1)/2);null!==c&&f(a[d].Rd,a[c].Rd);)b(a,d,c),d=c,c=0===d?null:Math.floor((d-1)/2);};f.prototype.remove=function(){var d;if(0!==this.Gm.length){d=this.Gm[0];b(this.Gm,0,this.Gm.length-1);this.Gm.pop();a(this,0);return d.value;}};f.prototype.aE=function(){if(0!==this.Gm.length)return this.Gm[0].value;};f.prototype.enqueue=f.prototype.Vl;f.prototype.H5a=f.prototype.remove;f.prototype.aA=function(){return this.Gm.map(function(a){return a.value;});};g.T=f;},function(g,f,a){var d,h,m,c,k,q,p,l;function b(a,f,g){var L,F;function t(a,b,c,d){a.info.call(a,function(a,f){var g;if(a)d(a);else{try{g=f.values[this.context].entries[b][c].size;}catch(va){g=-1;}-1<g?d(null,g):this.cp(function(a,b){a?d(a):(b[c]&&(g=b[c].size),d(null,g));});}}.bind(a));}function u(a,c,d,f,g,m,q){var l;m?m.Uj||(m.Uj={}):m={Uj:{}};L(f);l=h.time.now();f=new p(function(b,f){a.create(h.storage.NA,c,d,function(a,c){a?f(a):b(c);});}).then(function(d){d.X?t(a,h.storage.NA,c,function(a,f){a?q(a):(F(f),L(f),m.Uj[b.JM.JY]={X:!0,time:g,Rh:f,sv:c,Fza:d,duration:h.time.now()-l},m.Hi=d.Hi,q(null,m));}):(m.Uj[b.JM.JY]={X:!1,sv:c,error:d.error},q(null,m));},function(a){q(a);});k.tq(f);}function n(a,b,c,d,f,g){d.Vl(c.time,c);for(var h=c.time-864E5,k=d.aE();k&&!isNaN(k.time)&&k.time<h;)k=d.H5a(),L(0-(k.aa||0)),k=d.aE();d=d.aA().map(function(a){return a.time+";"+a.aa;});u(a,b,Array.prototype.join.call(d,"|"),c.aa,c.time,f,g);}function z(a,c,d,f,g,k,p,l,u){var z;z=h.time.now();a.create(d,f,g,function(g,r){var y;if(g)q.error("Failed to replace item",f,g);else if(r.X){y=r.Hi;t(a,d,f,function(d,g){var m,q;if(d)u(d);else{d={time:l,aa:g||0};m={Hi:y,Uj:{}};q=h.time.now()-z;m.Uj[b.JM.REPLACE]={X:!0,time:l,Rh:g,sv:f,Fza:r,duration:q};k?n(a,c,d,p,m,u):(L(g),u(null,m));}});}else u(m.fO.om(r.error||"Failed to create item"));});}function r(a,c,d,f,g,k,p,l,u){var z;z=h.time.now();a.append(d,f,g,function(g,r){var y;if(g)q.error("Failed to save item "+f,g),u(g);else if(r.X){y=r.Hi;t(a,d,f,function(d,g){var m,q;if(d)u(d);else{d={time:l,aa:g||0};m={Hi:y,Uj:{}};q=h.time.now()-z;m.Uj[b.JM.oQa]={X:!0,time:l,Rh:g,sv:f,Fza:r,duration:q};k?n(a,c,d,p,m,u):(L(g),u(null,m));}});}else u(m.fO.om(r.error||"Failed to save item"));});}function y(a,b){a&&d.Mb(a.remove)&&a.si.valid&&a.remove(h.storage.NA,b.xB,function(c,f){if(c)q.error("Failed to delete old journal key",c);else try{f&&(d.R(f.error)||f.error.some(function(a){return"NFErr_FileNotFound"===a.bGb;}))&&n(a,b.xB,{time:0,aa:0},b.eH,0,function(){});}catch(V){}});}if(!a.si.valid)return l;this.gka=d.R(f)||d.Pa(f)?0:f;this.z_=a;this.S_=this.CG=0;this.eH=new c();this.rWa=g||"default";this.xB=this.rWa+".NRDCACHEJOURNALKEY";L=function(a){isNaN(a)||(this.CG+=a);return this.CG;}.bind(this);F=function(a){isNaN(a)||(this.S_+=a);return this.S_;}.bind(this);this.G5=function(){return this.xB;};this.save=function(a,b,c,d){var f;f=h.time.now();r(this.z_,this.xB,a,b,c,0<=this.gka,this.eH,f,d);};this.replace=function(a,b,c,d){var f;f=h.time.now();z(this.z_,this.xB,a,b,c,0<=this.gka,this.eH,f,d);};this.rsa=function(a){var b,f;b=this.CG;a-=864E5;for(var c=this.eH.aA(),d=0;d<c.length;d++){f=c[d];f.time<a&&!isNaN(f.aa)&&(b-=f.aa);}return b;};(function(a){var b;b=a.z_;a.CG=0;b.read(h.storage.NA,a.xB,0,-1,function(c,d){var f,g,k,m;f=[];g=0;k=!0;if(c)q.error("Failed to compile records",c);else if(d.X){c=String.fromCharCode.apply(null,new Uint8Array(d.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a+(b.length+40);},0);L(d);f=c.map(function(a){a=a.split(";");return{time:Number(a[0]),aa:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a+b.aa;},0)))for(var k=!1,p=h.time.now()-864E5;g<f.length;g++){m=f[g];m.time<p||(a.eH.Vl(m.time,m),L(m.aa));}}catch(O){}}k&&y(b,a);});}(this));}d=a(6);h=a(109);m=a(199);c=a(735);f=a(48);k=a(198);q=new h.Console("DISKWRITEMANAGER","media|asejs");p=h.Promise;f({JM:{oQa:"saveitem",REPLACE:"replaceitem",JY:"journalupdate"}},b);l={save:function(a,b,c,d){d(m.Zfa);},replace:function(a,b,c,d){d(m.Zfa);},G5:function(){return"";},rsa:function(){return 0;}};b.prototype.constructor=b;g.T={create:function(a,c,d){return new b(a,c,d);},uAb:l};},function(g,f,a){var k,q,p,l,n,r,L,A,B;function b(){}function d(c,f,g,p,l){var t;t=k.Mb(p)?p:b;this.hu=c;this.ir=g.Du;this.Jr=0;this.RTa=g.i8a||"NONE";this.kr=k.R(l)||k.Pa(l)?0:l;this.md={};this.Xn=g.aIb||q.storage.NA;this.qp=f;this.RB=n.create(this.qp,g.D4a*this.kr,this.hu);this.on=this.addEventListener=B.addEventListener;this.removeEventListener=B.removeEventListener;this.emit=this.na=B.na;this.Nka=m(this,d.wd.REPLACE);this.wUa=m(this,d.wd.pja);this.tx;this.tx=g.SDa?a(734):a(733);this.qp.query(this.Xn,this.Zl(""),function(a,b){var c;if(a)t(a);else{c=this.RB.G5();a=Object.keys(b).filter(function(a){return a!==c&&r.rD(a);}).map(this.Zba.bind(this));this.mV(a,function(a,c){Object.keys(c).map(function(a){var d,f;d=c[a];this.md[r.KR(a)]=d;if(d.baa&&1<Object.keys(d.baa).length){f=0;Object.keys(d.baa).forEach(function(a){b[this.Zl(a)]&&k.pa(b[this.Zl(a)].size)&&(f+=b[this.Zl(a)].size);}.bind(this));a=r.KR(a);this.md[a].size=f;}else a=r.KR(a),b[this.Zl(a)]&&(this.md[a].size=b[this.Zl(a)].size);}.bind(this));h(this.qp,this.Xn,this.hu,function(a,b){this.Jr=b;a?t(a):t(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,c,d,f){var g;g=k.Mb(f)?f:b;a.query(c,d,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),g(null,a));});}function m(a,b){return function(c,f,g,p,m){return function(l,t){var u;if(l)f||a.na(d.wd.ERROR,{itemKey:c,error:l}),g(l);else{u={Rh:0,duration:0,items:[],time:q.time.now()};Object.keys(t.Uj).map(function(b){var c;c=t.Uj[b];b={key:a.Zba(c.sv),jf:b};c.X?(u.Rh+=c.Rh,b.sT=c.Rh,k.pa(c.duration)&&(u.duration+=c.duration)):b.error=c.error;u.items.push(b);});l=k.Mb(p)?p():0;0<m&&(u.uC=m-l);h(a.qp,a.Xn,a.hu,function(c,d){c?g(c):(a.Jr=d,u.Hi=a.ir-d,f||a.na(b,A.xsa(u)),g(null,u));});}};};}function c(a,b){return 0<b&&a>=b?!0:!1;}k=a(6);q=a(109);p=a(199);f=a(48);l=new q.Console("MEDIACACHE","media|asejs");n=a(736);r=a(360);L=a(108);A=a(198);B=a(25).EventEmitter;f({wd:{pja:"writeitem",REPLACE:"replaceitem",JY:"journalupdate",ERROR:"mediacache-error"}},d);d.prototype.getName=function(){return this.hu;};d.prototype.Zba=function(a){return a.slice(this.hu.length+1);};d.prototype.y5=function(){return Object.keys(this.md).filter(function(a){a=r.b5(this.md[a]);return void 0===a||0>=a.Woa();}.bind(this));};d.prototype.Yab=function(){return Object.keys(this.md).reduce(function(a,b){var c;c=this.md[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:q.time.now()}).yJb;};d.prototype.W$a=function(){var a;switch(this.RTa){case"FIFO":a=this.Yab();}return a;};d.prototype.E5a=function(a){var c;c=k.Mb(a)?a:b;this.Ssa(function(b){var d,f,g;d=this.md;f=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!r.rD(a)&&0>f.indexOf(a);}))&&0<b.length){g=this;b=q.Promise.all(b.map(function(a){return new q.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{O$:!0});},function(a){c(a,{O$:!1});});A.tq(b);}else a(void 0,{O$:!1});}.bind(this));};d.prototype.Xmb=function(a,c,d){var f,g;f=k.Mb(c)?c:b;c=this.Zl(a);g=q.time.now();this.qp.read(this.Xn,c,0,-1,function(b,c){var h;if(b)f(b);else if(c&&c.X&&c.value){k.Mb(d)||(d=this.tx.iJ(L.sm.Ew),r.rD(a)?d=this.tx.iJ(L.sm.OBJECT):(b=this.md[a],!k.R(b)&&k.pa(b.resourceIndex[a])?(b=b.resourceIndex[a],k.R(b)&&(b=L.sm.Ew),d=this.tx.iJ(b)):l.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=d(c.value);}catch(Y){return f(p.TA.om(Y.message));}c={duration:q.time.now()-g};this.md[a]&&k.pa(this.md[a].size)&&(c.as=k.pa(this.md[a].size)?this.md[a].size:0);f(null,h,c);}else f(p.TA.om(c.error));}.bind(this));};d.prototype.read=function(a,b,c){this.Xmb(a,b,c);};d.prototype.mV=function(a,c,d){var f,g,h;f=k.Mb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))f(p.TA.om("item keys must be an array"));else{g={};h=[];a=q.Promise.all(a.map(function(a){return new q.Promise(function(b,c){var f;d&&!k.R(d[a])&&(f=this.tx.iJ(d[a]));this.read(a,function(d,f,k){d?(f={},f[a]=d,c(f)):(g[a]=f,h.push({duration:k.duration,as:k.as}),b());},f);}.bind(this));}.bind(this))).then(function(){var a;a={};0<h.length&&(a=h.reduce(function(a,b){k.pa(b.duration)&&(a.duration+=b.duration);k.pa(b.as)&&(a.as+=b.as);return a;},{duration:0,as:0}));f(null,g,a);},function(a){f(a);});A.tq(a);}};d.prototype.write=function(a,d,f,g,h){var m,q,l;f=k.Mb(f)?f:b;m=this.Zl(a);q="function"===typeof h?h():0;l=L.l6(d);l=this.tx.a6(l)(d);l.byteLength+this.Jr>=this.ir?f(p.sA):c(l.byteLength+q,this.kr)?f(p.gO):this.RB.save(this.Xn,m,d,this.wUa(a,g,f,h,this.kr),l.byteLength);};d.prototype.replace=function(a,d,f,g,h){var m,q,t,u;m=k.Mb(f)?f:b;q=this.Zl(a);t=0;"function"===typeof h&&(t=h());f=L.l6(d);u=this.tx.a6(f)(d);f=(this.md[a]||{}).size||0;0>=f&&this.md[a]?this.jta([a],function(b){l.trace("Replacing key",a,"which exists:",!!this.md[a],this.md[a]?this.md[a]:void 0,"and has size",b,"with",d,"with size",u.byteLength,"plus _used",this.Jr,"vs capacity",this.ir);u.byteLength-b+this.Jr>=this.ir?m(p.sA):c(u.byteLength-b+t,this.kr)?m(p.gO):this.RB.replace(this.Xn,q,d,this.Nka(a,g,m,h,this.kr),u.byteLength);}.bind(this)):(l.trace("Replacing key",a,"which exists:",!!this.md[a],this.md[a]?this.md[a]:void 0,"and has size",f,"with",d,"with size",u.byteLength,"plus _used",this.Jr,"vs capacity",this.ir),u.byteLength-f+this.Jr>=this.ir?m(p.sA):c(u.byteLength-f+t,this.kr)?m(p.gO):this.RB.replace(this.Xn,q,d,this.Nka(a,g,m,h,this.kr),u.byteLength));};d.prototype.Xnb=function(a,c,f,g){var h;h=k.Mb(c)?c:b;"[object Object]"!==Object.prototype.toString.call(a)?h(p.fO.om("items must be a map of keys to objects")):(c=q.Promise.all(Object.keys(a).map(function(b){return new q.Promise(function(c){this.replace(b,a[b],function(a,d){a?c({error:a,dm:b}):c(d);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,c,p,m;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.Rh+=c.Rh,k.pa(c.duration)&&(a.duration+=c.duration),!k.R(c.Hi)&&c.Hi<b&&(b=c.Hi),c.items.map(function(b){a.items.push({key:b.key,jf:b.jf,sT:b.sT,jgb:b.jgb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.Hi=b));return a;},{Rh:0,items:[],time:q.time.now(),duration:0});0<this.kr&&(c.uC=this.kr-g());p=a.filter(function(a){return!k.R(a.error);});m=A.Kta(p);f||(m?m.forEach(function(a){this.na(d.wd.ERROR,a);}.bind(this)):this.na(d.wd.REPLACE,A.xsa(c)));h(m,c);}catch(V){h(V);}}.bind(this),function(a){f||this.na(d.wd.ERROR,a);h(a);}.bind(this)),A.tq(c));};d.prototype["delete"]=function(a,c){var d;d=k.Mb(c)?c:b;this.qp.remove(this.Xn,this.Zl(a),function(a,b){a?d(a):b&&b.X?h(this.qp,this.Xn,this.Zl(""),function(a,b){a?d(a):(this.Jr=b,d());}.bind(this)):d(p.CHa.om(b.error));}.bind(this));};d.prototype.Ssa=function(a){this.query("",function(b,c){b?(l.error("Failed to get keys",b),a([])):a(c);});};d.prototype.query=function(a,c){var d,f;d=k.Mb(c)?c:b;f=this.RB.G5();this.qp.query(this.Xn,this.Zl(a),function(a,b){a?d(a):d(null,Object.keys(b).filter(function(a){return a!==f;}).map(this.Zba.bind(this)));}.bind(this));};d.prototype.Zl=function(a){return this.hu+"."+a;};d.prototype.clear=function(a){var c;c=k.Mb(a)?a:b;this.Ssa(function(a){var b;b=q.Promise.all(a.map(function(a){return new q.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){c(a);},function(a){this.na(d.wd.ERROR,a);c([],a);}.bind(this));A.tq(b);}.bind(this));};d.prototype.jta=function(a,c){var d,f;d=k.Mb(c)?c:b;f=(a||[]).map(function(a){return this.Zl(a);}.bind(this));this.qp.query(this.Xn,this.hu,function(b,c){b?(l.error("failed to get persisted size for keyset ",a,b),d(0)):(b=Object.keys(c).filter(function(a){return 0<=f.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),d(b));}.bind(this));};d.prototype.i$a=function(a){return this.RB.rsa(a);};d.prototype.constructor=d;g.T=d;},function(g,f,a){var d,h,m,c,k;function b(a){this.si=a;this.context=a.context;this.Ixa="NULLCONTEXT"===a.context?!0:!1;}d=a(6);h=a(109);m=new h.Console("DISKCACHE","media|asejs");c={context:"NULLCONTEXT",read:function(a,b,c,d,f){f("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};b.prototype.Ax=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.Ixa)throw Error("Media Cache not supported");b.apply(this.si,a);}catch(z){c(z);}};b.prototype.query=function(a,b,c,d){try{if(this.Ixa)throw Error("Media Cache not supported");this.si.query(a,b,function(a){c(null,a);},d);}catch(y){c(y);}};b.prototype.read=function(a,b,c,d,f){this.Ax(this.si.read,a,b,c,d,f);};b.prototype.remove=function(a,b,c){this.Ax(this.si.remove,a,b,c);};b.prototype.create=function(a,b,c,d){this.Ax(this.si.create,a,b,c,d);};b.prototype.append=function(a,b,c,d){this.Ax(this.si.append,a,b,c,d);};b.prototype.info=function(a){this.Ax(this.si.info,a);};b.prototype.cp=function(a){this.Ax(this.si.cp,a);};b.prototype.flush=function(a){this.Ax(this.si.flush,a);};b.prototype.clear=function(){this.si.clear();};g.T={W3a:function(a){var f,g,q,l,t;f=a.NFb||"NRDMEDIADISKCACHE";k=a.Mu||0;0!==k||d.R(h.options)||d.R(h.options.LD)||(k=h.options.LD);a=k;try{l=h.storage.DC;if(!l||!d.Ve(l))throw m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(q=l[f])m.warn("Disk store exists, returning"),g=new b(q);else{if(d.R(h.storage)||!d.Mb(h.storage.OQ)||h.options&&0===h.options.LD)throw m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";m.warn("Disk store context doesn't exist, creating with size "+a);t=h.storage.OQ({context:f,size:a,encrypted:!0,signed:!0});if(!t||!t.valid)throw"Failed to create disk store context";g=new b(t);}}catch(A){m.warn("Exception creating disk store context - returning NullContext (noops)",A);g=new b(c);}return g;},I$a:function(){return k;},oxb:b};},function(g,f,a){var b,d,h,m,c;b=a(6);h=[];c=!1;g.T={Fua:function(f,g,p){var k;if(c)b.Mb(p)&&(d.ln||d.zy?setTimeout(function(){p(d);},0):h.push(p));else{c=!0;k=a(109);k.EJ(f);m=new k.Console("MEDIACACHE","media|asejs");d=new(a(361))(g,function(a){a&&m.warn("Failed to initialize MediaCache",a);b.Mb(p)&&setTimeout(function(){p(d);},0);h.map(function(a){setTimeout(function(){a(d);},0);});});}return d;},qGb:function(c,f){d=new(a(361))(c,function(a,c){a&&m.warn("Failed to initialize MediaCache",a);b.Mb(f)&&setTimeout(function(){f(c);},0);});}};},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});a(13);b=a(739);d=a(25);h=a(6);m=a(211);g=a(40);c=a(730);k=c.bMa;a=function(){var e8q;e8q=2;while(e8q!==27){switch(e8q){case 2:a.prototype.yc=function(a,c){var c8q,d,C7q;c8q=2;while(c8q!==4){C7q="Media cache";C7q+=" is dis";C7q+="abled";switch(c8q){case 2:d=this;c8q=5;break;case 9:d=this;c8q=6;break;c8q=5;break;case 5:return this.up=this.Y0?new Promise(function(f,g){var O8q;O8q=2;while(O8q!==1){switch(O8q){case 2:(void 0!==c&&null!==c?c.Fua:function(a){var i8q;i8q=2;while(i8q!==1){switch(i8q){case 2:return b.Fua(d.Bk,d.u,a);break;case 4:return b.Fua(d.Bk,d.u,a);break;i8q=1;break;}}})(function(b){var D8q,c,N7q;D8q=2;while(D8q!==3){N7q="Media cach";N7q+="e did not initi";N7q+="alize";switch(D8q){case 2:d.hh=b;c=b.ln;(b=b.zy)?g(b):c?(d.xqb(a),f()):g(Error(N7q));D8q=3;break;}}});O8q=1;break;}}}):Promise.reject(C7q);break;}}};a.prototype.Rfb=function(a){var z8q,b,d,f;z8q=2;while(z8q!==9){switch(z8q){case 3:return this.up.then(function(){var d8q;d8q=2;while(d8q!==1){switch(d8q){case 2:return new Promise(function(g){var j8q;j8q=2;while(j8q!==1){switch(j8q){case 2:b.hh.vz(k.Yi,d,function(d){var X8q,p,k7q;X8q=2;while(X8q!==9){k7q="m";k7q+="ed";k7q+="iacachelookup";switch(X8q){case 2:X8q=1;break;case 1:X8q=!d||0>=d.length?5:4;break;case 5:g(),b.DE(k7q,{JT:b.Bk.time.ea()-f,TQ:!1});X8q=9;break;case 4:p=d[0];b.hh.read(k.Yi,p,function(d,f){var h8q,k,m,x8q,F7q,E7q;h8q=2;while(h8q!==14){F7q=" ";F7q+="fai";F7q+="le";F7q+="d";E7q="Readi";E7q+="ng movi";E7q+="e entry ";switch(h8q){case 5:h8q=!h.R(f)?4:8;break;case 2:d&&b.K.warn(E7q+p+F7q,d);h8q=5;break;case 3:try{x8q=2;while(x8q!==1){switch(x8q){case 2:k=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));x8q=1;break;}}}catch(E){}h8q=8;break;case 9:k={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};h8q=8;break;case 8:h.R(k)||(m=c.cta(k));h.R(m)||h.Pa(m)||(m.Kb=m.Kb||{},m.headers=m.headers||{});b.Wua(m)?g(m):(b.aXa(a),g());h8q=14;break;case 4:h8q=f instanceof ArrayBuffer?3:9;break;}}});X8q=9;break;}}});j8q=1;break;}}});break;}}});break;case 2:b=this;d=[k.AN,a].join(".");f=this.Bk.time.ea();z8q=3;break;}}};a.prototype.Kfb=function(a,b,c){var I8q,d,f,M7q;I8q=2;while(I8q!==8){M7q="Media cache is not enabl";M7q+="e";M7q+="d";switch(I8q){case 2:d=this;I8q=5;break;case 5:I8q=!this.up?4:3;break;case 4:return Promise.reject(M7q);break;case 3:f=this.Bk.time.ea();return this.up.then(function(){var m8q;m8q=2;while(m8q!==1){switch(m8q){case 2:return new Promise(function(g){var K8q;K8q=2;while(K8q!==1){switch(K8q){case 2:d.hh.vz(k.Yi,a,function(k){var s8q;s8q=2;while(s8q!==5){switch(s8q){case 2:k=k.reduce(function(a,b){var S8q,c,w7q;S8q=2;while(S8q!==8){w7q="d";w7q+="rmH";w7q+="eader._";w7q+="_em";w7q+="bed__";switch(S8q){case 2:c=b.substr(0,b.lastIndexOf("."));S8q=5;break;case 4:return a;break;case 5:S8q=-1!==c.indexOf(w7q)?4:3;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});d.Gmb(k,b).then(function(b){var R8q,k,p,b7q,y7q;R8q=2;while(R8q!==6){b7q="mediac";b7q+="ache";b7q+="lookup";y7q="No c";y7q+="ont";y7q+="ent data found for ";switch(R8q){case 2:R8q=1;break;case 5:return g();break;case 4:k=d.Bk.time.ea()-f;p=!1;h.R(b)||h.R(b.data)||!h.Ve(b.data)?d.K.trace(y7q+a,c):p=!0;R8q=8;break;case 8:d.DE(b7q,{JT:k,TQ:p});g(b);R8q=6;break;case 1:R8q=void 0===c||void 0===b?5:4;break;}}},function(){var W8q;W8q=2;while(W8q!==1){switch(W8q){case 2:g();W8q=1;break;case 4:g();W8q=7;break;W8q=1;break;}}});s8q=5;break;}}});K8q=1;break;}}});break;}}});break;}}};a.prototype.Lfb=function(a,b){var u8q,c,d;u8q=2;while(u8q!==3){switch(u8q){case 2:c=this;d=this.Bk.time.ea();return this.up.then(function(){var t8q;t8q=2;while(t8q!==1){switch(t8q){case 4:return c.Uka(a);break;t8q=1;break;case 2:return c.Uka(a);break;}}}).then(function(f){var p8q,l7q;p8q=2;while(p8q!==5){l7q="me";l7q+="diac";l7q+="a";l7q+="ch";l7q+="elookup";switch(p8q){case 1:return c.GWa(a.toString(),b,d);break;case 9:p8q=f?8:5;break;p8q=f?1:4;break;case 2:p8q=f?1:4;break;case 4:c.DE(l7q,{JT:c.Bk.time.ea()-d,TQ:!1});p8q=5;break;}}});break;}}};e8q=3;break;case 3:a.prototype.Nob=function(a,b){var U8q,d;U8q=2;while(U8q!==4){switch(U8q){case 5:this.hh.save(k.Yi,[k.AN,a.M].join("."),d,k.Kt,function(){var B8q;B8q=2;while(B8q!==1){switch(B8q){case 4:b();B8q=6;break;B8q=1;break;case 2:b();B8q=1;break;}}});U8q=4;break;case 2:d=c.dta(a);U8q=5;break;}}};a.prototype.Lob=function(a,b){var a8q,d,f,g,p,m,q;a8q=2;while(a8q!==19){switch(a8q){case 10:m[f+"."+k.FJa]={dm:q.$c.buffer,fd:k.Kt};a8q=20;break;case 8:m[f+"."+k.PY]={dm:p,fd:k.Kt};m[f+"."+k.ZJa]={dm:a.Es,fd:k.Kt};a8q=6;break;case 2:d=this;f=[a.M,a.za,k.$Ja].join(".");g=this.Bk.time.ea();a8q=3;break;case 20:this.hh.UAa(k.Yi,m,function(c){var r8q;r8q=2;while(r8q!==5){switch(r8q){case 2:c||(c=d.Bk.time.ea()-g,a.Ni&&(h.R(a.Ni.Kb.lm)&&(a.Ni.Kb.lm=0),a.Ni.Kb.lm+=c));b();r8q=5;break;}}});a8q=19;break;case 3:p=c.hab(a);m={};a8q=8;break;case 6:a8q=a.stream.ed&&!h.R(a.stream.$)?14:20;break;case 14:p={timescale:a.stream.$.ga,startTicks:a.stream.$.Ej,offset:a.stream.$.$l(0)};q=a.stream.$.HE;m[f+"."+k.Aea]={dm:p,fd:k.Kt};m[f+"."+k.GJa]={dm:q.sizes.buffer,fd:k.Kt};a8q=10;break;}}};a.prototype.Kob=function(a,b,d){var J8q,f,g,p,m,q,V7q;J8q=2;while(J8q!==11){V7q="Unable ";V7q+="to save frag";V7q+="ment because response i";V7q+="s not an ArrayBuffer";switch(J8q){case 3:p=this.Bk.time.ea();m=[a.M,a.za,a.Mc].join(".");a=c.Ysa(a);q={};q[m+"."+k.PY]={dm:a,fd:k.Kt};J8q=14;break;case 2:f=this;g=a.response;J8q=4;break;case 4:J8q=g instanceof ArrayBuffer?3:12;break;case 14:h.R(g)||(q[m+"."+k.lMa]={dm:g,fd:k.Kt});this.hh.UAa(k.Yi,q,function(a){var N8q,q7q;N8q=2;while(N8q!==5){q7q="Faile";q7q+="d to";q7q+=" save fragmen";q7q+="t";switch(N8q){case 2:a?f.K.warn(q7q,a):(a=f.Bk.time.ea()-p,h.R(b.Kb.lm)&&(b.Kb.lm=0),b.Kb.lm+=a);d();N8q=5;break;}}});J8q=11;break;case 12:d(Error(V7q));J8q=11;break;}}};e8q=7;break;case 7:a.prototype.Oob=function(a){var C8q,b,d,f,g,p,n,r,E,R,D,q,l,t,F;C8q=2;while(C8q!==32){switch(C8q){case 7:p={};Object.keys(a.headers).forEach(function(b){var k8q,d;k8q=2;while(k8q!==4){switch(k8q){case 2:d=c.dab(a.headers[b]);p[b]=d;k8q=4;break;}}});C8q=14;break;case 2:b=this;d=this.Bk.time.ea();C8q=4;break;case 8:C8q=a.headers?7:13;break;case 23:g[n]=E;C8q=22;break;case 13:C8q=a&&a.data?12:35;break;case 18:C8q=r?17:22;break;case 12:g={},q=a.data,l=0,t=Object.keys(a.data);C8q=11;break;case 25:E[R.Mc]={mediaType:D.mediaType,streamId:D.streamId,movieId:D.movieId,bitrate:D.bitrate,location:D.location,serverId:D.serverId,saveToDisk:D.saveToDisk,offset:D.offset,bytes:D.bytes,timescale:D.timescale,startTicks:D.startTicks,durationTicks:D.durationTicks,response:R.response};C8q=24;break;case 27:C8q=R instanceof m.aX&&R.response instanceof ArrayBuffer&&!h.R(R.Mc)?26:24;break;case 15:R=r[F];C8q=27;break;case 35:g={lifespan:259200};this.$Ua&&(g.convertToBinaryData=!0);this.hh.save(k.Yi,a.M,f,g,function(a){var E8q,H7q;E8q=2;while(E8q!==1){H7q="savet";H7q+="od";H7q+="i";H7q+="s";H7q+="k";switch(E8q){case 2:a||b.DE(H7q,{VAa:b.Bk.time.ea()-d});E8q=1;break;}}});C8q=32;break;case 16:C8q=F<r.length?15:23;break;case 4:f={};g=c.dta(a);f.movieEntry=g;C8q=8;break;case 26:D=c.Ysa(R);C8q=25;break;case 10:n=t[l];r=q[n];E={};C8q=18;break;case 11:C8q=l<t.length?10:21;break;case 24:F++;C8q=16;break;case 14:f.headers=p;C8q=13;break;case 21:f.data=g;C8q=35;break;case 22:l++;C8q=11;break;case 17:F=0;C8q=16;break;}}};a.prototype.Wua=function(a){var F8q;F8q=2;while(F8q!==1){switch(F8q){case 2:return!(h.R(a)||h.Pa(a)||h.R(a.Kb)||h.Pa(a.Kb)||h.R(a.M)||h.Pa(a.M)||h.R(a.Rd)||h.Pa(a.Rd));break;}}};e8q=14;break;case 14:a.prototype.tgb=function(a){var M8q,b,c;M8q=2;while(M8q!==3){switch(M8q){case 2:b=this;c=h.R(a)?"":a.toString();return new Promise(function(a){var w8q,y8q;w8q=2;while(w8q!==4){switch(w8q){case 1:a();w8q=4;break;case 9:w8q=h.R(b.hh)?5:3;break;w8q=h.R(b.hh)?1:5;break;case 8:a();w8q=5;break;w8q=4;break;case 2:w8q=h.R(b.hh)?1:5;break;case 5:try{y8q=2;while(y8q!==1){switch(y8q){case 2:b.hh.vz(k.Yi,"",function(b){var b8q;b8q=2;while(b8q!==5){switch(b8q){case 2:b=b.filter(function(a){var l8q,L7q;l8q=2;while(l8q!==5){L7q="movie";L7q+="E";L7q+="nt";L7q+="ry";switch(l8q){case 2:a=a.split(".");return c&&(c===a[0]||L7q===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var q8q,c,Z3q;q8q=2;while(q8q!==3){Z3q="m";Z3q+="o";Z3q+="vieE";Z3q+="ntr";Z3q+="y";switch(q8q){case 14:return a;break;q8q=3;break;case 2:c=b.split(".");Z3q!==c[0]&&(b=c[1],c=c[2],h.R(a[b])&&(a[b]={}),h.R(a[b][c])&&(a[b][c]=!0));q8q=4;break;case 4:return a;break;}}},{});a(b);b8q=5;break;}}});y8q=1;break;}}}catch(L){a();}w8q=4;break;}}});break;}}};a.prototype.Pfb=function(a,b){var V8q,c;V8q=2;while(V8q!==4){switch(V8q){case 2:c=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var H8q,c,d;H8q=2;while(H8q!==7){switch(H8q){case 4:H8q=b.data?3:8;break;case 2:c={};b.headers&&Object.keys(b.headers).forEach(function(a){var L8q;L8q=2;while(L8q!==5){switch(L8q){case 2:c[a]||(c[a]={});c[a].header=!0;L8q=5;break;}}});H8q=4;break;case 9:Object.keys(d).forEach(function(a){var Z7q;Z7q=2;while(Z7q!==5){switch(Z7q){case 2:c[a]||(c[a]={});d[a].forEach(function(b){var f7q;f7q=2;while(f7q!==1){switch(f7q){case 2:h.R(b.Mc)||(c[a][b.Mc]=!0);f7q=1;break;}}});Z7q=5;break;}}});H8q=8;break;case 8:return a(c);break;case 3:d=b.data;H8q=9;break;}}}):this.Uka(a).then(function(b){var v7q;v7q=2;while(v7q!==5){switch(v7q){case 2:v7q=b?1:5;break;case 1:return new Promise(function(b){var Y7q;Y7q=2;while(Y7q!==1){switch(Y7q){case 2:c.hh.read(k.Yi,a,function(c,d){var n7q,f,g;n7q=2;while(n7q!==4){switch(n7q){case 2:n7q=1;break;case 1:n7q=c?5:3;break;case 5:b();n7q=4;break;case 3:n7q=h.R(d)?9:8;break;case 9:b(void 0);n7q=4;break;case 8:f=d[a];g={};f.headers&&Object.keys(f.headers).forEach(function(a){var o7q;o7q=2;while(o7q!==5){switch(o7q){case 2:g[a]||(g[a]={});g[a].header=!0;o7q=5;break;}}});f.data&&Object.keys(f.data).forEach(function(a){var G7q;G7q=2;while(G7q!==5){switch(G7q){case 2:g[a]||(g[a]={});Object.keys(f.data[a]).forEach(function(b){var P7q;P7q=2;while(P7q!==1){switch(P7q){case 2:g[a][b]=!0;P7q=1;break;case 4:g[a][b]=-5;P7q=6;break;P7q=1;break;}}});G7q=5;break;}}});b(g);n7q=4;break;}}});Y7q=1;break;}}});break;}}});break;}}};a.prototype.Oab=function(){var g7q,a,f3q;g7q=2;while(g7q!==4){f3q="Media cache i";f3q+="s";f3q+=" not enable";f3q+="d";switch(g7q){case 2:a=this;return this.up?this.up.then(function(){var Q7q;Q7q=2;while(Q7q!==1){switch(Q7q){case 2:return new Promise(function(b){var A7q;A7q=2;while(A7q!==1){switch(A7q){case 2:a.hh.vz(k.Yi,k.AN,function(a){var e7q,c;e7q=2;while(e7q!==8){switch(e7q){case 2:e7q=1;break;case 4:c=[];a.forEach(function(a){var T7q;T7q=2;while(T7q!==1){switch(T7q){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);T7q=1;break;}}});b(c);e7q=8;break;case 1:e7q=!a||0>=a.length?5:4;break;case 5:b([]);e7q=8;break;}}});A7q=1;break;}}});break;}}}):Promise.reject(f3q);break;}}};a.prototype.DE=function(a,b){var c7q,c,o3q,n3q,Y3q,v3q;c7q=2;while(c7q!==8){o3q="medi";o3q+="aca";o3q+="chelo";o3q+="okup";n3q="sav";n3q+="e";n3q+="to";n3q+="disk";Y3q="mediacach";Y3q+="es";Y3q+="tats";v3q="med";v3q+="iac";v3q+="a";v3q+="che";switch(c7q){case 3:c.oneObject=this.Hm;this.OTa&&this.na(v3q,c);c7q=8;break;case 2:c={type:Y3q,operation:a};n3q===a&&(c.saveTime=b.VAa);o3q===a&&(c.lookupTime=b.JT,c.dataFound=b.TQ);c7q=3;break;}}};e8q=10;break;case 10:a.prototype.Gmb=function(a,b){var O7q,d,f;O7q=2;while(O7q!==3){switch(O7q){case 4:return Promise.all(f).then(function(a){var D7q;D7q=2;while(D7q!==5){switch(D7q){case 2:a.sort(function(a,b){var z7q;z7q=2;while(z7q!==1){switch(z7q){case 2:return a.Vb===b.Vb?0:a.Vb?-1:1;break;}}});return c.eta(d.K,d.Gf,a,b);break;}}});break;case 2:d=this;f=Object.keys(a).map(function(b){var i7q;i7q=2;while(i7q!==1){switch(i7q){case 4:return d.U3a(a[b]);break;i7q=1;break;case 2:return d.U3a(a[b]);break;}}});O7q=4;break;}}};a.prototype.U3a=function(a){var d7q,b,d,f,g;d7q=2;while(d7q!==3){switch(d7q){case 2:b=this;g={};return new Promise(function(h,p){var j7q,m;j7q=2;while(j7q!==5){switch(j7q){case 2:b.hh.mV(k.Yi,a,function(a,b){var X7q,q,h7q,g3q,P3q,G3q;X7q=2;while(X7q!==5){switch(X7q){case 3:X7q=2;break;X7q=1;break;case 2:X7q=1;break;case 1:try{h7q=2;while(h7q!==19){g3q="Missing or ";g3q+="invalid media data ";g3q+="parts for";g3q+=" stream ";P3q="Header fragment";P3q+="s was an";P3q+=" array buffer, is invalid type ";G3q="Missing or inval";G3q+="id header data parts fo";G3q+="r stream ";switch(h7q){case 6:h7q=m.Vb?14:11;break;case 4:h7q=c.heb(f)?3:20;break;case 13:return q=G3q+m.za,p(q);break;case 1:return p(a);break;case 7:m=c.gsa(f,g,d);h7q=6;break;case 2:h7q=a||void 0===b?1:5;break;case 9:q=P3q+m.za;return p(q);break;case 3:h7q=d instanceof ArrayBuffer?9:7;break;case 14:h7q=c.Uua(m)?13:12;break;case 5:Object.keys(b).map(function(a){var x7q,I7q,c,h;x7q=2;while(x7q!==9){switch(x7q){case 5:x7q=c===k.PY?4:3;break;case 4:try{I7q=2;while(I7q!==5){switch(I7q){case 2:h=new Uint8Array(b[a]);f=JSON.parse(String.fromCharCode.apply(null,h));I7q=5;break;}}}catch(ba){f=b[a];}x7q=9;break;case 2:c=a.substr(a.lastIndexOf(".")+1);x7q=5;break;case 3:c===k.Aea?d=b[a]:g[c]=b[a];x7q=9;break;}}});h7q=4;break;case 12:h(m);h7q=19;break;case 20:m=c.fsa(f,{response:g.response});h7q=6;break;case 10:return q=g3q+m.za,p(q);break;case 11:h7q=c.Tua(m)?10:12;break;}}}catch(E){p(E);}X7q=5;break;}}});j7q=5;break;}}});break;}}};a.prototype.GWa=function(a,b,d){var m7q,f;m7q=2;while(m7q!==4){switch(m7q){case 2:f=this;return new Promise(function(g,p){var K7q,m;K7q=2;while(K7q!==5){switch(K7q){case 2:f.hh.read(k.Yi,a,function(k,q){var s7q,t,n,u,z,r,l,y,T3q,e3q,A3q,Q3q;s7q=2;while(s7q!==4){T3q="Header fra";T3q+="gments was an ar";T3q+="ray buffer, is invalid";T3q+=" type ";e3q="me";e3q+="d";e3q+="iacach";e3q+="elookup";A3q="Missing or ";A3q+="inva";A3q+="lid media data parts for stream ";Q3q="Missing o";Q3q+="r invalid heade";Q3q+="r data parts for stream ";switch(s7q){case 17:u=c.gsa(u,u,u.fragments);s7q=16;break;case 3:s7q=h.R(q)?9:8;break;case 26:t++;s7q=11;break;case 12:t=0,n=Object.keys(l.headers);s7q=11;break;case 7:s7q=l.movieEntry?6:43;break;case 11:s7q=t<n.length?10:25;break;case 15:return k=Q3q+u.za,p(k);break;case 1:s7q=k?5:3;break;case 29:t++;s7q=23;break;case 22:u=n[t],z=0,r=Object.keys(l[u]);s7q=21;break;case 31:q.push(y);s7q=30;break;case 10:u=n[t];u=l.headers[u];s7q=19;break;case 30:z++;s7q=21;break;case 13:s7q=l.headers?12:25;break;case 32:return k=A3q+y.za,p(k);break;case 6:k=c.cta(l.movieEntry);q=[];s7q=13;break;case 8:l=q[a];s7q=7;break;case 44:void 0!==m&&(m.Ni=k);s7q=43;break;case 9:g();s7q=4;break;case 43:f.DE(e3q,{JT:f.Bk.time.ea()-d,TQ:!0});g(m);s7q=4;break;case 2:s7q=1;break;case 25:s7q=l.data?24:28;break;case 5:p(k);s7q=4;break;case 23:s7q=t<n.length?22:28;break;case 28:m=c.eta(f.K,f.Gf,q,b);s7q=44;break;case 24:l=l.data,t=0,n=Object.keys(l);s7q=23;break;case 33:s7q=c.Tua(y)?32:31;break;case 21:s7q=z<r.length?35:29;break;case 16:s7q=c.Uua(u)?15:27;break;case 18:return k=T3q+u.streamId,p(k);break;case 19:s7q=u.fragments instanceof ArrayBuffer?18:17;break;case 35:y=l[u][r[z]];y=c.fsa(y,y);s7q=33;break;case 27:q.push(u);s7q=26;break;}}});K7q=5;break;}}});break;}}};a.prototype.Uka=function(a){var S7q,b,c3q;S7q=2;while(S7q!==4){c3q="Media cache is";c3q+=" not e";c3q+="na";c3q+="bled";switch(S7q){case 2:b=this;return this.up?this.up.then(function(){var R7q;R7q=2;while(R7q!==1){switch(R7q){case 2:return new Promise(function(c){var W7q;W7q=2;while(W7q!==1){switch(W7q){case 2:b.hh.vz(k.Yi,a.toString(),function(b){var u7q;u7q=2;while(u7q!==1){switch(u7q){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);u7q=1;break;}}});W7q=1;break;}}});break;}}}):Promise.reject(c3q);break;}}};e8q=17;break;case 17:a.prototype.aXa=function(a){var t7q,d,f;function b(a){var p7q,O3q;p7q=2;while(p7q!==1){O3q="d";O3q+="e";O3q+="le";O3q+="te";switch(p7q){case 2:d.hh[O3q](k.Yi,a);p7q=1;break;}}}t7q=2;while(t7q!==9){switch(t7q){case 2:d=this;f=a.toString();t7q=4;break;case 4:this.hh.vz(k.Yi,[k.AN,a].join("."),c);this.hh.vz(k.Yi,f,c);t7q=9;break;}}function c(a){var U7q;U7q=2;while(U7q!==1){switch(U7q){case 4:a.map(b);U7q=3;break;U7q=1;break;case 2:a.map(b);U7q=1;break;}}}};a.prototype.xqb=function(a){var B7q,b,z3q,i3q;B7q=2;while(B7q!==3){z3q="mediaca";z3q+="che-";z3q+="erro";z3q+="r";i3q="m";i3q+="edia";i3q+="c";i3q+="ach";i3q+="e";switch(B7q){case 2:b=new d.Jw();b.on(this.hh,i3q,function(b){var a7q,D3q;a7q=2;while(a7q!==4){D3q="me";D3q+="d";D3q+="i";D3q+="acac";D3q+="he";switch(a7q){case 2:a7q=b.keys||b.items?1:5;break;case 1:b.keys||b.items.map(function(a){var r7q;r7q=2;while(r7q!==1){switch(r7q){case 2:return a.key;break;case 4:return a.key;break;r7q=1;break;}}});a7q=5;break;case 9:a7q=b.keys&&b.items?5:2;break;a7q=b.keys||b.items?1:5;break;case 5:a.na(D3q,b);a7q=4;break;}}});b.on(this.hh,z3q,function(b){var J7q,j3q,d3q;J7q=2;while(J7q!==5){j3q="media";j3q+="c";j3q+="ache";d3q="e";d3q+="r";d3q+="ro";d3q+="r";switch(J7q){case 2:b.type=d3q;a.na(j3q,b);J7q=5;break;}}});B7q=3;break;}}};return a;break;}}function a(a,b,c){var T8q,I3q,x3q,h3q,X3q;T8q=2;while(T8q!==13){I3q="m";I3q+="ed";I3q+="ia|asej";I3q+="s";x3q="MEDI";x3q+="ACA";x3q+="CHE";h3q="1S";h3q+="IY";h3q+="bZr";h3q+="N";h3q+="JCp9";X3q="Media";X3q+=" cache has not been i";X3q+="nitiaized";switch(T8q){case 3:this.$Ua=a.Qwa?a.Qwa:!1;this.u=a;this.Bk=b;T8q=7;break;case 1:this.Y0=(a.vw||a.oca)&&0<(a.Mu||(b.options||{}).LD||0);this.OTa=a.e7a?a.e7a:!1;this.Hm=a.Q8?a.Q8:!1;T8q=3;break;case 7:this.Gf=c;this.up=Promise.reject(X3q);h3q;T8q=13;break;case 2:this.K=new b.Console(x3q,I3q);T8q=1;break;}}}}();f.LMa=a;g.li(d.EventEmitter,a);},function(g,f,a){var p,l,n,r,L,A,B,M;function b(a){var c,d,f;a=a.parent;c=!1;if(a&&a.children){d={};d[A.$i]=[];d[A.oi]=[];d[A.TEMPORARY]=[];f=a.children;f.forEach(function(a){a&&d[a.Md].push(a);});0<d[A.$i].length||(d[A.oi].length===f.length?a.Md!==A.oi&&(a.Md=A.oi,L.error("PERM failing :",n.Ef.name[a.cy]+" "+a.id),c=!0):(a.Md===A.$i&&(a.Md=A.TEMPORARY,L.error("TEMP failing :",n.Ef.name[a.cy]+" "+a.id),c=!0),d[A.TEMPORARY].forEach(function(a){a.Md=A.$i;})),c&&b(a));}}function d(a){var c;for(var b=[];a;a=a.parent)switch(a.cy){case n.Ef.ax:c=a;b.unshift(c.id+"("+c.name+")");break;case n.Ef.Ifa:b.unshift(a.id);break;case n.Ef.URL:b.unshift("<url for "+a.stream.P+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.Md!==A.$i){b={};b[A.$i]=[];b[A.oi]=[];b[A.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.Md].push(a);});0<b[A.$i].length&&(a.Md=A.$i,h(a));}}function m(a){return a.Md!==A.$i;}function c(a){switch(a.Md){case A.$i:return"OK";case A.oi:return"FAILED PERMANENTLY";case A.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function k(a){a.vca=a.Ka.Dc>=n.xd.Ct&&!a.Ka.ey?a.Ka.ta.Fa*a.weight:0;}function q(a,b){if(a.Md===A.TEMPORARY||a.Md===A.oi&&b)a.Md=A.$i;a.children&&a.children.forEach(function(a){a&&q(a,b);});}Object.defineProperty(f,"__esModule",{value:!0});p=a(6);g=a(25);l=a(40);n=a(11);r=a(5);L=new r.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.$i=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.oi=2]="PERMANENT";}(A||(A={})));(function(a){a[a.HNa=0]="ORIGINAL";a[a.yGa=1]="CONTINUOUS";}(B||(B={})));(function(a){a[a.Pt=0]="STARTUP";a[a.CBb=1]="REBUFFER";a[a.$w=2]="SEEK";a[a.lyb=3]="FAILURE";a[a.SAb=4]="PERFORMANCE";}(M||(M={})));a=function(){var m3q;function a(a,b,c,d,f){var K3q,g,Q77,G77,q77,p77;K3q=2;while(K3q!==25){Q77="cl";Q77+="o";Q77+="se";G77="u";G77+="nd";G77+="erfl";G77+="o";G77+="w";q77="1SI";q77+="YbZr";q77+="NJC";q77+="p9";p77="n";p77+="etwor";p77+="k";switch(K3q){case 2:g=this;this.events=a;this.Ye=b;this.AD=c;K3q=9;break;case 11:this.Wc={};this.mc={};this.Ls=[];this.qU=!1;this.$k={id:p77,cy:n.Ef.$q,Md:A.$i,rq:void 0,parent:void 0,children:this.Ls};K3q=17;break;case 17:this.BE=this.$O=null;this.CE=n.Ne.Pt;K3q=15;break;case 9:this.Mo=d;this.config=f;this.Mo=f.KC&&d;this.mode=B.HNa;this.$p=void 0;this.ck={};this.Jn={};K3q=11;break;case 26:q77;K3q=25;break;case 15:K3q=a&&(a.on(G77,function(){var s3q;s3q=2;while(s3q!==1){switch(s3q){case 2:g.eob();s3q=1;break;case 4:g.eob();s3q=7;break;s3q=1;break;}}}),f.$fb)?27:26;break;case 27:a.on(Q77,function(){var S3q;S3q=2;while(S3q!==1){switch(S3q){case 2:g.$kb();S3q=1;break;case 4:g.$kb();S3q=8;break;S3q=1;break;}}});K3q=26;break;}}}m3q=2;while(m3q!==27){switch(m3q){case 4:a.prototype.rBa=function(a){var t3q;t3q=2;while(t3q!==5){switch(t3q){case 1:return a.parent.id;break;case 2:t3q=(a=this.Wc[a])&&a.parent?1:5;break;}}};a.prototype.FT=function(a){var p3q;p3q=2;while(p3q!==5){switch(p3q){case 1:return a.Sb.location;break;case 2:p3q=(a=this.Wc[a])&&a.Sb?1:5;break;}}};a.prototype.qCa=function(a){var U3q;U3q=2;while(U3q!==5){switch(U3q){case 9:return a.stream;break;U3q=5;break;case 1:return a.stream;break;case 2:U3q=(a=this.Wc[a])?1:5;break;}}};m3q=8;break;case 8:a.prototype.Kra=function(a){var B3q,b;B3q=2;while(B3q!==3){switch(B3q){case 2:B3q=1;break;case 8:B3q=5;break;B3q=1;break;case 1:B3q=a?5:3;break;case 7:B3q=a?7:4;break;B3q=a?5:3;break;case 5:b=a.bind(this);p.forEach(this.Wc,function(a){var a3q,c;a3q=2;while(a3q!==4){switch(a3q){case 2:c=a.Sb;b(c.location,c,a.stream,a);a3q=4;break;}}});B3q=3;break;}}};a.prototype.tH=function(a){var r3q,b,F77;r3q=2;while(r3q!==20){F77="ma";F77+="nif";F77+="estAd";F77+="ded";switch(r3q){case 2:b=this;a.locations.forEach(function(a){var J3q,c,d,f,g;J3q=2;while(J3q!==13){switch(J3q){case 5:J3q=!b.ck[c]?4:13;break;case 8:a={id:c,cy:n.Ef.Ifa,Md:A.$i,de:a.rank,level:a.level,weight:a.weight,rq:void 0,parent:g,children:d,Jn:d,mc:{},Ts:!1,oza:!1,Ka:f,vca:null,HQ:void 0};J3q=7;break;case 2:c=a.key;J3q=5;break;case 7:b.ck[a.id]=a;g.children.push(a);k(a);J3q=13;break;case 4:d=[];f=b.AD.get(c);g=b.$k;J3q=8;break;}}});this.$O=r.time.ea();this.Ls.sort(function(a,b){var N3q;N3q=2;while(N3q!==1){switch(N3q){case 2:return a.level-b.level||a.de-b.de;break;}}});a.servers.forEach(function(a){var C3q,c,d,f;C3q=2;while(C3q!==14){switch(C3q){case 9:f=[];a={id:c,cy:n.Ef.ax,Md:A.$i,rq:void 0,parent:d,children:f,Wc:f,name:a.name,type:a.type,de:a.rank,location:d};b.Jn[a.id]=a;C3q=6;break;case 5:C3q=!b.Jn[c]?4:14;break;case 6:d.children.push(a);C3q=14;break;case 3:C3q=d?9:14;break;case 4:d=b.ck[a.key];C3q=3;break;case 2:c=a.id;C3q=5;break;}}});a.audio_tracks.forEach(function(a){var k3q;k3q=2;while(k3q!==1){switch(k3q){case 4:b.qza(a);k3q=3;break;k3q=1;break;case 2:b.qza(a);k3q=1;break;}}});r3q=7;break;case 7:a.video_tracks.forEach(function(a){var E3q;E3q=2;while(E3q!==1){switch(E3q){case 2:b.qza(a);E3q=1;break;case 4:b.qza(a);E3q=2;break;E3q=1;break;}}});a=this.Ls.filter(function(a){var F3q,c;F3q=2;while(F3q!==3){switch(F3q){case 2:c=a.Jn.every(function(a){var M3q,m4q;M3q=2;while(M3q!==1){switch(M3q){case 4:p933.b77(0);m4q=p933.Z77(48,4,16,16,7);return m4q!=a.Wc.length;break;M3q=1;break;case 2:return 0===a.Wc.length;break;}}});c&&(a.Jn.forEach(function(a){var w3q;w3q=2;while(w3q!==1){switch(w3q){case 2:b.Jn[a.id]=void 0;w3q=1;break;}}}),b.ck[a.id]=void 0,a.parent=void 0,a.children.length=0,a.mc={});F3q=4;break;case 4:return!c;break;case 14:return-c;break;F3q=3;break;}}});r3q=14;break;case 10:this.dump();r3q=20;break;case 14:a.forEach(function(a){var y3q;y3q=2;while(y3q!==1){switch(y3q){case 2:a.Jn.sort(function(a,b){var b3q;b3q=2;while(b3q!==1){switch(b3q){case 4:return a.de*b.de;break;b3q=1;break;case 2:return a.de-b.de;break;}}});y3q=1;break;}}});this.Ls=a;this.$k.children=a;this.emit(F77);r3q=10;break;}}};a.prototype.BW=function(a,b,c){var l3q,d,f,g,h,q,l,t,u,i97,g77,U77,l77;l3q=2;while(l3q!==25){i97="(empt";i97+="y stream";i97+=" ";i97+="list)";g77="Did not find a";g77+=" URL f";g77+="or ANY ";g77+="stream";g77+="...";U77="net";U77+="workF";U77+="ailed";l77="Network has failed, n";l77+="ot updating stream se";l77+="lection";switch(l3q){case 6:l3q=m(this.$k)?14:13;break;case 13:t=n.xd.Ct;f.uK&&(t=n.xd.gp);this.Ye.location&&g.Dc>=t&&(b=this.ck[this.Ye.location])&&(b.Ka=g,k(b));l3q=10;break;case 27:c.forEach(function(a,b){var q3q,c,m77,e77,f77,r77;q3q=2;while(q3q!==4){m77=" ";m77+="Kbp";m77+="s)";e77=" ";e77+="(";f77="]";f77+=" ";r77="Fail";r77+="ing stre";r77+="a";r77+="m [";switch(q3q){case 2:c=a.id;u.some(function(b){var V3q,d,k;V3q=2;while(V3q!==7){switch(V3q){case 2:d=b.mc[c];V3q=5;break;case 5:V3q=!d?4:3;break;case 3:k=d.ck[0];void 0===a.aV&&(a.aV=k.id,a.q$=d.sM[k.id][0].Sb.id);return d.sM[b.id].some(function(c){var H3q,d,B77,j77,a77,u77,A77;H3q=2;while(H3q!==11){B77="lo";B77+="cati";B77+="o";B77+="nfailover";j77="s";j77+="erv";j77+="erfa";j77+="ilove";j77+="r";a77="p";a77+="er";a77+="formance";u77="p";u77+="r";u77+="o";u77+="b";u77+="e";A77="u";A77+="nkn";A77+="o";A77+="w";A77+="n";switch(H3q){case 4:H3q=m(c)?3:9;break;case 1:H3q=m(c.Sb)?5:4;break;case 3:return!1;break;case 2:H3q=1;break;case 14:a.Nz=c.Sb.name;a.Ka=f.U1?b.Ka.Dc>=n.xd.gp?!f.hza||q<f.gza?b.Ka:b.Ka.ta&&b.Ka.ta.Fa&&g.ta&&g.ta.Fa&&b.Ka.ta.Fa<g.ta.Fa?g:b.Ka:g.Dc<t?b.Ka:g:g.Dc===n.xd.HAVE_NOTHING||b.Ka.Dc>=n.xd.gp?!f.hza||q<f.gza?b.Ka:b.Ka.ta&&b.Ka.ta.Fa&&g.ta&&g.ta.Fa&&b.Ka.ta.Fa<g.ta.Fa?g:b.Ka:g;return!0;break;case 5:return c.Sb.Md===A.TEMPORARY&&(a.Md=A.TEMPORARY),f.Lo&&a.Sb===c.Sb.id&&c.Sb.rq&&(a.rq=c.Sb.rq),!1;break;case 9:d=A77;a.location!==b.id&&(f.Lo?a.Feb=b.id===k.id:d=b!==u[0]?""+n.Ne.eX:void 0===a.location?""+n.Ne.Pt:h?u77:p.R(a.yva)||a.yva===b.id?p.R(a.Ava)||a.Ava===c.Sb.id?a77:j77:B77,a.location=b.id,a.X7=b.level,a.jl=d);a.url=c.url;a.Sb=c.Sb.id;H3q=14;break;}}});break;case 4:return!1;break;}}})?(a.Og=void 0,a.Md=void 0,a.hf&&++l):a.Md&&a.Md===A.TEMPORARY?d.$k.Md=A.TEMPORARY:a.Og||(L.warn(r77+b+f77+c+e77+a.P+m77),a.m1a(),a.Og=!0);q3q=4;break;}}});return m(this.$k)?(L.warn(l77),this.qU=!0,this.emit(U77,this.$k.Md===A.oi),!1):l?!0:(L.warn(g77+(c.length?"":i97)),this.cm(n.Ef.$q,!0),!1);break;case 15:return this.cm(n.Ef.$q,!1),!1;break;case 18:return this.cm(n.Ef.$q,!1),!1;break;case 8:l=0;r.jo&&r.jo(b);l3q=6;break;case 19:l3q=!this.BE?18:17;break;case 20:this.BE=this.Mtb(a);l3q=19;break;case 14:return!1;break;case 16:l3q=!u.length?15:27;break;case 10:l3q=p.Pa(this.BE)||h?20:19;break;case 17:u=this.BE;l3q=16;break;case 2:d=this;f=this.config;g=this.Ye.get();h=this.Mo;q=a.buffer.Qk-a.buffer.qf||0;l3q=8;break;}}};a.prototype.Kpb=function(a,b){var L3q,c,d;L3q=2;while(L3q!==9){switch(L3q){case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;p.forEach(this.Wc,function(f,g){var Z4q,h,k,m,q,h97,o97,K4q;Z4q=2;while(Z4q!==13){h97="8";h97+="0";o97="4";o97+="4";o97+="3";switch(Z4q){case 1:f=f.parent?f.parent.id:"";h=c[f];Z4q=4;break;case 4:k=g.match(d);Z4q=3;break;case 9:p933.b77(1);K4q=p933.N77(6,13,11,15);m="s"===k[K4q];q=k[2];k=k[3];k.length||(k=m?o97:h97);Z4q=14;break;case 2:Z4q=1;break;case 3:Z4q=k&&4===k.length?9:13;break;case 14:p.Od(q)&&p.Od(k)&&q===a&&k==b&&(h?h.push(g):c[f]=[g]);Z4q=13;break;}}});L3q=3;break;case 3:return c;break;}}};m3q=13;break;case 13:a.prototype.cm=function(a,f,g,h){var f4q,k,p,q,v4q,n97,s97,J97,R97,E97,M97,O97,c97,H97;f4q=2;while(f4q!==25){n97="Una";n97+="ble ";n97+="to find failure entity for URL ";s97=" :";s97+=" w";s97+="as ";J97=" ";J97+="a";J97+="t";J97+=" ";R97=" failure r";R97+="ep";R97+="orted for ";E97="T";E97+="E";E97+="M";E97+="P";M97="P";M97+="E";M97+="RM";O97="n";O97+="e";O97+="tw";O97+="orkFaile";O97+="d";c97="Emitti";c97+="ng net";c97+="workFailed, perm";c97+="anent =";H97="I";H97+="nvali";H97+="d failure stat";H97+="e";switch(f4q){case 27:throw Error(H97);f4q=14;break;case 4:f4q=k?3:26;break;case 5:k=k.parent;f4q=1;break;case 7:return;break;case 14:k.Md=q;b(k);this.qU=this.qU||m(this.$k);a=this.$k.Md;a>p&&(L.warn(c97,a===A.oi),this.emit(O97,a===A.oi));this.BE=null;f4q=19;break;case 6:f4q=v4q===A.TEMPORARY?14:16;break;case 2:k=a!==n.Ef.$q&&g?this.Wc[g]:this.$k,p=this.$k.Md,q=f?A.oi:A.TEMPORARY;f4q=1;break;case 9:L.warn((f?M97:E97)+R97+n.Ef.name[a]+J97+d(k)+s97+c(k));f4q=8;break;case 1:f4q=k&&k.parent&&k.cy!==a?5:4;break;case 3:f4q=q!==k.Md?9:25;break;case 26:p933.b77(2);L.warn(p933.Z77(g,n97));f4q=25;break;case 8:v4q=k.Md;f4q=v4q===A.oi?7:6;break;case 19:this.CE=n.Ne.ERROR;h&&(this.CE=n.Ne.JOa,k.rq=h);this.dump();f4q=25;break;case 15:f4q=27;break;case 16:f4q=v4q===A.$i?14:15;break;}}};a.prototype.AAa=function(a,b){var Y4q;Y4q=2;while(Y4q!==3){switch(Y4q){case 2:Y4q=(a=this.Jn[a])?1:5;break;case 8:Y4q=(a=this.Jn[a])?7:7;break;Y4q=(a=this.Jn[a])?1:5;break;case 5:this.BE=null;this.CE=n.Ne.nZ;Y4q=3;break;case 1:q(a,b),h(a);Y4q=5;break;}}};a.prototype.lL=function(a){var n4q;n4q=2;while(n4q!==1){switch(n4q){case 2:q(this.$k,a);n4q=1;break;case 4:q(this.$k,a);n4q=0;break;n4q=1;break;}}};a.prototype.fz=function(a){var o4q,K97;o4q=2;while(o4q!==1){K97="lo";K97+="g";K97+="d";K97+="ata";switch(o4q){case 2:this.na(K97,a);o4q=1;break;case 4:this.na("",a);o4q=3;break;o4q=1;break;}}};m3q=20;break;case 2:a.prototype.Hbb=function(){var R3q;R3q=2;while(R3q!==1){switch(R3q){case 4:return this.Ls[5].Ka;break;R3q=1;break;case 2:return this.Ls[0].Ka;break;}}};a.prototype.J5=function(){var W3q;W3q=2;while(W3q!==1){switch(W3q){case 4:return this.Ls;break;W3q=1;break;case 2:return this.Ls;break;}}};a.prototype.ey=function(){var u3q;u3q=2;while(u3q!==1){switch(u3q){case 4:return m(this.$k);break;u3q=1;break;case 2:return m(this.$k);break;}}};m3q=4;break;case 17:a.prototype.$kb=function(){var x4q,a;x4q=2;while(x4q!==4){switch(x4q){case 2:a=this;this.qU||this.Ls.forEach(function(b){var I4q;I4q=2;while(I4q!==1){switch(I4q){case 2:b.Md===A.TEMPORARY&&a.AD.fail(b.id,r.time.ea());I4q=1;break;}}});x4q=4;break;}}};m3q=16;break;case 20:a.prototype.qza=function(a){var G4q,b;G4q=2;while(G4q!==4){switch(G4q){case 2:b=this;a.streams.forEach(function(a){var P4q,c,d,f,v97;P4q=2;while(P4q!==13){v97="n";v97+="one";v97+="-";switch(P4q){case 4:P4q=p.R(d)?3:7;break;case 2:c=a.downloadable_id;d=b.mc[c];P4q=4;break;case 7:a.urls.forEach(function(a){var g4q,c,f,g;g4q=2;while(g4q!==11){switch(g4q){case 3:g=a.location;f={id:c,cy:n.Ef.URL,Md:A.$i,rq:void 0,parent:a,children:[],url:c,Sb:a,stream:d};b.Wc[c]=f;a.children.push(f);d.Wc.push(f);0===d.ck.filter(function(a){var Q4q;Q4q=2;while(Q4q!==1){switch(Q4q){case 4:return a.id==g.id;break;Q4q=1;break;case 2:return a.id===g.id;break;}}}).length&&d.ck.push(g);g.mc[d.id]=d;g4q=12;break;case 12:(c=d.sM[g.id])?c.push(f):d.sM[g.id]=[f];g4q=11;break;case 2:c=a.url;g4q=5;break;case 5:f=b.Wc[c];g4q=4;break;case 4:g4q=p.R(f)&&(a=b.Jn[a.cdn_id])?3:11;break;}}});p.ad(d.sM,function(a){var A4q;A4q=2;while(A4q!==1){switch(A4q){case 2:a.sort(function(a,b){var e4q;e4q=2;while(e4q!==1){switch(e4q){case 4:return a.Sb.de*b.Sb.de;break;e4q=1;break;case 2:return a.Sb.de-b.Sb.de;break;}}});A4q=1;break;}}});P4q=14;break;case 8:b.mc[d.id]=d;P4q=7;break;case 3:f=a.content_profile;d={id:c,P:a.bitrate,vc:a.vmaf,type:a.type,profile:f,clear:0===f.indexOf(v97),hf:!0,Wc:[],sM:{},ck:[]};P4q=8;break;case 14:d.ck=d.ck.sort(function(a,b){var T4q;T4q=2;while(T4q!==1){switch(T4q){case 2:return a.level-b.level||a.de-b.de;break;}}});P4q=13;break;}}});G4q=4;break;}}};a.prototype.Mtb=function(a){var c4q,b,c,d,f,g,h;c4q=2;while(c4q!==27){switch(c4q){case 7:return null;break;case 12:g=null;c4q=11;break;case 2:b=this;c=this.config;c4q=4;break;case 18:c.KC?a.sort(function(a,c){var d4q;d4q=2;while(d4q!==1){switch(d4q){case 2:return a.level-c.level||(b.Mo&&a.Ts&&!c.Ts?-1:0)||(b.Mo&&c.Ts&&!a.Ts?1:0)||(b.Mo&&a.Ts&&c.Ts?a.de-c.de:0)||c.HQ-a.HQ||c.vca-a.vca||a.de-c.de;break;}}}):a.sort(function(a,b){var j4q;j4q=2;while(j4q!==1){switch(j4q){case 2:return a.level-b.level||a.de-b.de;break;}}});this.$p||p.Pa(g)||(this.$p=!0);return a;break;case 4:a=a.buffer;d=a.Qk-a.qf;a=this.Ls.filter(function(a){var O4q;O4q=2;while(O4q!==1){switch(O4q){case 2:return!m(a)&&0!==a.level;break;case 4:return+m(a)||3==a.level;break;O4q=1;break;}}});c4q=8;break;case 15:c.KC?(g=n.Ne.aMa,this.mode===B.yGa&&(this.Mo=d>c.Hba)):g=this.CE;c4q=18;break;case 14:c4q=null===this.$O||this.$O+c.W7<f?13:12;break;case 6:f=r.time.ea();c4q=14;break;case 8:c4q=0===a.length?7:6;break;case 11:c4q=this.Mo?10:15;break;case 19:a.every(function(a){var z4q;z4q=2;while(z4q!==5){switch(z4q){case 2:p.Pa(h)&&(h=a.level);return h!==a.level?(b.Mo=!1,g=n.Ne.Wca,!1):a.Ka.Dc<n.xd.gp?!1:a.Ka.ta.Fa>c.C4?(b.Mo=!1,g=n.Ne.AJa,!1):!0;break;}}})&&(this.Mo=!1,g=n.Ne.Wca);c4q=18;break;case 10:a.forEach(function(a){var D4q;D4q=2;while(D4q!==1){switch(D4q){case 2:a.Ka.Dc>=n.xd.gp?(a.oza=a.oza||a.Ts,a.Ts=!1,a.HQ=n.xd.gp):(a.Ts=!0,a.HQ=a.Ka.Dc);D4q=1;break;}}});h=null;c4q=19;break;case 13:a.forEach(function(a){var i4q;i4q=2;while(i4q!==1){switch(i4q){case 2:a.id!==b.Ye.location&&(a.Ka=b.AD.get(a.id));i4q=1;break;}}}),this.$O=f;c4q=12;break;}}};a.prototype.eob=function(){var X4q,a;X4q=2;while(X4q!==9){switch(X4q){case 2:a=this.Ye.location;this.$p=!1;this.Mo=this.config.KC&&!0;this.Ls.forEach(function(b){var h4q;h4q=2;while(h4q!==1){switch(h4q){case 2:b.id!==a&&b.Ka&&b.Ka.Dc>n.xd.Ct&&(b.Ka.Dc=n.xd.Ct);h4q=1;break;}}});X4q=9;break;}}};m3q=17;break;case 16:a.prototype.dump=function(){};return a;break;}}}();f.Mfa=a;l.li(g.EventEmitter,a);},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(25);g=a(54);a=function(){function a(a,d){var c;c=this;this.track=a;this.ko=!1;this.listeners=new b.Jw();this.listeners.on(a,"networkfailing",function(){c.emit("networkfailing");});this.listeners.on(a,"error",function(){c.emit("error");});if(d)this.ko=!0,setTimeout(function(){return c.emit("created");},0);else this.listeners.on(a,"created",function(){c.ko=!0;c.emit("created");});}Object.defineProperties(a.prototype,{B4:{get:function(){return this.track.B4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wh:{get:function(){return this.track.Wh;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sj:{get:function(){return this.track.sj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{lra:{get:function(){return this.track.lra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{config:{get:function(){return this.track.config;},enumerable:!0,configurable:!0}});a.prototype.$m=function(){this.listeners.clear();};a.prototype.bk=function(){return this.track.bk();};a.prototype.toString=function(){return this.track.toString();};return a;}();f.lQa=a;g(b.EventEmitter,a.prototype);},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});b=a(200);d=a(11);h=a(153);m=a(207);c=a(59);k=a(24);a(13);a(5);g=function(){var k97;function a(){var C97,J8K;C97=2;while(C97!==1){J8K="1SI";J8K+="YbZr";J8K+="NJC";J8K+="p9";switch(C97){case 4:"";C97=4;break;C97=1;break;case 2:J8K;C97=1;break;}}}k97=2;while(k97!==13){switch(k97){case 2:a.prototype.Vja=function(a){var T97;T97=2;while(T97!==1){switch(T97){case 2:return a&&h.eQ(a.M,this.M)&&a.Qra===this.Qra?!0:!1;break;}}};a.prototype.fTa=function(){var D97,a,b,c,d;D97=2;while(D97!==7){switch(D97){case 2:a=this.Sa.u;b=void 0!==a.nw?a.nw:this.Sa.Fv&&this.Sa.Fv.nw;c=void 0!==a.lw?a.lw:this.Sa.Fv&&this.Sa.Fv.lw;D97=3;break;case 3:d=this.Sa.Fv&&this.Sa.Fv.Ep;Array.isArray(d)&&Array.isArray(a.Ep)?d=d.filter(function(b){var f1r=p933;var Y97,I97,t97;Y97=2;while(Y97!==1){switch(Y97){case 4:f1r.M8K(0);I97=f1r.N8K(7,12,12);return!I97===a.Ep.indexOf(b);break;Y97=1;break;case 2:f1r.m8K(1);t97=f1r.N8K(1);return t97!==a.Ep.indexOf(b);break;}}}):Array.isArray(a.Ep)?d=a.Ep:Array.isArray(d)||(d=[]);return-1!==d.indexOf(this.profile)?{Lra:!!b,CAa:!b,bba:!b||!c}:{Lra:!1,CAa:!1,bba:!c};break;}}};a.prototype.Nja=function(a,b){var L97,c,d,f,g,s8K,a8K;L97=2;while(L97!==13){s8K="d";s8K+="ef";s8K+="au";s8K+="l";s8K+="t";a8K="d";a8K+="e";a8K+="fa";a8K+="u";a8K+="lt";switch(L97){case 9:d=a.name,c=void 0!==a[b]?a[b]:void 0!==a[a8K]?a[s8K]:c;L97=8;break;case 4:L97=void 0!==f.LJ&&null!==f.LJ?3:14;break;case 2:f=this.Sa.u;g=this.fTa();L97=4;break;case 8:g.Bq=g.bba?void 0!==c?c:1:0;g.aaa=void 0!==d?d:g.CAa;return g;break;case 14:g.bba=!1;L97=8;break;case 3:L97=(c=(void 0!==a?a:f.LJ)||0,a=f.Hua&&f.Hua[this.stream.profile])?9:8;break;}}};a.prototype.gTa=function(){var V97,X8K;V97=2;while(V97!==1){X8K="onEn";X8K+="t";X8K+="ry";switch(V97){case 2:return this.Nja(this.Sa.u.Iua,X8K);break;case 4:return this.Nja(this.Sa.u.Iua,"");break;V97=1;break;}}};a.prototype.hTa=function(){var P97,p8K;P97=2;while(P97!==1){p8K="o";p8K+="n";p8K+="E";p8K+="xit";switch(P97){case 4:return this.Nja(this.Sa.u.Jua,"");break;P97=1;break;case 2:return this.Nja(this.Sa.u.Jua,p8K);break;}}};a.prototype.ISa=function(a,d){var S97,g,h,k,p,m,q,l,t,n,u;function f(a){var w97,b,c;w97=2;while(w97!==9){switch(w97){case 2:w97=1;break;case 1:a=Math.floor(Math.min(l,a)/m.vd);b=m.vd*a;p933.M8K(2);c=p933.S8K(b,n);return{Fn:a,Ll:b,uGb:c,Exa:0<a&&c<q/1E3};break;}}}S97=2;while(S97!==18){switch(S97){case 11:g||(u=t-c.dc.pxa(h,q),u=new c.dc(u-this.Sra,q),h=f(k.kl?Infinity:Math.max(0,u.vd)),u=h.Fn,(h=h.Exa)&&0<u&&!k.kl&&--u);this.Dj({start:0,end:u});u<(k.fib||1)&&(p=!1);return{Bqb:p,wgb:g};break;case 2:k=this.Sa.u;p=!0;g=!1;S97=3;break;case 3:h=b.bta(k,this.Sa.Fv);m=this.Ha;q=m.ga;l=this.Ll;t=a?a.NK:this.VU-2*m.vd;S97=14;break;case 14:n=t-this.Sra;d=k.n9a||d;a&&!d&&(g=f(n),u=g.Fn,g=g.Exa);S97=11;break;}}};k97=8;break;case 8:a.prototype.WB=function(a,b,c,f,g){var z97,h;z97=2;while(z97!==6){switch(z97){case 5:z97=this.Ph?4:3;break;case 2:h=this.Sa.u;z97=5;break;case 4:return!1;break;case 3:a=this.Tra?a.appendBuffer(k.Um(this.Iqa),this):this.Ta&&!this.Zp?this.LTa(a,b,f,g):this.Ta&&this.Zp?this.MTa(a,c,f,g):this.O===d.L.AUDIO&&h.Cn&&b&&this.pw&&b.ce>=this.ce&&this.Re-this.pw<this.pw-this.Mc?!0:a.appendBuffer(this.response,this);this.Ph=!0;this.eL();return a;break;}}};a.prototype.LTa=function(a,b,c,f){var W97,g,h,p,x8K,L8K;W97=2;while(W97!==6){x8K=" fr";x8K+="om";x8K+=" [ ";L8K="AseFragmentMediaRequest: F";L8K+="rag";L8K+="ment edit failed for ";switch(W97){case 2:h={Bq:0};g=!1;p=!0;W97=3;break;case 3:this.O===d.L.AUDIO&&b&&(c?f&&this.Bqa():this.Vja(b)?b.Ta&&this.Ta&&this.Ta.start!==b.Ta.end&&this.Dj({start:b.Ta.end}):(h=this.gTa(),b.ce===this.Fc&&(h.Bq=0)));0>=this.duration&&(p=!1,g=!0);p&&(this.Ta&&(0<this.Ta.start||h.Bq)?(g=new m.DN(this.stream,this.response),(b=g.hAa(this.Ta.start,this.Lv,h.Bq,h.aaa))?(g=a.appendBuffer(k.Um(b.Xf),this),this.nP(h),this.fP(b.Xf)):(this.K.error(L8K+this.toString()+x8K+this.Xu+"-"+this.dS+"]"),g=!0)):g=a.appendBuffer(this.response,this));W97=7;break;case 7:return g;break;}}};a.prototype.MTa=function(a,b,c,f){var d97,g,h,p,o8K,q8K;d97=2;while(d97!==6){o8K=" f";o8K+="r";o8K+="om ";o8K+="[";o8K+=" ";q8K="AseFragmentMedi";q8K+="aR";q8K+="eques";q8K+="t: Fragment edit failed for ";switch(d97){case 2:g=this.Sa.u;p={Bq:0};h=!0;this.O===d.L.AUDIO&&(c?f&&(this.F6a(),h=0<this.Ta.end):this.Vja(b)?b.Ta&&0!==b.Ta.start?this.Dj({start:0,end:b.Ta.start}):h=!1:(p=this.hTa(),g.Cn||(b=this.ISa(b,p.Lra),(h=b.Bqb)&&b.wgb&&!p.aaa&&(p.Bq=0))));d97=9;break;case 9:h&&0===this.duration&&(h=!1);h?this.Ta&&this.Ta.end<this.dJ||p.Bq?(h=new m.DN(this.stream,this.response),(h=h.kAa(this.Ta&&this.Ta.end,this.ga,p.Bq,p.aaa))?(a=a.appendBuffer(k.Um(h.Xf),this),this.nP(p),this.fP(h.Xf)):(this.K.error(q8K+this.toString()+o8K+this.Xu+"-"+this.dS+"]"),a=!0)):a=a.appendBuffer(this.response,this):a=!0;return a;break;}}};return a;break;}}}();f.Jvb=g;f["default"]=new g();},function(g){var f,a,b,d;f={name:"heaac-2-dash reset sample",profile:53,Nk:2,sampleRate:24E3,duration:1024,dt:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Nk:2,sampleRate:24E3,duration:1024,dt:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,Nk:6,sampleRate:48E3,duration:1536,dt:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};d={name:"ddplus-2.0-dash standard sample",profile:57,Nk:2,sampleRate:48E3,duration:1536,dt:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.T={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":d},reset:{"heaac-2-dash":f,"heaac-2hq-dash":f},"heaac-2-dash":f,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":d};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a,b,d,f,g;this.kf();a=this.xq([{Sba:"int32"},{Zpa:"int32"},{aR:"int32"},{cR:"int32"},{bR:"int32"}]);b=a.Sba;d=a.Zpa;f=a.aR;g=a.bR;a=a.cR;this.cd={fb:b,t5a:d,$Q:f,Vpa:g,Wpa:a};this.Sba=b;this.Zpa=d;this.aR=f;this.cR=a;this.bR=g;return!0;};d.Xj="trex";d.Qb=!1;return d;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=a(93);a=a(32);d=g.XY;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.kf();this.cd=this.xq([{xU:"int32"},{yI:"int16"}]);return!0;};f.Xj=d;f.Qb=!1;return f;}(a.Fh);f["default"]=a;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(206);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.kf();this.cJa=d.pea.Jza(this.J);return!0;};f.Xj="esds";f.Qb=!1;return f;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.fy=function(){var a;a=this.hy("esds");if(a=a&&a.cJa.hy(5))this.eS=a.eS;return!0;};d.Xj="mp4a";d.Qb=!0;return d;}(a(370)["default"]);f["default"]=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(58);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.kf();this.cd=this.xq([{aJb:"int32"},{Pta:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.cd.Pta=d.FG(this.cd.Pta);return!0;};f.Xj="hdlr";f.Qb=!1;return f;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.cd=this.xq([{uEb:"int32"},{tn:"int32"},{n_a:"int32"}]);return!0;};d.Xj="btrt";d.Qb=!1;return d;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.cd=this.xq([{ZGb:"int32"},{IKb:"int32"}]);return!0;};d.Xj="pasp";d.Qb=!1;return d;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.kf();this.cd=this.xq(1===this.version?[{Rra:"int64"}]:[{Rra:"int32"}]);return!0;};d.Xj="mehd";d.Qb=!1;return d;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.kf();a=1===this.version?[{Jg:"int64"},{modificationTime:"int64"},{fb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Jg:"int32"},{modificationTime:"int32"},{fb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{jfb:"int16"},{iZa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.cd=this.xq(a);this.cd.nKb=!!(this.He&1);this.cd.oKb=!!(this.He&2);this.cd.pKb=!!(this.He&4);this.cd.qKb=!!(this.He&8);this.J.console.trace("Finished parsing track box");return!0;};d.Xj="tkhd";d.Qb=!1;return d;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.Xj="trak";d.Qb=!0;return d;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.kf();this.cd=1===this.version?this.xq([{Jg:"int64"},{modificationTime:"int64"},{ga:"int32"},{duration:"int64"}]):this.xq([{Jg:"int32"},{modificationTime:"int32"},{ga:"int32"},{duration:"int32"}]);return!0;};d.Xj="mvhd";d.Qb=!1;return d;}(a(32).Fh);f["default"]=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(126);a(126);d=a(58);g=function(){function a(a,b,d){this.view=a;this.console=b;this.config=d;this.view=a;this.console=b;this.az=this.mQ=this.offset=0;}a.prototype.B$a=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.yf=function(a){for(;this.az<a;)this.mQ=(this.mQ<<8)+this.ee(),this.az+=8;this.az-=a;return this.mQ>>>this.az&(1<<a)-1;};a.prototype.ee=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Nf=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.wb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.I$=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.Skb=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(c&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};a.prototype.fi=function(a,b){a=this.Skb(a,b);this.offset+=8;return a;};a.prototype.Tkb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.Ymb=function(){var a;a=this.Tkb();this.offset+=8;return a;};a.prototype.$K=function(){return d.FG(this.wb());};a.prototype.nV=function(){var b,d,f,g,h,l;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.wb(!0);d=this.Nf(!0);f=this.Nf(!0);g=this.Nf();h=this.Nf();l=this.wb();return[a(b,4),a(d,2),a(f,2),a(g,2),a(h,2)+a(l,4)].join("-");};a.prototype.Iza=function(a){var b;b=this.view.byteOffset+this.offset;return this.view.buffer.slice(b,b+a);};a.prototype.Rmb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var d=this.ee();0!==d&&0<--a;)b.push(d),d=this.ee();return String.fromCharCode.apply(null,b);};a.prototype.kV=function(a){var c,d;void 0===c&&(c=1);void 0===d&&(d=!0);return this.rd(this.config.kA&&b.bcb||b.iD,1,a,c,d);};a.prototype.Qmb=function(a){var c,d,f;d=10;f=!1;void 0===d&&(d=2);void 0===f&&(f=!0);void 0===c&&(c=!1);return this.rd(this.config.kA&&b.acb||b.FS,2,a,d,f,c);};a.prototype.jV=function(a,c,d){var f;void 0===c&&(c=4);void 0===d&&(d=!0);void 0===f&&(f=!1);return this.rd(this.config.kA&&b.Fta||b.ty,4,a,c,d,f);};a.prototype.Umb=function(){for(var a=this.ee(),b=a&127;a&128;)a=this.ee(),b=b<<7|a&127;return b;};a.prototype.rd=function(a,b,d,f,g,h){void 0===g&&(g=!0);void 0===h&&(h=!1);a=a(this.view,this.offset,d,f,h);this.offset=g||!f||f===b?this.offset+d*(f||b):this.offset+b;return a;};return a;}();f.oSa=g;},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(24);h=a(58);g=function(a){function c(b,c,d){b=a.call(this,b,c,d)||this;b.Ou=[];b.Ipa=[];return b;}b.__extends(c,a);c.prototype.UW=function(a,b){this.view.setUint8(void 0!==b?b:this.offset,a);void 0===b&&(this.offset+=1);};c.prototype.gvb=function(a,b){this.view.setUint16(void 0!==b?b:this.offset,a,!1);void 0===b&&(this.offset+=2);};c.prototype.pm=function(a,b,c){this.view.setUint32(void 0!==c?c:this.offset,a,b);void 0===c&&(this.offset+=4);};c.prototype.nEa=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};c.prototype.hvb=function(a,b){var c;c=Math.floor(a/4294967296);a&=4294967295;void 0!==b?(this.view.setUint32(b,c,!1),this.view.setUint32(b+4,a,!1)):(this.view.setUint32(this.offset,c,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};c.prototype.lEa=function(a){this.pm(h.Wja(a));};c.prototype.z8=function(a){var b;b=void 0!==b?b:this.offset;this.Ipa.push({offset:b,Dl:a});};c.prototype.zj=function(a,b){this.Ou.push({offset:b,remove:a});};c.prototype.hL=function(a,b,c){this.Ou.push({offset:c,remove:a,replace:b});};c.prototype.Ta=function(){var a,b,c,d;a=this;if(0===this.Ou.length)return[this.view.buffer];this.Ltb();this.rob();b=[];c=this.view.byteLength;d=0;this.Ou.filter(function(a){return a.offset<c;}).forEach(function(c){c.offset>d&&b.push(a.view.buffer.slice(d,c.offset));c.replace&&b.push(c.replace);d=c.offset+c.remove;});b.push(this.view.buffer.slice(d));return b;};c.prototype.rob=function(){this.Ou.sort(function(a,b){return a.offset-b.offset;});this.Ou=this.Ou.reduce(function(a,b){var c,f;if(0===a.length)return a.push(b),a;c=a[a.length-1];f=c.offset+c.remove;b.offset>=f?a.push(b):b.offset+b.remove>f&&(c.remove+=b.offset+b.remove-f,b.replace&&(c.replace=c.replace?d.Um(c.replace,b.replace):b.replace));return a;},[]);};c.prototype.Ltb=function(){var a;a=this;this.Ipa.forEach(function(b){var c,d;c=b.Dl+a.view.getUint32(b.offset);d=a.Ou.reduce(function(a,d){return d.offset>b.Dl&&d.offset<c?a+(d.remove-(d.replace?d.replace.byteLength:0)):a;},0);a.view.setUint32(b.offset,c-b.Dl-d);});};return c;}(a(756).oSa);f.nSa=g;},function(g,f,a){var b,d,h,m;Object.defineProperty(f,"__esModule",{value:!0});b=a(373);d=a(372);h=a(202);m=a(367);g=function(){function a(a,b){this.stream=a;this.view=b instanceof ArrayBuffer?new DataView(b):new DataView(b.data,b.offset,b.length);}a.prototype.parse=function(a){var c;c=new m.Vda(this.view.byteLength);this.ci=new b.lX(d.tK.Cc,c,this.view,h.console,{R9:!0});a=this.ci.parse(a);this.Cc=this.ci.Cc;return a.done;};return a;}();f.hNa=g;},function(g,f,a){var d;function b(a){this.yE=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.yE[b]=a.charCodeAt(b);}d=new(a(5)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,c;b=this.yE.length;if(void 0===this.yE)d.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var f=0;f<a.length;++f)c+=String.fromCharCode(this.yE[f%b]^a.charCodeAt(f));return encodeURIComponent(c);}};b.prototype.decrypt=function(a){var b,c;b="";c=this.yE.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.yE[d%c]^a.charCodeAt(d));return b;};g.T=b;},function(g,f,a){var b;b=0;g.T.gZ=function(d,f){var c,h,q,p;function g(a,b){return(a["$ASE$order"+p]||0)-(b["$ASE$order"+p]||0);}c=a(48);h=this;q=f?[f]:[];p="$op$"+b++;c({value:d,addListener:function(a,b){a["$ASE$order"+p]=b;q=q.slice();q.push(a);q.sort(g);},removeListener:function(a){var b;q=q.slice();0<=(b=q.indexOf(a))&&q.splice(b,1);},set:function(a,b){var d;if(h.value!==a){d={oldValue:h.value,newValue:a};b&&c(b,d);h.value=a;a=q;b=a.length;for(var f=0;f<b;f++)a[f](d);}}},h);};},function(g){function f(a,b){this.Fa=a;this.Zg=b;}f.prototype.l$=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,d=Math.sqrt(-2*Math.log(b/2)),d=-.70711*((2.30753+.27061*d)/(1+d*(.99229+.04481*d))-d),f=0;2>f;f++)var g=Math.abs(d),c=1/(1+g/2),g=c*Math.exp(-g*g-1.26551223+c*(1.00002368+c*(.37409196+c*(.09678418+c*(-.18628806+c*(.27886807+c*(-1.13520398+c*(1.48851587+c*(-.82215223+.17087277*c))))))))),g=(0<=d?g:2-g)-b,d=d+g/(1.1283791670955126*Math.exp(-(d*d))-d*g);a=1>a?d:-d;}return this.Fa-Math.sqrt(2*this.Zg)*a;};g.T=f;},function(g,f,a){var b,d,h,m,c,k,q,p,l;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(11);g=a(5);h=a(24);a(13);m=a(207);c=a(207);k=a(210);q=a(94);p=a(201);l=g.qk;a=function(a){function f(b,c,f,g,h,k){var m,n;g=a.call(this,b,f,g,k)||this;h=q.pk.prototype.toString.call(g)+(h?"(cache)":"");m={offset:f.offset,aa:f.h9,responseType:0};g.push(new p.NM(b,c,h+"(moof)",m,g,k));m={offset:f.offset+m.aa+8,aa:f.aa-(m.aa+8),responseType:l.Qc&&!l.Qc.tE.bx?0:1};if(g.O===d.L.VIDEO&&g.Ta){if(0<g.Ta.start){if(n=g.Ara(g.Ta.start))m.offset=f.offset+n,m.aa=f.aa-n;}else g.Ta.end<g.dJ&&(n=g.Ara(g.Ta.end))&&(m.aa-=f.aa-n);}g.push(new p.NM(b,c,h+"(mdat)",m,g,k));return g;}b.__extends(f,a);f.prototype.WB=function(a){var b,d;if(this.Ph)return!0;if(!this.By())return!1;d=!1;if(this.Tra)d=a.appendBuffer(h.Um(this.Iqa),this);else if(this.Ta&&0<this.Ta.start){b=new m.DN(this.stream,this.sa[0].response);if(b=b.hAa(this.Ta.start,this.ga))d=a.appendBuffer(h.Um(b.Xf),this),this.fP(b.Xf);this.nP();}else if(this.Ta&&this.Ta.end<this.dJ){b=new m.DN(this.stream,this.sa[0].response);if(b=b.kAa(this.Ta.end,this.ga))d=a.appendBuffer(h.Um(b.Xf),this),this.fP(b.Xf);this.nP();}else d=a.appendBuffer(this.sa[0].response,this);d&&(d=a.appendBuffer(c.zgb(this.sa[1].aa),this))&&(d=a.appendBuffer(this.sa[1].response,this));this.Ph=d;this.Jnb();return d;};return f;}(k.pA);f.cFa=a;},function(g,f,a){var d,h,m,c,k,q,p;function b(a,b){var d,f;d=Math.floor(1E3*a/b);f=1E3*Math.round(d/1E3);return new c.dc(f,Math.abs(Math.floor(1001*a/b)-f)>Math.abs(d-f)?1E3:1001);}Object.defineProperty(f,"__esModule",{value:!0});d=a(0);h=a(48);m=a(6);c=a(59);k=a(379);q=a(378);a(13);p=a(375);g=function(){function a(c,d,f){this.u=d;this.K=f;this.b0=c.Qy;this.Ld=c.Ya;this.j0=c.M;this.Rj=c.O;1===this.Rj&&(d=this.b0.streams[0],void 0!==d.framerate_value&&void 0!==d.framerate_scale&&(this.a0=b(d.framerate_value,d.framerate_scale).gnb()));this.Hr=(this.sB=this.a0)&&this.sB.ga;this.N_=this.pka=!1;this.F6=-Infinity;this.iwa=Infinity;c=a.yTa(this,c.tg,c.Zr);d=c.tn;f=c.Xb;this.xUa=c.uJ;this.ZUa=d;this.Fr=f;this.yXa=f.reduce(function(a,b){a[b.za]=b;return a;},{});!1;}a.yTa=function(a,b,c){var f,g,k,l,n,t;f=a.u;g=1===a.O;k={};f.OL&&f.OL.enabled&&f.OL.profiles&&f.OL.profiles.forEach(function(a){k[a]={action:f.OL.action,applied:!1};});l=!1;n=0;t=[];a.Qy.streams.forEach(function(u,r){var z,y,A,B,L;y=u.bitrate;A=u.vmaf;B=u.content_profile;L={inRange:!0,hf:!0};if(g){z=-1===u.content_profile.indexOf("none");L.hf=b&&!z||!b&&z;L.hf&&c&&h(p.y1(u.content_profile,u.bitrate,c),L);if(y<f.Phb||y>f.Jgb)L.inRange=!1;!m.Pa(A)&&(A<f.Qhb||A>f.Kgb)&&(L.inRange=!1);k.hasOwnProperty(B)&&"keepLowest"===k[B].action&&(k[B].applied?L.inRange=!1:k[B].applied=!0);l=l||z;}L.inRange&&L.hf&&y>n&&(n=y);u=new q.lFa(d.__assign({Fgb:u,Pf:r,track:a},L),f,a.K);t.push(u);});return{uJ:l,tn:n,Xb:t};};Object.defineProperties(a.prototype,{ed:{get:function(){return!!this.Wo;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Z3:{get:function(){return this.pka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ya:{get:function(){return this.Ld;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.j0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fb:{get:function(){return this.b0.track_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Rj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ha:{get:function(){return this.sB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Hr;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lv:{get:function(){return this.nVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wo:{get:function(){return this.Gb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qy:{get:function(){return this.b0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uJ:{get:function(){return this.xUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tn:{get:function(){return this.ZUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Xb:{get:function(){return this.Fr;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Z4:{get:function(){return this.Ha.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Y4:{get:function(){return this.Ha.vd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{EH:{get:function(){return this.Ha.vd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{GH:{get:function(){return this.Ha.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{h7:{get:function(){return this.Ha.wf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return 0;},enumerable:!0,configurable:!0}});a.prototype.Sp=function(a){return this.As()[a];};a.prototype.As=function(){return this.yXa;};a.prototype.zU=function(a,b,c,d,f){if(d&&void 0!==d.Ej&&(this.ed||void 0!==d.$c&&d.$c.length))if(a.nn&&(this.pka=!0),this.ed)!this.N_&&d.$c&&d.$c.length>this.Wo.length&&(this.Gb=new k.Xia(this.O,this.Ha,d,f),this.F6=-Infinity,this.N_=!0);else{this.jma(b);if(c=c||this.a0)this.ima(c||this.a0),void 0===this.ga&&this.kma(c.ga);this.Gb=new k.Xia(this.O,this.Ha,d,f);a.nn&&(this.N_=!0);}else this.K&&this.K.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.g2a=function(a){this.ed||(this.kma(a.ga),this.jma(a.Lv),this.ima(a.Ha),this.Gb=a.Wo);};a.prototype.toJSON=function(){return{movieId:this.M,mediaType:this.O,trackId:this.fb};};a.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.fb;};a.prototype.kma=function(a){this.Hr=a;};a.prototype.jma=function(a){this.nVa=a;};a.prototype.ima=function(a){this.sB=a;};return a;}();f.mFa=g;},function(g,f,a){var b,d,h,m,c,k,q,p,l,n,r,L,A,B,M,S,Q,D,E,F,R,ba,Y;Object.defineProperty(f,"__esModule",{value:!0});b=a(0);d=a(13);g=a(25);h=a(6);m=a(380);c=a(211);k=a(366);q=a(83);a(378);p=a(364);l=a(363);n=a(11);r=a(362);L=a(740);A=a(54);B=a(5);M=a(359);S=a(358);Q=B.Promise;D=new B.Console("HEADERCACHE","media|asejs");a=new B.Console("MEDIACACHE","media|asejs");E=B.vA;F=D.trace.bind(D);a.trace.bind(a);R=D.warn.bind(D);ba=D.error.bind(D);Y=D.info.bind(D);a=function(a){var n8K;n8K=2;function f(b,c,d,f){var z8K,J0G,l0G,q0G;z8K=2;while(z8K!==24){J0G="c";J0G+="a";J0G+="t";J0G+="c";J0G+="h";l0G="funct";l0G+="i";l0G+="o";l0G+="n";q0G="1SIY";q0G+="bZrNJ";q0G+="Cp";q0G+="9";switch(z8K){case 14:b.Gg=[];b.WG=c.ZQ;b.ju=[];b.EO=!1;b.qB=[];b.GB={};b.Y0=(b.Ak.vw||b.Ak.oca)&&0<(b.Ak.Mu||(B.options||{}).LD||0);z8K=18;break;case 15:b.Am=d;q.call(b);q0G;return b;break;case 2:b=a.call(this)||this;b.Ek=F;b.Zc=ba;b.Ja=R;b.HDb=Y;b.OG=Object.create(null);z8K=8;break;case 8:b.Ak=c;b.Ud=Object.create(null);b.Ut=0;z8K=14;break;case 18:b.Hm=b.Ak.Q8;b.Fe=void 0;b.Y0&&(b.Ak.Mu||(c=(B.options||{}).LD||0,l0G===typeof b.Ak.set?b.Ak.set({Mu:c}):b.Ak.Mu=(B.options||{}).LD||0),b.Fe=new L.LMa(b.Ak,B,b),b.Fe.yc(b,f).then(function(){var e8K,C0G;e8K=2;while(e8K!==1){C0G="Media c";C0G+="ache initial";C0G+="ized";switch(e8K){case 2:F(C0G);e8K=1;break;case 4:F("");e8K=8;break;e8K=1;break;}}})[J0G](function(a){var b8K,o0G;b8K=2;while(b8K!==1){o0G="Me";o0G+="dia cache did not ";o0G+="initial";o0G+="iz";o0G+="e";switch(b8K){case 2:ba(o0G,a);b8K=1;break;case 4:ba("",a);b8K=9;break;b8K=1;break;}}}));z8K=15;break;}}}while(n8K!==50){switch(n8K){case 54:f.prototype.Kbb=function(a,b,c,d,f,g,k){var F7K,p,q,l,t,Q0G,I0G;F7K=2;while(F7K!==10){Q0G="Unable to fin";Q0G+="d requested ";Q0G+="audio track in m";Q0G+="anifest:";I0G="Unabl";I0G+="e to find audio n";I0G+="or video tracks in manifest:";switch(F7K){case 3:a=a.$j(q,c.dK[1]);b.ja.buffer.Du=a[n.L.VIDEO];c.getTracks(1).some(function(a){var K7K;K7K=2;while(K7K!==3){switch(K7K){case 5:l=p.wta(a,b,f,g,q);return!0;break;case 2:K7K=a.Qy.stereo?1:5;break;case 1:return!1;break;}}});F7K=7;break;case 7:c.getTracks(0).some(function(a){var T7K;T7K=2;while(T7K!==1){switch(T7K){case 2:return a.fb===d?(t=p.wta(a,b,f,g,q),!0):!1;break;}}});F7K=6;break;case 13:F7K=h.R(t)&&d?12:11;break;case 2:F7K=1;break;case 1:p=this;c=new m.Tca({Ic:String(c.movieId),da:void 0,Ia:c,vya:!0,Aya:!0,tg:!!f,Zr:[],config:g,K:k},function(){});q=c.dK[0];F7K=3;break;case 14:R(I0G,d);F7K=10;break;case 6:F7K=h.R(l)&&h.R(t)?14:13;break;case 11:return[].concat(l||[]).concat(t||[]);break;case 12:R(Q0G,d);F7K=10;break;}}};f.prototype.FL=function(a,b){var H7K;H7K=2;while(H7K!==1){switch(H7K){case 2:return a===n.L.VIDEO&&b.qs||a===n.L.AUDIO&&b.bn;break;}}};f.prototype.Vb=function(a){var g7K;g7K=2;while(g7K!==1){switch(g7K){case 2:return!!a.Vb;break;case 4:return+~a.Vb;break;g7K=1;break;}}};return f;break;case 8:f.prototype.list=function(){var v1K;v1K=2;while(v1K!==1){switch(v1K){case 2:return this.Gg;break;case 4:return this.Gg;break;v1K=1;break;}}};f.prototype.DBa=function(a){var k1K;k1K=2;while(k1K!==1){switch(k1K){case 2:this.WG!==a&&(this.WG=a,this.tO());k1K=1;break;}}};f.prototype.h8=function(a,b){var j1K;j1K=2;while(j1K!==4){switch(j1K){case 1:j1K=(b=a.headers[b])?5:4;break;case 9:j1K=(a=this.Ud[a])?7:7;break;j1K=(a=this.Ud[a])?1:4;break;case 7:return b;break;j1K=4;break;case 8:j1K=(b=a.headers[b])?1:1;break;j1K=(b=a.headers[b])?5:4;break;case 2:j1K=(a=this.Ud[a])?1:4;break;case 5:return b;break;}}};n8K=14;break;case 14:f.prototype.rgb=function(a,b){var u1K,c,d;u1K=2;while(u1K!==3){switch(u1K){case 2:c=this;d=this.ewa(a);return d||!this.Fe?Q.resolve(d):(this.Hm?this.PUa(a,b):this.OUa(a,b)).then(function(a){var t1K;t1K=2;while(t1K!==1){switch(t1K){case 2:return c.rza(a);break;case 4:return c.rza(a);break;t1K=1;break;}}});break;}}};f.prototype.ewa=function(a){var G1K;G1K=2;while(G1K!==1){switch(G1K){case 4:return this.rza(this.Ud[a]);break;G1K=1;break;case 2:return this.rza(this.Ud[a]);break;}}};f.prototype.Ny=function(){var d1K,z0G;d1K=2;while(d1K!==1){z0G="Media cache i";z0G+="s ";z0G+="not enabl";z0G+="e";z0G+="d";switch(d1K){case 2:return this.Fe?this.Fe.Oab():Q.reject(z0G);break;}}};f.prototype.Hra=function(){var c1K,c,d,f,G0G,j0G;function b(a,b){var h1K;h1K=2;while(h1K!==1){switch(h1K){case 2:a&&a.data&&a.data[b].forEach(function(a){var A1K;A1K=2;while(A1K!==5){switch(A1K){case 2:a.abort();c+=a.ne;A1K=5;break;}}});h1K=1;break;}}}c1K=2;while(c1K!==3){switch(c1K){case 14:this.OWa(c);c1K=1;break;c1K=3;break;case 2:c=0;for(d in this.Ud){f=this.Ud[d];if(f.data){for(var g in f.data){G0G="i";G0G+="n ";G0G+="ent";G0G+="ry:";j0G="missin";j0G+="g headerEntry fo";j0G+="r streamId:";f.headers[g]||ba(j0G,g,G0G,f);b(f,g);f.data[g].forEach(a);delete f.data[g];}delete f.data;}}c1K=4;break;case 4:this.OWa(c);c1K=3;break;}}function a(a){var W1K;W1K=2;while(W1K!==1){switch(W1K){case 4:a.Eoa();W1K=2;break;W1K=1;break;case 2:a.Eoa();W1K=1;break;}}}};f.prototype.jz=function(a){var F1K,b;F1K=2;while(F1K!==4){switch(F1K){case 2:b=this.Ud[a.M];b&&(this.Vb(a)?h.R(b.Kb.fua)&&!h.R(a.Xe)&&(b.Kb.fua=a.Xe):h.R(b.Kb.iE)&&!h.R(a.Xe)&&(b.Kb.iE=a.Xe));F1K=4;break;}}};n8K=20;break;case 20:f.prototype.ai=function(a){var K1K;K1K=2;while(K1K!==1){switch(K1K){case 2:this.Vb(a)?this.Vjb(a):this.Xjb(a);K1K=1;break;}}};f.prototype.XD=function(a){var T1K,p0G;T1K=2;while(T1K!==5){p0G="_";p0G+="o";p0G+="nEr";p0G+="ro";p0G+="r: ";switch(T1K){case 2:R(p0G,a.toString());this.wO(a);T1K=5;break;}}};f.prototype.Vjb=function(a){var H1K,b;H1K=2;while(H1K!==8){switch(H1K){case 2:b=this;a.Csb=a.qc;this.ASa(a);H1K=3;break;case 3:h.R(a.wJ)||a.wJ(a.Csb);this.VWa(a,function(){var g1K;g1K=2;while(g1K!==1){switch(g1K){case 2:h.R(a)||(h.R(a.Ni)||a.Ni.OS--,b.wO(a));g1K=1;break;}}});H1K=8;break;}}};n8K=17;break;case 21:f.prototype.aVa=function(a,b,c){var a1K,d,f;a1K=2;while(a1K!==7){switch(a1K){case 4:a1K=0<d?3:9;break;case 2:d=a.G3;b.ge&&this.Fe&&(a.XT?d=a.XT:a.Dwa&&0<a.Dwa&&(d=2E3*a.Dwa));a1K=4;break;case 9:f=c&&c.length<a.F3?c.length:a.F3;return function(a){var u1r=p933;var X1K;X1K=2;while(X1K!==1){switch(X1K){case 2:u1r.B0G(0);return u1r.r0G(a,f);break;case 4:u1r.B0G(1);return u1r.H0G(a,f);break;X1K=1;break;}}};break;case 3:return function(a,b){var R4r=p933;var s1K;s1K=2;while(s1K!==1){switch(s1K){case 2:R4r.B0G(0);return R4r.r0G(b,d);break;case 4:R4r.B0G(2);return R4r.r0G(b,d);break;s1K=1;break;}}};break;}}};f.prototype.oP=function(a,b){var p1K,c,d,f,g,k,p,m,q,l,t,u,O0G,m0G,S0G,g0G,N0G,V0G,d0G;p1K=2;while(p1K!==47){O0G="m";O0G+="ana";O0G+="gerd";O0G+="ebugeven";O0G+="t";m0G=", st";m0G+="ar";m0G+="tP";m0G+="ts: ";S0G=",";S0G+=" ";S0G+="pt";S0G+="s:";S0G+=" ";g0G=",";g0G+=" ";g0G+="s";g0G+="tre";g0G+="amId: ";N0G=", heade";N0G+="rCac";N0G+="he requestData: movi";N0G+="eId: ";V0G="no proper fragment found to r";V0G+="equest da";V0G+="ta at pts";d0G="u";d0G+="n";d0G+="def";d0G+="ined";switch(p1K){case 36:h.R(k.Hk)&&(k.Hk=q.U);q.ge&&(q.responseType=0);a.ge&&this.Fe&&a.Ev&&a.Ev[d]&&d0G!==typeof q.U&&a.Ev[d][q.U]||(t=this.tTa(q,a.config),t.ge&&(t.Ni=a.Ni),t.Pv(),++k.vC,b.push(t));++l;f+=q.duration;p1K=50;break;case 42:q.ge=a.ge;p1K=41;break;case 27:ba(V0G,b);p1K=47;break;case 49:++m;p1K=44;break;case 26:q=a.stream.Yf(m);p1K=25;break;case 5:d=a.za;f=a.stream;g=a.config;p1K=9;break;case 10:k.eR=a;return;break;case 37:++t;p1K=39;break;case 39:p1K=t<p.length&&(q.aa<u||q.duration<g)?38:36;break;case 11:p1K=void 0===k.Hk?10:19;break;case 30:l=f=0;t=q&&q.O;p1K=28;break;case 38:q.q1(p.get(t)),q.vK=t+1,m=t;p1K=37;break;case 12:p1K=a.O===n.L.AUDIO?11:18;break;case 9:p1K=this.EO?8:14;break;case 13:p1K=k?12:47;break;case 6:this.qB.shift();p1K=7;break;case 41:p1K=!h.R(p)&&!q.Ta?40:36;break;case 43:p1K=(void 0===q&&(q=a.stream.Yf(m)),void 0!==q)?42:49;break;case 2:c=a.M;p1K=5;break;case 8:this.qB.push({Vcb:a,Fd:b});p1K=7;break;case 48:k.eR&&!h.R(k.Hk)&&(a=k.eR,delete k.eR,this.oP(a,k.Hk));p1K=47;break;case 23:p1K=this.FL(a.O,g)?22:35;break;case 28:u=t===n.L.VIDEO?g.iU:g.aU,g=t===n.L.VIDEO?g.dib:g.Shb;p1K=44;break;case 44:p1K=m<(p&&p.length||0)&&!c(l,f)?43:48;break;case 14:k=this.Ud[c]||a.Ni;p1K=13;break;case 19:b=k.Hk;p1K=18;break;case 18:a.O===n.L.AUDIO&&g.bn&&g.bo&&!g.Hx&&f.xj&&(b=Math.max(f.$&&f.$.fg(0)||0,b+f.xj.wf));p=a.$;m=p&&p.Fi(b);p1K=15;break;case 25:p1K=!h.R(q)?24:34;break;case 40:p933.i0G(3);t=p933.r0G(1,m);p1K=39;break;case 15:p1K=-1===m||void 0===m?27:26;break;case 34:void 0===k.data&&(k.data={});void 0===k.data[d]&&(k.data[d]=[]);b=k.data[d];c=this.aVa(g,a,p);p1K=30;break;case 24:q.ge=a.ge;p1K=23;break;case 21:l&&(q.O===n.L.AUDIO&&!g.Wwa&&l.Fd<(g.bo&&!g.Hx&&f.xj?Math.floor(f.xj.wf):0)&&(++l.em,l.Fd+=q.Ha.wf),0<l.em&&q.Dj({start:l.em}));p1K=35;break;case 22:l=q.RR(b);p1K=21;break;case 50:q=void 0;p1K=49;break;case 35:g.ff&&(b="@"+B.time.ea()+N0G+c+g0G+d+S0G+b+m0G+q.U,this.na(O0G,{message:b}));p1K=34;break;case 7:p1K=this.qB.length>g.w6?6:47;break;}}};f.prototype.ASa=function(a){var L1K;L1K=2;while(L1K!==1){switch(L1K){case 2:this.zja(a,a.Ni);L1K=1;break;case 4:this.zja(a,a.Ni);L1K=7;break;L1K=1;break;}}};n8K=33;break;case 40:f.prototype.Aja=function(a,b){var j7K,c,d,f,g;j7K=2;while(j7K!==14){switch(j7K){case 7:g=b.data;Object.keys(g).forEach(function(a){var t7K,b,c;t7K=2;while(t7K!==8){switch(t7K){case 2:b=g[a];h.R(d.data)&&(d.data={});t7K=4;break;case 4:h.R(d.data[a])&&(d.data[a]=[]);c=d.data;b.forEach(function(b){var G7K;G7K=2;while(G7K!==1){switch(G7K){case 2:c[a].push(b);G7K=1;break;case 4:c[a].push(b);G7K=0;break;G7K=1;break;}}});t7K=8;break;}}});j7K=14;break;case 4:d=this.Ud[a];f=b.headers;d&&f&&Object.keys(f).forEach(function(a){var u7K;u7K=2;while(u7K!==1){switch(u7K){case 4:c.zSa(f[a],d);u7K=2;break;u7K=1;break;case 2:c.zSa(f[a],d);u7K=1;break;}}});j7K=8;break;case 2:c=this;j7K=5;break;case 5:j7K=b?4:14;break;case 8:j7K=b.data?7:14;break;}}};f.prototype.bV=function(a,b){var d7K;d7K=2;while(d7K!==1){switch(d7K){case 2:return b.Rd-a.Rd;break;case 4:return b.Rd/a.Rd;break;d7K=1;break;}}};n8K=38;break;case 30:f.prototype.MWa=function(a){var z1K,c0G;z1K=2;while(z1K!==1){c0G="d";c0G+="isca";c0G+="rdedByt";c0G+="es";switch(z1K){case 2:0!==a&&(a={type:c0G,bytes:a},this.na(a.type,a));z1K=1;break;}}};f.prototype.OWa=function(a){var e1K,D0G;e1K=2;while(e1K!==1){D0G="fl";D0G+="ushedByte";D0G+="s";switch(e1K){case 2:0!==a&&(a={type:D0G,bytes:a},this.na(a.type,a));e1K=1;break;}}};f.prototype.LWa=function(a){var b1K,n0G;b1K=2;while(b1K!==5){n0G="c";n0G+="ach";n0G+="eEv";n0G+="ic";n0G+="t";switch(b1K){case 2:a={type:n0G,movieId:a};this.na(a.type,a);b1K=5;break;}}};f.prototype.VWa=function(a,b){var R1K,c;R1K=2;while(R1K!==9){switch(R1K){case 3:c.FW||0!==Object.keys(this.OG).length||this.ika();R1K=9;break;case 2:c=a.config;h.R(a.tAa)||this.oP(a,a.tAa);!this.Fe||!a.ge||this.Hm||h.R(a.Ev)||a.Ev[a.za]&&a.Ev[a.za].header?b():this.Fe.Lob(a,b);R1K=3;break;}}};f.prototype.eXa=function(a,b){var C7K,f0G;C7K=2;while(C7K!==4){f0G="p";f0G+="reb";f0G+="uffstat";f0G+="s";switch(C7K){case 2:a.Kb.WU=b;a={type:f0G,movieId:a.M,stats:{prebuffstarted:a.Kb.iE,prebuffcomplete:a.Kb.WU}};this.na(a.type,a);C7K=4;break;}}};f.prototype.PUa=function(a,b){var O7K,c,t0G;O7K=2;while(O7K!==4){t0G="M";t0G+="edia cache is no";t0G+="t";t0G+=" enabled";switch(O7K){case 2:c=this;return this.Fe?this.Fe.Lfb(a,b).then(function(b){var P7K;P7K=2;while(P7K!==5){switch(P7K){case 1:return c.Ud[a]=b.Ni,++c.Ut,c.tO(),c.Gg.push(b.Ni),c.Gg.sort(c.bV),c.Aja(a,b),c.cache[a];break;case 2:P7K=b&&b.Ni?1:5;break;case 3:P7K=b||b.Ni?2:6;break;P7K=b&&b.Ni?1:5;break;}}}):Q.reject(t0G);break;}}};f.prototype.OUa=function(a,b){var U7K,c,d,f,F2G;U7K=2;while(U7K!==6){F2G="Me";F2G+="dia";F2G+=" cache is not enabled";switch(U7K){case 8:return d.then(function(d){var v7K;v7K=2;while(v7K!==1){switch(v7K){case 2:return!h.R(d)&&c.Fe?c.Fe.Kfb(a,b,d).then(function(b){var k7K;k7K=2;while(k7K!==5){switch(k7K){case 2:b&&(f||(c.Ud[a]=d,++c.Ut,c.tO(),c.Gg.push(d),c.Gg.sort(c.bV)),c.Aja(a,b));return c.Ud[a];break;}}}):Q.resolve(void 0);break;}}});break;case 4:d=void 0;f=!1;this.Fe.Wua(this.Ud[a])?(d=Q.resolve(this.Ud[a]),f=!0):d=this.Fe.Rfb(a);U7K=8;break;case 5:U7K=this.Fe?4:7;break;case 7:return Q.reject(F2G);break;case 2:c=this;U7K=5;break;}}};n8K=40;break;case 2:b.__extends(f,a);Object.defineProperties(f.prototype,{cache:{get:function(){var R8K;R8K=2;while(R8K!==1){switch(R8K){case 2:return this.Ud;break;case 4:return this.Ud;break;R8K=1;break;}}},enumerable:!0,configurable:!0}});f.prototype.$m=function(){var C1K;C1K=2;while(C1K!==5){switch(C1K){case 2:this.flush();this.ika();C1K=5;break;case 3:this.flush();this.ika();C1K=4;break;C1K=5;break;}}};n8K=4;break;case 33:f.prototype.zSa=function(a,b){var x1K;x1K=2;while(x1K!==1){switch(x1K){case 2:this.zja(a,b);x1K=1;break;case 4:this.zja(a,b);x1K=2;break;x1K=1;break;}}};f.prototype.zja=function(a,b){var q1K,c;q1K=2;while(q1K!==3){switch(q1K){case 2:c=a.za;q1K=5;break;case 8:c=a.za;q1K=9;break;q1K=5;break;case 5:q1K=(b=this.Ud[a.M]||b)?4:3;break;case 4:b.Wma||b.ge&&!this.Hm||(b.Wma=!0,++this.Ut),b.headers||(b.headers={}),b.headers[c]=a,this.Ak.MI&&(b.wo||(b.wo=0),++b.wo),this.tO();q1K=3;break;}}};f.prototype.tO=function(){var o1K,b,c,d;o1K=2;function a(a){var n1K;n1K=2;while(n1K!==5){switch(n1K){case 2:a.abort();d+=a.ne;n1K=5;break;}}}while(o1K!==11){switch(o1K){case 5:o1K=!(this.Ut<=this.WG)?4:11;break;case 2:d=0;o1K=5;break;case 4:o1K=this.Ut>this.WG?3:12;break;case 7:for(var f in c.data){c.data[f].forEach(a);delete c.data[f];}o1K=6;break;case 3:o1K=(c=this.Gg.shift())?9:4;break;case 9:b=c.M;o1K=8;break;case 8:o1K=c.data?7:6;break;case 6:delete this.Ud[b];--this.Ut;o1K=13;break;case 13:this.LWa(b);o1K=4;break;case 12:this.MWa(d);o1K=11;break;}}};n8K=30;break;case 26:f.prototype.TWa=function(a,b){var w1K,c,f,g,k,m,q,l,t,u,z,y,A,B,k2G;w1K=2;while(w1K!==24){k2G="A con";k2G+="fig must be pa";k2G+="s";k2G+="sed to ";k2G+="_requestHeader";switch(w1K){case 2:c=this;f=b.M;g=b.Rd;w1K=3;break;case 3:k=b.Fd;m=b.ge;q=b.Hab();l=q.Ia;t=q.tg;w1K=14;break;case 10:b={stream:[new S.LZ(void 0,u.Fna,u,void 0),new S.LZ(void 0,u.qba,u,void 0)],location:new r.Mfa(void 0,a.Ye,a.AD,!t,u),ja:{state:n.Ma.Lh,p7:!0,buffer:{Du:void 0,U:0,qf:0,cb:0,Qk:0,Rv:0,$:[],km:void 0,s9a:void 0}}};b.location.tH(l);z=this.Kbb(a,b,l,q,t,u,D);w1K=18;break;case 14:q=q.$B;d.assert(b.config,k2G);u=b.config;u=p.cpa(u,l);w1K=10;break;case 18:w1K=!z?17:16;break;case 16:y=this.Ud[f];y||(y={Rd:g,M:f,headers:Object.create(null),wo:0,OS:0,vC:0,data:void 0,ge:m,Kb:{},eR:void 0,Wma:void 0},!y.ge||this.Hm?this.Ud[f]=y:y.Kb.lm=0,this.Gg.push(y),this.Gg.sort(this.bV));A=[];u.Ucb&&(B=2292+12*Math.ceil(l.duration/2E3));w1K=25;break;case 25:return(m&&this.Fe?this.Hm?this.Fe.Pfb(f,y):this.Fe.tgb(f):Q.resolve(void 0)).then(function(a){var Z1K;Z1K=2;while(Z1K!==5){switch(Z1K){case 2:z.forEach(function(b){var r1K,d;r1K=2;while(r1K!==4){switch(r1K){case 2:d=B?B:u.PS;r1K=5;break;case 5:u.MI&&y.headers[b.za]||(h.R(y.Pl)&&b.O===n.L.VIDEO&&(y.Pl=b.P,y.yo=b.yo,y.jn=b.jn,y.Ul=b.$cb,y.Wk=b.SS),t&&b.O===n.L.VIDEO&&u.LR?d=u.LR:u.VDa&&b.Aq&&(d=b.Aq.offset+b.Aq.size),b={stream:b,url:b.url,offset:0,aa:d,ge:m},m&&(y.Kb.shb=!h.R(a)&&0<Object.keys(a).length,b.Ev=a),b=c.UWa(b,k,y,u),A.push(b));r1K=4;break;}}});return Q.all(A);break;}}}).then(function(a){var V1K;V1K=2;while(V1K!==1){switch(V1K){case 2:return new Q(function(b){var i1K;i1K=2;while(i1K!==1){switch(i1K){case 2:c.Fe&&m&&!c.Hm?c.Fe.Nob(y,function(){var Q1K;Q1K=2;while(Q1K!==1){switch(Q1K){case 2:b(a);Q1K=1;break;case 4:b(a);Q1K=6;break;Q1K=1;break;}}}):b(a);i1K=1;break;}}});break;}}}).then(function(a){var f1K;f1K=2;while(f1K!==3){switch(f1K){case 2:a=Math.max.apply(Math,a);y.Kb.WR=y.Kb.fua;y.Kb.BT=a;return{firstheadersent:y.Kb.WR,lastheadercomplete:y.Kb.BT};break;}}});break;case 17:return Q.reject();break;}}};f.prototype.s_=function(a,b){var S1K,c;S1K=2;while(S1K!==7){switch(S1K){case 2:c=a.stream.O;2>this.ju.length&&this.$ja();b=new k.Sca(a.stream,b,this.ju[c].track,a,this,!0,D);b.ge=a.ge;b.Pg=this;return b;break;}}};f.prototype.tTa=function(a,b){var N1K,d;N1K=2;while(N1K!==7){switch(N1K){case 2:N1K=1;break;case 3:b.ge=a.ge;b.Pg=this;return b;break;case 1:d=a.stream.O;2>this.ju.length&&this.$ja();b=c.aX.create(a.stream,b,this.ju[d].track,a,this,!0,D);N1K=3;break;}}};f.prototype.wO=function(a){var m1K,b,E2G;m1K=2;while(m1K!==8){E2G="s";E2G+="avetodi";E2G+="sk";switch(m1K){case 2:this.Vb(a)&&delete this.OG[a.za];this.Vb(a)||delete a.response;a.Xd();b=this.Ud[a.M]||a.Ni;b&&0===b.OS&&0===b.vC&&(this.eXa(b,a.qc),b.ge&&this.Fe&&(b.Kb.shb||(this.Hm?this.Fe.Oob(b):this.Fe.DE(E2G,{VAa:b.Kb.lm}))));m1K=8;break;}}};n8K=22;break;case 17:f.prototype.Xjb=function(a){var l1K,b,c,d,f,X2G,L2G,A2G,h2G,b2G;l1K=2;while(l1K!==14){X2G="manag";X2G+="erde";X2G+="bu";X2G+="geve";X2G+="nt";L2G=",";L2G+=" remainin";L2G+="g: ";A2G=", pt";A2G+="s";A2G+=": ";h2G=", ";h2G+="streamId:";h2G+=" ";b2G=", headerCache dataComplet";b2G+="e:";b2G+=" movieId: ";switch(l1K){case 6:--d.vC,b.wO(a);l1K=14;break;case 2:b=this;c=a.M;l1K=4;break;case 3:l1K=d?9:14;break;case 8:f=B.time.now();this.Fe.Kob(a,d,function(c){var E1K;E1K=2;while(E1K!==4){switch(E1K){case 2:c||h.R(d)||(c=B.time.ea()-f,h.R(d.Kb)&&(d.Kb={}),h.R(d.Kb.lm)&&(d.Kb.lm=0),d.Kb.lm+=c);--d.vC;b.wO(a);E1K=4;break;}}});l1K=14;break;case 4:d=this.Ud[c]||a.Ni;l1K=3;break;case 9:l1K=(this.Ak.ff&&(c="@"+B.time.ea()+b2G+c+h2G+a.za+A2G+a.U+L2G+(d.vC-1),this.na(X2G,{message:c})),a.ge&&0===a.responseType&&this.Fe&&!this.Hm)?8:6;break;}}};f.prototype.$ja=function(){var I1K;I1K=2;while(I1K!==1){switch(I1K){case 2:0===this.ju.length&&(this.ju=[l.vt.ov.QQ(0,void 0,!1,!1,this.Am,this.Ak),l.vt.ov.QQ(1,void 0,!1,!1,this.Am,this.Ak)],E.Ue());I1K=1;break;}}};f.prototype.ika=function(){var B1K,a;B1K=2;while(B1K!==3){switch(B1K){case 2:a=this.ju;this.ju=[];a.forEach(function(a){var D1K;D1K=2;while(D1K!==1){switch(D1K){case 4:l.vt.ov.L3(a);D1K=4;break;D1K=1;break;case 2:l.vt.ov.L3(a);D1K=1;break;}}});B1K=3;break;}}};f.prototype.TUa=function(){var y1K,a;y1K=2;while(y1K!==4){switch(y1K){case 2:a=this;!this.EO&&0<this.qB.length&&(this.qB.forEach(function(b){var Y1K;Y1K=2;while(Y1K!==1){switch(Y1K){case 2:a.oP(b.Vcb,b.Fd);Y1K=1;break;}}}),this.qB=[]);y1K=4;break;}}};n8K=26;break;case 4:f.prototype.xH=function(a,b,c){var O1K,d,f;O1K=2;while(O1K!==7){switch(O1K){case 2:d=this.GB;f=a;O1K=4;break;case 4:O1K=(d[b]=a)?3:9;break;case 3:for(var g in d){d.hasOwnProperty(g)&&!1===d[g]&&(f=!1);}O1K=9;break;case 9:c&&delete d[b];f?(this.EO=!1,this.TUa()):this.EO=!0;O1K=7;break;}}};f.prototype.$lb=function(a,b){var P1K,c,f,g,k,Y2G,M2G,Z2G;P1K=2;while(P1K!==25){Y2G="); ignoring ";Y2G+="p";Y2G+="repare for movieId";Y2G+=": ";M2G="PTS passed ";M2G+="to HeaderCache.prepareP is not undefined or";M2G+=" a positive number (";Z2G="A config must ";Z2G+="be pas";Z2G+="sed to prepareP";switch(P1K){case 16:P1K=!b.ge||!this.Fe||this.Hm?15:26;break;case 2:c=b.M;f=b.Rd;g=b.Fd;d.assert(b.config,Z2G);k=b.config;this.DBa(k.ZQ);P1K=7;break;case 18:for(var p in c.headers){!h.R(c.headers[p].url)&&null!==c.headers[p].url&&(void 0===c.data||void 0===c.data[p]||c.data[p].length<k.F3)?this.oP(c.headers[p],g):(h.R(c.headers[p].url)||null===c.headers[p].url)&&void 0!==c.data&&void 0!==c.data[p]&&0<c.data[p].length&&delete c.headers[p];}P1K=17;break;case 27:return Q.reject();break;case 7:P1K=k.vhb?6:14;break;case 13:return ba(M2G+g+Y2G+c),Q.reject();break;case 10:P1K=!this.Hm||!c.ge?20:17;break;case 26:return this.TWa(a,b);break;case 11:P1K=!h.R(c)&&(2<=c.wo||!k.MI)?10:16;break;case 19:void 0===c.data&&(c.Kb.iE=void 0);P1K=18;break;case 15:P1K=f>k.x6||this.Ut+1>this.WG&&f>this.Gg[0].Rd?27:26;break;case 12:c=this.Ud[c];P1K=11;break;case 17:return Q.resolve();break;case 20:P1K=(c.Rd=f,this.Gg.sort(this.bV),!h.R(g))?19:17;break;case 14:P1K=!h.R(g)&&(!h.pa(g)||0>g)?13:12;break;case 6:return Q.reject();break;}}};f.prototype.flush=function(){var U1K,a,y2G,v2G;U1K=2;while(U1K!==7){y2G="m";y2G+="a";y2G+="nagerdebugeve";y2G+="nt";v2G=", h";v2G+="eaderCache flus";v2G+="h: ";switch(U1K){case 3:this.Ut=0;U1K=9;break;case 2:this.Hra();for(var b in this.OG){a=this.OG[b];a.abort();}this.Ud=Object.create(null);U1K=3;break;case 9:this.Gg=[];this.Ak.ff&&(a="@"+B.time.ea()+v2G,this.na(y2G,{message:a}));U1K=7;break;}}};n8K=8;break;case 22:f.prototype.UWa=function(a,b,c,d){var M1K,f;M1K=2;while(M1K!==11){switch(M1K){case 2:f=this.s_(a,d);f.tAa=b;f.Ni=c;f.Ev=a.Ev;M1K=9;break;case 9:M1K=!f.Pv()?8:7;break;case 6:this.OG[f.za]=f;M1K=14;break;case 8:return Q.reject();break;case 7:c.OS++;M1K=6;break;case 14:M1K=a.wJ?13:12;break;case 13:f.wJ=a.wJ;M1K=11;break;case 12:return new Q(function(a){var J1K;J1K=2;while(J1K!==1){switch(J1K){case 2:f.wJ=a;J1K=1;break;case 4:f.wJ=a;J1K=2;break;J1K=1;break;}}});break;}}};n8K=21;break;case 38:f.prototype.rza=function(a){var c7K,b,c,d;c7K=2;while(c7K!==10){switch(c7K){case 2:b={};c7K=5;break;case 5:c7K=a&&a.data?4:10;break;case 8:b.Kb=a.Kb;b.Pl=a.Pl;b.yo=a.yo;b.jn=a.jn;b.Ul=a.Ul;c7K=12;break;case 12:b.Wk=a.Wk;return b;break;case 4:for(c in a.data){d=a.data[c];0<d.length&&(b[d[0].O]={za:c,Up:a.headers[c],data:d});}b.Hk=a.Hk;b.wo=a.wo;c7K=8;break;}}};f.prototype.poa=function(a,b,c,d,f){var W7K,s2G,P2G;W7K=2;while(W7K!==8){s2G="sel";s2G+="ectStream ret";s2G+="urned n";s2G+="ull";P2G="upda";P2G+="teS";P2G+="treamSelection returned";P2G+=" nu";P2G+="ll list";switch(W7K){case 5:W7K=(a=a.stream[c?1:0].Aaa(a.ja,b,void 0,c?d.eza:d.dza))?4:3;break;case 1:d=M(d,f);W7K=5;break;case 4:return b=b[a.sd],b.yo=a.reason,b.jn=a.Fs,b.$cb=a.Ul,b.SS=a.Wk,b;break;case 9:R(P2G);W7K=8;break;case 2:W7K=a.location.BW(a.ja,void 0,b)?1:9;break;case 3:R(s2G);W7K=8;break;}}};f.prototype.wta=function(a,b,c,d,f){var h7K,g,h,k,p;h7K=2;while(h7K!==14){switch(h7K){case 3:a.Xb.forEach(function(a){var A7K;A7K=2;while(A7K!==1){switch(A7K){case 2:(a.nn?k:h).push(a);A7K=1;break;}}});a=[];c&&0!==h.length&&(p=this.poa(b,h,g,d,f))&&a.push(p);p||(p=this.poa(b,k,g,d,f))&&a.push(p);h7K=6;break;case 6:return a;break;case 2:g=a.O===n.L.VIDEO;h=[];k=[];h7K=3;break;}}};n8K=54;break;}}}(q);f.fKa=a;A(g.EventEmitter,a.prototype);},function(g){function f(a,d,f,g){a.trace(":",f,":",g);d(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,h){g=h?g.bind(h):g;h=!1;if(a){this.console&&(g=f.bind(null,this.console,g,d));if("function"===typeof a.addEventListener)h=a.addEventListener(d,g);else if("function"===typeof a.addListener)h=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,d;b=a[0];d=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(d,a):"function"===typeof b.removeListener&&b.removeListener(d,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.T=a;},function(g){function f(a,d){var b;if(void 0===d||"function"!==typeof d||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.xl)return this.xl={},this.xl[a]=[d],!0;b=this.xl[a];return void 0===b?(this.xl[a]=[d],!0):0>b.indexOf(d)?(b.push(d),!0):!1;}function a(a,d){a=this.xl?this.xl[a]:void 0;if(!a)return!1;a.forEach(function(a){a(d);});return!0;}g.T={addEventListener:f,on:f,removeEventListener:function(a,d){var b;if(void 0===d||"function"!==typeof d||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.xl)return!1;b=this.xl[a];if(void 0===b)return!1;d=b.indexOf(d);if(0>d)return!1;if(1===b.length)return delete this.xl[a],!0;b.splice(d,1);return!0;},na:a,emit:a,removeAllListeners:function(a){this.xl&&(void 0===a?delete this.xl:delete this.xl[a]);return this;}};},function(g,f,a){var b,d,h,m,c,k,q,p,l,n,r,L,A,B;Object.defineProperty(f,"__esModule",{value:!0});b=a(6);d=a(11);h=a(25);m=a(764);c=a(714);k=a(675);q=a(5);p=q.Promise;l=a(350);n=a(667);r=a(666);L=a(663);g=new q.Console("ASEJS","media|asejs");A=g.trace.bind(g);B=g.warn.bind(g);g=function(){var a2G;function f(b,c){var W2G,d;W2G=2;while(W2G!==11){var s4r="1SI";s4r+="Yb";s4r+="ZrN";s4r+="JCp9";var P4r="D";P4r+="E";P4r+="BU";P4r+="G";P4r+=":";var f4r="nf-ase ve";f4r+="rs";f4r+="io";f4r+="n:";switch(W2G){case 3:this.u=b;this.GB=[];this.addEventListener=h.EventEmitter.addEventListener;this.on=h.EventEmitter.on;W2G=6;break;case 2:d=a(662);A(f4r,d,P4r,!1);this.uWa=this.Rka=!1;W2G=3;break;case 6:this.removeEventListener=h.EventEmitter.removeEventListener;this.emit=this.na=h.EventEmitter.na;this.IP=c;s4r;W2G=11;break;}}}a2G=2;while(a2G!==23){switch(a2G){case 2:Object.defineProperties(f.prototype,{Ye:{get:function(){var K2G;K2G=2;while(K2G!==1){switch(K2G){case 4:return this.Nb;break;K2G=1;break;case 2:return this.Nb;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Zs:{get:function(){var U2G;U2G=2;while(U2G!==1){switch(U2G){case 4:return this.gma;break;U2G=1;break;case 2:return this.gma;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{YBa:{get:function(){var R2G;R2G=2;while(R2G!==1){switch(R2G){case 4:return this.xP;break;R2G=1;break;case 2:return this.xP;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Deb:{get:function(){var e2G;e2G=2;while(e2G!==1){switch(e2G){case 4:return~b.R(this.AP);break;e2G=1;break;case 2:return!b.R(this.AP);break;}}},enumerable:!0,configurable:!0}});a2G=3;break;case 3:Object.defineProperties(f.prototype,{Sqb:{get:function(){var u2G;u2G=2;while(u2G!==1){switch(u2G){case 4:return this.rXa;break;u2G=1;break;case 2:return this.rXa;break;}}},enumerable:!0,configurable:!0}});a2G=9;break;case 9:Object.defineProperties(f.prototype,{Pg:{get:function(){var w2G;w2G=2;while(w2G!==1){switch(w2G){case 4:return this.ti;break;w2G=1;break;case 2:return this.ti;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{AD:{get:function(){var x2G;x2G=2;while(x2G!==1){switch(x2G){case 4:return this.fh;break;x2G=1;break;case 2:return this.fh;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ldb:{get:function(){var T2G;T2G=2;while(T2G!==1){switch(T2G){case 2:return this.uWa;break;case 4:return this.uWa;break;T2G=1;break;}}},enumerable:!0,configurable:!0}});a2G=6;break;case 6:f.prototype.yc=function(a,c,d,f,g,h){var r2G,p,q;r2G=2;while(r2G!==18){var H4r="medi";H4r+="a";H4r+="ca";H4r+="che";var j4r="c";j4r+="ache";j4r+="E";j4r+="vic";j4r+="t";var i4r="flus";i4r+="he";i4r+="dB";i4r+="y";i4r+="tes";var V4r="di";V4r+="scardedBy";V4r+="tes";var g4r="p";g4r+="re";g4r+="buffst";g4r+="ats";switch(r2G){case 10:r2G=q.gF||q.FW?20:19;break;case 2:p=this;q=this.u;0<q.Js&&(!b.R(a)&&a>q.Js&&(a=q.Js),c>q.Js&&(c=q.Js));b.R(a)?this.AP=c:this.WSa=[a,c];this.xP=f;this.rXa=g;r2G=7;break;case 7:k(q);this.fh=new l(q,this.IP);this.iu=new n(q);r2G=13;break;case 13:this.Nb=new r(this.iu,this.fh,q);this.gma=new L(q);q.PU&&!this.ZWa&&(this.ZWa=setInterval(function(){var H2G;H2G=2;while(H2G!==5){switch(H2G){case 2:p.fh.save();p.iu.save();H2G=5;break;}}},q.PU));r2G=10;break;case 20:c=new m.fKa(this,q,d,h),a=function(a){var B2G;B2G=2;while(B2G!==1){switch(B2G){case 2:p.na(a.type,a);B2G=1;break;case 4:p.na(a.type,a);B2G=6;break;B2G=1;break;}}},c.addEventListener(g4r,a),c.addEventListener(V4r,a),c.addEventListener(i4r,a),c.addEventListener(j4r,a),(q.oca||q.vw)&&c.addEventListener(H4r,function(a){var i2G;i2G=2;while(i2G!==1){var h4r="me";h4r+="diacac";h4r+="he";switch(i2G){case 2:p.na(h4r,a);i2G=1;break;case 4:p.na("",a);i2G=3;break;i2G=1;break;}}}),this.ti=c;r2G=19;break;case 19:this.Rka=!0;r2G=18;break;}}};f.prototype.$j=function(a,c){var q2G,d;q2G=2;while(q2G!==7){switch(q2G){case 2:q2G=1;break;case 5:b.R(a)&&(a=192);b.R(c)&&(c=5800);p933.u4r(0);d=p933.Z6r(a,c);return[Math.floor(this.AP*a/d),Math.floor(this.AP*c/d)];break;case 1:q2G=this.AP?5:8;break;case 8:return this.WSa;break;}}};f.prototype.js=function(a,f,g,h,k,p,m,q,l){var l2G;l2G=2;while(l2G!==4){var E4r="op";E4r+="en: ";E4r+="streamingManager n";E4r+="ot";E4r+=" initted";var r4r="branc";r4r+="hi";r4r+="ng";switch(l2G){case 2:l2G=this.Rka?1:5;break;case 1:return q=q||this.u,this.Nb.reset(),this.iu.irb(),this.gma.reset(),void 0===p&&(p=this.jsa(a,f)),b.R(this.xP)&&(this.$j()[d.L.VIDEO]<=q.aib?this.xP=0:this.xP=q.xV),a&&a.choiceMap&&r4r===a.choiceMap.type&&(k.$f=!0),a=new c.XQa(this,a,f,g,h,k,p,m,q,l),this.GB.push(a),a;break;case 7:B("");l2G=8;break;l2G=4;break;case 5:B(E4r);l2G=4;break;}}};f.prototype.h8=function(a,b){var C2G;C2G=2;while(C2G!==1){switch(C2G){case 2:return this.ti&&(a=this.ti.h8(a,b))?a:!1;break;}}};a2G=11;break;case 15:f.prototype.h2=function(){var N2G;N2G=2;while(N2G!==1){switch(N2G){case 2:this.ti&&this.ti.flush();N2G=1;break;}}};f.prototype.e0a=function(){var g2G;g2G=2;while(g2G!==1){switch(g2G){case 2:this.ti&&this.ti.Hra();g2G=1;break;}}};f.prototype.i2=function(){var S2G;S2G=2;while(S2G!==1){switch(S2G){case 4:return this.ti?this.ti.list():[];break;S2G=1;break;case 2:return this.ti?this.ti.list():[];break;}}};f.prototype.hoa=function(){var m2G;m2G=2;while(m2G!==1){switch(m2G){case 2:this.ti&&this.ti.$m();m2G=1;break;}}};a2G=24;break;case 11:f.prototype.sgb=function(a){var J2G;J2G=2;while(J2G!==1){switch(J2G){case 2:return this.ti&&(a=this.ti.ewa(a))?a:!1;break;}}};f.prototype.Ny=function(){var o2G;o2G=2;while(o2G!==1){switch(o2G){case 2:return this.ti?this.ti.Ny():p.resolve([]);break;}}};f.prototype.JWa=function(a){var I2G,c;I2G=2;while(I2G!==3){var d4r="can";d4r+="'t find s";d4r+="ession in arra";d4r+="y, ";d4r+="movieId:";switch(I2G){case 2:this.Nb.RV(null);c=this.GB.indexOf(a);I2G=4;break;case 4:b.R(c)?B(d4r,a.M):(this.GB.splice(c,1),0===this.GB.length&&this.iu.urb(),this.iu.save(),this.fh.save());I2G=3;break;}}};a2G=19;break;case 24:return f;break;case 19:f.prototype.ksa=function(a){var Q2G,b;Q2G=2;while(Q2G!==3){switch(Q2G){case 2:b={profile:a.spoofedProfile||a.profile,Z4:a.max_framerate_value,Y4:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Lya:a.pixelAspectX,Mya:a.pixelAspectY,Nk:a.channels,sampleRate:48E3};Q2G=5;break;case 5:a.spoofedProfile&&(b.originalProfile=a.profile);return b;break;}}};f.prototype.jsa=function(a,b,c){var z2G,f,g;z2G=2;while(z2G!==9){var W4r="video_";W4r+="track";W4r+="s";var y4r="audio_";y4r+="t";y4r+="racks";var p4r="audi";p4r+="o_t";p4r+="ra";p4r+="c";p4r+="ks";switch(z2G){case 1:f=this;g=[{},{}];(c===d.L.AUDIO?[p4r]:[y4r,W4r]).forEach(function(c,d){var j2G;j2G=2;while(j2G!==1){switch(j2G){case 2:a[c].some(function(a,c){var G2G;G2G=2;while(G2G!==1){switch(G2G){case 2:return c===b[d]?(g[d]=f.ksa(a),!0):!1;break;}}});j2G=1;break;}}});return g;break;case 2:z2G=1;break;}}};f.prototype.GDa=function(a){var p2G;p2G=2;while(p2G!==1){switch(p2G){case 4:q.EJ(a);p2G=3;break;p2G=1;break;case 2:q.EJ(a);p2G=1;break;}}};f.prototype.ioa=function(a,c){var d2G;d2G=2;while(d2G!==1){var b4r="c";b4r+="atc";b4r+="h";switch(d2G){case 2:this.ti&&(a=this.ti.$lb(this,a),b.R(c)||a.then(c),a[b4r](function(a){var V2G;V2G=2;while(V2G!==1){var t4r="cach";t4r+="ePrepare caught er";t4r+="ror:";switch(V2G){case 2:A(t4r,a);V2G=1;break;case 4:A("",a);V2G=2;break;V2G=1;break;}}}));d2G=1;break;}}};a2G=15;break;}}}();f.yMa=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});g=a(4);a=a(72);f.sEa=!0;f.gia=!1;a=g.W.get(a.kp);f.Vn={};f.QY=a.vn;f.JX=a.dn;f.bJa=a.QC;f.Gea=a.e5;f.FHa=a.jR;f.axb=a.iqa;f.bxb=a.jR;f.Hda=a.kqa;f.lzb=a.Peb;f.pzb=a.awa;f.jAb=!1;f.uNa=!0;f.Eg={JX:a.dn,zt:void 0,xt:void 0,HHa:void 0,GHa:void 0,EOa:void 0,Fda:void 0,EHa:void 0};},function(g,f){function a(a){this.Wb=a;this.Ra=JSON.stringify(this.Iab());}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.Iab=function(){var a;a=[];(!this.Wb.Di||0>=this.Wb.Di.length)&&a.push({error:"No CDN."});this.Wb.E3||a.push({error:"No default audio track.",foundTracks:this.z5(this.Wb.Om)});this.Wb.I3||a.push({error:"No default video track.",foundTracks:this.z5(this.Wb.Kq)});this.Wb.H3||a.push({error:"No default subtitle track.",foundTracks:this.z5(this.Wb.Gj)});return a;};a.prototype.z5=function(a){return a&&0<a.length?a.map(function(a){return a.fb;}):"No tracks found.";};f.GMa=a;},function(g,f,a){var d,h,m,c,k,q;function b(a,b){a=h.ve.call(this,a,"ManifestParserConfigImpl")||this;a.Zm=b;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(36);m=a(27);c=a(34);k=a(137);q=a(35);aa(b,h.ve);oa.Object.defineProperties(b.prototype,{vba:{configurable:!0,enumerable:!0,get:function(){return[];}},T4:{configurable:!0,enumerable:!0,get:function(){return"";}},o2:{configurable:!0,enumerable:!0,get:function(){return[];}},n2:{configurable:!0,enumerable:!0,get:function(){return[];}},V4:{configurable:!0,enumerable:!0,get:function(){return"";}},R6:{configurable:!0,enumerable:!0,get:function(){return 0;}},XE:{configurable:!0,enumerable:!0,get:function(){return this.Zm.XE.fa(q.Pn);}},ht:{configurable:!0,enumerable:!0,get:function(){return this.Zm.ht;}}});a=b;g.__decorate([c.config(c.tba,"supportedAudioTrackTypes")],a.prototype,"vba",null);g.__decorate([c.config(c.string,"forceAudioTrack")],a.prototype,"T4",null);g.__decorate([c.config(c.rDa,"cdnIdWhiteList")],a.prototype,"o2",null);g.__decorate([c.config(c.rDa,"cdnIdBlackList")],a.prototype,"n2",null);g.__decorate([c.config(c.string,"forceTimedTextTrack")],a.prototype,"V4",null);g.__decorate([c.config(c.uw,"imageSubsResolution")],a.prototype,"R6",null);g.__decorate([c.config(c.uw,"timedTextSimpleFallbackThreshold")],a.prototype,"XE",null);g.__decorate([c.config(c.tba,"timedTextProfiles")],a.prototype,"ht",null);a=g.__decorate([d.N(),g.__param(0,d.l(m.cj)),g.__param(1,d.l(k.jG))],a);f.BMa=a;},function(g,f,a){var d,h,m,c;function b(a,b){return h.CN.call(this,a,b)||this;}Object.defineProperty(f,"__esModule",{value:!0});d=a(127);h=a(387);m=a(75);c=a(157);aa(b,h.CN);b.prototype.Fkb=function(a){var b,f;b=this;a=P(d.Qs(function(a){return a.mc&&0<a.mc.length;},a));f=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Ho});});a=f.map(function(a){var d;d=a.Ui;d={type:m.ig.video,fb:a.Ho,Ay:a.lM,Ui:c.SZ[d.toLowerCase()]||c.op.SA,xz:d,mc:[],bg:{}};d.mc=b.hDa(a.mc,d);b.log.trace("Transformed video track",{StreamCount:d.mc.length});return d;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.Akb=function(a){var b;b=a.map(function(a){return a.r$;}).filter(Boolean);b=[].concat.apply([],[].concat(ga(b))).map(function(a){return a.aa;});a=a.map(function(a){return a.Y3;}).filter(Boolean).map(function(a){return a.aa;});return 0<b.length?b:a;};f.mSa=b;},function(g,f,a){var d,h,m,c,k;function b(a,b,c,d){a=h.CN.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(413);h=a(387);m=a(127);c=a(75);k=a(157);aa(b,h.CN);b.prototype.hkb=function(a,b,f){var g,h,p;g=this;a=P(m.Qs(function(a){return a.mc&&0<a.mc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.Eta(a));});p=this.config.vba;a=P(m.Qs(function(a){return 0===p.length||0<=p.indexOf(a.Ui);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.Eta(a));});a=h.map(function(a){var h;h=a.Ui;h={type:c.ig.audio,fb:a.Ho,Ay:a.lM,Ui:k.SZ[h.toLowerCase()]||k.op.SA,xz:h,Wj:a.language,displayName:a.uD,Nk:a.Nk,LEb:a.Nk,KEb:Number(a.Nk[0]),Gj:g.Q9a(a.Ho,b,f),bg:{Bcp47:a.language,TrackId:a.Ho},mc:[],isNative:a.isNative};h.mc=g.hDa(a.mc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.mc.length,AllowedTimedTextTracks:h.Gj.length});h.Loa=d.Vca[h.mc[0].df];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.ZZa=function(a){var b,c;b=this;c=this.config.T4;if(c){if(a=P(a.filter(function(a){return a.Wj==c||a.fb==c;})).next().value)return a;}else if(this.j.ZR&&(a=P(a.filter(function(a){return a.fb==b.j.ZR;})).next().value))return a;};b.prototype.Eta=function(a){return{language:a.uD,bcp47:a.language,type:a.Ui};};b.prototype.Q9a=function(a,b,c){return b.filter(function(b){return b.Xo.AUDIO===a;}).map(function(a){return a.Xo.PZ;}).map(function(a){return c.find(function(b){return b.fb===a;});}).filter(Boolean);};f.pFa=b;},function(g,f){function a(a,d,f){this.log=a;this.j=d;this.Xba=f;}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.Ekb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.Wc&&0<a.Wc.length;}).map(function(a){return b.Xba(b.j,a.id,a.height,a.width,a.Nya,a.Oya,a.size,{unknown:a.Wc[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};f.RRa=a;},function(g,f){function a(a,d,f,g,c,h){this.w8=a;this.p2=d;this.HCa=f;this.qtb=g;this.Hna=c;this.cEa=h;}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.xkb=function(a){var b,f,g,c,h,q,p,l,n,r,L,A,B,M,S,Q;a=this.w8.decode(a);b=this.p2.wya(a.Jn,a.ck,!0);f=this.HCa.Dkb(a.WCa);g=this.qtb.Ekb(a.mDa);c=this.Hna.hkb(a.L1,a.media,f);h=this.cEa.Fkb(a.PW);q=this.zkb(a,c,f);p=q[0];l=h[0];n=this.Hna.ZZa(c)||p.Lc||c[0];p=this.HCa.Fsb(n.Gj)||p.uc||n.Gj[0];r=this.cEa.Akb(a.PW);L=a.Mf;A=a.Hoa;B=a.Tta;M=a.Yj;S=a.L1.findIndex(function(a){return a.Ho==n.fb;});Q=a.PW.findIndex(function(a){return a.Ho==l.fb;});return{No:r,Di:b,Om:c,Kq:h,Gj:f,ot:g,Mf:L,Lpb:A,rv:B,Yj:M,Tpa:S,Ypa:Q,YU:q,I3:l,E3:n,H3:p,jIb:a};};a.prototype.zkb=function(a,d,f){var b,c;b=[];c=a.Xpa[0];b.push({Lc:d.find(function(a){return a.Ay===c.$B;}),uc:f.find(function(a){return a.Ay===c.tCa;}),bJb:0});return b;};f.DMa=a;},function(g,f,a){var d,h,m,c;function b(a,b,c,d,f){this.log=a;this.config=b;this.j=c;this.p2=d;this.g$=f;}Object.defineProperty(f,"__esModule",{value:!0});d=a(66);h=a(8);m=a(157);c=a(215);b.prototype.Dkb=function(a){var b;b=this;a=a.map(function(a){var c,f,g;c=b.Ysb(a);!1!==a.pT||c.length||b.log.error("track without downloadables",b.Wsa(a));!0!==a.mT||c.length||b.log.error("forced track without downloadables",b.Wsa(a));f={};g=[];if(0<c.length){f=c[0];g=f.profile;if(g==d.vk.KA||g==d.vk.HN)f=b.ppb(c);g=b.p2.wya(a.toa,void 0,!1);}a=b.g$(b.j,a.Ho,a.id,f.Rc,f.Wc||{},g,a.language,a.uD,m.SZ[a.Ui.toLowerCase()]||m.op.SA,a.xz.toUpperCase(),f.profile,b.Lab(f)||{},a.pT,a.mT,a.QJ);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.Fsb=function(a){var b,c;b=this;c=this.config.V4;if(c){if(a=P(a.filter(function(a){return a.Wj==c||a.fb==c;})).next().value)return a;}else if(this.j.$R&&(a=P(a.filter(function(a){return a.fb==b.j.$R;})).next().value))return a;};b.prototype.Ysb=function(a){var b,c,d;b=this;c=a.pDa;d=a.yqa;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{Rc:d[a],profile:a,size:f.size||0,Rd:b.O$a(a,f),offset:f.oK||0,dlb:f.width,Kya:f.height,Wc:f.Lp};});a.sort(function(a,b){return a.Rd-b.Rd;});return a;};b.prototype.O$a=function(a,b){var c,f;c=this.config.ht.indexOf(a);b=b.size;f=this.config.XE;return a===d.vk.xX&&0<f&&b>f?this.config.ht.length+1:0<=c?c:this.config.ht.length;};b.prototype.Lab=function(a){if(a.profile===d.vk.KA||a.profile===d.vk.HN)return{offset:a.offset,length:a.size,xJb:{width:a.dlb,height:a.Kya}};};b.prototype.ppb=function(a){var b,f;b=this.config.R6||c.OZ.S5();f=P(a.filter(function(a){return a.profile===d.vk.KA||a.profile===d.vk.HN;}).filter(function(a){return a.Kya===b;})).next().value;if(f)return f;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.br.height,intendedResolution:b});return a[0];};b.prototype.Wsa=function(a){return{isNone:a.pT,isForced:a.mT,bcp47:a.language,id:a.Ho};};f.vRa=b;},function(g){g.T=function(f){return function(){return!f.apply(this,arguments);};};},function(g,f,a){var b,d;b=a(777);f=a(50);d=a(394);a=f(function(a,f){return d(b(a),f);});g.T=a;},function(g,f,a){f=a(159);a=a(217);a=f(a);g.T=a;},function(g,f,a){f=a(50)(function(a,d){for(var b=0;b<a.length;){if(null==d)return;d=d[a[b]];b+=1;}return d;});g.T=f;},function(g,f,a){var b;f=a(50);b=a(780);a=f(function(a,f){return b([a],f);});g.T=a;},function(g,f,a){var b,d;f=a(50);b=a(391);d=function(){function a(a,b){this.IM=b;this.WI=a;}a.prototype["@@transducer/init"]=b.yc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.IM["@@transducer/step"](a,this.WI(b));};return a;}();a=f(function(a,b){return new d(a,b);});g.T=a;},function(g,f,a){var b,d,h,m,c,k;f=a(50);b=a(393);d=a(389);h=a(217);m=a(782);c=a(388);k=a(390);a=f(b(["fantasy-land/map","map"],m,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return c(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return h(function(c,d){c[d]=a(b[d]);return c;},{},k(b));default:return d(a,b);}}));g.T=a;},function(g,f,a){var b,d;f=a(50);b=a(783);d=a(781);a=f(function(a,f){return b(d(a),f);});g.T=a;},function(g,f,a){f=a(50)(function(a,d){return d>a?d:a;});g.T=f;},function(g,f,a){var d,h;function b(a,c,f){return function(){var n;for(var g=[],k=0,m=a,l=0;l<c.length||k<arguments.length;){l<c.length&&(!h(c[l])||k>=arguments.length)?n=c[l]:(n=arguments[k],k+=1);g[l]=n;h(n)||--m;l+=1;}return 0>=m?f.apply(this,g):d(m,b(a,g,f));};}d=a(216);h=a(158);g.T=b;},function(g,f,a){var b,d,h,m,c;f=a(50);b=a(389);d=a(388);h=a(785);m=a(784);c=a(779);a=f(function(a,f){return d(c(h,0,m("length",f)),function(){var c,d;c=arguments;d=this;return a.apply(d,b(function(a){return a.apply(d,c);},f));});});g.T=a;},function(g,f,a){var b;f=a(110);b=a(787);a=f(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});g.T=a;},function(g,f,a){var b,d;b=a(218);d=Object.prototype.toString;g.T=function(){return"[object Arguments]"===d.call(arguments)?function(a){return"[object Arguments]"===d.call(a);}:function(a){return b("callee",a);};};},function(g,f,a){var b,d;f=a(50);b=a(391);d=function(){function a(a,b){this.IM=b;this.WI=a;}a.prototype["@@transducer/init"]=b.yc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.WI(b)?this.IM["@@transducer/step"](a,b):a;};return a;}();a=f(function(a,b){return new d(a,b);});g.T=a;},function(g,f,a){var b;b=a(216);f=a(50)(function(a,f){return b(a.length,function(){return a.apply(f,arguments);});});g.T=f;},function(g){var f;f=function(){function a(a){this.WI=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,d){return this.WI(a,d);};return a;}();g.T=function(a){return new f(a);};},function(g){g.T=function(f){return"[object String]"===Object.prototype.toString.call(f);};},function(g,f,a){var b,d;f=a(110);b=a(392);d=a(793);a=f(function(a){return b(a)?!0:!a||"object"!==typeof a||d(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.T=a;},function(g){g.T=function(f,a){for(var b=0,d=a.length,g=[];b<d;)f(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(g){g.T=function(f){return"function"===typeof f["@@transducer/step"];};},function(g,f,a){var b;f=a(394);b=a(788);a=a(778);a=b([f,a]);g.T=a;},function(g,f,a){var b;f=a(159);b=a(218);a=f(function(a,f,g){var c,d;c={};for(d in f)b(d,f)&&(c[d]=b(d,g)?a(d,f[d],g[d]):f[d]);for(d in g)b(d,g)&&!b(d,c)&&(c[d]=g[d]);return c;});g.T=a;},function(g,f,a){var b,d;f=a(159);b=a(395);d=a(798);a=f(function m(a,f,g){return d(function(c,d,f){return b(d)&&b(f)?m(a,d,f):a(c,d,f);},f,g);});g.T=a;},function(g,f,a){var b;f=a(159);b=a(799);a=f(function(a,f,g){return b(function(b,d,f){return a(d,f);},f,g);});g.T=a;},function(g,f,a){var d;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(f,"__esModule",{value:!0});d=a(127);b.prototype.wya=function(a,b,c){var f,g,h,m,l;f=this;g=this.config.o2;h=this.config.n2;a=P(d.Qs(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));m=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Cdn is not allowed",{Id:a.id});});l=m.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,de:a.de,type:a.type,V7:a.key,wHb:a.jwa,location:{id:c.key,de:c.de,level:c.level,weight:c.weight,Di:[]}};});l.sort(function(a,b){return a.de-b.de;});l.forEach(function(a){return a.location.Di=l.filter(function(b){return b.V7===a.V7;});});this.log.trace("Transformed cdns",{Count:l.length});if(c&&!l.length)throw Error("no valid cdns");return l;};f.JGa=b;},function(g,f,a){var d,h,m,c,k,q,p,l,n,r,L,A,B;function b(a,b,c,d,f,g){this.uf=a;this.w8=b;this.config=c;this.g$=d;this.Xba=f;this.wW=g;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);m=a(160);c=a(396);k=a(801);q=a(776);p=a(775);l=a(774);n=a(773);r=a(772);L=a(386);A=a(385);a=a(384);b.prototype.create=function(a){var b,c;b=this.uf.lb("ManifestParser",a);c=new k.JGa(b,this.config);return new p.DMa(this.w8,c,new q.vRa(b,this.config,a,c,this.g$),new l.RRa(b,a,this.Xba),new n.pFa(b,this.config,a,this.wW),new r.mSa(b,this.wW));};B=b;B=g.__decorate([d.N(),g.__param(0,d.l(h.qb)),g.__param(1,d.l(m.gga)),g.__param(2,d.l(c.iga)),g.__param(3,d.l(L.Sha)),g.__param(4,d.l(a.$ia)),g.__param(5,d.l(A.Yia))],B);f.CMa=B;},function(g,f,a){var b,d,h,m,c,k,q,p;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(397);d=a(802);h=a(396);m=a(771);c=a(386);k=a(385);q=a(383);p=a(770);f.Egb=new g.Yb(function(f){f(h.iga).to(m.BMa).Z();f(b.jga).to(d.CMa).Z();f(c.Sha).Bh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(214).qG;return new(Function.prototype.bind.apply(d,[null].concat(ga(c))))();});f(k.Yia).Bh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(340).DGa;return new(Function.prototype.bind.apply(d,[null].concat(ga(c))))();});f(q.kga).Qf(function(){return function(a){return new p.GMa(a);};});});},function(g,f,a){var d,h,m,c,k,q,p,l,n,r;function b(a,b,c,d,f,g,h,k){this.IC=a;this.me=b;this.config=c;this.vn=f;this.Mr=g;this.Wba=h;this.YT=k;this.log=d.lb("CDMAttestedDescriptor");this.wsa();}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(119);m=a(41);c=a(17);k=a(7);q=a(77);p=a(111);l=a(65);n=a(219);a=a(135);b.prototype.wsa=function(){var a;a=this;return this.Wba.HW?this.config().W6a?this.usa().then(function(b){if(b)return Promise.resolve(void 0);a.Fva||(a.Fva=a.Bab());return a.Fva;}).then(function(b){return Promise.all([Promise.resolve(b),a.usa()]);}).then(function(a){var b;a=P(a);b=a.next().value;if(!a.next().value)return b;}):(this.vn.Tg.removeServiceToken("cad"),Promise.resolve(void 0)):Promise.resolve(void 0);};b.prototype.Bab=function(){var a;a=this;return Promise.all([this.IC(),this.nab()]).then(function(b){var c;c=P(b);b=c.next().value;c=c.next().value;c={type:q.Zi.It,$S:c,context:{Pd:a.config().Pd}};return b.G9a(c,a.YT());}).then(function(b){var c;c=a.me.encode(b.Q7.data);a.log.trace("Challenge generated",c);b.close().subscribe();return c;})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);});};b.prototype.usa=function(){var a;a=this;return this.Mr().then(function(b){return(b=a.vn.Tg.getServiceTokens(b.profile.id))&&b.find(function(a){return"cad"===a.name;});});};b.prototype.nab=function(){return Promise.resolve(this.me.decode("AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="));};r=b;r=g.__decorate([d.N(),g.__param(0,d.l(h.fN)),g.__param(1,d.l(m.Ij)),g.__param(2,d.l(c.gd)),g.__param(3,d.l(k.qb)),g.__param(4,d.l(p.JA)),g.__param(5,d.l(l.Rq)),g.__param(6,d.l(n.aO)),g.__param(7,d.l(a.ZF))],r);f.fGa=r;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(398);d=a(804);f.i0a=new g.Yb(function(a){a(b.gda).to(d.fGa).Z();});},function(g,f,a){var d,h,m;function b(a){this.Ba=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(21);m=a(3);b.prototype.Irb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Ba.Uf(c)?d=Math.round(c*b.fa(m.ma)/100):(a=parseInt(a),this.Ba.Bp(a)&&(d=a));return m.Cb(Math.min(d,b.fa(m.ma)));};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.se))],a);f.QFa=a;},function(g,f,a){var d,h;function b(a){this.config=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(17);b.prototype.A5=function(){return this.Zu().G_a;};b.prototype.B5=function(){return this.Zu().H_a;};b.prototype.mab=function(){return this.Zu().I_a;};b.prototype.k5=function(){return this.Zu().Una;};b.prototype.Zu=function(){return this.config();};h=b;h=g.__decorate([d.N(),g.__param(0,d.l(a.gd))],h);f.PFa=h;},function(g,f,a){var d,h,m,c,k,q,p;function b(a,b,c,d,f){this.nQ=b;this.Ba=c;this.F_a=d;this.config=f;this.ia=a.lb("Bookmark");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(400);m=a(399);c=a(7);k=a(21);q=a(3);a=a(17);b.prototype.Zma=function(a){var b,c;b=a.Xa.playbackState&&a.Xa.playbackState.currentTime;c=this.s$a(a.M);b=this.Ba.Kl(b)?q.Cb(b):c;if(this.Ba.Bd(b))this.ia.info("Overriding bookmark",{From:a.iA.fa(q.ma),To:b.fa(q.ma)}),a=Object.assign({},a,{iA:b});else if(this.tdb(a))return this.ia.trace("Ignoring bookmark because it's too close to beginning"),q.Ag(0);return this.sdb(a)?(this.ia.trace("Ignoring bookmark because it's too close to end"),q.Ag(0)):this.rdb(a)?(this.ia.trace("Ignoring bookmark because it's too close to the end to start decoding"),q.Ag(0)):a.iA;};b.prototype.tdb=function(a){return 0>a.iA.Pk(this.A5(a));};b.prototype.A5=function(a){return this.Vna(this.nQ.A5(),a.LK);};b.prototype.sdb=function(a){return 0<a.iA.Pk(this.B5(a));};b.prototype.B5=function(a){var b;b=a.Xa.$f?this.nQ.mab():this.nQ.B5();return a.LK.ie(this.Vna(b,a.LK));};b.prototype.rdb=function(a){return 0<a.iA.Pk(this.T$a(a));};b.prototype.T$a=function(a){var b;b=a.Xa.$f?this.config().iya:this.config().K9;return a.LK.ie(q.Cb(b));};b.prototype.s$a=function(a){var b;a=this.nQ.k5()[a];b=-1;this.Ba.Bi(a)?b=parseInt(a):this.Ba.Uf(a)&&(b=a);if(this.Ba.Bp(b))return q.Cb(b);};b.prototype.Vna=function(a,b){return this.F_a.Irb(a,b);};p=b;p=g.__decorate([d.N(),g.__param(0,d.l(c.qb)),g.__param(1,d.l(h.dda)),g.__param(2,d.l(k.se)),g.__param(3,d.l(m.cda)),g.__param(4,d.l(a.gd))],p);f.RFa=p;},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(220);d=a(400);h=a(399);m=a(808);c=a(807);k=a(806);f.W1=new g.Yb(function(a){a(b.kX).to(m.RFa).Z();a(d.dda).to(c.PFa).Z();a(h.cda).to(k.QFa).Z();});},function(g,f){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(f,"__esModule",{value:!0});aa(a,Error);f.zfa=a;},function(g,f,a){var d,h,m,c;function b(a){this.Ba=a;this.Q0={};this.bma={};for(var b in d.yF)this.Ba.Uf(parseInt(b))&&(this.bma[d.yF[b]]=1);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(221);h=a(810);m=a(1);a=a(21);b.prototype.track=function(a){var b;if(this.Ba.Bi(a)){if(!this.bma[a])throw new h.zfa("Cast Interaction type "+a+" is undefined.");}else{if(!this.Ba.Kl(d.yF[a]))throw new h.zfa("Cast Interaction type "+a+" is undefined.");a=d.yF[a];}b=this.Q0[a];this.Q0[a]=b?b+1:1;};c=b;c=g.__decorate([m.N(),g.__param(0,m.l(a.se))],c);f.GGa=c;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(221);d=a(811);f.yQ=new g.Yb(function(a){a(b.oda).to(d.GGa);});},function(g,f,a){var h,m,c;function b(a,b,c){var d;d=this;this.ia=a;this.valid=!0;this.Ml=!1;this.context=c.context;this.size=c.size;this.Zh=b.create().then(function(a){d.storage=a;return a.aK("mediacache").then(function(a){d.keys=a;});});}function d(a,b){this.uf=a;this.Ah=b;this.DC={};}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(7);a=a(63);d.prototype.OQ=function(a){this.DC[a.context]=new b(this.uf.lb("DiskStorageContext"),this.Ah,a);return this.DC[a.context];};d.prototype.gqa=function(a){delete this.DC[a.context];};c=d;c=g.__decorate([h.N(),g.__param(0,h.l(m.qb)),g.__param(1,h.l(a.ep))],c);f.AIa=c;b.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.Zh.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ia.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.CS(a,b));});})["catch"](function(c){f.ia.trace("create failed",c);d(f.av(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ia.trace("append "+c);d(this.av(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.Zh.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ia.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.CS(a,b));});c(d.CS(a,b));})["catch"](function(f){d.ia.trace("remove failed",f);c(d.av(a,b,f));});};b.prototype.read=function(a,b,c,d,f){var g,h,k;g=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?f(this.av(a,b,"byteStart/byteEnd combination is not supported")):this.Zh.then(function(){if(g.keys.hasOwnProperty(h))return g.storage.load(h).then(function(p){g.ia.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");f(Object.assign(g.CS(a,b),{value:p.value,oEb:c,end:d}));});f(g.av(a,b,"Item doesn't exist"));})["catch"](function(c){g.ia.trace("read failed",c);f(g.av(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ia.trace("info ");this.Zh.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Q9(c);a[c.oI]||(a[c.oI]={});a[c.oI][c.sv]={size:0};return a;},{}),total:b.size,CKb:0};a(c);})["catch"](function(c){b.ia.trace("info failed",c);a(b.av(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.Zh.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.Q9(b).sv]={size:0};return a;},{});d.ia.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ia.trace("query failed",a);c({});});};b.prototype.cp=function(a){var b;b=this;this.ia.trace("validate");this.Zh.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Q9(c).sv]={size:0};return a;},{});a(c);})["catch"](function(c){b.ia.trace("validate failed",c);a(b.av(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.CS=function(a,b){return{X:!0,oI:void 0===a?"":a,key:void 0===b?"":b,xub:0,Hi:this.size};};b.prototype.av=function(a,b,c){return{X:!1,error:c,oI:void 0===a?"":a,key:void 0===b?"":b,xub:0,Hi:this.size};};b.prototype.Q9=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{oI:a,sv:b};};f.pxb=b;},function(g,f,a){var d,h,m;function b(a){this.uf=a;this.Ks={};this.ia=this.uf.lb("MemoryStorage");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);a=a(7);b.prototype.load=function(a){var b;if(this.Ks.hasOwnProperty(a)){b=this.Ks[a];this.ia.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ia.debug("Storage entry not found",{key:a});return Promise.reject({Y:h.G.mp});};b.prototype.save=function(a,b,d){if(d&&this.Ks.hasOwnProperty(a))return Promise.resolve(!1);this.Ks[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Ks[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Ks).map(function(b){return{key:b,value:a.Ks[b]};});return Promise.resolve(b);};b.prototype.aK=function(a){var b;b=Object.keys(this.Ks).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Ks={};return Promise.resolve();};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(a.qb))],m);f.YMa=m;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.AHa="__default_rule_key__";},function(g,f,a){var h,m,c,k,q,p,l;function b(a,b,c,d){this.ia=a;this.config=b;this.pdb=c;this.W8=d;this.Hu={mem:{storage:this.W8,key:"mem"}};this.hw=this.config.hw;}function d(a,b,c,d){this.uf=a;this.Ah=b;this.W8=c;this.config=d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(2);c=a(161);k=a(7);q=a(402);p=a(815);a=a(51);d.prototype.create=function(){this.lI||(this.lI=this.pC());return this.lI;};d.prototype.pC=function(){this.lZa=new b(this.uf.lb("AppStorage"),this.config,this.Ah,this.W8);return this.lZa.create();};l=d;l=g.__decorate([h.N(),g.__param(0,h.l(k.qb)),g.__param(1,h.l(c.HY)),g.__param(2,h.l(q.uga)),g.__param(3,h.l(a.rm))],l);f.WEa=l;b.prototype.create=function(){var a;a=this;return this.d4a().then(function(b){if(!a.A0a(b,a.config.WS))throw a.Nib(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.q5(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.q5(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.q5(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.eAa("mem").then(function(){return a.eAa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ia.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b;a=this;b=[];return this.Nva("mem").then(function(c){b=b.concat(c);return a.Nva("idb");})["catch"](function(b){a.zeb(b)||a.ia.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ia.error("load all failed",b);throw b;});};b.prototype.aK=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.Hu.idb;f?f.storage.aK(a).then(function(a){c(a);})["catch"](function(a){b.ia.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.d4a=function(){var a;a=this;return this.pdb.create().then(function(b){a.Hu.idb={storage:b,key:"idb"};})["catch"](function(b){a.ia.error("idb failed to load",b);return b||{Y:m.G.bj};});};b.prototype.A0a=function(a,b){return!a||a&&b?!0:!1;};b.prototype.Nib=function(a){var b;b="";a&&(b+=a.Y);return{Y:b};};b.prototype.eAa=function(a){return(a=this.Hu[a])?a.storage.removeAll():Promise.resolve();};b.prototype.Nva=function(a){return(a=this.Hu[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.Q8a=function(a){for(var b in this.hw)if(a.startsWith(b))return this.hw[b];return this.hw[p.AHa];};b.prototype.q5=function(a){var b,c;b=this;this.Q8a(a).every(function(a){return b.Hu[a]?(c=b.Hu[a],!1):!0;});c||(this.ia.error("component not found for storageKey",{yrb:a,gEb:Object.keys(this.Hu),rules:this.hw}),c=this.Hu.mem);this.ia.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.zeb=function(a){return(a&&(a.Y||a.errorSubCode))===m.G.mp;};f.Oca=b;},function(g,f,a){var d,h;function b(a){this.config=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(51);oa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.pba;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.GCa;}}});h=b;h=g.__decorate([d.N(),g.__param(0,d.l(a.rm))],h);f.dHa=h;},function(g,f,a){var d,h,m,c,k;function b(a,b){a=m.ve.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.hz="namedatapairs";return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(34);m=a(36);c=a(51);a=a(27);aa(b,m.ve);oa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Np?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.pba;}},dQ:{configurable:!0,enumerable:!0,get:function(){return this.config.dQ;}},cba:{configurable:!0,enumerable:!0,get:function(){return 0;}},GL:{configurable:!0,enumerable:!0,get:function(){return 0;}},Gra:{configurable:!0,enumerable:!0,get:function(){return!0;}}});k=b;g.__decorate([h.config(h.uw,"simulateIdbOpenError")],k.prototype,"cba",null);g.__decorate([h.config(h.uw,"simulateIdbLoadAllError")],k.prototype,"GL",null);g.__decorate([h.config(h.Wd,"fixInvalidDatabase")],k.prototype,"Gra",null);k=g.__decorate([d.N(),g.__param(0,d.l(a.cj)),g.__param(1,d.l(c.rm))],k);f.jLa=k;},function(g,f,a){var h,m,c;function b(a,b,c){this.config=a;this.yj=b;this.Ss=c;}function d(a,b){this.reason=a;this.cause=b;}Object.defineProperty(f,"__esModule",{value:!0});h=a(2);m=a(62);(function(a){a[a.dZ=0]="NoData";a[a.Error=1]="Error";a[a.dx=2]="Timeout";}(c=f.dQa||(f.dQa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(d,f){b.JR("get",!1,a).then(function(b){d({key:a,value:b});})["catch"](function(a){var b;b=h.G.yia;switch(a.reason){case c.dZ:b=h.G.mp;break;case c.dx:b=h.G.FQa;}f({Y:b,cause:a.cause});});});};b.prototype.save=function(a,b,d){var f;f=this;return new Promise(function(g,k){f.JR(d?"add":"put",!0,{name:a,data:b}).then(function(){g(!d);})["catch"](function(a){var b;b=h.G.zia;switch(a.reason){case c.dx:b=h.G.IQa;}k({Y:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(d,f){b.JR("delete",!0,a).then(function(){d();})["catch"](function(a){var b;b=h.G.GZ;switch(a.reason){case c.dx:b=h.G.xia;}f({Y:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,d){a.JR("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.G.GZ;switch(a.reason){case c.dx:b=h.G.xia;}d({Y:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.yj.gl(this.config.timeout,new Promise(function(b,f){var g,h,k;if(a.config.GL)f(new d(a.config.GL));else{g=[];h=a.Ss.transaction(a.config.hz,"readonly");k=h.objectStore(a.config.hz).openCursor();h.onerror=function(){f(new d(c.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(A){f(new d(c.Error,A));}else b(g);};k.onerror=function(){f(new d(c.Error,k.error));};}}))["catch"](function(a){return a instanceof m.ym?Promise.reject(new d(c.dx,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(c.Error,a));});};b.prototype.aK=function(a){var b;b=this;return this.yj.gl(this.config.timeout,new Promise(function(f,g){var h,k,p;if(b.config.GL)g(new d(b.config.GL));else{h={};k=b.Ss.transaction(b.config.hz,"readonly");p=k.objectStore(b.config.hz).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){g(new d(c.Error,p.error));};p.onsuccess=function(b){var k,p;try{k=b.target.result;if(k){p=k.key;a&&0!==p.indexOf(a)?f(h):(h[p]=void 0,k["continue"]());}else f(h);}catch(S){g(new d(c.Error,S));}};p.onerror=function(){g(new d(c.Error,p.error));};}}))["catch"](function(a){return a instanceof m.ym?Promise.reject(new d(c.dx,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(c.Error,a));});};b.prototype.JR=function(a,b,f){var g;g=this;return this.yj.gl(this.config.timeout,new Promise(function(h,k){var p,m;p=g.Ss.transaction(g.config.hz,b?"readwrite":"readonly");m=p.objectStore(g.config.hz)[a](f);p.onerror=function(){k(new d(c.Error,m.error));};m.onsuccess=function(b){var f;if("get"==a)try{f=b.target.result;f?h(f.data):k(new d(c.dZ));}catch(S){k(new d(c.dZ,S));}else h();};m.onerror=function(){k(new d(c.Error,m.error));};}))["catch"](function(a){return a instanceof m.ym?Promise.reject(new d(c.dx,a)):a instanceof d?Promise.reject(a):Promise.reject(new d(c.Error,a));});};f.iLa=b;},function(g,f,a){var m,c,k,l,p,n,r,y,L,A,B,M;function b(a,b,c,d,f,g){this.config=b;this.pI=c;this.Ah=d;this.Fub=f;this.ji=g;this.ia=a.lb(n.KZ);}function d(a,b){this.config=a;this.jt=b;}function h(a,b,c,d,f){this.config=b;this.jt=c;this.ji=f;this.ia=a.lb(n.KZ);this.pI=new Promise(function(a,b){var c;try{c=d();c?a(c):b({Y:p.G.Uea});}catch(ea){b({Y:p.G.xN,cause:ea});}});}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);m=a(1);c=a(7);k=a(819);l=a(162);p=a(2);n=a(405);r=a(406);y=a(62);L=a(63);A=a(114);B=a(161);M=a(60);h.prototype.create=function(){this.t3||(this.t3=this.pC());return this.t3;};h.prototype.$m=function(a){var b;b=this;this.t3=null;return this.jt.gl(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof y.ym?Promise.reject({Y:p.G.xN}):a.Y?Promise.reject(a):Promise.reject({Y:p.G.xN,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.jt.gl(this.config.timeout,new Promise(function(c,d){b.pI.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({Y:p.G.xN,cause:f.error});};})["catch"](function(a){d(a);});}));};h.prototype.pC=function(){var a,b;a=this;return this.jt.gl(this.config.timeout,new Promise(function(c,d){a.config.cba?d({Y:a.config.cba}):a.pI.then(function(f){a.ji.mark(M.ri.xKa);(b=f.open(a.config.name,a.config.version))?(b.onblocked=function(){a.ji.mark(M.ri.uKa);d({Y:p.G.qKa});},b.onupgradeneeded=function(){var c;a.ji.mark(M.ri.EKa);c=b.result;try{c.createObjectStore(a.config.hz,{keyPath:"name"});}catch(ba){a.ia.error("Exception while creating object store",ba);}},b.onsuccess=function(g){var h,k;a.ji.mark(M.ri.DKa);try{h=g.target.result;k=h.objectStoreNames.length;a.ia.trace("objectstorenames length ",k);if(0===k){a.ia.error("invalid indexedDb state, deleting");a.ji.mark(M.ri.wKa);try{h.close();}catch(ea){}f.deleteDatabase(a.config.name);setTimeout(function(){d({Y:p.G.pKa});},1);return;}}catch(ea){a.ia.error("Exception while inspecting indexedDb objectstorenames",ea);}c(b.result);},b.onerror=function(){a.ji.mark(M.ri.vKa);a.ia.error("IndexedDB open error",b.error);d({Y:p.G.rKa,cause:b.error});}):d({Y:p.G.Vea});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof y.ym){try{b&&b.readyState&&a.ji.mark("readyState-"+b.readyState);}catch(E){}if(a.config.dQ&&b&&"done"===b.readyState){if(a.Bub(b))return a.ji.mark(M.ri.BKa),Promise.resolve(b.result);a.ji.mark(M.ri.AKa);}a.ji.mark(M.ri.zKa);return Promise.reject({Y:p.G.tKa});}if(c.Y)return Promise.reject(c);a.ji.mark(M.ri.yKa);a.ia.error("IndexedDB open exception occurred",c);return Promise.reject({Y:p.G.sKa,cause:c});});};h.prototype.Bub=function(a){try{return 0<a.result.objectStoreNames.length;}catch(Q){this.ji.mark(M.ri.CKa);this.ia.error("failed to check open request state",Q);}return!1;};a=h;a=g.__decorate([m.N(),g.__param(0,m.l(c.qb)),g.__param(1,m.l(r.yN)),g.__param(2,m.l(y.Xw)),g.__param(3,m.l(l.Tea)),g.__param(4,m.l(A.ex))],a);f.nKa=a;d.prototype.create=function(a){return Promise.resolve(new k.iLa(this.config,this.jt,a));};a=d;a=g.__decorate([m.N(),g.__param(0,m.l(r.yN)),g.__param(1,m.l(y.Xw))],a);f.kLa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.lI||(this.lI=this.pC(this.Fub));return this.lI;};b.prototype.pC=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.ji.mark(M.ri.EQa);b.pI.create().then(function(f){b.Ah.create(f).then(function(g){Promise.all(a.map(function(a){return a.cp(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ia.debug("DB validation failed, cause: "+a);b.config.Gra?(b.ia.debug("Fixing corrupt DB"),b.pI.$m(f).then(function(){b.ia.error("Invalid database deleted, creating new database.");b.pC().then(function(a){b.ia.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ia.error("Couldn't delete invalid database.");d(a);})):(b.ia.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};a=b;a=g.__decorate([m.N(),g.__param(0,m.l(c.qb)),g.__param(1,m.l(r.yN)),g.__param(2,m.l(B.Sea)),g.__param(3,m.l(B.ufa)),g.__param(4,m.$y(L.Iia)),g.__param(5,m.l(A.ex))],a);f.lLa=a;},function(g,f,a){var d,h,m;function b(a){this.Ss=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);a=a(162);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.Ss.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(y){}c({key:a,value:g});}else d({Y:h.G.mp});}catch(y){d({Y:h.G.yia,cause:y});}});};b.prototype.save=function(a,b,d){var c;c=this;return new Promise(function(f,g){if(d&&c.Ss.getItem(a))f(!1);else try{"string"===typeof b?c.Ss.setItem(a,b):c.Ss.setItem(a,JSON.stringify(b));f(!0);}catch(y){g({Y:h.G.zia,cause:y});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.Ss.removeItem(a);c();}catch(u){d({Y:h.G.GZ,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.aK=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(a.wNa))],m);f.FLa=m;},function(g,f,a){var d,h,m,c,k;function b(a,b,d){this.yj=b;this.config=d;this.ia=a.lb(c.KZ);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);m=a(62);c=a(405);a=a(404);b.prototype.cp=function(a){return this.config.enabled?this.config.timeout?this.yj.gl(this.config.timeout,this.sqa(a)):this.sqa(a):Promise.resolve();};b.prototype.sqa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ia.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ia.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};k=b;k=g.__decorate([d.N(),g.__param(0,d.l(h.qb)),g.__param(1,d.l(m.Xw)),g.__param(2,d.l(a.zda))],k);f.cHa=k;},function(g,f,a){var b,d,h,m,c,k,l,p,n,r,y,L,A,B,M,S,Q;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(406);d=a(63);h=a(162);m=a(822);c=a(403);k=a(821);l=a(404);p=a(161);n=a(820);r=a(818);y=a(817);L=a(816);A=a(63);B=a(402);M=a(814);S=a(401);Q=a(813);f.storage=new g.Yb(function(a){a(h.Gga).Qf(function(){return function(){return J.localStorage;};});a(h.Tea).Qf(function(){return function(){return J.indexedDB;};});a(B.uga).to(M.YMa).Z();a(A.ep).to(L.WEa).Z();a(c.Lfa).to(k.FLa).Z();a(b.yN).to(r.jLa).Z();a(p.ufa).to(n.kLa).Z();a(d.Iia).to(m.cHa).Z();a(p.Sea).to(n.nKa).Z();a(p.HY).to(n.lLa).Z();a(l.zda).to(y.dHa).Z();a(S.Yda).to(Q.AIa).Z();});},function(g,f,a){var d,h,m;function b(a){this.cmb=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(222);a=a(407);b.prototype.F8a=function(){var a,b;a={VI:h.Kw.cSa};b=this.cmb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.VI=b.value?h.Kw.Zha:h.Kw.Lca;if(a.VI===h.Kw.Lca){c=function(){b.value&&(a.VI=h.Kw.Zha);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.VI=h.Kw.Error;});return a;};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(a.$ha))],m);f.yJa=m;},function(g,f,a){var d,h,m;function b(a,b){this.Rwa=a;this.log=b.lb("MediaCapabilities");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(409);h=a(7);a=a(1);b.prototype.E4=function(a){var b,c,d;b=this;c={Qc:void 0};if(this.Rwa.Swa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,P:1E3*a.P,fS:"24"};this.Rwa.E4(d).then(function(a){return c.Qc=Object.assign({},a,d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};m=b;m=g.__decorate([a.N(),g.__param(0,a.l(d.nga)),g.__param(1,a.l(h.qb))],m);f.KMa=m;},function(g,f,a){var d,h;function b(a){this.navigator=a;this.Swa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(37);b.prototype.E4=function(a){return this.Swa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.P,framerate:a.fS}}).then(function(a){return{cKb:a.supported,Wqb:a.smooth,Jlb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=g.__decorate([d.N(),g.__param(0,d.l(a.OA))],h);f.JMa=h;},function(g,f,a){var d,h;function b(a,b,f,g){a=d.qm.call(this,a,b,f)||this;a.Lg=g;a.type=h.Oj.Cia;return a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(128);h=a(29);aa(b,d.qm);b.prototype.pJ=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Lg.hi.toString()});};f.LQa=b;},function(g,f,a){var d,h,m;function b(a,b,f,g,m,l){a=d.qm.call(this,a,b,f)||this;a.un=g;a.Do=m;a.Qa=l;a.type=h.Oj.qX;a.log=a.Do.lb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(128);h=a(29);m=a(3);aa(b,d.qm);b.prototype.Dq=function(a){switch(a){case h.Gh.hp:return this.csb;default:return Promise.resolve(!1);}};b.prototype.fD=function(){var a;a=this;return this.Dq(h.Gh.hp).then(function(a){return a?h.Gh.hp:void 0;}).then(function(b){return a.kI(b);});};b.prototype.j1=function(a){return this.Sv=a;};b.prototype.rM=function(){var a;if(this.Sv){a=this.bua&&this.cua&&this.bua.ie(this.cua).fa(m.ma);this.Sv.itshdcp=JSON.stringify({hdcp1:this.Cs,time1:a});}};oa.Object.defineProperties(b.prototype,{ek:{configurable:!0,enumerable:!0,get:function(){this.Uwa||(this.Uwa=this.un.lJ().then(function(a){return a.createMediaKeys();}));return this.Uwa;}},csb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.xba||(this.config().a7a?this.xba=this.ek.then(function(b){if(b&&b.getStatusForPolicy)return a.cua=a.Qa.Te,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.bua=a.Qa.Te;a.Cs=b;a.log.trace("hdcpStatus: "+a.Cs);return"usable"===a.Cs;});a.Cs="not available";a.log.trace("hdcpStatus: "+a.Cs);return!1;})["catch"](function(b){a.Cs="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Cs},b);return!1;}).then(function(b){a.rM();return b;}):(this.Cs="not enabled",this.log.trace("hdcpStatus: "+this.Cs),this.rM(),this.xba=Promise.resolve(!1)));return this.xba;}}});f.OGa=b;},function(g,f,a){var d,h,m,c,k,l,p,n,r,y,L,A,B,M,S,Q,D,E,F;function b(a,b,c,d,f,g,k){a=h.qm.call(this,a,b,c)||this;a.ka=d;a.Qa=f;a.Do=g;a.me=k;a.type=m.Oj.Tw;a.wF="hvc1";a.jGa="avc1";a.Pya={};a.log=a.Do.lb("MicrosoftVideoCapabilityDetector");a.lF[m.kd.Tq]=n.Hd.HF;a.frb();a.UL&&a.config().Chb?a.z6a=a.Z3a():(a.z6a=Promise.resolve(""),a.config().Ehb?a.c4a():a.config().Dhb&&a.b4a());return a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(66);h=a(128);m=a(29);g=a(97);c=a(136);k=a(102);l=a(3);p=a(233);n=a(129);r=a(223);y="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");L="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");A="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");B="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");M="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");S="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");Q=["hdcp=1"];D=["hdcp=2"];E=new g.cx();F=new p.gX();aa(b,h.qm);b.prototype.Dq=function(a){switch(a){case m.Gh.hp:return this.vCa();case m.Gh.Nw:return this.TK;default:return Promise.resolve(!1);}};b.prototype.cD=function(){return this.UL?this.ndb?this.vCa().then(function(a){return Promise.resolve(a?c.ib.jd:c.ib.kG);}):Promise.resolve(c.ib.kG):this.dsb?Promise.resolve(c.ib.kG):Promise.resolve(c.ib.lp);};b.prototype.VL=function(){return this.bsb();};b.prototype.XL=function(){return this.UL&&this.xCa()?this.TK:Promise.resolve(!1);};b.prototype.TL=function(){return this.$rb();};b.prototype.j1=function(a){this.Sv=a;Object.assign(this.Sv,this.Pya);a.itshwdrm=this.UL;a.itsqhd=this.wCa();a.itshevc=this.xCa();a.itshdr=this.VL();a.itsdv=this.TL();return a;};b.prototype.uH=function(a,b){(this.Sv?this.Sv:this.Pya)[a]=b;};b.prototype.fD=function(){var a;a=this;return this.Dq(m.Gh.Nw).then(function(b){return b?a.kI(m.Gh.Nw):a.Dq(m.Gh.hp).then(function(b){return b?a.kI(m.Gh.hp):a.kI(void 0);});});};b.prototype.pJ=function(){return this.cD().then(function(a){return a===c.ib.jd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.F4=function(a){var b;b=this;return a.filter(function(a){var d,g;for(var d=P(b.sq),f=d.next();!f.done;f=d.next())if(f.value.test(a))return!0;d=P(b.fl);for(f=d.next();!f.done;f=d.next())if(f.value.test(a))return!1;a=b.v$[a];d=[];g=c.ib.lp;if(a)return b.is.Bi(a)?f=a:(d=a.bd,f=a.ze,g=a.Be),b.Cu(g,f,d);});};b.prototype.Vx=function(){var a;a=h.qm.prototype.Vx.call(this);a[d.ca.uG]="vp09.00.11.08.02";a[d.ca.vG]="vp09.00.11.08.02";a[d.ca.wG]="vp09.00.11.08.02";a[d.ca.eY]={ze:"hev1.2.6.L90.B0",Be:c.ib.jd,bd:y};a[d.ca.hY]={ze:"hev1.2.6.L93.B0",Be:c.ib.jd,bd:y};a[d.ca.kY]={ze:"hev1.2.6.L120.B0",Be:c.ib.jd,bd:y};a[d.ca.nY]={ze:"hev1.2.6.L123.B0",Be:c.ib.jd,bd:y};a[d.ca.KF]={ze:"hev1.2.6.L150.B0",Be:c.ib.jd,bd:y};a[d.ca.LF]={ze:"hev1.2.6.L153.B0",Be:c.ib.jd,bd:y};a[d.ca.fY]={ze:"hev1.2.6.L90.B0",Be:c.ib.jd,bd:y};a[d.ca.iY]={ze:"hev1.2.6.L93.B0",Be:c.ib.jd,bd:y};a[d.ca.lY]={ze:"hev1.2.6.L120.B0",Be:c.ib.jd,bd:y};a[d.ca.oY]={ze:"hev1.2.6.L123.B0",Be:c.ib.jd,bd:y};a[d.ca.pY]={ze:"hev1.2.6.L150.B0",Be:c.ib.jd,bd:y};a[d.ca.qY]={ze:"hev1.2.6.L153.B0",Be:c.ib.jd,bd:y};a[d.ca.nN]={ze:"hev1.2.6.L90.B0",Be:c.ib.jd,bd:A};a[d.ca.oN]={ze:"hev1.2.6.L93.B0",Be:c.ib.jd,bd:A};a[d.ca.pN]={ze:"hev1.2.6.L120.B0",Be:c.ib.jd,bd:A};a[d.ca.qN]={ze:"hev1.2.6.L123.B0",Be:c.ib.jd,bd:B};a[d.ca.$X]={ze:"hev1.2.6.L150.B0",Be:c.ib.jd,bd:B};a[d.ca.bY]={ze:"hev1.2.6.L153.B0",Be:c.ib.jd,bd:B};a[d.ca.ZM]={ze:"hev1.2.6.L90.B0",Be:c.ib.jd,bd:M};a[d.ca.$M]={ze:"hev1.2.6.L93.B0",Be:c.ib.jd,bd:M};a[d.ca.aN]={ze:"hev1.2.6.L120.B0",Be:c.ib.jd,bd:M};a[d.ca.bN]={ze:"hev1.2.6.L123.B0",Be:c.ib.jd,bd:S};a[d.ca.cN]={ze:"hev1.2.6.L150.B0",Be:c.ib.jd,bd:S};a[d.ca.zX]={ze:"hev1.2.6.L153.B0",Be:c.ib.jd,bd:S};return a;};b.prototype.Cu=function(a,b,c){a=r.Uw.PQ(a,b,c);return this.cs(a);};b.prototype.wCa=function(){return this.Cu(c.ib.jd,this.wF,y);};b.prototype.bsb=function(){return this.Cu(c.ib.jd,this.wF,A);};b.prototype.$rb=function(){return this.Cu(c.ib.jd,this.wF,M);};b.prototype.xCa=function(){return this.Cu(c.ib.jd,this.wF,L);};b.prototype.vCa=function(){var a;a=this;return this.TK.then(function(b){return b?Promise.resolve(b):a.xza;});};b.prototype.rM=function(){this.Sv&&(this.Sv.itshdcp=JSON.stringify({hdcp1:this.$ta,time1:this.OCa-this.iCa,hdcp2:this.aua,time2:this.PCa-this.jCa}));};b.prototype.frb=function(){var a;a=this;this.UL?(this.i$=new k.aj(),this.j$=new k.aj(),this.xza=k.Da.from(this.i$).iM().then(function(a){return"probably"===a;}),this.TK=k.Da.from(this.j$).iM().then(function(a){return"probably"===a;}),this.QBa(this.j$,this.config().Ghb),this.Yya(this.gab.bind(this),this.j$),this.TK.then(function(b){b||(a.QBa(a.i$,a.config().Fhb),a.Yya(a.fab.bind(a),a.i$));})):(this.xza=Promise.resolve(!0),this.TK=Promise.resolve(!1));};b.prototype.Yya=function(a,b){k.Da.jt(0,this.config().Hhb).map(function(){return a();}).HL(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).eM(k.Da.from(b)).iM();};b.prototype.QBa=function(a,b){this.ka.eg(l.Cb(b),function(){a.next("timeout");a.complete();});};b.prototype.fab=function(){var a;a=r.Uw.PQ(c.ib.kG,this.jGa,Q).split("|");this.$ta=r.Uw.wba(a[0],a[1]);this.OCa=this.Qa.Te.fa(l.ma);this.iCa=this.iCa||this.OCa;this.rM();return this.$ta;};b.prototype.gab=function(){var a;a=r.Uw.PQ(c.ib.jd,this.wF,D).split("|");this.aua=r.Uw.wba(a[0],a[1]);this.PCa=this.Qa.Te.fa(l.ma);this.jCa=this.jCa||this.PCa;this.rM();return this.aua;};b.prototype.Z3a=function(){var a;a=this;return this.g3(c.ib.jd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.uH("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.b4a=function(){var a;a=this;this.g3(c.ib.lp,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.me.decode(b));a.uH("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.uH("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.c4a=function(){var a;a=this;this.g3(c.ib.lp,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.me.decode(b));a.uH("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.uH("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.g3=function(a,b){var c;c=this;return new Promise(function(d,f){var q,n,t;function g(a){try{p(a.target,"Unexpectedly got an mskeyerror event: 0x"+F.eJ(a&&a.target&&a.target.error&&a.target.error.eKb||0,4));}catch(ja){p(a.target,ja);}}function h(a){p(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.z4(a.message,"PlayReadyKeyMessage","Challenge");m(a.target);d(b);}catch(Fa){p(a.target,Fa);}}function p(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});m(a);f(d);}function m(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);q&&q.cancel();}try{n=new Uint8Array(E.Hrb(b));t=new J.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);t.addEventListener("mskeymessage",k);t.addEventListener("mskeyadded",h);t.addEventListener("mskeyerror",g);q=c.ka.eg(l.Cb(1E3),function(){p(t,Error("timeout"));});}catch(sa){f(sa);}});};b.prototype.z4=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};oa.Object.defineProperties(b.prototype,{ndb:{configurable:!0,enumerable:!0,get:function(){return this.config().$6a&&(!this.config().Ihb||this.wCa());}},UL:{configurable:!0,enumerable:!0,get:function(){try{return this.cs(c.ib.jd);}catch(R){return!1;}}},dsb:{configurable:!0,enumerable:!0,get:function(){try{return this.cs(c.ib.kG);}catch(R){return!1;}}}});b.cF='video/mp4;codecs="{0},mp4a";';f.wMa=b;},function(g,f,a){var d,h,m,c,k;function b(a,b,f,g){a=c.BX.call(this,a,b)||this;a.is=f;a.platform=g;a.type=d.Aw.Tw;return a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(29);h=a(66);m=a(136);c=a(410);k=a(223);aa(b,c.BX);b.prototype.SL=function(){return this.config().II&&this.Cu(m.ib.lp,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.Vx=function(){var a;a={};a[h.Xi.rN]="mp4a.40.2";a[h.Xi.cY]="mp4a.40.5";this.config().i4&&(a[h.Xi.sN]="mp4a.40.2");"browser"===this.platform.iqa?this.config().II&&(a[h.Xi.XM]={ze:"avc1",Be:m.ib.lp,bd:["audio-endpoint-codec=DD+JOC"]},a[h.Xi.YM]={ze:"avc1",Be:m.ib.lp,bd:["audio-endpoint-codec=DD+JOC"]}):(this.config().g4&&(a[h.Xi.XM]="ec-3"),this.config().f4&&(a[h.Xi.tX]="ec-3"),this.config().II&&(a[h.Xi.YM]={ze:"avc1",Be:m.ib.lp,bd:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.F4=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=P(b.sq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=P(b.fl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.v$[a];c=[];f=m.ib.lp;if(a)return b.is.Bi(a)?d=a:(c=a.bd,d=a.ze,f=a.Be),b.Cu(f,d,c);});};b.prototype.Cu=function(a,b,c){a=k.Uw.PQ(a,b,c);return this.cs(a);};f.bNa=b;},function(g,f,a){var d,h,m,c,k,l,p,n,r,y,L,A,B,M,S,Q,D,E,F;function b(a,b,c,d,f,g,h,k,p,m,l){this.jva=a;this.cast=b;this.config=c;this.ka=d;this.Qa=f;this.is=g;this.un=h;this.Do=k;this.Lg=p;this.platform=m;this.me=l;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(29);m=a(225);c=a(163);k=a(224);l=a(830);p=a(829);n=a(128);r=a(410);y=a(30);L=a(42);A=a(21);B=a(828);M=a(118);S=a(7);Q=a(827);D=a(64);E=a(72);a=a(41);b.prototype.K3a=function(a){var b;b=this.jva.spa();switch(a){case h.Aw.Tw:return new l.bNa(this.config,b,this.is,this.platform);default:return new r.BX(this.config,b);}};b.prototype.w4a=function(a){var b;b=this.jva.spa();switch(a){case h.Oj.oX:a=new k.pda(this.config,b,this.is,this.cast);break;case h.Oj.qX:a=new B.OGa(this.config,b,this.is,this.un,this.Do,this.Qa);break;case h.Oj.Tw:a=new p.wMa(this.config,b,this.is,this.ka,this.Qa,this.Do,this.me);break;case h.Oj.Cia:a=new Q.LQa(this.config,b,this.is,this.Lg);break;default:a=new n.qm(this.config,b,this.is);}return a;};F=b;F=g.__decorate([d.N(),g.__param(0,d.l(m.Afa)),g.__param(1,d.l(k.pX)),g.__param(2,d.l(c.eN)),g.__param(3,d.l(y.mg)),g.__param(4,d.l(L.Jj)),g.__param(5,d.l(A.se)),g.__param(6,d.l(M.Sw)),g.__param(7,d.l(S.qb)),g.__param(8,d.l(D.Rn)),g.__param(9,d.l(E.kp)),g.__param(10,d.l(a.Ij))],F);f.EGa=F;},function(g,f,a){var d,h,m,c,k,l;function b(a,b,c){this.config=a;this.Upa=b;this.cast=c;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(225);m=a(163);c=a(29);k=a(224);l=a(223);b.prototype.spa=function(){switch(this.config().OW){case c.Oj.oX:return k.pda.b3(this.Upa,this.cast);case c.Oj.Tw:return l.Uw.b3(this.config);default:return this.Upa;}};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(m.eN)),g.__param(1,d.l(h.Fha)),g.__param(2,d.l(k.pX))],a);f.rLa=a;},function(g,f,a){var d,h,m,c,k,l,p,n;function b(a,b,d){this.hR=a;this.Ba=b;this.QE=d;this.cYa="video/mp4;codecs={0}";this.OSa="audio/mp4;codecs={0}";a=this.hR.pS(h.kd.Tq);this.bYa=c.Hd.vpa(a);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(29);m=a(1);c=a(129);k=a(21);l=a(231);p=a(413);n=a(9);b.prototype.mI=function(a){a=this.hR.jab(a);a=this.Ba.Kl(a)?a:h.kd.oG;return this.QE.format(this.cYa,this.bYa[a]);};b.prototype.gI=function(a){return 0===a.length?this.QE.format(this.OSa,c.Hd.XW):p.Vca[a[0].df]===d.JEa?n.Pw:n.cMa;};a=d=b;a.JEa="AAC";a=d=g.__decorate([m.N(),g.__param(0,m.l(h.DX)),g.__param(1,m.l(k.se)),g.__param(2,m.l(l.NZ))],a);f.$Qa=a;},function(g,f,a){var d,h,m,c,k,l;function b(a,b,c){this.config=a;this.qoa=b;this.jlb=c;this.rmb=this.o4a();}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(29);h=a(163);m=a(1);c=a(66);k=a(415);a=a(414);b.prototype.Mbb=function(){return this.lsa().zta();};b.prototype.Nbb=function(){return this.Tp().zta();};b.prototype.lsa=function(){this.J1&&this.J1.type==this.config().K1||(this.J1=this.qoa.K3a(this.config().K1));return this.J1;};b.prototype.Tp=function(){this.NW&&this.NW.type==this.config().OW||(this.NW=this.qoa.w4a(this.config().OW),this.NW.j1(this.jlb.Y$a()));return this.NW;};b.prototype.jab=function(a){var f;if(!a||!a.length)return d.kd.mN;a=this.V8a(a);for(var b=[d.kd.oG,d.kd.mN,d.kd.bO,d.kd.Xq,d.kd.Tq,d.kd.oA,d.kd.Qt,d.kd.Ch],c=b.length;c--;){f=b[c];if((0,this.rmb[f])(a))return f;}return d.kd.oG;};b.prototype.Dq=function(a){return this.Tp().Dq(a);};b.prototype.cs=function(a){return this.Tp().cs(a);};b.prototype.cD=function(){return this.Tp().cD();};b.prototype.VL=function(){return this.Tp().VL();};b.prototype.SL=function(){return this.lsa().SL();};b.prototype.TL=function(){return this.Tp().TL();};b.prototype.XL=function(){return this.Tp().XL();};b.prototype.pS=function(a){return this.Tp().pS(a);};b.prototype.fD=function(){return this.Tp().fD();};b.prototype.pJ=function(){return this.Tp().pJ();};b.prototype.V8a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.df]="";});return Object.keys(b);};b.prototype.o4a=function(){var a;a={};a[d.kd.Ch]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[d.kd.oA]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[d.kd.Qt]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[d.kd.Tq]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[d.kd.Xq]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[d.kd.bO]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[d.kd.mN]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=P(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[c.ca.lN]);a[d.kd.oG]=function(){return!0;};return a;};l=b;l=g.__decorate([m.N(),g.__param(0,m.l(h.eN)),g.__param(1,m.l(a.nda)),g.__param(2,m.l(k.xea))],l);f.tIa=l;},function(g,f,a){var b,d,h,m,c,k,l,p,n,r,y,L,A,B,M,S,Q,D,E,F;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(29);d=a(17);h=a(834);m=a(163);c=a(113);k=a(833);l=a(225);p=a(832);n=a(415);r=a(414);y=a(831);L=a(224);A=a(8);B=a(409);M=a(826);S=a(408);Q=a(825);D=a(222);E=a(824);F=a(407);f.hR=new g.Yb(function(a){a(c.VA).to(k.$Qa).Z();a(b.DX).to(h.tIa).Z();a(l.Afa).to(p.rLa).Z();a(r.nda).to(y.EGa).Z();a(l.Fha).Bh({isTypeSupported:A.LA&&A.LA.isTypeSupported});a(L.pX).Bh("undefined"!==typeof cast?cast:null);a(n.xea).bA(function(){return{Y$a:function(){return J._cad_global.platformExtraInfo;}};});a(m.eN).bA(function(a){return a.bc.get(d.gd);});a(B.nga).to(M.JMa).Z();a(S.mga).to(Q.KMa).Z();a(D.wea).to(E.yJa).Z();a(F.$ha).Bh(J);});},function(g,f,a){function b(a){this.r6a=void 0===a?10:a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b=g.__decorate([a.N()],b);f.xRa=b;},function(g,f,a){var d,h;function b(a){this.Tsb=a;this.sW={};}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(226);b.prototype.o$a=function(){var a,b,d;a=[];for(b in this.sW){d=this.sW[b];a.push({Eu:Number(b),Xz:d.Uk().Xz,X3:d.Uk().X3});}return a;};b.prototype.YP=function(a){var b,d;b=a.Eu;d=this.sW[b];d||(d=this.Tsb(),this.sW[b]=d);d.YP(a);};h=b;h=g.__decorate([d.N(),g.__param(0,d.l(a.RZ))],h);f.LGa=h;},function(g,f,a){var d,h,m,c;function b(a){this.config=a;this.fba=h.Cf;this.KE=[];}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(35);m=a(3);a=a(417);b.prototype.Uk=function(){var b;for(var a;0<this.KE.length;)a=this.KE.shift(),this.Fma(a);a=void 0===this.EI||void 0===this.Yx?m.Cf:this.Yx.ie(this.EI);b=a.mva()?0:this.fba.fa(h.qA)/a.fa(m.ma);return{Xz:Math.floor(b),X3:a.fa(m.ma)};};b.prototype.YP=function(a){this.fba=this.fba.add(a.size);this.KE.push(a.q6a);for(this.KE.sort(function(a,b){return a.start.Pk(b.start);});this.KE.length>this.config.r6a;)a=this.KE.shift(),this.Fma(a);};b.prototype.Fma=function(a){void 0===this.EI&&(this.EI=a.start);void 0!==this.Yx&&0>this.Yx.Pk(a.start)&&(this.EI=this.EI.add(a.start.ie(this.Yx)));if(void 0===this.Yx||0>this.Yx.Pk(a.end))this.Yx=a.end;};c=b;c=g.__decorate([d.N(),g.__param(0,d.l(a.Via))],c);f.yRa=c;},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(838);d=a(837);h=a(836);m=a(416);c=a(417);k=a(226);f.Yz=new g.Yb(function(a){a(k.Wia).to(b.yRa);a(m.qda).to(d.LGa).Z();a(c.Via).Bh(new h.xRa());a(k.RZ).Qf(function(a){return function(){return a.bc.get(k.Wia);};});});},function(g,f,a){var d,h,m,c,k,l;function b(a,b,c,d,f,g,k,m,l,q,n,t,r,D,F,J){var p;p=this;this.Td=a;this.Ba=b;this.ya=c;this.Hb=f;this.Io=k;this.bI=m;this.rYa=l;this.config=q;this.Ze=t;this.M=r;this.j=n.create(r,D,F);this.j.background=!0;this.j.Ia=J;this.log=d.lb("VideoPlayer",this.j);this.Gya=[];this.ended=!1;this.FM();this.j.state.addListener(function(a){a.newValue===h.jb.Yc&&p.Dd(h.rb.s7,{movieId:r});});this.j.Xa.$f&&(this.aC=g.L3a(this,this.j,this.Ze),this.j.addEventListener(h.S.uL,function(a){p.Dd(h.rb.opb,{segmentId:a.segmentId});}));}Object.defineProperty(f,"__esModule",{value:!0});d=a(2);h=a(15);m=a(3);c=a(8);k=a(76);l=a(18);b.prototype.isReady=function(){return this.j.state.value===h.jb.Yc;};b.prototype.Nab=function(){return this.j.M;};b.prototype.m6=function(){return this.j.oa;};b.prototype.oy=function(){return this.j.Ug;};b.prototype.Ey=function(){return this.j.qq.value;};b.prototype.oeb=function(){return this.j.paused.value;};b.prototype.eeb=function(){return this.ended;};b.prototype.nj=function(){var a;a=this.j.f2.value;return a?{networkStalled:!!a.dW,stalled:!!a.dW,progress:a.Qi,progressRollback:!!a.umb}:null;};b.prototype.getError=function(){var a;a=this.j.Xh;return a?a.Pba():null;};b.prototype.g$a=function(){var a;a=(this.s5()||0)+this.j.qsa();return Math.min(a,this.r5());};b.prototype.s5=function(){return this.j.py();};b.prototype.r5=function(){return this.j.Tx.fa(m.ma);};b.prototype.hcb=function(){return this.j.jF?{width:this.j.jF.width,height:this.j.jF.height}:null;};b.prototype.v$a=function(){var f;if(this.j.Kq){for(var a,b=0;b<this.j.Kq.length;b++)for(var c=this.j.Kq[b],d=0;d<c.mc.length;d++){f=c.mc[d];this.Ba.Uf(f.y4a)&&this.Ba.Uf(f.zpa)&&this.Ba.Uf(f.ypa)&&this.Ba.Uf(f.xpa)&&0<f.zpa&&(f=f.xpa/f.ypa,a=this.Ba.Uf(a)?Math.min(a,f):f);}return a;}};b.prototype.G$a=function(){var a;a=this;return{addEventListener:this.j.M3.addEventListener,removeEventListener:this.j.M3.removeEventListener,getModel:function(){return a.j.M3.mIb;},getTime:function(){return a.ya.cc().fa(m.ma);},getGroups:function(){var b;b=a.j.RU;return b?b.eab():[];}};};b.prototype.U9a=function(){var a;a=this;return this.j.Om?this.j.Om.map(function(b){return a.sy(b);}).filter(function(a){return null!==a;}):[];};b.prototype.Cta=function(a){var b,c;b=this;c=a&&this.j.Om.find(function(c){return b.sy(c)===a;})||this.j.Lc.value;return null===c?[]:c.Gj.map(function(a){return b.sy(a);}).filter(function(a){return null!==a;});};b.prototype.neb=function(){return this.j.muted.value;};b.prototype.jcb=function(){return this.j.volume.value;};b.prototype.T9a=function(){return this.sy(this.j.Lc.value);};b.prototype.Bta=function(){return this.sy(this.j.uc.value);};b.prototype.aeb=function(){return!!this.j.background;};b.prototype.bqb=function(a){this.j.muted.set(!!a);};b.prototype.qqb=function(a){this.j.volume.set(this.Uxa(a,1));};b.prototype.fqb=function(a){this.j.playbackRate.set(this.Uxa(a,2));};b.prototype.Opb=function(a){var b,c;b=this;c=this.j.Om.find(function(c){return b.sy(c)===a;});c?this.j.Lc.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.KBa=function(a){var d;if(null!==this.j.Lc.value){for(var b=this.j.Lc.value.Gj,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.uc.set(null);return;}if(this.sy(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.uc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.wBa=function(a){this.j.background=a;};b.prototype.LL=function(){this.j.LL();};b.prototype.addEventListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.Xv=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Dd(h.rb.Xfb,void 0,!0);b.Ia&&(b.Ia.watermarkInfo&&a.Dd(h.rb.Xub,b.Ia.watermarkInfo,!0),b.Ia.choiceMap&&a.Dd(h.rb.npb,{segmentMap:b.Ia.choiceMap},!0));c({X:!0});}catch(y){c({Y:d.G.$g,Ra:a.Td.qd(y)});}}));};b.prototype.close=function(a){var b;b=this;this.Ioa||(this.Ioa=new Promise(function(c){a?b.j.pd(a,c):b.j.close(c);}));return this.Ioa;};b.prototype.play=function(){this.j.jj?this.j.fireEvent(h.S.PAa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.S.WDa)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.S.zub));};b.prototype.seek=function(a,b,c,d){this.j.vg?this.j.vg.seek(a,b,c,d):this.j.Mx=a;};b.prototype.olb=function(a){return this.aC?(this.log.trace("Playing a segment",a),this.aC.play(a)):Promise.resolve();};b.prototype.Mmb=function(a){return this.aC?(this.log.trace("Queueing a segment",a),this.aC.ei(a)):Promise.resolve();};b.prototype.Iq=function(a,b){return this.aC?(this.log.trace("Updating next segment weights",a,b),this.aC.Iq(a,b)):Promise.resolve();};b.prototype.oM=function(){this.j.oM();};b.prototype.DS=function(){var a;a=this.j.Ln.DS();return{bounds:a.RH,margins:a.sn,size:a.size,visibility:a.visibility};};b.prototype.DL=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.hM&&(b&&this.j.hM.Taa(b),c&&this.j.hM.Uaa(c),"boolean"===typeof a&&this.j.hM.Vaa(a));this.j.Ln&&d&&this.j.Ln.lqb(d);};b.prototype.MBa=function(a){this.j.Yo=a;};b.prototype.Ybb=function(a){return this.j.mt&&this.j.mt.cab(a)||null;};b.prototype.O9a=function(){return this.Td.fk({playerver:this.config.version,jssid:this.config.Meb,groupName:this.config.config.hv,xid:this.j.oa,pbi:this.j.index},this.config.klb,{prefix:"pi_"});};b.prototype.Gdb=function(a){this.j.pd(this.Ze(d.I.eJa,d.G.bj,a));};b.prototype.Jfb=function(a,b,c){if(!this.Ba.gna(a))throw Error("invalid url");this.Gya.push({url:a,name:b,d_a:c});this.tza();};b.prototype.uta=function(){var a,b,c,d,f,g,h,k;a={};b=this.j.gW;try{if(this.j.Xh&&(a.errorCode=this.j.Xh.kR,a.errorType=b?"endplay":"startplay"),a.playdelay=l.Ql(this.j.noa()),a.xid=this.j.oa,this.j.Ia&&this.Ba.Bi(this.j.Ia.packageId)&&(a.packageId=Number(this.j.Ia.packageId)),a.auth=this.j.W9a(),a.hdr=this.j.qab(),b){a.totaltime=this.j.cl?this.iy(this.j.cl.qJ()):0;a.abrdel=this.j.cl?this.j.cl.msa():0;c=this.j.vg;d=c?c.ny():null;this.Ba.Uf(d)&&(a.totdfr=d);d=c?c.hJ():null;this.Ba.Uf(d)&&(a.totcfr=d);f=c?c.rab():null;f&&(a.rbfrs_decoder=f.o5a,a.rbfrs_network=f.Dib);a.rbfrs_delay=this.j.cl?this.j.cl.j7:0;a.init_vbr=this.j.eT;g=this.xS();this.Ba.Kl(g)&&(a.pdltime=g);h=this.j.Je.value;k=h&&h.stream;k&&(a.vbr=k.P,a.vdlid=k.Rc);a.bufferedTime=this.j.qsa();}}catch(S){this.log.error("error capturing session summary",S);}return a;};b.prototype.NI=function(a){var b,c,d;b=this;if(this.Ba.Uf(this.j.Ob.value)){c=Object.assign({},this.Io.create(this.j),{action:a});d=this.bI(k.ol.NI);return this.rYa().then(function(a){return d.en(b.log,a.profile,b.j.Ia.tf,c);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Gc,errorExternalCode:a.sg,errorData:a.data,errorDetails:a.yC};});}return Promise.resolve({success:!1});};b.prototype.sy=function(a){var b;if(null!==a){b=a.Dmb=a.Dmb||{trackId:a.fb,bcp47:a.Wj,displayName:a.displayName,trackType:a.Ui,channels:a.Nk};a.Yp&&(b.isImageBased=!0);this.reb(a)&&(b.isNative=a.isNative);this.seb(a)&&(b.isNoneTrack=a.RJ(),b.isForcedNarrative=a.lT());return b;}return null;};b.prototype.reb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.seb=function(a){return"undefined"!==typeof a.RJ&&"undefined"!==typeof a.lT;};b.prototype.Uxa=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.iy=function(a){return this.Ba.Uf(a)?(a/1E3).toFixed(0):"";};b.prototype.Dd=function(a,b,c){b=b||{};b.target=this;this.Hb.Ib(a,b,!c);};b.prototype.FM=function(){var a;a=this;this.j.addEventListener(h.S.Fba,function(){a.Dd(h.rb.Ym);});this.j.addEventListener(h.S.WT,function(){a.Dd(h.rb.boa);});this.j.addEventListener(h.S.Bn,function(){a.Dd(h.rb.boa);});this.j.addEventListener(h.S.nD,function(b){a.Dd(h.rb.nD,{errorCode:b});});this.j.addEventListener(h.S.N1,function(b){a.Dd(h.rb.e_a,b.j);});this.j.addEventListener(h.S.jj,function(b){a.Dd(h.rb.f_a,b);});this.j.qq.addListener(function(){a.Dd(h.rb.Dlb);});this.j.paused.addListener(function(){a.Dd(h.rb.Kkb);});this.j.muted.addListener(function(){a.Dd(h.rb.vib);});this.j.volume.addListener(function(){a.Dd(h.rb.Sub);});this.j.jc.addListener(function(){a.DDa();});this.j.state.addListener(function(){a.DDa();});this.j.f2.addListener(function(b){a.Ufb||a.j.state.value!=h.jb.Yc||b.newValue||(a.Ufb=!0,a.Dd(h.rb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.uta());}));a.Dd(h.rb.g2);});this.j.Lc.addListener(function(b){a.Dd(h.rb.HH);b.oldValue&&b.newValue&&b.oldValue.Gj==b.newValue.Gj||a.Dd(h.rb.$z);setTimeout(function(){var b;if(null!==a.j.Lc.value&&null!==a.j.uc.value){b=a.j.Lc.value.Gj;0<=b.indexOf(a.j.uc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.uc.set(b[0]));}},0);});this.j.uc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.fb==b.newValue.fb||a.Dd(h.rb.YE);});this.j.addEventListener(h.S.$z,function(){a.Dd(h.rb.$z);});this.j.addEventListener(h.S.mM,function(){a.Dd(h.rb.mM);});this.j.state.addListener(function(b){switch(b.newValue){case h.jb.Yc:a.Dd(h.rb.M6a);a.Dd(h.rb.Oub);a.Dd(h.rb.Gna);a.Dd(h.rb.$z);a.Dd(h.rb.Wfb);a.tza();a.bvb();break;case h.jb.CLOSING:a.j.Xh&&a.Dd(h.rb.error,a.j.Xh.Pba());break;case h.jb.CLOSED:a.Dd(h.rb.closed),a.Hb.EC();}});};b.prototype.bvb=function(){var a;a=this;this.j.Ln.addEventListener("showsubtitle",function(b){a.Dd(h.rb.Mqb,b,!0);});this.j.Ln.addEventListener("removesubtitle",function(b){a.Dd(h.rb.Rnb,b,!0);});};b.prototype.tza=function(){if(this.j.state.value==h.jb.Yc){for(var a,b,c;b=this.Gya.shift();)a=this.j.Ln.i1(b.url,b.name),b.d_a&&(c=a);c&&this.j.uc.set(c);}};b.prototype.DDa=function(){var a;a=this.j.state.value==h.jb.Yc&&this.j.jc.value==h.nb.Vq;this.ended!==a&&(this.ended=a,this.Dd(h.rb.T7a));};b.prototype.xS=function(){var a,b;try{a=/playercore.*js/;b=c.ar.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(z){}};f.nLa=b;},function(g,f,a){var d,h,m,c,k,l,p,n,r,y,L,A;function b(a){this.Uc=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(247);m=a(22);c=a(21);k=a(23);l=a(7);p=a(70);n=a(229);r=a(840);y=a(227);L=a(76);A=a(65);b.prototype.l4a=function(a,b,d,f,g,h,q){return new r.nLa(this.Uc.get(m.af),this.Uc.get(c.se),this.Uc.get(k.Me),this.Uc.get(l.qb),this.Uc.get(p.jN),this.Uc.get(n.IZ),this.Uc.get(y.rZ),this.Uc.get(L.MX),this.Uc.get(A.Rq),a,b,d,f,g,h,q);};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.vfa))],a);f.jSa=a;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(418);d=a(841);f.Mub=new g.Yb(function(a){a(b.nja).to(d.jSa).Z();});},function(g,f,a){var d,h;function b(a){this.config=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(17);b.prototype.uza=function(a,b,d){var c;if(this.config().zpb){c=a.metrics;d||(void 0===c?b.aq.transition({isBranching:b.Xa.$f||void 0,isPlaygraph:a.playlistSegment||void 0,srcxid:b.oa,srcmid:b.M,segment:a.segmentId,dataerror:"missingMetrics"}):b.aq.transition({isBranching:b.Xa.$f||void 0,isPlaygraph:a.playlistSegment||void 0,srcxid:b.oa,srcmid:b.M,segment:a.segmentId,srcsegment:c.srcsegment,srcsegmentduration:c.srcsegmentduration,srcoffset:c.srcoffset,seamlessRequested:c.seamlessRequested,transitionType:c.transitionType,delayToTransition:c.delayToTransition,durationOfTransition:c.durationOfTransition,atRequest:c.atRequest,atTransition:c.atTransition,discard:c.discard}));}};h=b;h=g.__decorate([d.N(),g.__param(0,d.l(a.gd))],h);f.NRa=h;},function(g,f,a){var h;function b(){}function d(a,b,d,f,g){this.debug=a;this.version=b;this.Meb=d;this.klb=f;this.config=g;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);d.prototype.k5=function(){return this.config.Una;};d.prototype.lta=function(){return this.config.Flb;};b.prototype.Zu=function(a,b,f,g,h){return new d(a,b,f,g,h);};h=b;h=g.__decorate([a.N()],h);f.TQa=h;},function(g,f,a){var m,c,k,l;function b(a,b,c,d,f,g,h,m,l){var p;p=this;this.ja=b;this.j=c;this.UD=d;this.Jv=f;this.ka=g;this.fQ=h;this.Ze=m;this.dA=l;this.Az=function(){p.mq&&(p.mq.closed||p.mq.unsubscribe(),p.mq=void 0);};this.log=a.lb("SegmentManager",this.j);this.he=new Map();this.Sua=!0;this.j.Xa.$f&&(this.j.addEventListener(k.S.uL,function(a){return p.Pjb(a);}),this.j.addEventListener(k.S.closed,this.Az));}function d(a,b){this.id=a;this.w2=b;}function h(a,b,d,f){return c.Oc.call(this,a,d,void 0,void 0,void 0,b,void 0,f)||this;}Object.defineProperty(f,"__esModule",{value:!0});m=a(2);c=a(55);k=a(15);l=a(3);aa(h,c.Oc);h.prototype.toString=function(){return this.code+"-"+this.Gc+" : "+this.message+"\n"+JSON.stringify(this.data);};d.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.hm,contentEndPts:this.NC};};oa.Object.defineProperties(d.prototype,{hm:{configurable:!0,enumerable:!0,get:function(){return this.w2.startTimeMs;}},NC:{configurable:!0,enumerable:!0,get:function(){return this.w2.endTimeMs;}},Hib:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.w2.next);}}});b.prototype.Pjb=function(a){var b,c;b=this;if(0===this.he.size){c=this.j.oS();Object.keys(c).forEach(function(a){b.he.set(a,new d(a,c[a]));});}this.ha=this.he.get(a.segmentId);this.dA.uza(a,this.j,this.Sua);this.Sua=!1;};b.prototype.play=function(a){this.wz&&(this.wz=void 0);this.Az();this.log.trace("Playing segment",a);return this.Yua(a)?this.nlb(a):this.QU(a);};b.prototype.ei=function(a){this.log.trace("Queueing segment",a);return this.Yua(a)?this.Lmb(a):this.Nmb(a);};b.prototype.Iq=function(a,b){var c,d;c=this;d=this.j.ob;if(!d)return Promise.reject(this.getError(m.I.Yca,"ASE session manager is not yet initialized",m.G.fX,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.eca(a,b);c.j.fireEvent(k.S.Iq,{ii:a,cub:b});f();}catch(B){g(c.getError(m.I.Yca,"updateNextSegmentWeights threw an exception",m.G.CFa,{segmentId:a,updates:b,error:B}));}});};b.prototype.Yua=function(a){return this.ha?void 0!==this.j.oS()[this.ha.id].next[a]:!1;};b.prototype.mta=function(){if(this.j.ob)return this.j.ob.T5().ce;};b.prototype.hbb=function(){if(this.j.ob)return this.j.ob.T5().id;};b.prototype.q$a=function(a){if(this.j.ob)return(a=this.j.ob.p5(a))&&a.Pc;};b.prototype.nlb=function(a){var b,c,d;b=this;c=this.j.ob;if(!c)return Promise.reject(this.getError(m.I.uF,"ASE session manager is not yet initialized",m.G.fX,{id:a}));if(this.ha&&1===this.ha.Hib.length)return this.QU(a);if(!this.j.vg)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(m.I.uF,"MediaPresenter is not initialized",m.G.zFa,{id:a}));d=this.q$a(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.QU(a)):new Promise(function(f,g){var t,u,r,z,y,A;function h(){!r&&u&&t&&(A.cancel(),r=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:u,repositioned:t,completed:r}),c.Fu(a,!1,!0)?(f(),r=!0):(r=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.QU(a).then(f)["catch"](g)));}function p(){t=!0;b.log.trace("Player is repositioned",{id:a,stopped:u,repositioned:t,completed:r});b.j.removeEventListener(k.S.Bn,p);h();}function q(){b.j.removeEventListener(k.S.Cz,q);c.stop();}function n(){u=!0;b.log.trace("ASE is stopped",{id:a,stopped:u,repositioned:t,completed:r});c.removeEventListener("stop",n);h();}t=!1;u=!1;r=!1;z=b.he.get(a);y=z.hm+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:y,currentSegment:b.ha,nextSegment:z},null,"  "));b.j.fireEvent(k.S.tU,{Th:b.ha&&b.ha.id,uU:a});c.addEventListener("stop",n);b.j.addEventListener(k.S.Cz,q);b.j.addEventListener(k.S.Bn,p);A=b.ka.eg(l.Ag(10),function(){r=!0;A.cancel();g(b.getError(m.I.uF,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.G.yFa,{id:a,stopped:u,repositioned:t,completed:r}));});b.ja.seek(y,k.jg.UA);});};b.prototype.QU=function(a){var b;b=this.he.get(a);return b?this.fBa(b,m.I.uF):Promise.reject(this.getError(m.I.uF,"Unable to find the separated segment",m.G.Xca,{id:a}));};b.prototype.Lmb=function(a){var b;b=this.j.ob;if(!b)return Promise.reject(this.getError(m.I.Bw,"ASE session manager is not yet initialized",m.G.fX,{id:a}));if(b.Fu(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(m.I.Bw,"ASE chooseNextSegment failed",m.G.vFa,{id:a}));};b.prototype.Nmb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.M,srcsegment:this.hbb()});if(this.wz)return Promise.reject(this.getError(m.I.Bw,"Unable to queue a non-next segment because there is currently already a segment queued",m.G.BFa,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.wz.id,failedSegment:a}));if(!this.ha)return Promise.reject(this.getError(m.I.Bw,"Unable to queue a non-next segment because there is no currently playing segment",m.G.wFa,{nextSegmentid:a}));c=this.he.get(a);if(!c)return Promise.reject(this.getError(m.I.Bw,"Unable to find the separated segment",m.G.Xca,{nextSegmentid:a,currentSegmentId:this.ha.id}));this.wz={id:a,lE:new Promise(function(d,f){var g,h;g=b.UD.qpa({lta:function(){return 100;}},function(){return b.ja.j.Ob.value||0;});h=b.mta()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});g.Oma(b.Jv.ppa(a+":lastPts",h));b.mq=g.observe().subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.ha.id,playerEndPts:b.mta(),pts:h});b.wz=void 0;b.Az();b.fBa(c,m.I.Bw).then(d)["catch"](f);},function(c){b.wz=void 0;b.Az();f(b.getError(m.I.Bw,"ASE session manager is not yet initialized",m.G.xFa,{id:a,error:c}));});})};this.wz.lE["catch"](function(a){b.j.pd(b.Ze(a.code,a));});return Promise.resolve();};b.prototype.fBa=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.ja.seek(a.hm,k.jg.$w);d();}catch(A){f(c.getError(b,"Seek threw an exception",m.G.AFa,{id:a.id,error:A}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};f.XFa=b;},function(g,f,a){var c,k,l;function b(a,b,d,f,g,h,m,l,q){var p;p=this;this.ya=a;this.Jv=d;this.UD=f;this.e$=g;this.config=h;this.Ze=m;this.MK=l;this.h8a=Object.keys(k.rb).map(function(a){return{event:k.rb[a],jv:function(b){return p.Hb.Ib(k.rb[a],b);}};});this.Hb=q.create();this.ew=[];this.log=b.lb("SegmentManager");new c.aj();this.P4=!0;}function d(a,b,d,f,g,k,l,q,n){var p;p=this;this.log=a;this.config=b;this.njb=d;this.Jv=f;this.e$=g;this.Ze=k;this.MK=l;this.yq=q;this.xa=n;this.Az=function(){p.mq&&(p.mq.closed||p.mq.unsubscribe(),p.mq=void 0);};this.t6=function(a){p.log.trace("Received the transition event",{movieId:a.M});p.Zmb(m(p.xa));};this.log.debug("Constructing session data",h(n));this.U7=new c.aj();this.Isb=new Promise(function(a){p.Zmb=a;});}function h(a){return{movieId:a.M};}function m(a){return JSON.stringify({movieId:a.M,startPts:a.U,endPts:a.ba,params:a.ab?{trackingId:a.ab.Xg,authParams:a.ab.IH,sessionParams:a.ab.fm,disableTrackStickiness:a.ab.Q3,uiPlayStartTime:a.ab.yW,loadImmediately:a.ab.ET,playbackState:a.ab.playbackState?{currentTime:a.ab.playbackState.currentTime,volume:a.ab.playbackState.volume,muted:a.ab.playbackState.muted}:void 0,pin:a.ab.Y9,heartbeatCooldown:a.ab.A6,uiLabel:a.ab.pe}:void 0});}Object.defineProperty(f,"__esModule",{value:!0});c=a(102);k=a(15);l=a(3);d.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",h(this.xa));this.ja=this.e$.l4a(this.config,this.MK,this.Ze,this.xa.M,this.xa.dl,this.xa.ab,this.xa.LT);this.ja.addEventListener(k.rb.nD,function(a){b.log.trace("Segment is inactive",h(b.xa));b.yq.close(b.Ze(a.errorCode));});this.ja.addEventListener(k.rb.closed,this.Az);if(a)this.log.debug("Pausing background segment",h(this.xa)),this.ja.addEventListener(k.rb.s7,this.t6),this.ja.pause();else{c=function(a){b.t6(a);b.ja.removeEventListener(k.rb.loaded,c);};this.ja.addEventListener(k.rb.loaded,c);}};d.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",m(this.xa));if(this.mq)this.log.trace("Segment is currently observing",h(this.xa));else if(this.xa.ab&&this.xa.ab.ET)this.U7.next(this);else{b=this.njb.qpa(this.config,function(){var b;if(a.ja){b=a.ja.j.Ob.value;if(b)return b;}return 0;});c=this.Jv.ppa("LOAD",this.p0a(this.xa));this.log.trace("Adding a moment to watch",{name:c.name,time:c.time});b.Oma(c);this.mq=b.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",h(a.xa));a.U7.next(a);a.Az();});}};d.prototype.close=function(a){this.log.info("Closing segment",{segment:m(this.xa),error:a});return this.ja?(this.ja.removeEventListener(k.rb.s7,this.t6),this.ja.close(a)):Promise.resolve();};d.prototype.p0a=function(a){var b,c;b=a.ba;a=a.ab?a.ab.ET:!1;c=0;b&&!a&&(c=b-this.config.config.Qva,c<this.config.config.twa&&(c=b-(b-this.config.config.twa)/2));return c;};b.prototype.yS=function(){return this.Yd&&this.Yd.ja?this.Yd.ja.isReady():!1;};b.prototype.Sl=function(){if(!this.Yd||!this.Yd.ja)throw Error("Player not ready");return this.Yd.ja;};b.prototype.l1=function(a){this.log.info("Adding segment",m(a));this.P4?(this.log.trace("First segment, loading",h(a)),a=this.Pva(a),this.P4=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.sob(a));return a?a.Isb:null;};b.prototype.transition=function(a){var b;if(this.Ms&&this.Ms.ja){b=this.Ms;this.Ms=void 0;this.log.info("Transitioning segment",m(b.xa));b&&b.ja&&b.ja.MBa(this.ya.cc().fa(l.ma));return this.jDa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.Yd.xa)),nextSession:this.Ms?JSON.stringify(h(this.Ms.xa)):void 0});c=[this.Yd.close(a)];this.Ms&&c.push(this.Ms.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.Ms=void 0;b.ew=[];b.P4=!0;a();})["catch"](d);});};b.prototype.addListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.Pva=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.Yd&&(this.config.k5()[a.M]=a.U);c=this.T8a(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.U7.subscribe(function(a){b.Bsb(a);});this.Yd?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.Ms=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.jDa(c));return c;};b.prototype.jDa=function(a,b){var c,d,f;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.xa));c=this.Yd;this.Yd=a;if(this.Yd.ja&&(this.Yd.ja.wBa(!1),this.FM(this.Yd.ja,c?c.ja:void 0),c&&c.ja)){d=c.ja.oy();a=this.Yd.ja.oy();f=d.parentElement;d.style.display="none";c=c.close();f.appendChild(a);this.Yd.ja&&(a.style.display="block",this.Yd.ja.getError()?this.Yd.ja.close():(this.Yd.ja.j.Rtb(b),this.Yd.ja.LL(),this.Yd.ja.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Bsb=function(a){var b,c,d,f;if(this.ew.length&&a.ja){a=a.ja.j.Ob.value;b=this.ew[0];c=this.Yd.xa.ba;d=this.Yd.xa.ab?this.Yd.xa.ab.ET:!1;if(c||d){d?f=0:c&&(f=c-this.config.config.Qva);null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.xa)),this.Pva(b.xa),this.ew.splice(0,1));}}};b.prototype.T8a=function(a){return this.Yd?this.ew.find(function(b){return b.xa.M===a.M;}):this.js(a);};b.prototype.sob=function(a){var c;if(this.Yd.xa.M===a.M)return this.tya(this.Yd.xa,a),this.log.trace("Overwrote the currently playing segment data",m(this.Yd.xa)),this.Yd;for(var b=0;b<this.ew.length;++b){c=this.ew[b];if(c.xa.M===a.M)return this.tya(c.xa,a),this.log.trace("Overwrote the currently playing segment data",m(c.xa)),c;}a=this.js(a);this.ew.push(a);this.Yd.observe();return a;};b.prototype.tya=function(a,b){a.U=b.U||a.U;a.ba=b.ba||a.ba;a.ab=b.ab||a.ab;a.LT=b.LT||a.LT;};b.prototype.js=function(a){return new d(this.log,this.config,this.UD,this.Jv,this.e$,this.Ze,this.MK,this,a);};b.prototype.FM=function(a,b){this.h8a.forEach(function(c){b&&b.removeEventListener(c.event,c.jv);a.addEventListener(c.event,c.jv);});this.Hb.Ib(k.mG.vL);};f.VQa=b;},function(g,f,a){var d,h,m,c,k,l,p,n,r,y,L,A,B,M;function b(a,b,c,d,f,g,h,k,m,l,q){this.ya=a;this.uf=b;this.Jv=c;this.UD=d;this.Nub=f;this.MK=g;this.ka=h;this.fQ=k;this.dA=m;this.Ze=l;this.t4=q;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(23);m=a(7);c=a(422);k=a(421);l=a(61);p=a(419);n=a(418);r=a(846);y=a(845);L=a(84);A=a(30);B=a(228);a=a(424);b.prototype.h4a=function(a){return new r.VQa(this.ya,this.uf,this.Jv,this.UD,this.Nub,a,this.Ze,this.MK,this.t4);};b.prototype.L3a=function(a,b,c){c=void 0===c?this.Ze:c;return new y.XFa(this.uf,a,b,this.UD,this.Jv,this.ka,this.fQ,c,this.dA);};M=b;M=g.__decorate([d.N(),g.__param(0,d.l(h.Me)),g.__param(1,d.l(m.qb)),g.__param(2,d.l(c.xga)),g.__param(3,d.l(k.yga)),g.__param(4,d.l(n.nja)),g.__param(5,d.l(p.Qha)),g.__param(6,d.l(A.mg)),g.__param(7,d.l(L.ZW)),g.__param(8,d.l(B.TZ)),g.__param(9,d.l(l.ql)),g.__param(10,d.l(a.iN))],M);f.UQa=M;},function(g,f,a){var b,d,h,m,c,k;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(229);d=a(420);h=a(847);m=a(844);c=a(228);k=a(843);f.he=new g.Yb(function(a){a(b.IZ).to(h.UQa).Z();a(d.Dia).to(m.TQa).Z();a(c.TZ).to(k.NRa).Z();});},function(g,f,a){var d;function b(a,b){this.config=a;this.Ob=b;this.sK=[];}Object.defineProperty(f,"__esModule",{value:!0});d=a(102);b.prototype.Oma=function(a){0===this.sK.filter(function(b){return b.f9===a;}).length&&this.sK.push({f9:a,Rza:!1});};b.prototype.observe=function(){var a;a=this;return d.Da.interval(this.config.lta()).xs(function(){var b,c;b=a.Ob();c=a.sK.filter(function(a){return!a.Rza&&a.f9.time<=b;});c.forEach(function(a){a.Rza=!0;});return d.Da.from(c.map(function(a){return a.f9;}));});};f.gNa=b;},function(g,f,a){var d,h;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(849);b.prototype.qpa=function(a,b){return new h.gNa(a,b);};a=b;a=g.__decorate([d.N()],a);f.fNa=a;},function(g,f){function a(a,d){this.name=a;this.time=d;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>d)throw new TypeError("'time' property is not valid: "+d);}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.add=function(b,d){return new a(b,this.time+d);};a.prototype.ie=function(b,d){return new a(b,this.time-d);};f.eNa=a;},function(g,f,a){var d,h;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(851);b.prototype.ppa=function(a,b){return new h.eNa(a,b);};a=b;a=g.__decorate([d.N()],a);f.dNa=a;},function(g,f,a){var b,d,h,m;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(422);d=a(852);h=a(421);m=a(850);f.sK=new g.Yb(function(a){a(b.xga).to(d.dNa).Z();a(h.yga).to(m.fNa).Z();});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.reduce=function(a,b,d){for(;void 0!==a;a=a.cause)d=b(d,a);return d;};},function(g,f,a){var y,L,A,B;function b(a,b){this.me=a;this.Td=b;this.cd=[];}function d(a){return r.call(this,a,function(a){return{Details:a};})||this;}function h(a){return r.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function m(a,b){b=r.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.me=a;return b;}function c(a,b){b=r.call(this,b,function(a){return a();})||this;b.Td=a;return b;}function k(a,b){return p.call(this,a,b,function(a){var b;b=L.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.v1a(b,a,"stack","message");return a;},{});return Object.assign({},a,b);})||this;}function l(a){return r.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function p(a,b,c){b=r.call(this,b,c)||this;b.Td=a;return b;}function n(a){return r.call(this,a,function(a){return{Details:a};})||this;}function r(a,b){this.Po=a;this.value=b?b(a):a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);y=a(1);L=a(854);A=a(22);a=a(41);r.prototype.QI=function(a){return this.Po===a;};aa(n,r);n.prototype.cA=function(a,b){return b?"":"\r\n"+this.Po;};aa(p,r);p.prototype.cA=function(){var a;a="";this.Td.Ru(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(W){try{a+=", "+b+": "+JSON.stringify(c);}catch(E){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};aa(l,r);l.prototype.cA=function(a){var b;b="\r\n"+this.Po.message;a||(b+="\r\n"+this.Po.stack);return b;};aa(k,p);k.v1a=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};f.Sxb=k;aa(c,r);c.prototype.cA=function(){var a;a="";this.Td.Ru(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};aa(m,r);m.prototype.cA=function(a,b){return this.Po&&!b?"\r\n"+this.me.encode(this.Po):"";};aa(h,r);h.prototype.cA=function(){return this.Po?this.Po.toJSON():"";};aa(d,r);d.prototype.cA=function(){return", "+(this.Po.toString?""+this.Po.toString():"");};b.prototype.TYa=function(a){this.cd.push(new n(a));};b.prototype.KYa=function(a){this.cd.push(new p(this.Td,a));};b.prototype.BYa=function(a){this.cd.push(new l(a));};b.prototype.AYa=function(a){this.cd.push(new k(this.Td,a));};b.prototype.EYa=function(a){this.cd.push(new c(this.Td,a));};b.prototype.UYa=function(a){this.cd.push(new m(this.me,a));};b.prototype.JYa=function(a){this.cd.push(new h(a));};b.prototype.VYa=function(a){this.cd.push(new d(a));};b.prototype.fo=function(){return this.cd;};B=b;B=g.__decorate([y.N(),g.__param(0,y.l(a.Ij)),g.__param(1,y.l(A.af))],B);f.LLa=B;},function(g,f,a){var d,h,m,c;function b(a,b){this.me=a;this.Td=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(855);m=a(41);a=a(22);b.prototype.Dab=function(){return new h.LLa(this.me,this.Td);};c=b;c=g.__decorate([d.N(),g.__param(0,d.l(m.Ij)),g.__param(1,d.l(a.af))],c);f.KLa=c;},function(g,f,a){var d,h;function b(a,b,d,f,g,h,l){this.level=a;this.Mk=b;this.timestamp=d;this.message=f;this.cd=g;this.prefix=h;this.index=void 0===l?0:l;}Object.defineProperty(f,"__esModule",{value:!0});d=a(3);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.uW=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.Lrb(!!a));return(this.timestamp.fa(d.ma)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.Mk+"| "+a;};b.prototype.Lrb=function(a){var g;for(var b=this.cd.length,d="",f=0;f<b;++f){g=this.cd[f].Po;f&&d.length&&(d+=" ");if("object"===typeof g)if(null===g)d+="null";else if(g instanceof Error)d+=this.Krb(g,a);else try{d+=JSON.stringify(g);}catch(u){d+=this.Jrb(g);}else d+=g;}return d;};b.prototype.Krb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.Jrb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};f.hFa=b;},function(g,f,a){var d,h;function b(a,b,f,g,h,l){a=d.UF.call(this,a,b,f,g)||this;a.r6=h;Array.isArray(l)?a.prefix=l:l&&"string"===typeof l&&(a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(230);h=a(857);aa(b,d.UF);b.prototype.ru=function(a,b,d){a=new h.hFa(a,this.Mk,this.ya.cc(),b,d,this.prefix);b=P(this.kk.kk);for(d=b.next();!d.done;d=b.next())d=d.value,d(a);};b.prototype.h3=function(a){return new b(this.ya,this.$r,this.kk,a,this.r6,this.prefix);};f.iFa=b;},function(g,f,a){var d,h,m;function b(a,b,f,g,h){a=m.UF.call(this,a,b,f,h)||this;a.j=g;d.Yk(a,"playback");return a;}Object.defineProperty(f,"__esModule",{value:!0});d=a(47);h=a(423);m=a(230);aa(b,m.UF);b.prototype.h3=function(a){return new b(this.ya,this.$r,this.kk,this.j,a);};b.prototype.ru=function(a,b,d){a=new h.Qfa(a,this.Mk,this.ya.cc(),b,d,this.j.index);b=P(this.kk.kk);for(d=b.next();!d.done;d=b.next())d=d.value,d(a,this.j);};f.vPa=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.EnumeratedErrorBase=function(a,b,d,f){this.type=a;this.name=a.name;this.number=b;"string"===typeof d?this.message=d:void 0!==d&&(this.cause=d);void 0!==f&&(this.message=f);};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(860);f.cC=function(a,f){var c;a=a.Dab();for(var d=0;d<f.length;++d){c=f[d];void 0!=c&&null!=c&&(c.bg&&(c=c.bg),c.constructor===Uint8Array?a.UYa(c):"MediaRequest"===c.constructor.name?a.JYa(c):"string"===typeof c?a.TYa(c):"function"===typeof c?a.EYa(c):c instanceof Error?a.BYa(c):c instanceof b.EnumeratedErrorBase?a.AYa(c):c instanceof Object?a.KYa(c):a.VYa(c));}return a.fo();};},function(g,f,a){var d,h,m,c,k,l,p;function b(a,b,c){this.ya=a;this.kk=b;this.a8=c;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(230);h=a(1);m=a(859);c=a(23);k=a(95);l=a(7);p=a(858);b.prototype.lb=function(a,b,c,f,g){c=void 0===c?this.kk:c;return b?new m.vPa(this.ya,this.a8,c,b,a):g?new p.iFa(this.ya,this.a8,c,a,f||"",g):new d.UF(this.ya,this.a8,c,a);};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(c.Me)),g.__param(1,h.l(k.GA)),g.__param(2,h.l(l.Rfa))],a);f.TLa=a;},function(g,f,a){var d;function b(){this.eba={};this.kk=[];}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.rV=function(a,b){var c;c=this;b&&(this.eba[a]=b,this.kk=Object.keys(this.eba).map(function(a){return c.eba[a];}));};d=b;d=g.__decorate([a.N()],d);f.ULa=d;},function(g,f,a){var b,d,h,m,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(863);d=a(862);g=a(1);h=a(95);m=a(7);c=a(856);f.qgb=new g.Yb(function(a){a(m.qb).to(d.TLa).Z();a(h.GA).to(b.ULa).Z();a(m.Rfa).to(c.KLa).Z();});},function(g,f,a){var d,h;function b(a,b){this.ka=a;this.MQ=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(30);b.prototype.Jb=function(a){this.EC();this.Cj=this.ka.eg(this.MQ,a);};b.prototype.EC=function(){this.Cj&&this.Cj.cancel();this.Cj=void 0;};h=b;h=g.__decorate([d.N(),g.__param(0,d.l(a.mg))],h);f.nIa=h;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.mIa="DebouncerFactorySymbol";},function(g,f,a){var d,h,m;function b(a,b,d){this.ka=a;this.Hsb=b;this.jv=d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(30);h=a(1);m=a(3);b.prototype.ss=function(){this.Cj||(this.Cj=this.ka.eg(m.Cb(this.Hsb),this.jv));};b.prototype.Vg=function(){this.Cj&&this.Cj.cancel();this.Cj=void 0;};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(d.mg))],a);f.IRa=a;},function(g,f,a){var d,h,m;function b(a){this.oc=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(22);m=a(8);b.prototype.qZa=function(a){var b;b={enableVP9:!0};67<=this.r$a(m.Nj)&&this.oc.fk(a,b);};b.prototype.r$a=function(a){return(a=a.match(/Chrome\/(\d*)\./))&&Number(a[1])||0;};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.af))],a);f.eSa=a;},function(g,f){function a(){this.searchParams={};}function b(b){this.Dl=b;this.searchParams=new a();}Object.defineProperty(f,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};oa.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Dl+this.searchParams.toString();}}});f.dSa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.AZ="PrioritizedSetOfListsSymbol";f.NPa="PrioritizedSetOfListsFactorySymbol";f.OPa="PrioritizedSetOfSetsFactorySymbol";},function(g,f,a){var d,h,m,c;function b(a,b,c){var d;d=this;this.app=a;this.ka=b;this.MQ=c;this.Os=function(a){d.Cj=void 0;d.wtb(a||d.MQ);};this.xva=m.Cb(-this.MQ.fa(m.ma));}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(23);m=a(3);a=a(30);b.prototype.Jb=function(a){this.naa=a;this.Cj=this.Cj||this.zb(this.Os);};b.prototype.EC=function(){this.Cj&&this.Cj.cancel();this.Cj=void 0;};b.prototype.wtb=function(a){var b,c;b=this.app.cc();if(this.naa){c=a.ie(b.ie(this.xva));0>=c.Pk(m.Cf)?(a=this.naa,this.naa=void 0,this.xva=b,a()):this.Cj=this.Cj||this.ka.eg(c,this.Os.bind(this,a));}};b.prototype.zb=function(a){return this.ka.eg(m.Cf,a);};c=b;c=g.__decorate([d.N(),g.__param(0,d.l(h.Me)),g.__param(1,d.l(a.mg))],c);f.wRa=c;},function(g,f,a){var d,h,m,c,k,l,p,n,r;function b(a,b){this.ya=a;this.config=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(23);c=a(55);k=a(2);l=a(15);p=a(3);n=a(8);a=a(431);b.prototype.W5a=function(a){var b,f,g,h,m,q,n,t,r;b=this;m=a.Ob.value;q=a.Pm.value;n=a.jc.value;t=a.state.value;h={segmentId:a.P5(),mediaTime:m,segmentTime:a.py(),bufferingState:d.T_a[q],presentingState:d.fmb[n],playbackState:d.vlb[t],mseBuffersBusy:this.Ebb(a),intBuffersBusy:this.pab(a),tabVisible:this.jsb(),decodedFrameCount:this.n5a(a),videoElementInDom:this.Jub(a),lastVideoSync:this.ya.cc().ie(p.Cb(a.aM)).fa(p.ma)};r=n===l.nb.ng?a.Xa.$f?this.config.kya:this.config.jya:this.config.jxa;q!==l.lf.Yc?(f=k.G.mHa,this.$na(h.mseBuffersBusy,h.intBuffersBusy)&&(g=d.Zca)):n!==l.nb.yd&&(f=k.G.nHa,(a=a.vg)&&a.yb.sourceBuffers.forEach(function(a){var c,f;c=d.zhb[a.O];h[c+"Ranges"]=a.nS();a=a.buffered();if(0===a.length)h[c+"Undecoded"]=0,g=d.DFa;else{f=1E3*a.end(0)-m;h[c+"Undecoded"]=f;1<a.length&&(g=d.EFa);m<1E3*a.start(0)||m>1E3*a.end(0)?g=d.FFa:f<r.fa(p.ma)?g=d.GFa:b.$na(h.mseBuffersBusy,h.intBuffersBusy)&&(g=d.Zca);}}));a="";try{a=JSON.stringify(h);}catch(R){a="Cannot stringify details: "+R;}return new c.Oc(k.I.aha,f,g,void 0,void 0,void 0,a,void 0);};b.prototype.Ebb=function(a){var b;if(a.yb){b={};a.yb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.pab=function(a){var b;if(a.yb){b={};a.yb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.nj()};});return b;}};b.prototype.jsb=function(){return!n.Jd.hidden;};b.prototype.n5a=function(a){return(a=a.vg)&&(a=a.yb.La)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.Jub=function(a){if(a=a.vg)if(a=a.yb.La)return n.Jd.body.contains(a);return!1;};b.prototype.$na=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};r=d=b;r.DFa="1";r.EFa="2";r.FFa="3";r.Zca="4";r.GFa="5";r.zhb=["Audio","Video"];r.T_a=["","NORMAL","BUFFERING","STALLED"];r.fmb=["","WAITING","PLAYING ","PAUSED","ENDED"];r.vlb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];r=d=g.__decorate([h.N(),g.__param(0,h.l(m.Me)),g.__param(1,h.l(a.zga))],r);f.rIa=r;},function(g,f,a){var d,h,m,c;function b(a,b){this.ya=a;this.entries=[];this.ia=b.lb("TimingApi");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(23);m=a(3);a=a(7);b.prototype.mark=function(a,b){a={name:a,oa:b,Dsb:this.ya.cc()};this.entries.push(a);return a;};b.prototype.Jab=function(){return this.entries.slice();};b.prototype.Xsa=function(){var a;a={};try{a=this.Jab().filter(function(a){return!a.oa;}).reduce(function(a,b){a[b.name]=b.Dsb.fa(m.ma);return a;},{});}catch(q){this.ia.error(" getMapOfCommonMarks exception",q);}return a;};c=b;c=g.__decorate([d.N(),g.__param(0,d.l(h.Me)),g.__param(1,d.l(a.qb))],c);f.KRa=c;},function(g,f,a){var d,h,m,c;function b(a){return h.QM.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(34);h=a(36);m=a(1);a=a(27);aa(b,h.QM);oa.Object.defineProperties(b.prototype,{TDa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([d.config(d.Wd,"usePerformanceApi")],c.prototype,"TDa",null);c=g.__decorate([m.N(),g.__param(0,m.l(a.sX))],c);f.SGa=c;},function(g,f,a){var d,h,m,c;function b(a){a=h.QM.call(this,a,"DebugConfigImpl")||this;a.zFb=function(){debugger;};return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(34);h=a(36);m=a(1);a=a(27);aa(b,h.QM);oa.Object.defineProperties(b.prototype,{O_a:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([d.config(d.Wd,"breakOnError")],c.prototype,"O_a",null);c=g.__decorate([m.N(),g.__param(0,m.l(a.sX))],c);f.oIa=c;},function(g,f,a){var d,h,m,c;function b(a,b,c){this.config=a;this.Ba=b;this.ia=c.lb("General");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(21);m=a(86);a=a(7);b.prototype.assert=function(){};b.prototype.BZa=function(a,b){this.assert(this.Ba.Kl(a),b);};b.prototype.CZa=function(a,b){this.assert(this.Ba.Bd(a),b);};b.prototype.HZa=function(a,b){this.assert(this.Ba.Bi(a),b);};b.prototype.KZa=function(a,b){this.assert(this.Ba.Gk(a),b);};b.prototype.IZa=function(a,b){this.assert(this.Ba.Bi(a)||null===a||void 0===a,b);};b.prototype.FZa=function(a,b){this.assert(this.Ba.Uf(a),b);};b.prototype.EZa=function(a,b){this.assert(this.Ba.s1(a),b);};b.prototype.JZa=function(a,b){this.assert(this.Ba.Bp(a),b);};b.prototype.GZa=function(a,b){this.assert(this.Ba.pH(a),b);};b.prototype.zZa=function(a,b){this.assert(this.Ba.nH(a),b);};b.prototype.DZa=function(a,b){this.assert(this.Ba.oH(a),b);};b.prototype.Xdb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.OGb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(p){return p.stack;}};};c=b;c=g.__decorate([d.N(),g.__param(0,d.l(m.Rda)),g.__param(1,d.l(h.se)),g.__param(2,d.l(a.qb))],c);f.pIa=c;},function(g,f,a){var d,h,m,c;function b(a,b){this.is=a;this.Td=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(21);a=a(22);b.prototype.encode=function(a){var b,c;b=this;c="";this.Td.Ru(a,function(a,d){a=b.Sqa(a)+"="+b.Sqa(d);c=c?c+(","+a):a;});return c;};b.prototype.Sqa=function(a){return this.is.Kl(a)?this.is.Uf(a)?""+a:this.is.Bi(a)?(a=a.replace(d.cAa,this.Hgb.bind(this)),!d.Omb.test(a)&&d.wib.test(a)&&(a='"'+a+'"'),a):this.is.nH(a)?""+a:this.is.a1(a)?"NaN":"":"";};b.prototype.Hgb=function(a){return d.map[a];};c=d=b;c.map={'"':'""',"\r":"","\n":" "};c.cAa=/(?!^.+)["\r\n](?=.+$)/g;c.Omb=/["].*["]/g;c.wib=/[", ]/;c=d=g.__decorate([h.N(),g.__param(0,h.l(m.se)),g.__param(1,h.l(a.af))],c);f.fHa=c;},function(g,f,a){var d,h,m,c;function b(a,b){this.Qa=a;this.jS=this.Qa.Te.fa(m.ma)-1;this.igb=this.xT=0;this.id=""+b.oC();}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(42);m=a(3);a=a(116);b.prototype.cc=function(){var a,b;a=this.Qa.Te.fa(m.ma)-this.jS;if(a<this.xT){b=this.xT+1;this.jS-=b-a;a=b;}this.xT=a;return m.Cb(this.xT);};b.prototype.Eab=function(){return this.igb++;};oa.Object.defineProperties(b.prototype,{Ky:{configurable:!0,enumerable:!0,get:function(){return m.Cb(this.jS);}}});c=b;c=g.__decorate([d.N(),g.__param(0,d.l(h.Jj)),g.__param(1,d.l(a.FA))],c);f.XEa=c;},function(g){g.T="function"===typeof Object.create?function(f,a){f.Xrb=a;f.prototype=Object.create(a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});}:function(f,a){function b(){}f.Xrb=a;b.prototype=a.prototype;f.prototype=new b();f.prototype.constructor=f;};},function(g){g.T=function(f){return f&&"object"===typeof f&&"function"===typeof f.Kp&&"function"===typeof f.fill&&"function"===typeof f.pJb;};},function(g,f,a){(function(b){var V,N,T,X,aa,O;function d(a,b){var c;c={vaa:[],Si:m};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.iC=arguments[3]);A(b)?c.Yaa=b:b&&f.VTa(c,b);D(c.Yaa)&&(c.Yaa=!1);D(c.depth)&&(c.depth=2);D(c.iC)&&(c.iC=!1);D(c.Gpa)&&(c.Gpa=!0);c.iC&&(c.Si=g);return k(c,a,c.depth);}function g(a,b){return(b=d.Mrb[b])?"\u001b["+d.iC[b][0]+"m"+a+"\u001b["+d.iC[b][1]+"m":a;}function m(a){return a;}function c(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function k(a,b,d){var g,h,m,q,t;if(a.Gpa&&b&&R(b.hT)&&b.hT!==f.hT&&(!b.constructor||b.constructor.prototype!==b)){g=b.hT(d,a);M(g)||(g=k(a,g,d));return g;}if(g=l(a,b))return g;h=Object.keys(b);m=c(h);a.Yaa&&(h=Object.getOwnPropertyNames(b));if(P(b)&&(0<=h.indexOf("message")||0<=h.indexOf("description")))return p(b);if(0===h.length){if(R(b))return a.Si("[Function"+(b.name?": "+b.name:"")+"]","special");if(F(b))return a.Si(RegExp.prototype.toString.call(b),"regexp");if(E(b))return a.Si(Date.prototype.toString.call(b),"date");if(P(b))return p(b);}g="";q=!1;t=["{","}"];L(b)&&(q=!0,t=["[","]"]);R(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");F(b)&&(g=" "+RegExp.prototype.toString.call(b));E(b)&&(g=" "+Date.prototype.toUTCString.call(b));P(b)&&(g=" "+p(b));if(0===h.length&&(!q||0==b.length))return t[0]+g+t[1];if(0>d)return F(b)?a.Si(RegExp.prototype.toString.call(b),"regexp"):a.Si("[Object]","special");a.vaa.push(b);h=q?n(a,b,d,m,h):h.map(function(c){return r(a,b,d,m,c,q);});a.vaa.pop();return y(h,g,t);}function l(a,b){if(D(b))return a.Si("undefined","undefined");if(M(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Si(b,"string");if(B(b))return a.Si(""+b,"number");if(A(b))return a.Si(""+b,"boolean");if(null===b)return a.Si("null","null");}function p(a){return"["+Error.prototype.toString.call(a)+"]";}function n(a,b,c,d,f){for(var g=[],h=0,k=b.length;h<k;++h)Object.prototype.hasOwnProperty.call(b,String(h))?g.push(r(a,b,c,d,String(h),!0)):g.push("");f.forEach(function(f){f.match(/^\d+$/)||g.push(r(a,b,c,d,f,!0));});return g;}function r(a,b,c,d,f,g){var h,m;b=Object.getOwnPropertyDescriptor(b,f)||{value:b[f]};b.get?m=b.set?a.Si("[Getter/Setter]","special"):a.Si("[Getter]","special"):b.set&&(m=a.Si("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,f)||(h="["+f+"]");m||(0>a.vaa.indexOf(b.value)?(m=null===c?k(a,b.value,null):k(a,b.value,c-1),-1<m.indexOf("\n")&&(m=g?m.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+m.split("\n").map(function(a){return"   "+a;}).join("\n"))):m=a.Si("[Circular]","special"));if(D(h)){if(g&&f.match(/^\d+$/))return m;h=JSON.stringify(""+f);h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=a.Si(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=a.Si(h,"string"));}return h+": "+m;}function y(a,b,c){var d;d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function L(a){return Array.isArray(a);}function A(a){return"boolean"===typeof a;}function B(a){return"number"===typeof a;}function M(a){return"string"===typeof a;}function D(a){return void 0===a;}function F(a){return J(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function J(a){return"object"===typeof a&&null!==a;}function E(a){return J(a)&&"[object Date]"===Object.prototype.toString.call(a);}function P(a){return J(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function R(a){return"function"===typeof a;}function ba(a){return 10>a?"0"+a.toString(10):a.toString(10);}function Y(){var a,b;a=new Date();b=[ba(a.getHours()),ba(a.getMinutes()),ba(a.getSeconds())].join(":");return[a.getDate(),aa[a.getMonth()],b].join(" ");}function ea(a,b){var c;if(!a){c=Error("Promise was rejected with a falsy value");c.reason=a;a=c;}return b(a);}V=Object.JGb||function(a){for(var b=Object.keys(a),c={},d=0;d<b.length;d++)c[b[d]]=Object.getOwnPropertyDescriptor(a,b[d]);return c;};N=/%[sdj%]/g;f.format=function(a){if(!M(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(d(arguments[c]));return b.join(" ");}for(var c=1,f=arguments,g=f.length,b=String(a).replace(N,function(a){if("%%"===a)return"%";if(c>=g)return a;switch(a){case"%s":return String(f[c++]);case"%d":return Number(f[c++]);case"%j":try{return JSON.stringify(f[c++]);}catch(lb){return"[Circular]";}default:return a;}}),h=f[c];c<g;h=f[++c])b=null!==h&&J(h)?b+(" "+d(h)):b+(" "+h);return b;};f.G5a=function(a,c){var d;if("undefined"!==typeof b&&!0===b.vIb)return a;if("undefined"===typeof b)return function(){return f.G5a(a,c).apply(this,arguments);};d=!1;return function(){if(!d){if(b.iKb)throw Error(c);b.mKb?console.trace(c):console.error(c);d=!0;}return a.apply(this,arguments);};};T={};f.AFb=function(a){var c;D(X)&&(X=b.Z7a.hAb||"");a=a.toUpperCase();if(!T[a])if(new RegExp("\\b"+a+"\\b","i").test(X)){c=b.WIb;T[a]=function(){var b;b=f.format.apply(f,arguments);console.error("%s %d: %s",a,c,b);};}else T[a]=function(){};return T[a];};f.hT=d;d.iC={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};d.Mrb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};f.isArray=L;f.beb=A;f.Pa=function(a){return null===a;};f.xHb=function(a){return null==a;};f.pa=B;f.Od=M;f.CHb=function(a){return"symbol"===typeof a;};f.R=D;f.AHb=F;f.Ve=J;f.l7=E;f.n7=P;f.Mb=R;f.zHb=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};f.isBuffer=a(880);aa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");f.log=function(){console.log("%s - %s",Y(),f.format.apply(f,arguments));};f.kHb=a(879);f.VTa=function(a,b){if(b&&J(b))for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];};h();h();O="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;f.vmb=function(a){function b(){for(var b,c,d=new Promise(function(a,d){b=a;c=d;}),f=[],g=0;g<arguments.length;g++)f.push(arguments[g]);f.push(function(a,d){a?c(a):b(d);});try{a.apply(this,f);}catch(lb){c(lb);}return d;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(O&&a[O]){b=a[O];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,O,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));O&&Object.defineProperty(b,O,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,V(a));};f.vmb.jFb=O;f.GEb=function(a){function c(){var g,h;function c(){return g.apply(h,arguments);}for(var d=[],f=0;f<arguments.length;f++)d.push(arguments[f]);g=d.pop();if("function"!==typeof g)throw new TypeError("The last argument must be of type Function");h=this;a.apply(this,d).then(function(a){b.Cxa(c,null,a);},function(a){b.Cxa(ea,a,c);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(c,Object.getPrototypeOf(a));Object.defineProperties(c,V(a));return c;};}.call(this,a(232)));},function(g,f,a){var d;function b(a){this.N9a=a;this.LS=!1;this.US=this.kM=this.UE=0;this.DJ=!1;this.VS=0;}Object.defineProperty(f,"__esModule",{value:!0});d=a(881);b.prototype.LYa=function(a){a<this.UE&&(this.kM+=this.UE);this.UE=a;this.LS=!0;};b.prototype.u$a=function(){if(this.LS)return this.DJ?this.VS-this.US:this.kM+this.UE-this.US;};b.prototype.refresh=function(){var a;a=this.N9a();d.pa(a)&&this.LYa(a);};b.prototype.arb=function(){this.DJ||(this.LS&&(this.VS=this.kM+this.UE),this.DJ=!0);};b.prototype.prb=function(){this.DJ&&(this.LS&&(this.US+=this.kM+this.UE-this.VS),this.VS=0,this.DJ=!1);};f.MNa=b;},function(g,f,a){var d,h,m;function b(a){this.ka=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(30);m=a(62);b.prototype.gl=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ka.eg(a,function(){f(new m.ym(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.mg))],a);f.TPa=a;},function(g,f,a){var d,h,m,c,k,l,p,n;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;m=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");c={};k={};l={};p={};n=/\s+/g;[m,h].forEach(function(a){var d;for(var b=a.length;b--;){d=a[b];c[d]=b<<18;k[d]=b<<12;l[d]=b<<6;p[d]=b;}});b.prototype.encode=function(a){return d.m4(a,m,"=");};b.prototype.decode=function(a){return d.A3(a);};b.A3=function(a){var b,d,f;a=a.replace(n,"");b=a.length;d=a.charAt(b-1);"="!==d&&"."!==d||b--;d=a.charAt(b-1);"="!==d&&"."!==d||b--;d=3*(b>>2);f=0;switch(b%4){case 2:f=1;break;case 3:f=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(d+f),g=0,h=0,m;h<d;){m=c[a[g++]]+k[a[g++]]+l[a[g++]]+p[a[g++]];if(!(0<=m&&16777215>=m))throw Error("bad base64");b[h++]=m>>>16;b[h++]=m>>>8&255;b[h++]=m&255;}if(0<f&&(m=c[a[g++]]+k[a[g++]],b[h++]=m>>>16,1<f&&(m+=l[a[g++]],b[h++]=m>>>8&255),!(0<=m&&16776960>=m&&0===(m&(1<f?255:65535)))))throw Error("bad base64");return b;};b.m4=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};h=d=b;h=d=g.__decorate([a.N()],h);f.JFa=h;},function(g,f,a){var d,h;function b(){}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.encode=function(a){return d.m4(a);};b.prototype.decode=function(a){return d.A3(a);};b.m4=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,d,f=a.length,g="";b<f;){d=a[b++];if(!(0<=d&&255>=d))throw Error("bad utf8");if(d&128)if(192===(d&224))d=((d&31)<<6)+(a[b++]&63);else if(224===(d&240))d=((d&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(d);}return g;};b.A3=function(a){var b,d,f,g,h;b=a.length;d=0;g=0;if(!(0<=b))throw Error("bad string");for(f=b;f--;)h=a.charCodeAt(f),128>h?d++:d=2048>h?d+2:d+3;d=new Uint8Array(d);for(f=0;f<b;f++)h=a.charCodeAt(f),128>h?d[g++]=h:(2048>h?d[g++]=192|h>>>6:(d[g++]=224|h>>>12,d[g++]=128|h>>>6&63),d[g++]=128|h&63);return d;};h=d=b;h=d=g.__decorate([a.N()],h);f.fSa=h;},function(g,f,a){var d,h,m,c,k,l,p;function b(a,b,c,f){var g;g=this;this.config=a;this.F4a=b;this.Hb=c;this.performance=f;this.Rjb=function(a){g.qBa=a.ie(g.Te);};d.Yk(this,"date");d.Yk(this,"performance");this.jZa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.qBa=h.Cf;this.Hb.addListener(p.yfa.sBa,this.Rjb);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(47);h=a(3);m=a(1);c=a(37);k=a(437);l=a(70);p=a(15);oa.Object.defineProperties(b.prototype,{Te:{configurable:!0,enumerable:!0,get:function(){return this.lxa?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.Cb(this.F4a.now());}},Kaa:{configurable:!0,enumerable:!0,get:function(){return this.Te.add(this.qBa);}},lxa:{configurable:!0,enumerable:!0,get:function(){return this.config.TDa&&this.jZa;}}});a=b;a=g.__decorate([m.N(),g.__param(0,m.l(k.tda)),g.__param(1,m.l(c.Qda)),g.__param(2,m.l(l.PX)),g.__param(3,m.l(c.tZ)),g.__param(3,m.optional())],a);f.TGa=a;},function(g,f,a){var d,h;function b(a){this.isb=a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);a=a(115);b.prototype.random=function(){return this.isb.random();};b.prototype.C$=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=g.__decorate([d.N(),g.__param(0,d.l(a.Lia))],h);f.cQa=h;},function(g,f,a){var d,h,m,c,k;function b(a,b){this.Qa=a;this.random=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(3);c=a(42);a=a(115);b.prototype.oC=function(){return this.Qa.Te.fa(m.xm)*d.kda+Math.floor(this.random.random()*d.kda);};k=d=b;k.kda=1E4;k=d=g.__decorate([h.N(),g.__param(0,h.l(c.Jj)),g.__param(1,h.l(a.nG))],k);f.gLa=k;},function(g,f,a){var h,m,c,k;function b(a){this.ZE=a;m.Yk(this,"timers");}function d(a,b){this.ZE=a;this.D0a=b;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);m=a(47);c=a(37);k=a(3);d.prototype.cancel=function(){this.D0a(this.ZE);};b.prototype.Jb=function(a){return this.eg(k.Cf,a);};b.prototype.eg=function(a,b){var c;c=this.ZE.setTimeout(b,a.fa(k.ma));return new d(this.ZE,function(a){a.clearTimeout(c);});};b.prototype.XAa=function(a,b){var c;c=this.ZE.setInterval(b,a.fa(k.ma));return new d(this.ZE,function(a){a.clearInterval(c);});};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(c.qja))],a);f.OQa=a;},function(g,f,a){var b,d,h,m,c,k,l,p,n,r,y,L,A,B,M,D,F,W,E,P,R,ba,Y,ea,V,N,T,X,aa,O,da,fa,Aa,sa,ja,Fa,ga,ia,la,ma,na,oa,qa,pa,ta,ra,ua,xa,ya,Ea,Ga,Ia,Ka,La,Na,Oa,Pa,Ra,Ta,Va,Wa;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(37);d=a(42);h=a(30);m=a(116);c=a(115);k=a(889);l=a(888);p=a(887);n=a(886);r=a(98);y=a(99);L=a(41);A=a(22);B=a(21);M=a(70);D=a(62);F=a(436);W=a(885);E=a(233);P=a(884);R=a(435);ba=a(883);Y=a(139);ea=a(434);V=a(882);N=a(231);T=a(97);X=a(878);aa=a(23);O=a(433);da=a(877);fa=a(876);Aa=a(86);sa=a(875);ja=a(7);Fa=a(437);ga=a(874);ia=a(114);la=a(873);ma=a(432);na=a(872);oa=a(871);qa=a(96);pa=a(8);ta=a(870);ra=a(430);ua=a(429);xa=a(869);ya=a(428);Ea=a(17);Ga=a(72);Ia=a(61);Ka=a(427);La=a(426);Na=a(868);Oa=a(425);Pa=a(424);Ra=a(130);Ta=a(867);Va=a(866);Wa=a(865);f.y1a=new g.Yb(function(a){a(b.Ht).Bh(JSON);a(b.qja).Bh(J);a(c.Lia).Bh(Math);a(b.Nfa).Bh(pa.bZ);a(b.tZ).Bh(pa.ar);a(b.Qda).Bh(Date);a(b.OA).Bh(pa.sk);a(b.VMa).Bh(pa.LA);a(Fa.tda).to(ga.SGa).Z();a(aa.Me).to(X.XEa).Z();a(d.Jj).to(n.TGa).Z();a(h.mg).to(k.OQa).Z();a(m.FA).to(l.gLa).Z();a(D.Xw).to(ba.TPa).Z();a(c.nG).to(p.cQa).Z();a(Aa.ut).to(fa.pIa).Z();a(Aa.Rda).to(sa.oIa).Z();a(r.fx).to(W.fSa).Z();a(y.Cw).to(E.gX).Z();a(L.Ij).to(P.JFa).Z();a(A.af).to(R.eja).Z();a(B.se).Bh(Y.Gt);a(Oa.iN).to(Pa.wJa).Z();a(M.jN).to(ea.Kj).T6();a(M.AF).to(ea.Kj).Z();a(M.PX).to(ea.Kj).Z();a(N.NZ).to(T.cx).Z();a(O.Cda).to(da.fHa).Z();a(ia.ex).to(la.KRa).Z();a("Factory<LoggerFactory>").Ksb(ja.qb);a(ma.Uda).to(na.rIa).Z();a(qa.WA).Qf(function(a){return function(b){return new oa.wRa(a.bc.get(aa.Me),a.bc.get(h.mg),b);};});a(Va.mIa).Qf(function(a){return function(b){return new Wa.nIa(a.bc.get(h.mg),b);};});a(ta.AZ).Msb(ra.aia);a(ta.NPa).Qf(function(a){var b;b=a.bc.get(ta.AZ);return function(){return new b(!1);};});a(ta.OPa).Qf(function(a){var b;b=a.bc.get(ta.AZ);return function(){return new b(!0);};});a(ua.cja).Qf(function(){return function(a){return new xa.dSa(a);};});a(Ia.ql).Qf(function(a){return function(b,c,d){var f,g,h;f=a.bc.get(Aa.ut);g=a.bc.get(Ea.gd);h=a.bc.get(Ga.kp);return new ya.CPa(f,g,h,Ka.oga,b,c,d);};});a(F.Qga).Qf(function(){return function(a){return new V.MNa(a);};});a(La.dja).to(Na.eSa).Z();a(Ra.XA).Qf(function(a){return function(b,c){return new Ta.IRa(a.bc.get(h.mg),b,c);};});});},function(g,f,a){var b,d,h,m,c,k,l,p,n,r,y,L,A,B,M,D,F,J,E,P,R,ba,Y,ea,V,N,T,X,aa,O,da,fa,Aa,sa;Object.defineProperty(f,"__esModule",{value:!0});b=a(890);d=a(864);h=a(853);m=a(848);c=a(842);k=a(839);l=a(835);p=a(823);n=a(812);r=a(809);y=a(805);L=a(803);A=a(659);B=a(246);M=a(656);D=a(652);F=a(638);J=a(631);E=a(624);P=a(616);R=a(610);ba=a(245);Y=a(602);ea=a(600);V=a(593);N=a(589);T=a(581);X=a(579);aa=a(574);O=a(555);da=a(537);fa=a(533);Aa=a(529);sa=a(521);f.Hfb=function(a){a.load(b.y1a,k.Yz,d.qgb,l.hR,n.yQ,h.sK,m.he,c.Mub,p.storage,r.W1,y.i0a,L.Egb,A.vn,B.SB,M.th,D.mgb,F.Eib,J.C9a,E.ymb,P.dE,R.O6a,ba.eme,Y.crypto,ea.Td,V.Hc,N.wZa,T.oib,X.Lkb,aa.j,O.x1a,da.ktb,fa.qj,Aa.Oi,sa.NZa);};},function(g,f,a){var h,m;function b(a,b,d,f,g){this.ya=a;this.config=b;this.ka=d;this.Os=f;this.name=g;}function d(a,b,d,f){var c;c=this;this.ya=a;this.ka=b;this.timeout=d;this.Gsb=f;this.Gcb=function(){c.YH=!0;c.Iy.cancel();c.Gsb();};this.startTime=this.ya.cc();this.Iy=this.ka.eg(this.timeout,function(){c.Gcb();});this.YH=!1;}Object.defineProperty(f,"__esModule",{value:!0});h=a(2);m=a(87);d.prototype.stop=function(){this.YH||(this.iW=this.ya.cc(),this.Iy.cancel());};oa.Object.defineProperties(d.prototype,{Jqa:{configurable:!0,enumerable:!0,get:function(){if(this.iW&&this.startTime)return this.iW.ie(this.startTime);}}});b.prototype.J0a=function(){var a;a=this;this.gC=new d(this.ya,this.ka,this.config.S6,function(){a.Os(new m.Df(h.I.oia,h.G.$Ia,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.S6+"ms"));});};b.prototype.I0a=function(){this.gC&&this.gC.stop();};b.prototype.Ipb=function(){this.zL=this.ya.cc();};b.prototype.K0a=function(){var a;a=this;this.DW=new d(this.ya,this.ka,this.config.raa,function(){a.Os(new m.Df(h.I.oia,h.G.ZIa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.raa+"ms"));});};b.prototype.roa=function(){this.DW&&this.DW.stop();};oa.Object.defineProperties(b.prototype,{zc:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.gC){b=this.gC.Jqa;b&&(a.Ywa=b);this.zL&&this.gC.iW&&(a.zL=this.zL.ie(this.gC.iW));}this.DW&&(b=this.DW.Jqa)&&(a.Soa=b);return a;}}});f.iJa=b;},function(g,f){function a(){}Object.defineProperty(f,"__esModule",{value:!0});a.Eqa=function(a,d){for(var b=a.next(),f;b&&!b.done&&b.value;)f=b.value[0],b=b.value[1],d&&d(f,b),b=a.next();};f.lJa=a;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.gJa="EmeApiSymbol";},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=f.Uq||(f.Uq={});g[g.ODa=0]="usable";g[g.o8a=1]="expired";g[g.Knb=2]="released";g[g.oya=3]="outputRestricted";g[g.ekb=4]="outputDownscaled";g[g.lrb=5]="statusPending";g[g.Tdb=6]="internalError";},function(g,f,a){var d,h,m,c,k,l,p,n,r,y,L,A,B,M,D,F,J,E,P,R,ba;function b(a,b,d,f,g,k,l,p,q){var n;n=this;this.ya=b;this.El=d;this.config=f;this.Hf=g;this.ki=k;this.no=l;this.ka=p;this.yj=q;this.onMessage=function(a){var b,c,d;b=n.ki.X2(a);c=b.message;d=b.Y8;n.PV(b.sessionId);n.pv=n.ki.pv(b);n.log.trace("Received "+a.type+" event",{messageType:d,isIntermediateChallenge:n.pv});"license-renewal"===d&&(n.log.trace("Received a renewal request"),n.wh=y.Zi.wm,n.jf=R.Bz);n.jf!==R.Kf||n.pv||(n.Q7={no:n.no,data:c},n.Cl(L.fp.Vza));n.jf===R.Bz&&n.Cl(L.fp.Wza);n.XJ&&(n.XJ.next({Ip:c,voa:d,wh:n.wh}),n.wh!==y.Zi.wm||n.pv||(n.XJ.complete(),n.XJ=void 0));n.jf===R.stop&&(n.Vg.I0a(),n.config.hi&&n.qL&&(n.qL.next({Ip:c}),n.qL.complete(),n.qL=void 0));};this.cya=function(a){var b,d;b=n.ki.W2(a).C7;n.PV(a.target.sessionId);n.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{J.lJa.Eqa(b,function(a,b){n.log.trace("key status: "+b);b=ba[b];n.vva.next({uv:new Uint8Array(a),value:b.status});n.qD(b.error)&&(d=new F.Df(b.error),n.x7(d));});}catch(Fa){d=new F.Df(c.I.qOa);d.zI(Fa);}d?n.y7(d):(n.ki.GQ()||n.pva(),n.wh!==y.Zi.It||n.ki.M1()||(n.log.info("Kicking off license renewal",{timeout:n.config.yv}),setTimeout(function(){n.lAa();},n.config.yv.fa(m.ma))));};this.WD=function(a){var b;b=n.ki.io(a);n.log.error("Received event: "+a.type,b);n.Hs(b);n.y7(b);n.Yh||n.Xk||n.x7(b);};this.Hs=function(a){n.Yh&&n.close().subscribe(void 0,function(b){n.log.error("EmeSession closed with an error.",n.ki.io(b));n.Yh&&(n.Yh.error(a),n.Yh=void 0);},function(){n.log.trace("Issuing a generate challenge error");n.Yh&&(n.Yh.error(a),n.Yh=void 0);});};this.ova=function(){n.Yh&&(n.Yh.complete(),n.Yh=void 0);};this.y7=function(a){n.Xk&&(n.log.error("Failed to add license",a),n.close().subscribe(void 0,function(b){n.log.error("EmeSession closed with an error.",n.ki.io(b));n.jf===R.Bz&&n.Cl(L.fp.Sma);n.Yh=void 0;n.Xk&&(n.Xk.error(a),n.Xk=void 0);},function(){n.log.trace("Issuing a license error");n.Yh=void 0;n.Xk&&(n.Xk.error(a),n.Xk=void 0);}));};this.pva=function(){n.Xk&&(n.log.info("Successfully added license"),n.jf===R.Kf?n.Cl(L.fp.Mma):n.jf===R.Bz&&n.Cl(L.fp.Rma),n.Xk.complete(),n.Xk=void 0);};this.x7=function(a){n.qo&&n.close().subscribe(void 0,function(b){n.log.error("EmeSession closed with an error.",n.ki.io(b));n.Yh=void 0;n.Xk=void 0;n.qo&&(n.qo.next(a),n.qo.complete(),n.qo=void 0);},function(){n.log.trace("Issuing a CDM error");n.Yh=void 0;n.Xk=void 0;n.qo&&(n.qo.next(a),n.qo.complete(),n.qo=void 0);});};this.Cl=function(a){n.zc.push({time:n.ya.cc(),Ohb:a});};this.log=a.lb("EmeSession");this.XJ=new h.aj();this.config.hi&&(this.qL=new h.aj());this.vva=new h.QN();this.qo=new h.aj();this.jf=R.Ftb;this.zc=[];}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(102);m=a(3);c=a(2);k=a(23);l=a(7);p=a(41);n=a(30);r=a(64);y=a(77);L=a(438);A=a(895);B=a(168);M=a(234);D=a(894);F=a(87);J=a(893);E=a(892);P=a(62);(function(a){a[a.Ftb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Kf=3]="license";a[a.Bz=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(R||(R={})));ba={usable:{status:A.Uq.ODa},expired:{status:A.Uq.o8a,error:c.I.bha},released:{status:A.Uq.Knb},"output-not-allowed":{status:A.Uq.oya,error:c.I.cha},"output-restricted":{status:A.Uq.oya,error:c.I.jZ},"output-downscaled":{status:A.Uq.ekb},"status-pending":{status:A.Uq.lrb},"internal-error":{status:A.Uq.Tdb,error:c.I.pOa}};b.prototype.cD=function(){return this.context.Pd;};b.prototype.dv=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.jf=R.closed;this.zc=[];return this.Hf.gva()?(this.log.trace("Closing the session"),this.Hf.iAa(this.onMessage),this.Hf.gAa(this.cya),this.Hf.fAa(this.WD),this.ek=void 0,h.Da.create(function(b){a.yj.gl(a.config.hna,a.Hf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(d){a.log.error("Close failed",d);d=a.ki.io(d);d.code=c.I.sOa;b.error(d);});})):h.Da.empty();};b.prototype.Oeb=function(){return this.vva.C1();};b.prototype.TI=function(){return this.qo?this.qo.C1():void 0;};b.prototype.Pp=function(){return this.no;};b.prototype.kv=function(){return void 0!==this.Kf;};b.prototype.js=function(a,b,d,f){var g;g=this;this.wh=f;this.jf=R.create;this.context=a;this.Cl(L.fp.Hva);return h.Da.create(function(h){(d.Xta()?Promise.resolve():g.yj.gl(g.config.ina,g.Hf.opa(a,b)).then(function(a){g.log.trace("Created media keys");d.Pz(a);return g.pZa(a);})).then(function(){g.ek=d.ek;try{g.Hf.js(g.ek,g.ki.b6(f));g.Hf.Nma(g.onMessage);g.Hf.Kma(g.cya);g.Hf.Hma(g.WD);g.PV(g.Hf.dv());h.next(g);h.complete();}catch(za){h.error(new F.Df(c.I.TIa,c.G.$g,void 0,"Unable to create a persisted key session",za));}})["catch"](function(a){a.code&&a.Gc?h.error(a):h.error(new F.Df(c.I.iea,a instanceof P.ym?c.G.DF:c.G.$g,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.eqb=function(a){this.xg=a;this.log.Ema("xid",a.oa);};b.prototype.hS=function(a){var b;b=this;this.jf=R.Kf;this.log.trace("Generating a license challenge");this.Yh=new h.aj();if(!a)return this.E2(new F.Df(c.I.lea,c.G.IX));if(0===a.length)return this.E2(new F.Df(c.I.lea,c.G.HX));this.yj.gl(this.config.jna,this.Hf.bsa("cenc",a)).then(function(){b.PV(b.Hf.dv());})["catch"](function(a){var d;d=new F.Df(c.I.kea,a instanceof P.ym?c.G.DF:c.G.$g);d.message="Unable to generate request.";d.zI(a);b.log.error("Unable to generate a license request",d);b.Hs(d);});this.log.trace("Returning the challenge subject");return this.Yh;};b.prototype.Lma=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.Hs(new F.Df(c.I.mea,c.G.HX))):this.pv?this.yj.gl(this.config.v1,this.Hf.update(a)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.ki.io(a);a.code=c.I.gN;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Hs(a);}):(this.jf===R.Kf&&(this.Cl(L.fp.Uza),this.Kf=a,this.ova()),this.jf===R.Bz&&(this.Cl(L.fp.Xza),this.Kf=a,this.A1())):this.jf===R.Bz?(this.Cl(L.fp.Yza),this.x7(a)):this.Hs(a);};b.prototype.A1=function(){var a,b;a=this;if(!this.Kf)return this.E2(new F.Df(c.I.mea,c.G.IX));this.Xk=new h.aj();b=this.Kf;this.Kf=void 0;this.yj.gl(this.config.v1,this.Hf.update(b)).then(function(){a.ki.GQ()&&a.pva();})["catch"](function(b){b=a.ki.io(b);b.code=c.I.fha;b.message="Unable to update the EME";a.log.error(b.message,b);a.y7(b);});return this.Xk;};b.prototype.YJ=function(){return this.XJ;};b.prototype.K9a=function(){var a;a=this;if(this.jf===R.Kf&&this.wh===y.Zi.It)return h.Da.empty();this.jf=R.stop;this.log.trace("Generating a secure stop challenge");this.Yh=new h.aj();this.Vg=new E.iJa(this.ya,this.config,this.ka,function(){a.log.error("got a timeout error");},"non-persisted");this.Vg.J0a();this.Hf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var d;d=a.ki.io(b);d.code=c.I.oea;d.Gc=c.G.$g;d.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Hs(d);});return this.Yh;};b.prototype.Tma=function(a){a&&a.constructor!==Uint8Array?this.Hs(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Hs(new F.Df(c.I.nea,c.G.HX))):(this.log.trace("Secure stop is ready to apply"),this.cBa=a,this.Vg.Ipb(),this.ova()):(this.log.error("The secure stop buffer is undefined"),this.Hs(new F.Df(c.I.nea,c.G.IX)));};b.prototype.rZa=function(){var a;a=this;if(!this.cBa)return h.Da.from([this]);this.log.trace("Setting the secure stop data");return h.Da.create(function(b){a.Vg.K0a();a.Hf.update(a.cBa).then(function(){a.Vg.roa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(d){var f;a.Vg.roa();f=a.ki.io(d);f.code=c.I.gN;f.Gc=c.G.$g;f.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:d});b.error(f);});});};b.prototype.pZa=function(a){var b,c;b=this;c=this.ki.n5();return c?(c=this.El.decode(c),this.yj.gl(this.config.kna,this.Hf.IBa(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.PV=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.Ema("sessionId",a));};b.prototype.qD=function(a){return a===c.I.jZ?this.config.GU:!!a;};b.prototype.lAa=function(){this.log.trace("Initiating a renewal request");this.wh=y.Zi.wm;this.jf=R.Bz;this.ki.f7(this.Hf);};b.prototype.E2=function(a){var b;b=this;return h.Da.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(l.qb)),g.__param(1,d.l(k.Me)),g.__param(2,d.l(p.Ij)),g.__param(3,d.l(r.Rn)),g.__param(4,d.l(D.gJa)),g.__param(5,d.l(M.NIa)),g.__param(6,d.l(B.PIa)),g.__param(7,d.l(n.mg)),g.__param(8,d.l(P.Xw))],a);f.kJa=a;},function(g,f,a){var d,h,m,c,k,l,p,n,r;function b(a,b,c,d,f,g,h){this.Do=a;this.ya=b;this.me=c;this.config=d;this.ka=f;this.yj=g;this.un=h;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(7);m=a(23);c=a(41);k=a(64);l=a(30);p=a(62);n=a(896);a=a(118);b.prototype.create=function(){var a;a=this;return Promise.all([this.un.S$a(),this.un.R$a(),this.un.Pp()]).then(function(b){var c,d;c=P(b);b=c.next().value;d=c.next().value;c=c.next().value;return new n.kJa(a.Do,a.ya,a.me,a.config,b,d,c,a.ka,a.yj);});};r=b;r=g.__decorate([d.N(),g.__param(0,d.l(h.qb)),g.__param(1,d.l(m.Me)),g.__param(2,d.l(c.Ij)),g.__param(3,d.l(k.Rn)),g.__param(4,d.l(l.mg)),g.__param(5,d.l(p.Xw)),g.__param(6,d.l(a.Sw))],r);f.jJa=r;},function(g,f){function a(a){this.Eja=a;this.Pka=0;}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.next=function(){return this.Eja.length>this.Pka?{value:this.Eja[this.Pka++],done:!1}:{done:!0};};f.$Ea=a;},function(g,f,a){var d,h,m,c,k,l,p,n,r,y;function b(a,b,c,d){this.Td=a;this.qh=b;this.mm=c;this.Lg=d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(22);c=a(99);k=a(98);l=a(898);p=a(87);n=a(62);r=a(77);a=a(64);b.prototype.GQ=function(){return!1;};b.prototype.M1=function(){return!1;};b.prototype.b6=function(a){return this.Lg.hi&&a===r.Zi.wm?"persistent-usage-record":"temporary";};b.prototype.n5=function(){if(this.Lg.Mz)return this.Lg.Mz;};b.prototype.W5=function(){return[];};b.prototype.pv=function(a){return this.Td.Gu(a.message,this.mm.decode("certificate"));};b.prototype.f7=function(a){a.update(this.mm.decode("renew")).then(function(){});};b.prototype.X2=function(a){return{type:a.type,sessionId:a.target.sessionId,message:a.message,Y8:"license-request"};};b.prototype.W2=function(a){var b,c,d,f;b=a.type;a=a.target.sessionId;c=l.$Ea;d=[1];f=new ArrayBuffer(d.length);f=new Uint8Array(f);f.set(d);return{type:b,sessionId:a,C7:new c([[f,"usable"]])};};b.prototype.io=function(a){var b,c,d;b=a.target.error;b&&(c=b.systemCode,d=b.code);b=new p.Df(h.I.NN,a instanceof n.ym?h.G.DF:h.G.wA,c?this.qh.eJ(c,4):d,"",b);b.zI(a);return b;};y=b;y=g.__decorate([d.N(),g.__param(0,d.l(m.af)),g.__param(1,d.l(c.Cw)),g.__param(2,d.l(k.fx)),g.__param(3,d.l(a.Rn))],y);f.KQa=y;},function(g,f,a){var d,h,m,c,k,l,p,n,r;function b(a,b,c,d){var f;f=this;this.oc=a;this.JW=b;this.El=c;this.Rua=function(a){return/com.apple.fps/.test(a)&&!/com.apple.fps.2_0/.test(a);};this.q4a=function(a){var b;a=function(a){var c,d;function b(a,b,c){var d,f;d=new Uint8Array("piff"==a?88:72);f=new h.uA(d);f.Oq(12);f.Mq("frma");f.Mq("avc1");f.Oq(20);f.Mq("schm");f.pF(0);f.pF(0);f.Mq(a);f.Oq(b);"piff"==a?(f.Oq(56),f.Mq("schi"),f.Oq(48),f.Mq("uuid"),f.mA(new Uint8Array([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84]))):(f.Oq(40),f.Mq("schi"),f.Oq(32),f.Mq("tenc"));f.pF(0);f.pF(0);f.Oq(264);f.mA(c);return d;}c=b("piff",65537,a);c=f.JW.decode(f.El.encode(c));a=b("cenc",65536,a);a=f.JW.decode(f.El.encode(a));d=new Uint8Array(7+c.length+8+a.length+5);d.set([91,10,32,32,32,32,34],0);d.set(c,7);d.set([34,44,10,32,32,32,32,34],7+c.length);d.set(a,7+c.length+8);d.set([34,10,32,32,93],7+c.length+8+a.length);return d;}(a);b=new Uint8Array(13+a.length+2);b.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);b.set(a,13);b.set([10,125],13+a.length);return b;};this.xab=function(a){var b;a=a.subarray(14,30);a=f.El.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.pob=function(){f.ej.forEach(function(a){f.V&&f.V.addEventListener(a.name,a.jv);});f.ej.length=0;};this.ej=[];this.log=d.lb("EmeFactory");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(131);m=a(1);c=a(2);k=a(22);l=a(98);p=a(41);n=a(7);r=a(8);b.prototype.dv=function(){if(this.V)return this.V.sessionId;};b.prototype.qAa=function(a){this.QG=a;return Promise.resolve({});};b.prototype.opa=function(a){var d;function b(){var b,c;b=d.oc.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,void 0);c=b.lastChild;d.cma=b;a.La=r.Jd.createElement("VIDEO");c?d.cma.insertBefore(a.La,c):d.cma.appendChild(a.La);}d=this;return new Promise(function(f,g){function h(){try{d.vr=new J.WebKitMediaKeys(d.QG);a.La.webkitSetMediaKeys(d.vr);f(d.vr);}catch(Q){d.log.error("CREATE: Exception on webkitSetMediaKeys",Q);g({X:!1,code:c.I.EZ,Ra:d.oc.qd(Q)});}}if(d.Rua(d.QG))try{d.vr=new J.WebKitMediaKeys(d.QG);a.La&&a.La.webkitSetMediaKeys(d.vr);f(d.vr);}catch(Q){g({X:!1,code:c.I.EZ,Ra:d.oc.qd(Q)});}else{try{d.vr=new J.WebKitMediaKeys(d.QG);}catch(Q){g({X:!1,code:c.I.EZ,Ra:d.oc.qd(Q)});}a.La?a.La.webkitSetMediaKeys(d.vr):(b(),d.Pe=new r.LA(),d.Pe.addEventListener("sourceopen",h),d.Ai=URL.createObjectURL(d.Pe),a.La.src=d.Ai);f(d.vr);}});};b.prototype.js=function(){};b.prototype.gva=function(){return!!this.V;};b.prototype.IBa=function(){return Promise.resolve();};b.prototype.bsa=function(a,b){try{return this.Rua(this.QG)&&(b=this.q4a(this.xab(b))),this.V=this.vr.createSession("video/mp4",b,null),this.pob(),Promise.resolve();}catch(A){return Promise.reject(A);}};b.prototype.update=function(a){if(!this.V)throw ReferenceError("Unable to update the EME with a response, key session is not valid");try{return this.V.update(a),Promise.resolve();}catch(L){return Promise.reject(L);}};b.prototype.load=function(){return Promise.resolve(!0);};b.prototype.close=function(){if(!this.V)throw ReferenceError("Unable to close a key session, key session is not valid");try{return this.V.close(),Promise.resolve();}catch(y){return Promise.reject(y);}finally{this.V=void 0;}};b.prototype.remove=function(){if(!this.V)throw ReferenceError("Unable to remove a key session, key session is not valid");try{return this.V.close(),Promise.resolve();}catch(y){return Promise.reject(y);}};b.prototype.Nma=function(a){this.V?this.V.addEventListener(d.yA,a):this.ej.push({name:d.yA,jv:a});};b.prototype.Kma=function(a){this.V?this.V.addEventListener(d.KX,a):this.ej.push({name:d.KX,jv:a});};b.prototype.Hma=function(a){this.V?this.V.addEventListener(d.xA,a):this.ej.push({name:d.xA,jv:a});};b.prototype.iAa=function(a){if(!this.V)throw ReferenceError("Unable to remove message handler, key session is not valid");this.V.removeEventListener(d.yA,a);};b.prototype.gAa=function(a){if(!this.V)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.V.removeEventListener(d.KX,a);};b.prototype.fAa=function(a){if(!this.V)throw ReferenceError("Unable to remove error handler, key session is not valid");this.V.removeEventListener(d.xA,a);};a=d=b;a.yA="webkitkeymessage";a.KX="webkitkeyadded";a.xA="webkitkeyerror";a=d=g.__decorate([m.N(),g.__param(0,m.l(k.af)),g.__param(1,m.l(l.fx)),g.__param(2,m.l(p.Ij)),g.__param(3,m.l(n.qb))],a);f.HJa=a;},function(g,f,a){var d,h,m,c,k,l,p,n,r;function b(a,b,c,d){this.Td=a;this.qh=b;this.Lg=c;this.config=d;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(22);c=a(99);k=a(234);l=a(87);p=a(62);n=a(64);a=a(17);b.prototype.GQ=function(){return!0;};b.prototype.M1=function(){return!0;};b.prototype.b6=function(){return"temporary";};b.prototype.n5=function(){return this.Lg.Mz?this.Lg.Mz:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.W5=function(){var a,b;a=[{contentType:k.pl,robustness:"HW_SECURE_DECODE"},{contentType:k.pl,robustness:"SW_SECURE_DECODE"},{contentType:k.pl,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.pl,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.Pw,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().Mra?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.pv=function(a){return this.Td.Gu(a.message,new Uint8Array([8,4]));};b.prototype.f7=function(){};b.prototype.X2=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),Y8:a.messageType};};b.prototype.W2=function(a){return{type:a.type,sessionId:a.target.sessionId,C7:a.target.keyStatuses.entries()};};b.prototype.io=function(a){var b,c,d;b=new l.Df(h.I.NN);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Gc=1<=c&&9>=c?h.G.wA+c:h.G.wA):b.Gc=a instanceof p.ym?h.G.DF:h.G.$g;try{d=a.message.match(/\((\d*)\)/)[1];b.sg=this.qh.eJ(d,4);}catch(M){}b.zI(a);return b;};r=b;r=g.__decorate([d.N(),g.__param(0,d.l(m.af)),g.__param(1,d.l(c.Cw)),g.__param(2,d.l(n.Rn)),g.__param(3,d.l(a.gd))],r);f.NGa=r;},function(g,f,a){var d,h;function b(a){return h.BZ.apply(this,arguments)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(439);aa(b,h.BZ);a=b;a=g.__decorate([d.N()],a);f.KPa=a;},function(g,f,a){var d,h,m,c,k,l,p,n,r;function b(a,b,c){this.qh=a;this.me=b;this.Lg=c;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(99);c=a(41);k=a(234);l=a(87);p=a(77);n=a(64);r=a(62);b.prototype.GQ=function(){return!0;};b.prototype.M1=function(){return!1;};b.prototype.b6=function(a){return this.Lg.hi&&a===p.Zi.wm?"persistent-usage-record":"temporary";};b.prototype.n5=function(){if(this.Lg.Mz)return this.Lg.Mz;};b.prototype.W5=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.Pw}],videoCapabilities:[{contentType:k.pl}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.pv=function(){return!1;};b.prototype.f7=function(){};b.prototype.X2=function(a){var b;b=new Uint8Array(a.message);b=this.z4(b,"PlayReadyKeyMessage","Challenge");b=this.me.decode(b);return{type:a.type,sessionId:a.target.sessionId,message:b,Y8:a.messageType};};b.prototype.W2=function(a){return{type:a.type,sessionId:a.target.sessionId,C7:a.target.keyStatuses.entries()};};b.prototype.io=function(a){var b,c;b=new l.Df(h.I.NN);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Gc=1<=c&&9>=c?h.G.wA+c:h.G.wA):b.Gc=a instanceof r.ym?h.G.DF:h.G.$g;try{b.sg=this.qh.eJ(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(B){}b.zI(a);return b;};b.prototype.z4=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};a=b;a=g.__decorate([d.N(),g.__param(0,d.l(m.Cw)),g.__param(1,d.l(c.Ij)),g.__param(2,d.l(n.Rn))],a);f.fJa=a;},function(g,f,a){var d,h,m,c,k,l,p,n,r,y,D,A,B,M,F,Q,J,E,P,R;function b(a,b,c,d,f,g,h,k,m){this.Do=a;this.Td=b;this.mm=c;this.qh=d;this.me=f;this.is=g;this.oU=h;this.config=k;this.Lg=m;this.log=this.Do.lb("MediaKeySystemAccessServices");}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(2);m=a(7);c=a(87);k=a(168);l=a(903);p=a(902);n=a(901);r=a(439);y=a(22);D=a(99);A=a(41);B=a(21);M=a(37);F=a(900);Q=a(899);J=a(98);E=a(17);P=a(136);a=a(64);b.prototype.lJ=function(){this.lE||(this.lE=this.Fob());return this.lE;};b.prototype.e4a=function(a){var b;b=this;return new Promise(function(d,f){var g,k;g=P.ib.u5(a);k=b.Lsa(g);g=b.Isa(g);k.qAa(a,g.W5()).then(function(c){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:c.getConfiguration?JSON.stringify(c.getConfiguration()):void 0});d(c);})["catch"](function(d){b.log.error("Unable to create the media key system access object",{keySystem:a,error:d.message});f(new c.Df(h.I.jea,h.G.$g,void 0,"Unable to create media keys system access. "+d.message,d));});});};b.prototype.Pp=function(){var a;a=this;return this.lJ().then(function(b){return a.Jsa(b);});};b.prototype.Q$a=function(){var a,b;a=this;b=this.config().wva||[this.config().Pd];if(1<b.length)return this.lJ().then(function(b){return a.Jsa(b);}).then(function(a){return P.ib.Hsa(a);});b=P.ib.u5(b[0]);return Promise.resolve(P.ib.Hsa(b));};b.prototype.R$a=function(){var a;a=this;return this.Pp().then(function(b){return a.Isa(b);});};b.prototype.S$a=function(){var a;a=this;return this.Pp().then(function(b){return a.Lsa(b);});};b.prototype.Jsa=function(a){return P.ib.u5(a.keySystem);};b.prototype.Isa=function(a){switch(a){case k.Qn.pz:return new l.fJa(this.qh,this.me,this.Lg);case k.Qn.VC:return new Q.KQa(this.Td,this.qh,this.mm,this.Lg);default:return new n.NGa(this.Td,this.qh,this.Lg,this.config);}};b.prototype.Lsa=function(a){switch(a){case k.Qn.pz:return new p.KPa(this.oU,this.is);case k.Qn.VC:return new F.HJa(this.Td,this.mm,this.me,this.Do);default:return new r.BZ(this.oU,this.is);}};b.prototype.Fob=function(){var a,b;a=this;b=(this.config().wva||[this.config().Pd]).map(function(b){return function(){return a.e4a(b);};});return this.Gob(b);};b.prototype.Gob=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};R=b;R=g.__decorate([d.N(),g.__param(0,d.l(m.qb)),g.__param(1,d.l(y.af)),g.__param(2,d.l(J.fx)),g.__param(3,d.l(D.Cw)),g.__param(4,d.l(A.Ij)),g.__param(5,d.l(B.se)),g.__param(6,d.l(M.OA)),g.__param(7,d.l(E.gd)),g.__param(8,d.l(a.Rn))],R);f.OMa=R;},function(g,f,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);d=a(78);a=a(79);g=function(a){function c(b){a.call(this);this.ijb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.Tf=function(a){return new h(a,this.ijb);};return c;}(g.Da);f.sIa=g;h=function(a){function c(b,c){a.call(this,b);this.Uu=c;this.vtb();}b(c,a);c.prototype.vtb=function(){try{this.iTa();}catch(k){this.Zc(k);}};c.prototype.iTa=function(){var a;a=this.Uu();a&&this.add(d.ft(this,a));};return c;}(a.er);},function(g,f,a){g=a(905);f.defer=g.sIa.create;},function(g,f,a){g=a(10);a=a(906);g.Da.defer=a.defer;},function(g,f,a){g=a(10);a=a(449);g.Da.from=a.from;},function(g,f,a){var d,h,m,c,k,l,p,n,r,y,D;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.xw(a).ag(new p(b));}d=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(100);m=a(101);g=a(46);c=a(79);k=a(78);l=a(165);f.xca=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.ag.call(b.apply(void 0,[c].concat(a)));};};f.pvb=b;p=function(){function a(a){this.yg=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.yg));};return a;}();f.tDb=p;n=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.z7=[];this.active=0;this.yg="function"===typeof c?c:null;this.values=d;}d(b,a);b.prototype.jh=function(a){var b;b=this.z7;m.isArray(a)?b.push(new y(a)):"function"===typeof a[l.iterator]?b.push(new r(a[l.iterator]())):b.push(new D(this.destination,this,a));};b.prototype.ec=function(){var a,b,d;a=this.z7;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.mrb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.Sib=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.U0a=function(){var f,k;for(var a=this.z7,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.vo&&!f.vo())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];k=f.next();f.kD()&&(g=!0);if(k.done){c.complete();return;}h.push(k.value);}this.yg?this.T0(h):c.next(h);g&&c.complete();};b.prototype.T0=function(a){var b;try{b=this.yg.apply(this,a);}catch(Q){this.destination.error(Q);return;}this.destination.next(b);};return b;}(g.pi);f.uDb=n;r=function(){function a(a){this.iterator=a;this.r9=a.next();}a.prototype.vo=function(){return!0;};a.prototype.next=function(){var a;a=this.r9;this.r9=this.iterator.next();return a;};a.prototype.kD=function(){var a;a=this.r9;return a&&a.done;};return a;}();y=function(){function a(a){this.Dp=a;this.length=this.index=0;this.length=a.length;}a.prototype[l.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.Dp;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.vo=function(){return this.Dp.length>this.index;};a.prototype.kD=function(){return this.Dp.length===this.index;};return a;}();D=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.mrb=!0;this.buffer=[];this.k7=!1;}d(b,a);b.prototype[l.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.k7?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.vo=function(){return 0<this.buffer.length;};b.prototype.kD=function(){return 0===this.buffer.length&&this.k7;};b.prototype.al=function(){0<this.buffer.length?(this.k7=!0,this.parent.Sib()):this.destination.complete();};b.prototype.gz=function(a,b){this.buffer.push(b);this.parent.U0a();};b.prototype.subscribe=function(a,b){return k.ft(this,this.observable,this,b);};return b;}(c.er);},function(g,f,a){g=a(909);f.xca=g.pvb;},function(g,f,a){g=a(10);a=a(910);g.Da.xca=a.xca;},function(g,f,a){var b,d,h,m,c,k,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(100);h=a(101);g=a(79);m=a(78);c={};f.I2=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.ag.call(new d.xw([b].concat(a)),new k(c));};};k=function(){function a(a){this.yg=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.yg));};return a;}();f.VGa=k;l=function(a){function d(b,c){a.call(this,b);this.yg=c;this.active=0;this.values=[];this.Wxa=[];}b(d,a);d.prototype.jh=function(a){this.values.push(c);this.Wxa.push(a);};d.prototype.ec=function(){var a,b,d;a=this.Wxa;b=a.length;if(0===b)this.destination.complete();else{this.Qba=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(m.ft(this,d,d,c));}}};d.prototype.al=function(){0===--this.active&&this.destination.complete();};d.prototype.gz=function(a,b,d){var f;a=this.values;f=a[d];f=this.Qba?f===c?--this.Qba:this.Qba:0;a[d]=b;0===f&&(this.yg?this.T0(a):this.destination.next(a.slice()));};d.prototype.T0=function(a){var b;try{b=this.yg.apply(this,a);}catch(L){this.destination.error(L);return;}this.destination.next(b);};return d;}(g.er);f.Qwb=l;},function(g,f,a){var b,d,h,m;b=a(117);d=a(101);h=a(100);m=a(912);f.I2=function(){var g;for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];g=f=null;b.Fy(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(f=a.pop());1===a.length&&d.isArray(a[0])&&(a=a[0]);return new h.xw(a,g).ag(new m.VGa(f));};},function(g,f,a){g=a(10);a=a(913);g.Da.I2=a.I2;},function(g,f,a){var b,d,h,m,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(442);g=a(10);h=a(164);m=a(117);c=a(444);a=function(a){function f(b,f,g){void 0===b&&(b=0);a.call(this);this.Rs=-1;this.Cqa=0;d.Zua(f)?this.Rs=1>Number(f)&&1||Number(f):m.Fy(f)&&(g=f);m.Fy(g)||(g=h.async);this.ka=g;this.Cqa=c.l7(b)?+b-this.ka.now():b;}b(f,a);f.create=function(a,b,c){void 0===a&&(a=0);return new f(a,b,c);};f.zb=function(a){var b,c,d;b=a.index;c=a.Rs;d=a.zf;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.Jb(a,c);}};f.prototype.Tf=function(a){return this.ka.Jb(f.zb,this.Cqa,{index:0,Rs:this.Rs,zf:a});};return f;}(g.Da);f.JRa=a;},function(g,f,a){g=a(915);f.jt=g.JRa.create;},function(g,f,a){g=a(10);a=a(916);g.Da.jt=a.jt;},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this);this.error=b;this.ka=c;}b(d,a);d.create=function(a,b){return new d(a,b);};d.zb=function(a){a.zf.error(a.error);};d.prototype.Tf=function(a){var b,f;b=this.error;f=this.ka;a.mk=!0;if(f)return f.Jb(d.zb,0,{error:b,zf:a});a.error(b);};return d;}(a(10).Da);f.tJa=g;},function(g,f,a){g=a(918);f.HXa=g.tJa.create;},function(g,f,a){g=a(10);a=a(919);g.Da["throw"]=a.HXa;},function(g,f,a){g=a(443);f.iz=g.Fjb;},function(g,f,a){g=a(10);a=a(921);g.Da.iz=a.iz;},function(g,f,a){g=a(10);a=a(450);g.Da.of=a.of;},function(g,f,a){var b,d,h,l;b=a(10);d=a(100);h=a(117);l=a(235);f.X8=function(){var f,g,m;for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];f=Number.POSITIVE_INFINITY;g=null;m=a[a.length-1];h.Fy(m)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(f=a.pop())):"number"===typeof m&&(f=a.pop());return null===g&&1===a.length&&a[0]instanceof b.Da?a[0]:l.Gv(f)(new d.xw(a,g));};},function(g,f,a){g=a(10);a=a(924);g.Da.X8=a.X8;},function(g,f,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(442);g=a(10);h=a(164);a=function(a){function c(b,c){void 0===b&&(b=0);void 0===c&&(c=h.async);a.call(this);this.Rs=b;this.ka=c;if(!d.Zua(b)||0>b)this.Rs=0;c&&"function"===typeof c.Jb||(this.ka=h.async);}b(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new c(a,b);};c.zb=function(a){var b,c;b=a.zf;c=a.Rs;b.next(a.index);b.closed||(a.index+=1,this.Jb(a,c));};c.prototype.Tf=function(a){var b;b=this.Rs;a.add(this.ka.Jb(c.zb,b,{index:0,zf:a,Rs:b}));};return c;}(g.Da);f.oLa=a;},function(g,f,a){g=a(926);f.interval=g.oLa.create;},function(g,f,a){g=a(10);a=a(927);g.Da.interval=a.interval;},function(g,f,a){g=a(447);f.Yu=g.cia.create;},function(g,f,a){g=a(10);a=a(929);g.Da.Yu=a.Yu;},function(g,f,a){g=a(132);f.empty=g.FF.create;},function(g,f,a){g=a(10);a=a(931);g.Da.empty=a.empty;},function(g,f,a){g=a(10);a=a(133);g.Da.concat=a.concat;},function(g,f,a){var b,d,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);d=a(78);f.pW=function(a,b){return function(c){return c.ag(new h(a,b));};};h=function(){function a(a,b){this.yg=a;this.jk=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.yg,this.jk));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.yg=c;this.jk=d;this.index=0;}b(c,a);c.prototype.jh=function(a){var b,c;c=this.index++;try{b=this.yg(a,c);}catch(z){this.destination.error(z);return;}this.P_(b,a,c);};c.prototype.P_=function(a,b,c){var f;f=this.gT;f&&f.unsubscribe();this.add(this.gT=d.ft(this,a,b,c));};c.prototype.ec=function(){var b;b=this.gT;b&&!b.closed||a.prototype.ec.call(this);};c.prototype.Ir=function(){this.gT=null;};c.prototype.al=function(b){this.remove(b);this.gT=null;this.We&&a.prototype.ec.call(this);};c.prototype.gz=function(a,b,c,d){this.jk?this.OXa(a,b,c,d):this.destination.next(b);};c.prototype.OXa=function(a,b,c,d){var f;try{f=this.jk(a,b,c,d);}catch(L){this.destination.error(L);return;}this.destination.next(f);};return c;}(g.er);},function(g,f,a){var b;b=a(934);f.pW=function(a,f){return b.pW(a,f)(this);};},function(g,f,a){g=a(10);a=a(935);g.Da.prototype.pW=a.pW;},function(g,f,a){var b,d;b=a(456);f.tib=function(a,f){return function(c){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof f)return c.ag(new d(g,f));h=Object.create(c,b.O1a);h.source=c;h.nW=g;return h;};};d=function(){function a(a,b){this.nW=a;this.wL=b;}a.prototype.call=function(a,b){var c,d;c=this.wL;d=this.nW();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();f.Qzb=d;},function(g,f,a){var b,d;b=a(458);d=a(937);f.fV=function(a,f,c,g){var h,k;c&&"function"!==typeof c&&(g=c);h="function"===typeof c?c:void 0;k=new b.QN(a,f,g);return function(a){return d.tib(function(){return k;},h)(a);};};},function(g,f,a){var b;b=a(938);f.fV=function(a,f,g,c){return b.fV(a,f,g,c)(this);};},function(g,f,a){g=a(10);a=a(939);g.Da.prototype.fV=a.fV;},function(g,f,a){var b,d,h,l,c;b=a(100);d=a(236);h=a(132);l=a(133);c=a(117);f.fW=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];return function(f){var g,k;g=a[a.length-1];c.Fy(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new d.HZ(a[0],g),f):1<k?l.concat(new b.xw(a,g),f):l.concat(new h.FF(g),f);};};},function(g,f,a){var b;b=a(941);f.fW=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];return b.fW.apply(void 0,a)(this);};},function(g,f,a){g=a(10);a=a(942);g.Da.prototype.fW=a.fW;},function(){},function(g,f,a){var b,d,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);d=a(78);f.eM=function(a){return function(b){return b.ag(new h(a));};};h=function(){function a(a){this.$a=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.$a));};return a;}();l=function(a){function c(b,c){a.call(this,b);this.$a=c;this.add(d.ft(this,c));}b(c,a);c.prototype.gz=function(){this.complete();};c.prototype.al=function(){};return c;}(g.er);},function(g,f,a){var b;b=a(945);f.eM=function(a){return b.eM(a)(this);};},function(g,f,a){g=a(10);a=a(946);g.Da.prototype.eM=a.eM;},function(g,f){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);f.YEa=g;},function(g,f,a){var b,d,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);d=a(948);h=a(132);f.SE=function(a){return function(b){return 0===a?new h.FF():b.ag(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new d.YEa();}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.total));};return a;}();c=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.jh=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(g.pi);},function(g,f,a){var b;b=a(949);f.SE=function(a){return b.SE(a)(this);};},function(g,f,a){g=a(10);a=a(950);g.Da.prototype.SE=a.SE;},function(g,f,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);f.HL=function(a){return function(b){return b.ag(new d(a));};};d=function(){function a(a){this.Wv=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Wv));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Wv=c;this.iba=!0;this.index=0;}b(c,a);c.prototype.jh=function(a){var b;b=this.destination;this.iba&&this.utb(a);this.iba||b.next(a);};c.prototype.utb=function(a){try{this.iba=!!this.Wv(a,this.index++);}catch(q){this.destination.error(q);}};return c;}(g.pi);},function(g,f,a){var b;b=a(952);f.HL=function(a){return b.HL(a)(this);};},function(g,f,a){g=a(10);a=a(953);g.Da.prototype.HL=a.HL;},function(g,f,a){var b;b=a(443);f.iz=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];return b.iz.apply(void 0,a)(this);};},function(g,f,a){g=a(10);a=a(955);g.Da.prototype.iz=a.iz;},function(g,f,a){var b;b=a(445);f.MD=function(a,f,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return b.MD(a,f,g)(this);};},function(g,f,a){g=a(10);a=a(957);g.Da.prototype.MD=a.MD;g.Da.prototype.xs=a.MD;},function(g,f,a){var b;b=a(235);f.Gv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Gv(a)(this);};},function(g,f,a){g=a(10);a=a(959);g.Da.prototype.Gv=a.Gv;},function(g,f,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);f.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.ag(new d(a,b));};};d=function(){function a(a,b){this.yg=a;this.Eba=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.yg,this.Eba));};return a;}();f.Jzb=d;h=function(a){function c(b,c,d){a.call(this,b);this.yg=c;this.count=0;this.Eba=d||this;}b(c,a);c.prototype.jh=function(a){var b;try{b=this.yg.call(this.Eba,a,this.count++);}catch(p){this.destination.error(p);return;}this.destination.next(b);};return c;}(g.pi);},function(g,f,a){var b;b=a(961);f.map=function(a,f){return b.map(a,f)(this);};},function(g,f,a){g=a(10);a=a(962);g.Da.prototype.map=a.map;},function(g,f){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);f.mJa=g;},function(g,f,a){var b,d,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);d=a(964);f.Rg=function(a,b,d){return function(c){return c.ag(new h(a,b,d,c));};};h=function(){function a(a,b,c,d){this.Wv=a;this.jk=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Wv,this.jk,this.defaultValue,this.source));};return a;}();l=function(a){function c(b,c,d,f,g){a.call(this,b);this.Wv=c;this.jk=d;this.defaultValue=f;this.source=g;this.vo=!1;this.index=0;"undefined"!==typeof f&&(this.AT=f,this.vo=!0);}b(c,a);c.prototype.jh=function(a){var b;b=this.index++;this.Wv?this.PXa(a,b):this.jk?this.sma(a,b):(this.AT=a,this.vo=!0);};c.prototype.PXa=function(a,b){var c;try{c=this.Wv(a,b,this.source);}catch(z){this.destination.error(z);return;}c&&(this.jk?this.sma(a,b):(this.AT=a,this.vo=!0));};c.prototype.sma=function(a,b){var c;try{c=this.jk(a,b);}catch(z){this.destination.error(z);return;}this.AT=c;this.vo=!0;};c.prototype.ec=function(){var a;a=this.destination;this.vo?(a.next(this.AT),a.complete()):a.error(new d.mJa());};return c;}(g.pi);},function(g,f,a){var b;b=a(965);f.Rg=function(a,f,g){return b.Rg(a,f,g)(this);};},function(g,f,a){g=a(10);a=a(966);g.Da.prototype.Rg=a.Rg;},function(g,f,a){var b,d,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(46);f.ksb=function(a,b,d){return function(c){return c.ag(new h(a,b,d));};};h=function(){function a(a,b,c){this.Gib=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Gib,this.error,this.complete));};return a;}();l=function(a){function c(b,c,f,g){a.call(this,b);b=new d.pi(c,f,g);b.mk=!0;this.add(b);this.haa=b;}b(c,a);c.prototype.jh=function(a){var b;b=this.haa;b.next(a);b.Uz?this.destination.error(b.Vz):this.destination.next(a);};c.prototype.Zc=function(a){var b;b=this.haa;b.error(a);b.Uz?this.destination.error(b.Vz):this.destination.error(a);};c.prototype.ec=function(){var a;a=this.haa;a.complete();a.Uz?this.destination.error(a.Vz):this.destination.complete();};return c;}(d.pi);},function(g,f,a){var b;b=a(968);f.A_=function(a,f,g){return b.ksb(a,f,g)(this);};},function(g,f,a){g=a(10);a=a(969);g.Da.prototype.BI=a.A_;g.Da.prototype.A_=a.A_;},function(g,f,a){function b(){return function(){function a(){this.Fk=[];}a.prototype.add=function(a){this.has(a)||this.Fk.push(a);};a.prototype.has=function(a){return-1!==this.Fk.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Fk.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Fk.length=0;};return a;}();}g=a(80);f.kIb=b;f.Set=g.root.Set||b();},function(g,f,a){var b,d,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);d=a(78);h=a(971);f.nR=function(a,b){return function(c){return c.ag(new l(a,b));};};l=function(){function a(a,b){this.tT=a;this.i9a=b;}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.tT,this.i9a));};return a;}();c=function(a){function c(b,c,f){a.call(this,b);this.tT=c;this.values=new h.Set();f&&this.add(d.ft(this,f));}b(c,a);c.prototype.gz=function(){this.values.clear();};c.prototype.x9=function(a){this.Zc(a);};c.prototype.jh=function(a){this.tT?this.$Xa(a):this.uka(a,a);};c.prototype.$Xa=function(a){var b,c;c=this.destination;try{b=this.tT(a);}catch(y){c.error(y);return;}this.uka(b,a);};c.prototype.uka=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(g.er);f.rxb=c;},function(g,f,a){var b;b=a(972);f.nR=function(a,f){return b.nR(a,f)(this);};},function(g,f,a){g=a(10);a=a(973);g.Da.prototype.nR=a.nR;},function(g,f,a){var b,d,h,l,c,k,n;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(164);h=a(444);g=a(46);l=a(237);f.Cd=function(a,b){var f;void 0===b&&(b=d.async);f=h.l7(a)?+a-b.now():Math.abs(a);return function(a){return a.ag(new c(f,b));};};c=function(){function a(a,b){this.Cd=a;this.ka=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Cd,this.ka));};return a;}();k=function(a){function c(b,c,d){a.call(this,b);this.Cd=c;this.ka=d;this.ei=[];this.bra=this.active=!1;}b(c,a);c.zb=function(a){for(var b=a.source,c=b.ei,d=a.ka,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.Jb(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.$Wa=function(a){this.active=!0;this.add(a.Jb(c.zb,this.Cd,{source:this,destination:this.destination,ka:a}));};c.prototype.YAa=function(a){var b;if(!0!==this.bra){b=this.ka;a=new n(b.now()+this.Cd,a);this.ei.push(a);!1===this.active&&this.$Wa(b);}};c.prototype.jh=function(a){this.YAa(l.Notification.f3(a));};c.prototype.Zc=function(a){this.bra=!0;this.ei=[];this.destination.error(a);};c.prototype.ec=function(){this.YAa(l.Notification.a3());};return c;}(g.pi);n=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,f,a){var b,d;b=a(164);d=a(975);f.Cd=function(a,f){void 0===f&&(f=b.async);return d.Cd(a,f)(this);};},function(g,f,a){g=a(10);a=a(976);g.Da.prototype.Cd=a.Cd;},function(g,f,a){var b;b=a(446);f.cI=function(){return b.cI()(this);};},function(g,f,a){g=a(10);a=a(978);g.Da.prototype.cI=a.cI;},function(g,f){f.qdb=function(a){return a;};},function(g,f,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);d=a(236);h=a(132);a=function(a){function c(b,c){a.call(this);this.B1=b;(this.ka=c)||1!==b.length||(this.ur=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var f;f=a.length;return 0===f?new h.FF():1===f?new d.HZ(a[0],b):new c(a,b);};c.zb=function(a){var b,c,d;b=a.B1;c=a.index;d=a.zf;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Jb(a)));};c.prototype.Tf=function(a){var b,d,f;b=this.B1;d=this.ka;f=b.length;if(d)return d.Jb(c.zb,0,{B1:b,index:0,length:f,zf:a});for(d=0;d<f&&!a.closed;d++)a.next(b[d]);a.complete();};return c;}(g.Da);f.aFa=a;},function(g,f,a){var b,d,h,l,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(80);g=a(10);h=a(165);a=function(a){function d(b,d){a.call(this);this.ka=d;if(null==b)throw Error("iterator cannot be null.");if((d=b[h.iterator])||"string"!==typeof b)if(d||void 0===b.length){if(!d)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new c(b);else b=new l(b);this.iterator=b;}b(d,a);d.create=function(a,b){return new d(a,b);};d.zb=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.zf;if(a.vJ)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Jb(a));}};d.prototype.Tf=function(a){var b,c;b=this.iterator;c=this.ka;if(c)return c.Jb(d.zb,0,{index:0,iterator:b,zf:a});do{c=b.next();if(c.done){a.complete();break;}else a.next(c.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return d;}(g.Da);f.sLa=a;l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.iw=a;this.CJ=b;this.P7=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.CJ<this.P7?{done:!1,value:this.iw.charAt(this.CJ++)}:{done:!0,value:void 0};};return a;}();c=function(){function a(a,b,c){var f;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&d.root.isFinite(c)){f=+c;c=(0===f||isNaN(f)?f:0>f?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>k?k:c;}this.sZa=a;this.CJ=b;this.P7=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.CJ<this.P7?{done:!1,value:this.sZa[this.CJ++]}:{done:!0,value:void 0};};return a;}();k=Math.pow(2,53)-1;},function(g,f,a){var b;b=a(133);g=a(133);f.K1a=g.concat;f.concat=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];return function(d){return d.ag.call(b.concat.apply(void 0,[d].concat(a)));};};},function(g,f,a){var b;b=a(983);g=a(133);f.K1a=g.concat;f.concat=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];return b.concat.apply(void 0,a)(this);};},function(g,f,a){g=a(10);a=a(984);g.Da.prototype.concat=a.concat;},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c,d){a.call(this);this.parent=b;this.dkb=c;this.ckb=d;this.index=0;}b(d,a);d.prototype.jh=function(a){this.parent.gz(this.dkb,a,this.ckb,this.index++,this);};d.prototype.Zc=function(a){this.parent.x9(a,this);this.unsubscribe();};d.prototype.ec=function(){this.parent.al(this);this.unsubscribe();};return d;}(a(46).pi);f.wfa=g;},function(g,f,a){var b,d,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);d=a(78);f.G0a=function(a){return function(b){var c;c=new h(a);b=b.ag(c);return c.m2=b;};};h=function(){function a(a){this.wL=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.wL,this.m2));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.wL=c;this.m2=d;}b(c,a);c.prototype.error=function(b){var c;if(!this.We){c=void 0;try{c=this.wL(b,this.m2);}catch(u){a.prototype.error.call(this,u);return;}this.SXa();this.add(d.ft(this,c));}};return c;}(g.er);},function(g,f,a){var b;b=a(987);f.o_=function(a){return b.G0a(a)(this);};},function(g,f,a){g=a(10);a=a(988);g.Da.prototype["catch"]=a.o_;g.Da.prototype.o_=a.o_;},function(g,f,a){var b,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(239);a=function(a){function f(b,f){var c;c=this;void 0===b&&(b=d);void 0===f&&(f=Number.POSITIVE_INFINITY);a.call(this,b,function(){return c.frame;});this.Ygb=f;this.frame=0;this.index=-1;}b(f,a);f.prototype.flush=function(){for(var a=this.Uj,b=this.Ygb,d,f;(f=a.shift())&&(this.frame=f.Cd)<=b&&!(d=f.Ue(f.state,f.Cd)););if(d){for(;f=a.shift();)f.unsubscribe();throw d;}};f.a5=10;return f;}(a(238).dX);f.qSa=a;d=function(a){function d(b,d,f){void 0===f&&(f=b.index+=1);a.call(this,b,d);this.ka=b;this.GM=d;this.index=f;this.active=!0;this.index=b.index=f;}b(d,a);d.prototype.Jb=function(b,f){var c;void 0===f&&(f=0);if(!this.id)return a.prototype.Jb.call(this,b,f);this.active=!1;c=new d(this.ka,this.GM);this.add(c);return c.Jb(b,f);};d.prototype.vV=function(a,b,f){void 0===f&&(f=0);this.Cd=a.frame+f;a=a.Uj;a.push(this);a.sort(d.Xqb);return!0;};d.prototype.pV=function(){};d.prototype.JO=function(b,d){if(!0===this.active)return a.prototype.JO.call(this,b,d);};d.Xqb=function(a,b){return a.Cd===b.Cd?a.index===b.index?0:a.index>b.index?1:-1:a.Cd>b.Cd?1:-1;};return d;}(g.cX);f.pSa=d;},function(g,f,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(166);h=a(71);g=a(455);a=a(453);d=function(a){function c(b,c){a.call(this);this.ae=b;this.RL=[];this.ka=c;}b(c,a);c.prototype.Tf=function(b){var c,d;c=this;d=c.Zva();b.add(new h.uk(function(){c.$va(d);}));return a.prototype.Tf.call(this,b);};c.prototype.uqb=function(){for(var a=this,b=a.ae.length,c=0;c<b;c++)(function(){var b;b=a.ae[c];a.ka.Jb(function(){b.notification.observe(a);},b.frame);}());};return c;}(d.aj);f.Iyb=d;a.rna(d,[g.Kia]);},function(g,f,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(10);h=a(71);g=a(455);a=a(453);d=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.Zva();a.add(new h.uk(function(){b.$va(c);}));b.Rob(a);return a;});this.ae=b;this.RL=[];this.ka=c;}b(c,a);c.prototype.Rob=function(a){var d;for(var b=this.ae.length,c=0;c<b;c++){d=this.ae[c];a.add(this.ka.Jb(function(a){a.message.notification.observe(a.zf);},d.frame,{message:d,zf:a}));}};return c;}(d.Da);f.UGa=d;a.rna(d,[g.Kia]);},function(g,f,a){var b,d,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);d=a(237);h=a(992);a(991);l=a(454);c=a(990);g=function(a){function f(b){a.call(this,c.pSa,750);this.AZa=b;this.edb=[];this.g9a=[];}b(f,a);f.prototype.flush=function(){var c;for(var b=this.edb;0<b.length;)b.shift().uqb();a.prototype.flush.call(this);for(b=this.g9a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.AZa(c.WDb,c.UI);}};f.PIb=function(a){var h,k;if("string"!==typeof a)return new l.pG(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.a5;k=a[g];switch(k){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>f?new l.pG(d):new l.pG(d,f);};f.OIb=function(a,b,c,f){var q,r,t;void 0===f&&(f=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],l=a.indexOf("^"),l=-1===l?0:l*-this.a5,m="object"!==typeof b?function(a){return a;}:function(a){return f&&b[a]instanceof h.UGa?b[a].ae:b[a];},n=-1,p=0;p<g;p++){q=p*this.a5+l;r=void 0;t=a[p];switch(t){case"-":case" ":break;case"(":n=q;break;case")":n=-1;break;case"|":r=d.Notification.a3();break;case"^":break;case"#":r=d.Notification.lpa(c||"error");break;default:r=d.Notification.f3(m(t));}r&&k.push({frame:-1<n?n:q,notification:r});}return k;};return f;}(c.qSa);f.Uia=g;},function(g,f,a){var b,d,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);f.qV=function(){return function(a){return a.ag(new d(a));};};d=function(){function a(a){this.Il=a;}a.prototype.call=function(a,b){var c;c=this.Il;c.$n++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.ho=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Il=c;}b(c,a);c.prototype.Ir=function(){var a,b;a=this.Il;if(a){this.Il=null;b=a.$n;0>=b?this.ho=null:(a.$n=b-1,1<b?this.ho=null:(b=this.ho,a=a.Wt,this.ho=null,!a||b&&a!==b||a.unsubscribe()));}else this.ho=null;};return c;}(g.pi);},function(g,f){g=function(){function a(b,d){void 0===d&&(d=a.now);this.NQa=b;this.now=d;}a.prototype.Jb=function(a,d,f){void 0===d&&(d=0);return new this.NQa(this,a).Jb(f,d);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();f.MQa=g;},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.apply(this,arguments);}b(d,a);return d;}(a(238).dX);f.XPa=g;},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.call(this);}b(d,a);d.prototype.Jb=function(){return this;};return d;}(a(71).uk);f.REa=g;},function(g,f,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this,b,c);this.ka=b;this.GM=c;}b(d,a);d.prototype.Jb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Jb.call(this,b,c);this.Cd=c;this.state=b;this.ka.flush(this);return this;};d.prototype.Ue=function(b,c){return 0<c||this.closed?a.prototype.Ue.call(this,b,c):this.JO(b,c);};d.prototype.vV=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.Cd?a.prototype.vV.call(this,b,c,d):b.flush(this);};return d;}(a(239).cX);f.WPa=g;},function(g,f,a){g=a(998);a=a(996);f.ei=new a.XPa(g.WPa);},function(g,f){f.Mib=function(){};},function(g,f,a){var d;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:d.Mib;}d=a(1E3);f.blb=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b(a);};f.clb=b;},function(g,f,a){var b,d,h;b=a(46);d=a(241);h=a(242);f.Osb=function(a,c,f){if(a){if(a instanceof b.pi)return a;if(a[d.Kz])return a[d.Kz]();}return a||c||f?new b.pi(a,c,f):new b.pi(h.empty);};},function(g,f){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(a){b.call(this);this.TI=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);f.dO=g;},function(g,f,a){var d,h;function b(){try{return h.apply(this,arguments);}catch(m){return d.Su.e=m,d.Su;}}d=a(461);f.nDa=function(a){h=a;return b;};},function(g,f,a){var d,h,l,c,k,n,p,r,z,y,D,A,B;function b(a,b,c,d,f,g,k,l,m){var p;p=this;this.ka=b;this.uq=c;this.config=d;this.ly=f;this.T6a=g;this.dC=k;this.un=l;this.YT=m;this.Orb=function(a,b){b.YJ().SE(1).subscribe(function(a){p.Gva.next({no:b.Pp(),data:a.Ip});});b.YJ().map(function(c){return p.mJ(a,b,c);}).Gv().BI(function(a){b.ic=a.ic[0];return b.Lma(a.zv[0].data);}).subscribe(void 0,function(a){b.Lma(a);},function(){p.c0a(b);});};this.Prb=function(a){a.qL.map(function(b){return p.pta(a,b);}).Gv().BI(function(b){return a.Tma(b.response);}).subscribe(void 0,function(b){a.Tma(b);});};this.log=a.lb("DrmServices");this.Gva=new h.aj();this.ly().bp&&this.dC.Kza().then(function(){p.orb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});this.config.fT&&this.un.lJ().then(function(a){return p.npa(a,{Pd:a.keySystem},n.Zi.wm,m()).xs(function(a){return a.close();}).subscribe();});}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(102);l=a(7);c=a(30);k=a(441);n=a(77);p=a(64);r=a(243);z=a(244);y=a(440);D=a(17);A=a(118);a=a(135);b.prototype.Xv=function(a,b){var c;c=this;return new Promise(function(d,f){c.Kf(a,b).subscribe(d,f);});};b.prototype.G9a=function(a,b){var c;c=this;return new Promise(function(d,f){c.hS(a,b).subscribe(d,f);});};b.prototype.Kf=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.Vsa(a,a.type));return this.iI(a.context,a.type,b).xs(function(b){b.eqb(a.xg);c.Orb(a,b);return c.Xoa(b.hS(a.$S),b);});};b.prototype.trb=function(a,b){var c,d;c=this;this.config.hi?(this.log.info("Releasing server license and EME license",this.c6(a)),this.Prb(a),d=a.K9a()):(this.log.info("Releasing server license",this.c6(a)),d=this.pta(a));return this.Xoa(d,a).BI(function(){c.dC.R$(Object.assign({Pd:a.context.Pd,ic:[]},a.xg));b.Nnb();});};b.prototype.YJ=function(){return this.Gva.C1();};b.prototype.Vsa=function(a,b){return{movieId:a.xg.M,xid:a.xg.oa,type:n.Iva(b)};};b.prototype.c6=function(a){return{movieId:a.xg?a.xg.M:void 0,xid:a.xg?a.xg.oa:void 0,keySessionId:a.dv()};};b.prototype.Xoa=function(a,b){return h.Da.concat(a,h.Da.of(b)).Rg();};b.prototype.mJ=function(a,b,c){this.log.info("Sending license request",this.Vsa(a,c.wh));return h.Da.Yu(this.uq.Kf({oa:a.xg.oa,Mf:a.xg.Mf,qR:[a.xg.Yj],Jp:[{sessionId:b.dv()||"session",data:c.Ip}],wh:c.wh,no:b.Pp(),voa:c.voa,iK:a.xg.iK,tf:a.xg.tf}));};b.prototype.pta=function(a,b){this.log.info("Sending release request",this.c6(a));return b?h.Da.Yu(this.uq.release({oa:a.xg.oa,ic:[a.ic],Ip:b.Ip})):h.Da.Yu(this.uq.release({oa:a.xg.oa,ic:[a.ic]}));};b.prototype.hS=function(a,b){return this.iI(a.context,a.type,b).xs(function(b){b.hS(a.$S);return b.YJ().map(function(){return b;});});};b.prototype.iI=function(a,b,c){var d;d=this;return h.Da.Yu(this.un.lJ()).xs(function(f){return d.npa(f,a,b,c);});};b.prototype.npa=function(a,b,c,d){return h.Da.Yu(this.T6a.create()).xs(function(f){return f.js(b,a,d,c);});};b.prototype.nrb=function(a){var b;b=this;return this.config.hi?h.Da.empty():h.Da.Yu(this.uq.release({oa:a.oa,ic:a.ic}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.Da.empty();}).map(function(){return a;});};b.prototype.orb=function(){var a;a=this;this.ka.eg(this.config.W9,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.dC.rR.length});b=a.dC.rR.filter(function(a){return!a.active;}).map(function(b){return a.nrb(b);});h.Da.concat.apply(h.Da,[].concat(ga(b))).subscribe(function(b){a.dC.R$(b);});});};b.prototype.c0a=function(a){var b;if(a.dv()&&a.xg){b=new z.FX();b.Pd=a.context.Pd;b.ic=[a.ic];b.profileId=a.xg.profileId;b.oa=a.xg.oa;b.M=a.xg.M;this.dC.Gma(b);}};B=b;B=g.__decorate([d.N(),g.__param(0,d.l(l.qb)),g.__param(1,d.l(c.mg)),g.__param(2,d.l(k.bea)),g.__param(3,d.l(p.Rn)),g.__param(4,d.l(D.gd)),g.__param(5,d.l(y.rea)),g.__param(6,d.l(r.nX)),g.__param(7,d.l(A.Sw)),g.__param(8,d.l(a.ZF))],B);f.LIa=B;},function(g,f,a){var b,d,h,l,c,k;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(119);d=a(1005);h=a(118);l=a(904);c=a(440);k=a(897);f.S6a=new g.Yb(function(a){a(b.cea).to(d.LIa).Z();a(h.Sw).to(l.OMa).Z();a(c.rea).to(k.jJa);});},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(3);f.bia=function(a,f,g,c,h){c=void 0===c?b.Cb(0):c;this.config=a;this.SB=f;this.Veb=c;this.Fnb=void 0===h?!1:h;this.id=void 0!==g?g:this.C$a();this.languages=(a=a())&&a.uh&&a.uh.jE||["en-US"];};},function(g,f,a){var d;function b(a,b,c,f,g){return d.bia.call(this,a,b,c,f,g)||this;}Object.defineProperty(f,"__esModule",{value:!0});d=a(1007);aa(b,d.bia);b.prototype.C$a=function(){var a;a=this.config();return a&&a.Np?"browsertest":"browser";};f.DPa=b;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.QEa=function(){this.id="browser";this.Dy=!0;};},function(g,f,a){var d,h,l,c;function b(a){this.profile=new c.DPa(a,new l.QEa());}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(17);l=a(1009);c=a(1008);b.prototype.yc=function(){this.Zh||(this.Zh=Promise.resolve());return this.Zh;};b.prototype.qy=function(a){if(this.profile.id===a)return this.profile;};oa.Object.defineProperties(b.prototype,{ngb:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;a=g.__decorate([d.N(),g.__param(0,d.l(h.gd))],a);f.APa=a;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(65);d=a(1010);f.SB=new g.Yb(function(a){a(b.Mca).to(d.APa).Z();});},function(g,f,a){var d,h,l,c,k;function b(a,b){return h.ve.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(36);l=a(27);c=a(3);a=a(34);aa(b,h.ve);oa.Object.defineProperties(b.prototype,{fT:{configurable:!0,enumerable:!0,get:function(){return!1;}},hi:{configurable:!0,enumerable:!0,get:function(){return!1;}},yv:{configurable:!0,enumerable:!0,get:function(){return c.Cf;}},W9:{configurable:!0,enumerable:!0,get:function(){return c.Ag(10);}},S6:{configurable:!0,enumerable:!0,get:function(){return c.Cb(2E3);}},raa:{configurable:!0,enumerable:!0,get:function(){return c.Cb(1E3);}},alb:{configurable:!0,enumerable:!0,get:function(){return c.Cb(2500);}},GI:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},cJ:{configurable:!0,enumerable:!0,get:function(){return!1;}},WL:{configurable:!0,enumerable:!0,get:function(){return!1;}},An:{configurable:!0,enumerable:!0,get:function(){return!0;}},hna:{configurable:!0,enumerable:!0,get:function(){return c.Ag(30);}},ina:{configurable:!0,enumerable:!0,get:function(){return c.Ag(30);}},kna:{configurable:!0,enumerable:!0,get:function(){return c.Ag(30);}},jna:{configurable:!0,enumerable:!0,get:function(){return c.Ag(30);}},v1:{configurable:!0,enumerable:!0,get:function(){return c.Ag(30);}},Mz:{configurable:!0,enumerable:!0,get:function(){return"";}},GU:{configurable:!0,enumerable:!0,get:function(){return!1;}}});k=b;g.__decorate([a.config(a.Wd,"initializeKeySystemAtStartup")],k.prototype,"fT",null);g.__decorate([a.config(a.Wd,"secureStopEnabled")],k.prototype,"hi",null);g.__decorate([a.config(a.Sg,"licenseRenewalRequestDelay")],k.prototype,"yv",null);g.__decorate([a.config(a.Sg,"persistedReleaseDelay")],k.prototype,"W9",null);g.__decorate([a.config(a.Sg,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"S6",null);g.__decorate([a.config(a.Sg,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"raa",null);g.__decorate([a.config(a.Sg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"alb",null);g.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"GI",null);g.__decorate([a.config(a.Wd,"forceLimitedDurationLicense")],k.prototype,"cJ",null);g.__decorate([a.config(a.Wd,"supportsLimitedDurationLicense")],k.prototype,"WL",null);g.__decorate([a.config(a.Wd,"prepareCadmium")],k.prototype,"An",null);g.__decorate([a.config(a.Sg,"apiCloseTimeout")],k.prototype,"hna",null);g.__decorate([a.config(a.Sg,"apiCreateMediaKeysTimeout")],k.prototype,"ina",null);g.__decorate([a.config(a.Sg,"apiSetServerCertificateTimeout")],k.prototype,"kna",null);g.__decorate([a.config(a.Sg,"apiGenerateRequestTimeout")],k.prototype,"jna",null);g.__decorate([a.config(a.Sg,"apiUpdateTimeout")],k.prototype,"v1",null);g.__decorate([a.config(a.string,"serverCertificate")],k.prototype,"Mz",null);g.__decorate([a.config(a.Wd,"outputRestrictedIsFatal")],k.prototype,"GU",null);k=g.__decorate([d.N(),g.__param(0,d.l(l.cj)),g.__param(1,d.l(l.tA)),g.__param(1,d.optional())],k);f.ada=k;},function(g,f,a){var d,h,l,c;function b(a,b){return c.ada.call(this,a,void 0===b?"ChromeEmeConfig":b)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(27);l=a(34);c=a(1012);aa(b,c.ada);oa.Object.defineProperties(b.prototype,{fT:{configurable:!0,enumerable:!0,get:function(){return!0;}},WL:{configurable:!0,enumerable:!0,get:function(){return!0;}},GU:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;g.__decorate([l.config(l.Wd,"initializeKeySystemAtStartup")],a.prototype,"fT",null);g.__decorate([l.config(l.Wd,"supportsLimitedDurationLicense")],a.prototype,"WL",null);g.__decorate([l.config(l.Wd,"outputRestrictedIsFatal")],a.prototype,"GU",null);a=g.__decorate([d.N(),g.__param(0,d.l(h.cj)),g.__param(1,d.l(h.tA)),g.__param(1,d.optional())],a);f.hJa=a;},function(g,f,a){var d,h,l,c,k,n,p;function b(a,b,d,f){a=c.ve.call(this,a,void 0===f?"FtlProbeConfigImpl":f)||this;a.Hf=b;a.Qa=d;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(42);h=a(1);l=a(3);c=a(36);k=a(85);n=a(34);a=a(27);aa(b,c.ve);oa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.d5+(-1===this.d5.indexOf("?")?"?":"&")+"monotonic="+this.Qa.lxa+"&device=web";}},fCa:{configurable:!0,enumerable:!0,get:function(){return l.Cf;}},U4:{configurable:!0,enumerable:!0,get:function(){return"";}},d5:{configurable:!0,enumerable:!0,get:function(){return this.Hf.endpoint+"/ftl/probe"+(this.U4?"?force="+this.U4:"");}}});p=b;g.__decorate([n.config(n.Wd,"ftlEnabled")],p.prototype,"enabled",null);g.__decorate([n.config(n.Sg,"ftlStartDelay")],p.prototype,"fCa",null);g.__decorate([n.config(n.string,"ftlEndpointForceParam")],p.prototype,"U4",null);g.__decorate([n.config(n.url,"ftlEndpoint")],p.prototype,"d5",null);p=g.__decorate([h.N(),g.__param(0,h.l(a.cj)),g.__param(1,h.l(k.qt)),g.__param(2,h.l(d.Jj)),g.__param(3,h.l(a.tA)),g.__param(3,h.optional())],p);f.KJa=p;},function(g,f,a){var d,h,l,c;function b(a,b){return l.ve.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(1);h=a(34);l=a(36);a=a(27);aa(b,l.ve);oa.Object.defineProperties(b.prototype,{RDa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});c=b;g.__decorate([h.config(h.Wd,"useNetworkMonitor")],c.prototype,"RDa",null);c=g.__decorate([d.N(),g.__param(0,d.l(a.cj)),g.__param(1,d.l(a.tA)),g.__param(1,d.optional())],c);f.xNa=c;},function(g,f){function a(a){this.value=a;}Object.defineProperty(f,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.lya=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};f.Sga=a;},function(g,f,a){var d,h,l,c,k,n,p,r;function b(a,b,d){a=c.ve.call(this,a,void 0===d?"GeneralConfigImpl":d)||this;a.Zm=b;return a;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);d=a(3);h=a(1);l=a(34);c=a(36);k=a(51);n=a(27);a=a(137);p={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};f.OI=function(a,b){return a.Lza(p[b]||b,k.At);};aa(b,c.ve);oa.Object.defineProperties(b.prototype,{OI:{configurable:!0,enumerable:!0,get:function(){return k.At.RPa;}},pba:{configurable:!0,enumerable:!0,get:function(){return d.Ag(8);}},hv:{configurable:!0,enumerable:!0,get:function(){return"";}},fC:{configurable:!0,enumerable:!0,get:function(){return"";}},gA:{configurable:!0,enumerable:!0,get:function(){return"";}},GCa:{configurable:!0,enumerable:!0,get:function(){return!1;}},dQ:{configurable:!0,enumerable:!0,get:function(){return!0;}},WS:{configurable:!0,enumerable:!0,get:function(){return this.Zm.WS;}},l8a:{configurable:!0,enumerable:!0,get:function(){return!1;}},Fp:{configurable:!0,enumerable:!0,get:function(){return{};}},eaa:{configurable:!0,enumerable:!0,get:function(){return!1;}},v7:{configurable:!0,enumerable:!0,get:function(){return!1;}},QW:{configurable:!0,enumerable:!0,get:function(){return!1;}},tM:{configurable:!0,enumerable:!0,get:function(){return!1;}},hw:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Np:{configurable:!0,enumerable:!0,get:function(){return 0<=[k.At.Tia,k.At.xfa].indexOf(this.OI);}}});r=b;g.__decorate([l.config(f.OI,"environment")],r.prototype,"OI",null);g.__decorate([l.config(l.Sg,"storageTimeout")],r.prototype,"pba",null);g.__decorate([l.config(l.string,"groupName")],r.prototype,"hv",null);g.__decorate([l.config(l.string,"canaryGroupName")],r.prototype,"fC",null);g.__decorate([l.config(l.string,"uiGroupName")],r.prototype,"gA",null);g.__decorate([l.config(l.Wd,"testIndexDBForCorruptedDatabase")],r.prototype,"GCa",null);g.__decorate([l.config(l.Wd,"applyIndexedDbOpenWorkaround")],r.prototype,"dQ",null);g.__decorate([l.config(l.Wd,"ignoreIdbOpenError")],r.prototype,"WS",null);g.__decorate([l.config(l.Wd,"executeStorageMigration")],r.prototype,"l8a",null);g.__decorate([l.config(l.object(),"browserInfo")],r.prototype,"Fp",null);g.__decorate([l.config(l.Wd,"retryAllMslRequestsOnError")],r.prototype,"eaa",null);g.__decorate([l.config(l.Wd,"isTestAccount")],r.prototype,"v7",null);g.__decorate([l.config(l.Wd,"vuiCommandLogging")],r.prototype,"QW",null);g.__decorate([l.config(l.Wd,"useRangeHeader")],r.prototype,"tM",null);g.__decorate([l.config(l.object,"storageRules")],r.prototype,"hw",null);r=g.__decorate([h.N(),g.__param(0,h.l(n.cj)),g.__param(1,h.l(a.jG)),g.__param(2,h.l(n.tA)),g.__param(2,h.optional())],r);f.OJa=r;},function(g,f,a){var l,c,k,n,p;function b(){this.ls={};this.IAa=0;}function d(a,b,c,d,f){this.debug=a;this.Gs=b;this.yK=c;this.uf=d;this.hV=f;}function h(a,b,c){this.Gs=a;this.yK=b;this.hV=c;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);l=a(1);c=a(86);k=a(7);n=a(134);p=a(465);a=a(27);h=g.__decorate([l.N(),g.__param(0,l.l(a.zN)),g.__param(1,l.l(n.MZ)),g.__param(2,l.l(p.CZ))],h);f.YGa=h;d=g.__decorate([l.N(),g.__param(0,l.l(c.ut)),g.__param(1,l.l(a.zN)),g.__param(2,l.l(n.MZ)),g.__param(3,l.l(k.qb)),g.__param(4,l.l(p.CZ))],d);f.hSa=d;b.prototype.Ahb=function(a){this.ls=Object.assign({},this.ls,a);this.IAa++;};oa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.ls;}},HAa:{configurable:!0,enumerable:!0,get:function(){return this.IAa;}}});a=b;a=g.__decorate([l.N()],a);f.mLa=a;},function(g,f,a){var b,d,h,l,c,k,n,p,r,z,y;Object.defineProperty(f,"__esModule",{value:!0});g=a(1);b=a(17);d=a(1018);h=a(27);l=a(51);c=a(1017);k=a(464);n=a(1015);p=a(167);r=a(1014);z=a(64);y=a(1013);f.config=new g.Yb(function(a){a(b.gd).Qf(function(){return function(){return J._cad_global.config;};});a(h.sX).to(d.YGa).Z();a(h.cj).to(d.hSa).Z();a(h.zN).to(d.mLa).Z();a(l.rm).to(c.OJa).Z();a(k.Hga).to(n.xNa).Z();a(p.Eea).to(r.KJa).Z();a(z.Rn).to(y.hJa).Z();});},function(g,f){function a(){}Object.defineProperty(f,"__esModule",{value:!0});a.prototype.Xta=function(){return void 0!==this.ek;};a.prototype.Pz=function(a){this.ek=a;};a.prototype.Nnb=function(){this.Xta()&&(this.ek=void 0);};f.PMa=a;},function(g,f,a){var b,d,h,l,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(2);d=a(87);h=a(119);l=a(245);f.xmb=function(a){l.HI.parent=a.bc;return function(){c||(c=new Promise(function(a,c){try{a(l.HI.get(h.cea));}catch(u){c(new d.Df(b.I.GKa,b.G.ZKa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return c;};};},function(g,f,a){var l,c,k,n,p,r,z,y;function b(a,b,c){var f;f=this;this.is=a;this.Ah=b;this.config=c;this.Fq=function(){return{version:f.version,drmData:f.rR.map(function(a){return a.Fq();})};};this.c5=function(a){var b;f.is.Gk(a)&&(a=d(a));1===a.version&&(a=h(f.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new y.FX(a);});}catch(W){throw new p.Oc(k.I.CA,k.G.st,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",W);}}else{if(!a.version||!f.is.Uf(a.version))throw new p.Oc(k.I.CA,k.G.st,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new p.Oc(k.I.CA,k.G.fda,void 0,void 0,void 0,"Version number is not supported. Version: "+f.getVersion);}return b;};this.In=new r.tfa(2,this.config.GI,this.is.Gk(this.config.GI),this.Ah,this.Fq);}function d(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new p.Oc(k.I.CA,k.G.st);return{version:1,drmData:[a]};}function h(a,b){if(a.Rr(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new y.FX({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).Fq();})};throw new p.Oc(k.I.CA,k.G.st);}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);l=a(1);c=a(64);k=a(2);n=a(21);p=a(55);r=a(466);z=a(63);y=a(244);b.prototype.Kza=function(){return this.hrb();};b.prototype.Gma=function(a){return this.In.add(a);};b.prototype.R$=function(a){return this.In.remove(a,function(a,b){return a.oa===b.oa;});};b.prototype.toString=function(){return JSON.stringify(this.Fq(),null,"  ");};b.prototype.hrb=function(){var a;a=this;this.Oza||(this.Oza=new Promise(function(b,c){a.In.load(a.c5).then(function(){b();})["catch"](function(a){a.Y&&a.cause?c(new p.Oc(k.I.CA,a.Y,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.Oza;};oa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.In.version;}},rR:{configurable:!0,enumerable:!0,get:function(){return this.In.Hp;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(n.se)),g.__param(1,l.l(z.ep)),g.__param(2,l.l(c.Rn))],a);f.CGa=a;},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(65);d=a(246);f.wmb=function(a){return function(){var c;if(!h){d.e1.parent=a.bc;c=d.e1.get(b.Mca);h=new Promise(function(a,b){c.yc().then(function(){a(c);})["catch"](function(a){b(a);});});}return h;};};},function(g,f,a){var b,d,h,l,c;Object.defineProperty(f,"__esModule",{value:!0});b=a(3);d=a(35);h=a(468);l=a(66);c={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};f.Eha=function(){this.b_a=this.JH=h.PM.Dfa;this.Haa=!0;this.FH=[];this.iF=[];this.HU=this.wR=!1;this.ht=[l.vk.xX,l.vk.zQa,l.vk.KA];this.Pd=void 0;this.p4=!0;this.DR=!1;this.D1=d.aa(288E4);this.F1=d.aa(335544320);this.NT=b.Cb(15E3);this.Zgb=d.aa(6291456);this.BD=1E3;this.l2=!0;this.Lba=c;this.XE=d.aa(0);this.vW=b.Cb(0);this.WS=!0;};},function(g,f,a){var h,l,c,k,n,p,r,z,d,y;function b(a){var b;b=p.Eha.call(this)||this;a=/CrOS/.test(a.userAgent);b.FH=[r.Xi.rN,r.Xi.sN];b.iF=[r.ca.TX,r.ca.lN,r.ca.QX,r.ca.RX,r.ca.uG,r.ca.vG];a&&b.iF.push(r.ca.UX,r.ca.SX,r.ca.wG);b.wR=!0;b.HU=!0;b.Pd=z.ib.uSa;b.NT=k.Cb(15E3);return b;}function d(a){var b,c,d,f;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);d=/ Edg\//.test(a);f=/Tesla/.test(a);this.version="6.0018.593.011";this.vn=!0;this.QC=f?"T":d?"D":b?"C":c?"O":"M";this.dn=f?"NFCDTS-01-":d?"NFCDIE-04-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.e5=!0;this.jR=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.iqa="browser";this.awa="";this.kqa="cadmium";this.Peb=!0;}Object.defineProperty(f,"__esModule",{value:!0});g=a(0);h=a(1);l=a(37);c=a(72);k=a(3);n=a(137);p=a(1024);r=a(66);z=a(136);d=g.__decorate([h.N(),g.__param(0,h.l(l.OA))],d);f.Nwb=d;aa(b,p.Eha);y=b;y=g.__decorate([h.N(),g.__param(0,h.l(l.OA))],y);f.Owb=y;f.platform=new h.Yb(function(a){a(c.kp).to(d);a(n.jG).to(y);});},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.sxa=function(a){return function(b){return function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return d.forEach(function(d){return a.bind(d).Nsb(b);});};};};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(52);d=a(31);h=a(67);f.$ya=function(){return function(a,c){c=new h.Metadata(d.gG,c);if(Reflect.v6(d.gG,a.constructor))throw Error(b.xMa);Reflect.J3(d.gG,c,a.constructor);};};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(31);d=a(67);h=a(88);f.fM=function(a){return function(c,f,g){var k;k=new d.Metadata(b.EN,a);h.Wz(c,f,g,k);};};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(31);d=a(67);h=a(88);f.$y=function(a){return function(c,f,g){var k;k=new d.Metadata(b.Qw,a);"number"===typeof g?h.Wz(c,f,g,k):h.dM(c,f,k);};};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(31);d=a(67);h=a(88);f.Yg=function(){return function(a,c,f){var g;g=new d.Metadata(b.rG,!0);h.Wz(a,c,f,g);};};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(31);d=a(67);h=a(88);f.optional=function(){return function(a,c,f){var g;g=new d.Metadata(b.Oga,!0);"number"===typeof f?h.Wz(a,c,f,g):h.dM(a,c,g);};};},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(31);d=a(67);h=a(88);f.uxa=function(a){return function(c,f,g){var k;k=new d.Metadata(b.Lt,a);"number"===typeof g?h.Wz(c,f,g,k):h.dM(c,f,k);};};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(67);d=a(88);f.ACa=function(a,f){return function(c,g,h){var k;k=new b.Metadata(a,f);"number"===typeof h?d.Wz(c,g,h,k):d.dM(c,g,k);};};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(52);d=a(31);f.N=function(){return function(a){var f;if(Reflect.v6(d.hZ,a))throw Error(b.jIa);f=Reflect.getMetadata(d.DHa,a)||[];Reflect.J3(d.hZ,f,a);return a;};};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(103);f.Yb=function(){return function(a){this.id=b.id();this.P$=a;};}();f.Uca=function(){return function(a){this.id=b.id();this.P$=a;};}();},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(52);g=function(){function a(){this.wi=new Map();}a.prototype.add=function(a,d){var c;if(null===a||void 0===a)throw Error(b.cG);if(null===d||void 0===d)throw Error(b.cG);c=this.wi.get(a);void 0!==c?(c.push(d),this.wi.set(a,c)):this.wi.set(a,[d]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.cG);a=this.wi.get(a);if(void 0!==a)return a;throw Error(b.Efa);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.cG);if(!this.wi["delete"](a))throw Error(b.Efa);};a.prototype.Vta=function(a){if(null===a||void 0===a)throw Error(b.cG);return this.wi.has(a);};a.prototype.clone=function(){var b;b=new a();this.wi.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.ltb=function(a){this.wi.forEach(function(b,c){a(c,b);});};return a;}();f.WLa=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(){}a.of=function(b,d){var f;f=new a();f.PH=b;f.Khb=d;return f;};return a;}();f.Swb=g;},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(81);d=a(471);g=function(){function a(a){this.Fb=a;}a.prototype.Z=function(){this.Fb.scope=b.On.JZ;return new d.Dw(this.Fb);};a.prototype.T6=function(){this.Fb.scope=b.On.$N;return new d.Dw(this.Fb);};return a;}();f.LFa=g;},function(g,f,a){var b,d,h;Object.defineProperty(f,"__esModule",{value:!0});b=a(1038);d=a(249);h=a(248);g=function(){function a(a){this.Fb=a;this.h_=new h.jX(this.Fb);this.g_=new d.iX(this.Fb);this.Hja=new b.LFa(a);}a.prototype.Z=function(){return this.Hja.Z();};a.prototype.T6=function(){return this.Hja.T6();};a.prototype.EM=function(){return this.h_.EM();};a.prototype.nq=function(a){return this.g_.nq(a);};return a;}();f.bda=g;},function(g,f,a){var b,d,h,l;Object.defineProperty(f,"__esModule",{value:!0});b=a(52);d=a(81);h=a(1039);l=a(471);g=function(){function a(a){this.Fb=a;}a.prototype.to=function(a){this.Fb.type=d.Eh.IY;this.Fb.pj=a;return new h.bda(this.Fb);};a.prototype.$Ca=function(){if("function"!==typeof this.Fb.Ke)throw Error(""+b.bLa);this.to(this.Fb.Ke);};a.prototype.Bh=function(a){this.Fb.type=d.Eh.vda;this.Fb.cache=a;this.Fb.JC=null;this.Fb.pj=null;new l.Dw(this.Fb);};a.prototype.bA=function(a){this.Fb.type=d.Eh.hea;this.Fb.cache=null;this.Fb.JC=a;this.Fb.pj=null;new h.bda(this.Fb);};a.prototype.Msb=function(a){this.Fb.type=d.Eh.wda;this.Fb.pj=a;new l.Dw(this.Fb);};a.prototype.Qf=function(a){this.Fb.type=d.Eh.OX;this.Fb.Uu=a;new l.Dw(this.Fb);};a.prototype.Ksb=function(a){this.Fb.type=d.Eh.OX;this.Fb.Uu=function(b){return function(){return b.bc.get(a);};};new l.Dw(this.Fb);};a.prototype.jM=function(a){this.Fb.type=d.Eh.dia;this.Fb.uq=a;new l.Dw(this.Fb);};a.prototype.Nsb=function(a){this.bA(function(b){return b.bc.get(a);});};return a;}();f.MFa=g;},function(g,f,a){var h,l,c;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===l.hr.sda;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function d(a,b){var d;if(Reflect.Mcb(c.gG,a)){d=Reflect.getMetadata(c.gG,a);try{b[d.value]();}catch(u){throw Error(h.GOa(a.name,u.message));}}}Object.defineProperty(f,"__esModule",{value:!0});h=a(52);l=a(81);c=a(31);f.qob=function(a,c,f){var g;g=null;0<c.length?(g=c.filter(function(a){return null!==a.target&&a.target.type===l.hr.xda;}).map(f),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,c,f)):g=new a();d(a,g);return g;};},function(g,f,a){var h,l,c,k,n;function b(a){return function(c){var f,g,m,p,q;f=c.PH;g=c.v2;m=c.target&&c.target.isArray();p=!c.Ps||!c.Ps.target||!c.target||!c.Ps.target.Igb(c.target.Ke);if(m&&p)return g.map(function(c){return b(a)(c);});m=null;if(!c.target.$ua()||0!==f.length){q=f[0];f=q.scope===l.On.JZ;p=q.scope===l.On.Request;if(f&&q.g1)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===l.Eh.vda)m=q.cache;else if(q.type===l.Eh.Function)m=q.cache;else if(q.type===l.Eh.wda)m=q.pj;else if(q.type===l.Eh.hea&&null!==q.JC)m=d("toDynamicValue",q.Ke,function(){return q.JC(c.$D);});else if(q.type===l.Eh.OX&&null!==q.Uu)m=d("toFactory",q.Ke,function(){return q.Uu(c.$D);});else if(q.type===l.Eh.dia&&null!==q.uq)m=d("toProvider",q.Ke,function(){return q.uq(c.$D);});else if(q.type===l.Eh.IY&&null!==q.pj)m=n.qob(q.pj,g,b(a));else throw g=k.hD(c.Ke),Error(h.XKa+" "+g);"function"===typeof q.nq&&(m=q.nq(c.$D,m));f&&(q.cache=m,q.g1=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,m);return m;}};}function d(a,b,d){try{return d();}catch(y){if(c.hva(y))throw Error(h.iGa(a,b.toString()));throw y;}}Object.defineProperty(f,"__esModule",{value:!0});h=a(52);l=a(81);c=a(474);k=a(138);n=a(1041);f.resolve=function(a){return b(a.cE.gaa.gob)(a.cE.gaa);};},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(103);g=function(){function a(a,d,c,f,g){this.id=b.id();this.Ke=a;this.$D=d;this.Ps=c;this.target=g;this.v2=[];this.PH=Array.isArray(f)?f:[f];this.gob=null===c?new Map():null;}a.prototype.Dma=function(b,d,c){b=new a(b,this.$D,this,d,c);this.v2.push(b);return b;};return a;}();f.Request=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});g=function(){function a(a){this.iw=a;}a.prototype.startsWith=function(a){return 0===this.iw.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.iw.split("").reverse().join("");return this.startsWith.call({iw:a},b);};a.prototype.contains=function(a){return-1!==this.iw.indexOf(a);};a.prototype.equals=function(a){return this.iw===a;};a.prototype.value=function(){return this.iw;};return a;}();f.VPa=g;},function(g,f,a){var c,k,n,p,r,z;function b(a,b,f,g){var h,m,t,u,y,A,B,D,F,L;h=a.ysa(f);m=h.Roa;if(void 0===m)throw Error(k.jMa+" "+b+".");for(var h=h.yub,p=Object.keys(h),q=0===f.length&&0<p.length?p.length:f.length,p=[],r=0;r<q;r++){u=r;y=g;A=b;B=m;t=h[u.toString()]||[];D=l(t);F=!0!==D.Yg;B=B[u];L=D.l||D.$y;B=L?L:B;B instanceof c.MY&&(B=B.Htb());if(F){F=B===Function;F=B===Object||F||void 0===B;if(!y&&F)throw Error(k.kMa+" argument "+u+" in class "+A+".");u=new z.YN(n.hr.xda,D.fM,B);u.fd=t;t=u;}else t=null;null!==t&&p.push(t);}a=d(a,f);return p.concat(a);}function d(a,b){var k,m,p;for(var c=a.jbb(b),f=[],g=0,h=Object.keys(c);g<h.length;g++){k=h[g];m=c[k];p=l(c[k]);k=new z.YN(n.hr.sda,p.fM||k,p.l||p.$y);k.fd=m;f.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=d(a,b),f=f.concat(a));return f;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=r.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.fd.filter(function(a){return a.key===p.rG;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[p.QF],$y:b[p.Qw],fM:b[p.EN],Yg:b[p.rG]};}Object.defineProperty(f,"__esModule",{value:!0});c=a(473);k=a(52);n=a(81);p=a(31);r=a(138);f.getFunctionName=r.getFunctionName;z=a(472);f.E$a=function(a,c){var d;d=r.getFunctionName(c);return b(a,d,c,!1);};f.a$a=h;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.kPa=function(){return function(a,b){this.$D=a;this.gaa=b;};}();},function(g,f,a){var b;Object.defineProperty(f,"__esModule",{value:!0});b=a(103);g=function(){function a(a){this.id=b.id();this.bc=a;}a.prototype.MYa=function(a){this.cE=a;};return a;}();f.yda=g;},function(g,f){Object.defineProperty(f,"__esModule",{value:!0});f.hX={Rzb:2,Kga:0,NNa:1};},function(g,f,a){var c,k,n,p,r,z,y,D,A,B,F,J;function b(a,b,f,g,h){var k,m;k=l(f.bc,h.Ke);m=[];k.length===c.hX.Kga&&f.bc.options.LH&&"function"===typeof h.Ke&&a.ysa(h.Ke).Roa&&(f.bc.bind(h.Ke).$Ca(),k=l(f.bc,h.Ke));m=b?k:k.filter(function(a){var b;b=new F.Request(a.Ke,f,g,a,h);return a.kC(b);});d(h.Ke,m,h,f.bc);return m;}function d(a,b,d,f){switch(b.length){case c.hX.Kga:if(d.$ua())break;a=z.hD(a);b=k.sNa;b+=z.pfb(a,d);b+=z.Mva(f,a,l);throw Error(b);case c.hX.NNa:if(!d.isArray())break;default:if(!d.isArray())throw a=z.hD(a),b=k.uEa+" "+a,b+=z.Mva(f,a,l),Error(b);}}function h(a,c,d,f,g,l){var m;null===g?(c=b(a,c,f,null,l),m=new F.Request(d,f,null,c,l),d=new A.kPa(f,m),f.MYa(d)):(c=b(a,c,f,g,l),m=g.Dma(l.Ke,c,l));c.forEach(function(b){var c,d,g;c=null;if(l.isArray())c=m.Dma(b.Ke,b,l);else{if(b.cache)return;c=m;}if(b.type===n.Eh.IY&&null!==b.pj){d=B.E$a(a,b.pj);if(!f.bc.options.gw){g=B.a$a(a,b.pj);if(d.length<g)throw b=k.vEa(B.getFunctionName(b.pj)),Error(b);}d.forEach(function(b){h(a,!1,b.Ke,f,c,b);});}});}function l(a,b){var c,d;c=[];d=a.hB;d.Vta(b)?c=d.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(f,"__esModule",{value:!0});c=a(1048);k=a(52);n=a(81);p=a(31);r=a(474);z=a(138);y=a(1047);D=a(67);A=a(1046);B=a(1045);F=a(1043);J=a(472);f.j5=function(a){return a.hB;};f.cE=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new y.yda(b);c=new D.Metadata(c?p.Qw:p.QF,f);d=new J.YN(d,"",f,c);void 0!==g&&(g=new D.Metadata(g,k),d.fd.push(g));try{return h(a,l,f,b,null,d),b;}catch(V){throw r.hva(V)&&b.cE&&z.f1a(b.cE.gaa),V;}};f.iFb=function(a,b,c,d){c=new J.YN(n.hr.VZ,"",b,new D.Metadata(c,d));a=new y.yda(a);return new F.Request(b,a,null,[],c);};},function(g,f,a){var b,d;Object.defineProperty(f,"__esModule",{value:!0});b=a(81);d=a(103);g=function(){function a(a,c){this.id=d.id();this.g1=!1;this.Ke=a;this.scope=c;this.type=b.Eh.qLa;this.kC=function(){return!0;};this.JC=this.nq=this.uq=this.Uu=this.cache=this.pj=null;}a.prototype.clone=function(){var b;b=new a(this.Ke,this.scope);b.g1=!1;b.pj=this.pj;b.JC=this.JC;b.scope=this.scope;b.type=this.type;b.Uu=this.Uu;b.uq=this.uq;b.kC=this.kC;b.nq=this.nq;b.cache=this.cache;return b;};return a;}();f.KFa=g;},function(g,f,a){var b,d,l,m,c,k,q,p,r,z,y,D;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(Y){g(Y);}}function k(a){try{l(d["throw"](a));}catch(Y){g(Y);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};d=this&&this.yDb||function(a,b){var f,g,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.kz.pop();f.fA.pop();continue;default:if(!(l=f.fA,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.kz.push(c);else{l[2]&&f.kz.pop();f.fA.pop();continue;}}c=b.call(a,f);}catch(Y){c=[6,Y];k=0;}finally{g=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,OV:function(){if(l[0]&1)throw l[1];return l[1];},fA:[],kz:[]};h();h();n();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(f,"__esModule",{value:!0});l=a(1050);m=a(52);c=a(81);a(31);k=a(475);q=a(1049);p=a(1042);r=a(1040);z=a(103);y=a(138);a(1037);D=a(1036);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+m.wGa);if(void 0===a.Xx)a.Xx=c.On.$N;else if(a.Xx!==c.On.JZ&&a.Xx!==c.On.$N&&a.Xx!==c.On.Request)throw Error(""+m.uGa);if(void 0===a.LH)a.LH=!1;else if("boolean"!==typeof a.LH)throw Error(""+m.tGa);if(void 0===a.gw)a.gw=!1;else if("boolean"!==typeof a.gw)throw Error(""+m.vGa);this.options={LH:a.LH,Xx:a.Xx,gw:a.gw};this.id=z.id();this.hB=new D.WLa();this.sXa=[];this.parent=this.h0=null;this.dVa=new k.VY();}a.X8=function(b,c){var f,g;function d(a,b){a.ltb(function(a,c){c.forEach(function(a){b.add(a.Ke,a.clone());});});}f=new a();g=q.j5(f);b=q.j5(b);c=q.j5(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.Dka(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.P$(f.Qna,f.tDa,f.nva,f.Sza);}};a.prototype.$J=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,f,g,h;return d(this,function(d){switch(d.label){case 0:b=this.Dka(),c=0,f=a,d.label=1;case 1:if(!(c<f.length))return[3,4];g=f[c];h=b(g.id);return[4,g.P$(h.Qna,h.tDa,h.nva,h.Sza)];case 2:d.OV(),d.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new l.KFa(a,this.options.Xx||c.On.$N);this.hB.add(a,b);return new r.MFa(b);};a.prototype.anb=function(a){this.sDa(a);return this.bind(a);};a.prototype.sDa=function(a){try{this.hB.remove(a);}catch(M){throw Error(m.eGa+" "+y.hD(a));}};a.prototype.Pua=function(a){var b;b=this.hB.Vta(a);!b&&this.parent&&(b=this.parent.Pua(a));return b;};a.prototype.restore=function(){var a;a=this.sXa.pop();if(void 0===a)throw Error(m.tNa);this.hB=a.PH;this.h0=a.Khb;};a.prototype.O3a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Cka(!1,!1,c.hr.VZ,a);};a.prototype.getAll=function(a){return this.Cka(!0,!0,c.hr.VZ,a);};a.prototype.resolve=function(a){var b;b=this.O3a();b.bind(a).$Ca();return b.get(a);};a.prototype.Dka=function(){var f;function a(a){return function(b){b=f.anb.bind(f)(b);b.Fb.kib=a;return b;};}function b(){return function(a){return f.Pua.bind(f)(a);};}function c(){return function(a){f.sDa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Fb.kib=a;return b;};}f=this;return function(f){return{Qna:d(f),nva:b(),Sza:a(f),tDa:c()};};};a.prototype.Cka=function(a,b,c,d){var f;f=null;a={o_a:a,Y1a:function(a){return a;},meb:b,key:void 0,Ke:d,msb:c,value:void 0};if(this.h0){if(f=this.h0(a),void 0===f||null===f)throw Error(m.$Ka);}else f=this.vWa()(a);return f;};a.prototype.vWa=function(){var a;a=this;return function(b){var c;c=q.cE(a.dVa,a,b.meb,b.msb,b.Ke,b.key,b.value,b.o_a);c=b.Y1a(c);return p.resolve(c);};};return a;}();f.zF=g;},function(g,f,a){(function(a){var b;(function(b){var aa,V,N,ca,da,ga,O,ha,fa;function d(a,b,c){var d;d=fa.get(a);if(!d){if(!c)return;d=new O();fa.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new O();d.set(b,a);}return a;}function c(a,b,d){if(f(a,b,d))return!0;b=D(b);return null!==b?c(a,b,d):!1;}function f(a,b,c){b=d(b,c,!1);return void 0!==b&&!!b.has(a);}function g(a,b,c){if(f(a,b,c))return h(a,b,c);b=D(b);return null!==b?g(a,b,c):void 0;}function h(a,b,c){b=d(b,c,!1);return void 0===b?void 0:b.get(a);}function l(a,b){var c,f;c=n(a,b);a=D(a);if(null===a)return c;b=l(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ha();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return T(a);}function n(a,b){var c;a=d(a,b,!1);c=[];a&&P(a,function(a,b){return c.push(b);});return c;}function r(a){return void 0===a;}function t(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function A(a){return"object"===typeof a?null!==a:"function"===typeof a;}function B(a){return"symbol"===typeof a?a:String(a);}function D(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===ga||b!==ga)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function F(a){a=a.next();return a.done?void 0:a;}function P(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=F(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function T(a){var b;b=[];P(a,function(a,c){b.push(c);});return b;}function E(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function X(){var a;a={};return function(){function b(){this.Zn=[];this.Fk=[];this.sO=a;this.rO=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Zn.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.KO(a,!1);};b.prototype.get=function(a){a=this.KO(a,!1);return 0<=a?this.Fk[a]:void 0;};b.prototype.set=function(a,b){a=this.KO(a,!0);this.Fk[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.KO(b,!1);if(0<=c){b=this.Zn.length;for(c+=1;c<b;c++)this.Zn[c-1]=this.Zn[c],this.Fk[c-1]=this.Fk[c];this.Zn.length--;this.Fk.length--;this.sO=a;this.rO=-2;return!0;}return!1;};b.prototype.clear=function(){this.Zn.length=0;this.Fk.length=0;this.sO=a;this.rO=-2;};b.prototype.keys=function(){return E(this.Zn,void 0,"key");};b.prototype.values=function(){return E(void 0,this.Fk,"value");};b.prototype.entries=function(){return E(this.Zn,this.Fk,"key+value");};b.prototype.KO=function(a,b){var c;if(this.sO===a)return this.rO;c=this.Zn.indexOf(a);0>c&&b&&(c=this.Zn.length,this.Zn.push(a),this.Fk.push(void 0));return this.sO=a,this.rO=c;};return b;}();}function R(){return function(){function a(){this.wi=new O();}Object.defineProperty(a.prototype,"size",{get:function(){return this.wi.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.wi.has(a);};a.prototype.add=function(a){return this.wi.set(a,a),this;};a.prototype["delete"]=function(a){return this.wi["delete"](a);};a.prototype.clear=function(){this.wi.clear();};a.prototype.keys=function(){return this.wi.keys();};a.prototype.values=function(){return this.wi.values();};a.prototype.entries=function(){return this.wi.entries();};return a;}();}function ba(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(da.has(d,b));d[b]=!0;return b;}function c(a,b){if(!aa.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:ca()});}return a[f];}d=ca();f=b();return function(){function a(){this.nx=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?da.has(a,this.nx):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?da.get(a,this.nx):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.nx]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.nx]:!1;};a.prototype.clear=function(){this.nx=b();};return a;}();}function Y(a){a.wDb=1;delete a.xDb;return a;}aa=Object.prototype.hasOwnProperty;V="function"===typeof Object.create;N=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();ca=V?function(){return Y(Object.create(null));}:N?function(){return Y({__proto__:null});}:function(){return Y({});};(function(a){var b;b=!V&&!N;a.has=b?function(a,b){return aa.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return aa.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(da||(da={})));ga=Object.getPrototypeOf(Function);O="function"===typeof Map?Map:X();ha="function"===typeof Set?Set:R();fa=new("function"===typeof WeakMap?WeakMap:(ba()))();b.Lu=function(a,b,c,d){var g;if(r(d)){if(r(c)){if(!t(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!r(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!t(a))throw new TypeError();if(!A(b))throw new TypeError();c=B(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!t(a))throw new TypeError();if(!A(b))throw new TypeError();if(r(c))throw new TypeError();if(!A(d))throw new TypeError();c=B(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!r(g)){if(!A(g))throw new TypeError();d=g;}}return d;}};b.fd=function(a,b){return function(c,f){if(r(f)){if("function"!==typeof c)throw new TypeError();d(c,void 0,!0).set(a,b);}else{if(!A(c))throw new TypeError();f=B(f);d(c,f,!0).set(a,b);}};};b.J3=function(a,b,c){var f;if(!A(c))throw new TypeError();r(f)||(f=B(f));d(c,f,!0).set(a,b);};b.Mcb=function(a,b){var d;if(!A(b))throw new TypeError();r(d)||(d=B(d));return c(a,b,d);};b.v6=function(a,b){var c;if(!A(b))throw new TypeError();r(c)||(c=B(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!A(b))throw new TypeError();r(c)||(c=B(c));return g(a,b,c);};b.HGb=function(a,b,c){if(!A(b))throw new TypeError();r(c)||(c=B(c));return h(a,b,c);};b.FGb=function(a,b){if(!A(a))throw new TypeError();r(b)||(b=B(b));return l(a,b);};b.IGb=function(a,b){if(!A(a))throw new TypeError();r(b)||(b=B(b));return n(a,b);};b.KFb=function(a,b,c){var f;if(!A(b))throw new TypeError();r(c)||(c=B(c));f=d(b,c,!1);if(r(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=fa.get(b);a["delete"](c);if(0<a.size)return!0;fa["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)aa.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof J?J:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(250)));},function(g,f,a){Object.defineProperty(f,"__esModule",{value:!0});a(1052);J._cad_global={};J.DEBUG=!1;a(9);a(8);a(16);a(18);a(33);a(28);a(105);a(511);a(256);a(45);a(26);a(14);a(68);a(53);a(510);a(175);a(428);a(509);a(508);a(173);a(507);a(254);a(193);a(343);a(275);a(269);a(271);a(270);a(253);a(286);a(285);a(283);a(141);a(182);a(506);a(12);a(265);a(505);a(104);a(69);a(274);a(124);a(342);a(341);a(192);a(504);a(171);a(313);a(282);a(503);a(90);a(179);a(502);a(501);a(320);a(180);a(323);a(181);a(287);a(500);a(140);a(267);a(145);a(280);a(122);a(89);a(499);a(498);a(497);a(496);a(495);a(268);a(56);a(494);a(266);a(272);a(276);a(340);a(273);a(264);a(493);a(492);a(258);a(120);a(491);a(490);a(489);a(488);a(487);a(480);a(477);a(278);},function(g,f,a){g.T=a(1053);}]));}.call(J));}(window));}.call(window));